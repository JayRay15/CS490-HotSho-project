[{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\AdminRoute.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":110,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":110,"endColumn":27}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useAuth, useUser } from \"@clerk/clerk-react\";\r\nimport { Navigate, useLocation } from \"react-router-dom\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\n\r\n/**\r\n * AdminRoute - Wrapper component to protect admin-only routes\r\n * \r\n * Features:\r\n * - Requires authentication (same as ProtectedRoute)\r\n * - Additionally checks for admin role in user metadata\r\n * - Redirects non-admin users to dashboard with access denied message\r\n * \r\n * To grant admin access, set publicMetadata.role = \"admin\" in Clerk Dashboard\r\n * or via Clerk API for the user.\r\n */\r\n\r\n// List of admin user IDs (fallback if metadata isn't set)\r\n// Add your Clerk user IDs here for admin access\r\nconst ADMIN_USER_IDS = [\r\n    // Add admin user IDs here, e.g.:\r\n    // \"user_2abc123...\",\r\n];\r\n\r\n// List of allowed email domains for admin access (optional)\r\nconst ADMIN_EMAIL_DOMAINS = [\r\n    // Add domains here, e.g.:\r\n    // \"@yourcompany.com\",\r\n];\r\n\r\nexport default function AdminRoute({ children }) {\r\n    const { isLoaded, isSignedIn } = useAuth();\r\n    const { user } = useUser();\r\n    const location = useLocation();\r\n\r\n    // Wait for Clerk to finish loading authentication state\r\n    if (!isLoaded) {\r\n        return (\r\n            <LoadingSpinner\r\n                fullScreen={true}\r\n                size=\"lg\"\r\n                text=\"Loading...\"\r\n                variant=\"logo\"\r\n            />\r\n        );\r\n    }\r\n\r\n    // If not signed in, redirect to login page\r\n    if (!isSignedIn) {\r\n        return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n    }\r\n\r\n    // Check if user has admin privileges\r\n    const isAdmin = checkAdminAccess(user);\r\n\r\n    if (!isAdmin) {\r\n        // Redirect non-admin users to dashboard\r\n        return <Navigate to=\"/dashboard\" state={{ accessDenied: true }} replace />;\r\n    }\r\n\r\n    // User is authenticated and is an admin, render the protected content\r\n    return children;\r\n}\r\n\r\n/**\r\n * Check if a user has admin access\r\n * Checks multiple sources in order of priority:\r\n * 1. Clerk publicMetadata.role === \"admin\"\r\n * 2. Clerk publicMetadata.isAdmin === true\r\n * 3. User ID in ADMIN_USER_IDS list\r\n * 4. Email domain in ADMIN_EMAIL_DOMAINS list\r\n */\r\nfunction checkAdminAccess(user) {\r\n    if (!user) return false;\r\n\r\n    // Debug logging - remove in production\r\n    console.log('≡ƒöÉ Admin Check - User ID:', user.id);\r\n    console.log('≡ƒöÉ Admin Check - Public Metadata:', user.publicMetadata);\r\n    console.log('≡ƒöÉ Admin Check - Full User Object:', user);\r\n\r\n    // Check Clerk metadata for role\r\n    const metadata = user.publicMetadata || {};\r\n    if (metadata.role === \"admin\" || metadata.isAdmin === true) {\r\n        console.log('Γ£à Admin access granted via metadata');\r\n        return true;\r\n    }\r\n\r\n    // Check if user ID is in admin list\r\n    if (ADMIN_USER_IDS.includes(user.id)) {\r\n        console.log('Γ£à Admin access granted via user ID list');\r\n        return true;\r\n    }\r\n\r\n    // Check if email domain is in admin list\r\n    const primaryEmail = user.primaryEmailAddress?.emailAddress || \"\";\r\n    for (const domain of ADMIN_EMAIL_DOMAINS) {\r\n        if (primaryEmail.endsWith(domain)) {\r\n            console.log('Γ£à Admin access granted via email domain');\r\n            return true;\r\n        }\r\n    }\r\n\r\n    console.log('Γ¥î Admin access denied');\r\n    return false;\r\n}\r\n\r\n/**\r\n * Hook to check if current user is an admin\r\n * Use this in components that need to conditionally render admin features\r\n */\r\nexport function useIsAdmin() {\r\n    const { isLoaded, isSignedIn } = useAuth();\r\n    const { user } = useUser();\r\n\r\n    if (!isLoaded || !isSignedIn || !user) {\r\n        return { isLoaded, isAdmin: false };\r\n    }\r\n\r\n    return { isLoaded: true, isAdmin: checkAdminAccess(user) };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ApplicationAutomation.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":242,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":242,"endColumn":33},{"ruleId":"no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":362,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":362,"endColumn":33},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":452,"column":21,"nodeType":"JSXOpeningElement","endLine":452,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":535,"column":9,"nodeType":"JSXOpeningElement","endLine":535,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":546,"column":9,"nodeType":"JSXOpeningElement","endLine":546,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":557,"column":9,"nodeType":"JSXOpeningElement","endLine":557,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":577,"column":9,"nodeType":"JSXOpeningElement","endLine":577,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":662,"column":9,"nodeType":"JSXOpeningElement","endLine":662,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":673,"column":9,"nodeType":"JSXOpeningElement","endLine":673,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":688,"column":9,"nodeType":"JSXOpeningElement","endLine":688,"endColumn":73}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { X, Zap, Plus, Trash2, Edit2, CheckSquare, FileText, Users } from 'lucide-react';\r\nimport Button from './Button';\r\nimport {\r\n  createAutomationRule,\r\n  getAutomationRules,\r\n  updateAutomationRule,\r\n  deleteAutomationRule,\r\n  createApplicationTemplate,\r\n  getApplicationTemplates,\r\n  updateApplicationTemplate,\r\n  deleteApplicationTemplate,\r\n  bulkApply\r\n} from '../api/applications';\r\n\r\nconst ApplicationAutomation = ({ selectedJobs = [], onClose, onSuccess }) => {\r\n  const [activeTab, setActiveTab] = useState('rules'); // rules, templates, bulk, checklists\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  \r\n  // Automation Rules\r\n  const [rules, setRules] = useState([]);\r\n  const [showRuleForm, setShowRuleForm] = useState(false);\r\n  const [editingRule, setEditingRule] = useState(null);\r\n  \r\n  // Templates\r\n  const [templates, setTemplates] = useState([]);\r\n  const [showTemplateForm, setShowTemplateForm] = useState(false);\r\n  const [editingTemplate, setEditingTemplate] = useState(null);\r\n  \r\n  // Bulk Apply\r\n  const [bulkOptions, setBulkOptions] = useState({\r\n    scheduleDaysOffset: 0,\r\n    autoTailor: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'rules') {\r\n      loadRules();\r\n    } else if (activeTab === 'templates') {\r\n      loadTemplates();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  const loadRules = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await getAutomationRules();\r\n      setRules(result.data || []);\r\n    } catch (err) {\r\n      console.error('Failed to load rules:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadTemplates = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await getApplicationTemplates();\r\n      setTemplates(result.data || []);\r\n    } catch (err) {\r\n      console.error('Failed to load templates:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleRule = async (rule) => {\r\n    try {\r\n      await updateAutomationRule(rule._id, { active: !rule.active });\r\n      await loadRules();\r\n    } catch (err) {\r\n      console.error('Failed to toggle rule:', err);\r\n      setError('Failed to update rule');\r\n    }\r\n  };\r\n\r\n  const handleDeleteRule = async (ruleId) => {\r\n    if (!confirm('Are you sure you want to delete this automation rule?')) return;\r\n    \r\n    try {\r\n      await deleteAutomationRule(ruleId);\r\n      await loadRules();\r\n    } catch (err) {\r\n      console.error('Failed to delete rule:', err);\r\n      setError('Failed to delete rule');\r\n    }\r\n  };\r\n\r\n  const handleDeleteTemplate = async (templateId) => {\r\n    if (!confirm('Are you sure you want to delete this template?')) return;\r\n    \r\n    try {\r\n      await deleteApplicationTemplate(templateId);\r\n      await loadTemplates();\r\n    } catch (err) {\r\n      console.error('Failed to delete template:', err);\r\n      setError('Failed to delete template');\r\n    }\r\n  };\r\n\r\n  const handleBulkApply = async () => {\r\n    if (selectedJobs.length === 0) {\r\n      setError('Please select at least one job to apply to');\r\n      return;\r\n    }\r\n\r\n    if (!confirm(`Apply to ${selectedJobs.length} job(s)?`)) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      const jobIds = selectedJobs.map(job => job._id);\r\n      const result = await bulkApply({\r\n        jobIds,\r\n        scheduleDaysOffset: bulkOptions.scheduleDaysOffset || undefined,\r\n        autoTailor: bulkOptions.autoTailor\r\n      });\r\n      \r\n      const { successful, failed } = result.data;\r\n      alert(`Bulk apply completed!\\nΓ£ô ${successful.length} successful\\nΓ£ù ${failed.length} failed`);\r\n      \r\n      onSuccess?.();\r\n    } catch (err) {\r\n      console.error('Failed to bulk apply:', err);\r\n      setError(err.response?.data?.message || 'Failed to bulk apply');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"bg-white border-b px-6 py-4 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Zap className=\"w-6 h-6 text-yellow-600\" />\r\n            <h2 className=\"text-xl font-bold text-gray-900\">Application Automation</h2>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"border-b bg-gray-50\">\r\n          <div className=\"flex gap-1 px-6\">\r\n            <button\r\n              onClick={() => setActiveTab('rules')}\r\n              className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n                activeTab === 'rules'\r\n                  ? 'border-blue-600 text-blue-600'\r\n                  : 'border-transparent text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center gap-2\">\r\n                <Zap className=\"w-4 h-4\" />\r\n                Automation Rules\r\n              </div>\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('templates')}\r\n              className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n                activeTab === 'templates'\r\n                  ? 'border-blue-600 text-blue-600'\r\n                  : 'border-transparent text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center gap-2\">\r\n                <FileText className=\"w-4 h-4\" />\r\n                Templates\r\n              </div>\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('bulk')}\r\n              className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n                activeTab === 'bulk'\r\n                  ? 'border-blue-600 text-blue-600'\r\n                  : 'border-transparent text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center gap-2\">\r\n                <Users className=\"w-4 h-4\" />\r\n                Bulk Apply\r\n                {selectedJobs.length > 0 && (\r\n                  <span className=\"bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full\">\r\n                    {selectedJobs.length}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"mx-6 mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6\">\r\n          {activeTab === 'rules' && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Automate your application workflow with custom rules\r\n                </p>\r\n                <Button\r\n                  onClick={() => {\r\n                    setEditingRule(null);\r\n                    setShowRuleForm(true);\r\n                  }}\r\n                  size=\"sm\"\r\n                  className=\"flex items-center gap-2\"\r\n                >\r\n                  <Plus className=\"w-4 h-4\" />\r\n                  New Rule\r\n                </Button>\r\n              </div>\r\n\r\n              {showRuleForm && (\r\n                <RuleForm\r\n                  rule={editingRule}\r\n                  onSave={async (ruleData) => {\r\n                    try {\r\n                      if (editingRule) {\r\n                        await updateAutomationRule(editingRule._id, ruleData);\r\n                      } else {\r\n                        await createAutomationRule(ruleData);\r\n                      }\r\n                      setShowRuleForm(false);\r\n                      setEditingRule(null);\r\n                      await loadRules();\r\n                    } catch (err) {\r\n                      setError('Failed to save rule');\r\n                    }\r\n                  }}\r\n                  onCancel={() => {\r\n                    setShowRuleForm(false);\r\n                    setEditingRule(null);\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {loading ? (\r\n                <div className=\"text-center py-8 text-gray-500\">Loading rules...</div>\r\n              ) : rules.length === 0 ? (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                  No automation rules yet. Create one to get started!\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {rules.map((rule) => (\r\n                    <div\r\n                      key={rule._id}\r\n                      className=\"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors\"\r\n                    >\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-3 mb-2\">\r\n                            <h3 className=\"font-medium text-gray-900\">{rule.name}</h3>\r\n                            <span\r\n                              className={`text-xs px-2 py-1 rounded-full ${\r\n                                rule.active\r\n                                  ? 'bg-green-100 text-green-800'\r\n                                  : 'bg-gray-100 text-gray-600'\r\n                              }`}\r\n                            >\r\n                              {rule.active ? 'Active' : 'Inactive'}\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"text-sm text-gray-600 mb-3\">{rule.description}</p>\r\n                          \r\n                          <div className=\"flex flex-wrap gap-4 text-xs text-gray-500\">\r\n                            <div>\r\n                              <span className=\"font-medium\">Triggered:</span> {rule.statistics?.timesTriggered || 0} times\r\n                            </div>\r\n                            <div>\r\n                              <span className=\"font-medium\">Success:</span> {rule.statistics?.successCount || 0}\r\n                            </div>\r\n                            <div>\r\n                              <span className=\"font-medium\">Failed:</span> {rule.statistics?.failureCount || 0}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"flex items-center gap-2 ml-4\">\r\n                          <button\r\n                            onClick={() => handleToggleRule(rule)}\r\n                            className={`px-3 py-1 text-sm rounded-md transition-colors ${\r\n                              rule.active\r\n                                ? 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                                : 'bg-green-100 text-green-700 hover:bg-green-200'\r\n                            }`}\r\n                          >\r\n                            {rule.active ? 'Disable' : 'Enable'}\r\n                          </button>\r\n                          <button\r\n                            onClick={() => {\r\n                              setEditingRule(rule);\r\n                              setShowRuleForm(true);\r\n                            }}\r\n                            className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors\"\r\n                          >\r\n                            <Edit2 className=\"w-4 h-4\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleDeleteRule(rule._id)}\r\n                            className=\"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors\"\r\n                          >\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'templates' && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Reusable templates for cover letters, emails, and follow-ups\r\n                </p>\r\n                <Button\r\n                  onClick={() => {\r\n                    setEditingTemplate(null);\r\n                    setShowTemplateForm(true);\r\n                  }}\r\n                  size=\"sm\"\r\n                  className=\"flex items-center gap-2\"\r\n                >\r\n                  <Plus className=\"w-4 h-4\" />\r\n                  New Template\r\n                </Button>\r\n              </div>\r\n\r\n              {showTemplateForm && (\r\n                <TemplateForm\r\n                  template={editingTemplate}\r\n                  onSave={async (templateData) => {\r\n                    try {\r\n                      if (editingTemplate) {\r\n                        await updateApplicationTemplate(editingTemplate._id, templateData);\r\n                      } else {\r\n                        await createApplicationTemplate(templateData);\r\n                      }\r\n                      setShowTemplateForm(false);\r\n                      setEditingTemplate(null);\r\n                      await loadTemplates();\r\n                    } catch (err) {\r\n                      setError('Failed to save template');\r\n                    }\r\n                  }}\r\n                  onCancel={() => {\r\n                    setShowTemplateForm(false);\r\n                    setEditingTemplate(null);\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {loading ? (\r\n                <div className=\"text-center py-8 text-gray-500\">Loading templates...</div>\r\n              ) : templates.length === 0 ? (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                  No templates yet. Create one to get started!\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                  {templates.map((template) => (\r\n                    <div\r\n                      key={template._id}\r\n                      className=\"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors\"\r\n                    >\r\n                      <div className=\"flex items-start justify-between mb-2\">\r\n                        <div className=\"flex-1\">\r\n                          <h3 className=\"font-medium text-gray-900\">{template.name}</h3>\r\n                          <span className=\"text-xs text-gray-500 capitalize\">\r\n                            {template.category.replace(/-/g, ' ')}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <button\r\n                            onClick={() => {\r\n                              setEditingTemplate(template);\r\n                              setShowTemplateForm(true);\r\n                            }}\r\n                            className=\"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors\"\r\n                          >\r\n                            <Edit2 className=\"w-4 h-4\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleDeleteTemplate(template._id)}\r\n                            className=\"p-1 text-red-600 hover:bg-red-50 rounded transition-colors\"\r\n                          >\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-600 line-clamp-3 mb-2\">\r\n                        {template.content}\r\n                      </p>\r\n                      <div className=\"text-xs text-gray-500\">\r\n                        Used {template.usageCount || 0} times\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'bulk' && (\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <h3 className=\"font-medium text-gray-900 mb-2\">Selected Jobs</h3>\r\n                {selectedJobs.length === 0 ? (\r\n                  <div className=\"text-sm text-gray-500 bg-gray-50 rounded-lg p-4\">\r\n                    No jobs selected. Go back to the jobs list and select jobs to apply to.\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-2\">\r\n                    {selectedJobs.map((job) => (\r\n                      <div\r\n                        key={job._id}\r\n                        className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\r\n                      >\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-900\">{job.title}</div>\r\n                          <div className=\"text-sm text-gray-600\">{job.company}</div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {selectedJobs.length > 0 && (\r\n                <>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Schedule Days Offset (Optional)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      value={bulkOptions.scheduleDaysOffset}\r\n                      onChange={(e) =>\r\n                        setBulkOptions({ ...bulkOptions, scheduleDaysOffset: parseInt(e.target.value) || 0 })\r\n                      }\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                      placeholder=\"0 = Apply immediately\"\r\n                    />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                      Schedule applications N days from now (0 = apply immediately)\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-start gap-3 p-4 bg-blue-50 rounded-lg\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"bulkAutoTailor\"\r\n                      checked={bulkOptions.autoTailor}\r\n                      onChange={(e) => setBulkOptions({ ...bulkOptions, autoTailor: e.target.checked })}\r\n                      className=\"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                    />\r\n                    <label htmlFor=\"bulkAutoTailor\" className=\"flex-1 text-sm\">\r\n                      <span className=\"font-medium text-gray-900\">Auto-tailor applications</span>\r\n                      <p className=\"text-gray-600 mt-1\">\r\n                        Automatically customize resumes and cover letters for each position\r\n                      </p>\r\n                    </label>\r\n                  </div>\r\n\r\n                  <Button\r\n                    onClick={handleBulkApply}\r\n                    disabled={loading}\r\n                    className=\"w-full flex items-center justify-center gap-2\"\r\n                  >\r\n                    {loading ? 'Processing...' : `Apply to ${selectedJobs.length} Job(s)`}\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"bg-gray-50 border-t px-6 py-4 flex justify-end\">\r\n          <Button variant=\"secondary\" onClick={onClose}>\r\n            Close\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Rule Form Component\r\nconst RuleForm = ({ rule, onSave, onCancel }) => {\r\n  const [formData, setFormData] = useState(\r\n    rule || {\r\n      name: '',\r\n      description: '',\r\n      active: true,\r\n      triggers: {\r\n        onJobAdded: false,\r\n        onStatusChange: [],\r\n        onScheduledDate: false,\r\n        customSchedule: ''\r\n      },\r\n      actions: {\r\n        generatePackage: false,\r\n        scheduleApplication: false,\r\n        sendFollowUp: false,\r\n        updateChecklist: false\r\n      }\r\n    }\r\n  );\r\n\r\n  return (\r\n    <div className=\"border border-gray-300 rounded-lg p-4 bg-gray-50 space-y-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Rule Name</label>\r\n        <input\r\n          type=\"text\"\r\n          value={formData.name}\r\n          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          placeholder=\"e.g., Auto-apply to remote jobs\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\r\n        <textarea\r\n          value={formData.description}\r\n          onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          rows=\"2\"\r\n          placeholder=\"Describe what this rule does...\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Triggers</label>\r\n        <div className=\"space-y-2\">\r\n          <label className=\"flex items-center gap-2 text-sm\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={formData.triggers.onJobAdded}\r\n              onChange={(e) =>\r\n                setFormData({\r\n                  ...formData,\r\n                  triggers: { ...formData.triggers, onJobAdded: e.target.checked }\r\n                })\r\n              }\r\n              className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n            />\r\n            When a new job is added\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Actions</label>\r\n        <div className=\"space-y-2\">\r\n          <label className=\"flex items-center gap-2 text-sm\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={formData.actions.generatePackage}\r\n              onChange={(e) =>\r\n                setFormData({\r\n                  ...formData,\r\n                  actions: { ...formData.actions, generatePackage: e.target.checked }\r\n                })\r\n              }\r\n              className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n            />\r\n            Generate application package\r\n          </label>\r\n          <label className=\"flex items-center gap-2 text-sm\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={formData.actions.scheduleApplication}\r\n              onChange={(e) =>\r\n                setFormData({\r\n                  ...formData,\r\n                  actions: { ...formData.actions, scheduleApplication: e.target.checked }\r\n                })\r\n              }\r\n              className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n            />\r\n            Schedule application\r\n          </label>\r\n          <label className=\"flex items-center gap-2 text-sm\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={formData.actions.sendFollowUp}\r\n              onChange={(e) =>\r\n                setFormData({\r\n                  ...formData,\r\n                  actions: { ...formData.actions, sendFollowUp: e.target.checked }\r\n                })\r\n              }\r\n              className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n            />\r\n            Send follow-up reminder\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-2 pt-2\">\r\n        <Button onClick={() => onSave(formData)} size=\"sm\">\r\n          Save Rule\r\n        </Button>\r\n        <Button onClick={onCancel} variant=\"secondary\" size=\"sm\">\r\n          Cancel\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Template Form Component\r\nconst TemplateForm = ({ template, onSave, onCancel }) => {\r\n  const [formData, setFormData] = useState(\r\n    template || {\r\n      name: '',\r\n      category: 'cover-letter-intro',\r\n      content: '',\r\n      tags: []\r\n    }\r\n  );\r\n\r\n  const categories = [\r\n    'cover-letter-intro',\r\n    'why-company',\r\n    'why-role',\r\n    'experience-summary',\r\n    'closing',\r\n    'email-subject',\r\n    'follow-up',\r\n    'thank-you',\r\n    'custom'\r\n  ];\r\n\r\n  return (\r\n    <div className=\"border border-gray-300 rounded-lg p-4 bg-gray-50 space-y-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Template Name</label>\r\n        <input\r\n          type=\"text\"\r\n          value={formData.name}\r\n          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          placeholder=\"e.g., Software Engineer Opening\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Category</label>\r\n        <select\r\n          value={formData.category}\r\n          onChange={(e) => setFormData({ ...formData, category: e.target.value })}\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n        >\r\n          {categories.map((cat) => (\r\n            <option key={cat} value={cat}>\r\n              {cat.replace(/-/g, ' ').replace(/\\b\\w/g, (c) => c.toUpperCase())}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Content</label>\r\n        <textarea\r\n          value={formData.content}\r\n          onChange={(e) => setFormData({ ...formData, content: e.target.value })}\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm\"\r\n          rows=\"6\"\r\n          placeholder=\"Template content... Use {{variable}} for dynamic values\"\r\n        />\r\n        <p className=\"text-xs text-gray-500 mt-1\">\r\n          Use {'{{companyName}}'}, {'{{jobTitle}}'}, {'{{yourName}}'} for variables\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-2 pt-2\">\r\n        <Button onClick={() => onSave(formData)} size=\"sm\">\r\n          Save Template\r\n        </Button>\r\n        <Button onClick={onCancel} variant=\"secondary\" size=\"sm\">\r\n          Cancel\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApplicationAutomation;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ApplicationPackageGenerator.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":166,"column":17,"nodeType":"JSXOpeningElement","endLine":166,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":193,"column":17,"nodeType":"JSXOpeningElement","endLine":193,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":220,"column":17,"nodeType":"JSXOpeningElement","endLine":220,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":306,"column":17,"nodeType":"JSXOpeningElement","endLine":306,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":321,"column":17,"nodeType":"JSXOpeningElement","endLine":321,"endColumn":81}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { X, Calendar, Package, Send, Clock } from 'lucide-react';\r\nimport Button from './Button';\r\nimport { generateApplicationPackage, scheduleApplication } from '../api/applications';\r\nimport { fetchResumes } from '../api/resumes';\r\nimport { fetchCoverLetters } from '../api/coverLetters';\r\n\r\nconst ApplicationPackageGenerator = ({ job, onClose, onSuccess }) => {\r\n  const [step, setStep] = useState(1); // 1: Select files, 2: Schedule\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  \r\n  // Available resumes and cover letters\r\n  const [resumes, setResumes] = useState([]);\r\n  const [coverLetters, setCoverLetters] = useState([]);\r\n  const [loadingResources, setLoadingResources] = useState(true);\r\n  \r\n  // Selected options\r\n  const [selectedResumeId, setSelectedResumeId] = useState('');\r\n  const [selectedCoverLetterId, setSelectedCoverLetterId] = useState('');\r\n  const [portfolioUrl, setPortfolioUrl] = useState('');\r\n  const [autoTailor, setAutoTailor] = useState(false);\r\n  \r\n  // Scheduling options\r\n  const [shouldSchedule, setShouldSchedule] = useState(false);\r\n  const [scheduledDate, setScheduledDate] = useState('');\r\n  const [scheduledTime, setScheduledTime] = useState('09:00');\r\n  const [autoSubmit, setAutoSubmit] = useState(false);\r\n  \r\n  // Generated package\r\n  const [generatedPackage, setGeneratedPackage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadResources();\r\n  }, []);\r\n\r\n  const loadResources = async () => {\r\n    try {\r\n      setLoadingResources(true);\r\n      const [resumesResponse, coverLettersResponse] = await Promise.all([\r\n        fetchResumes(),\r\n        fetchCoverLetters()\r\n      ]);\r\n      \r\n      // Extract the actual data arrays from the response\r\n      // API returns { data: { data: { resumes: [...] } } }\r\n      const resumesList = resumesResponse?.data?.data?.resumes || [];\r\n      const coverLettersList = coverLettersResponse?.data?.data?.coverLetters || [];\r\n      \r\n      setResumes(resumesList);\r\n      setCoverLetters(coverLettersList);\r\n      \r\n      // Auto-select most recent if available\r\n      if (resumesList.length > 0) {\r\n        setSelectedResumeId(resumesList[0]._id);\r\n      }\r\n      if (coverLettersList.length > 0) {\r\n        setSelectedCoverLetterId(coverLettersList[0]._id);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to load resources:', err);\r\n      setError('Failed to load resumes and cover letters');\r\n    } finally {\r\n      setLoadingResources(false);\r\n    }\r\n  };\r\n\r\n  const handleGeneratePackage = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      const packageData = {\r\n        jobId: job._id,\r\n        resumeId: selectedResumeId || undefined,\r\n        coverLetterId: selectedCoverLetterId || undefined,\r\n        portfolioUrl: portfolioUrl || undefined,\r\n        autoTailor\r\n      };\r\n      \r\n      const result = await generateApplicationPackage(packageData);\r\n      setGeneratedPackage(result.data);\r\n      \r\n      if (shouldSchedule) {\r\n        setStep(2);\r\n      } else {\r\n        onSuccess?.(result.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to generate package:', err);\r\n      setError(err.response?.data?.message || 'Failed to generate application package');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSchedule = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      const scheduledDateTime = new Date(`${scheduledDate}T${scheduledTime}`);\r\n      \r\n      const scheduleData = {\r\n        packageId: generatedPackage._id,\r\n        scheduledFor: scheduledDateTime.toISOString(),\r\n        autoSubmit\r\n      };\r\n      \r\n      const result = await scheduleApplication(scheduleData);\r\n      onSuccess?.(result.data);\r\n    } catch (err) {\r\n      console.error('Failed to schedule application:', err);\r\n      setError(err.response?.data?.message || 'Failed to schedule application');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getMinDate = () => {\r\n    const tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    return tomorrow.toISOString().split('T')[0];\r\n  };\r\n\r\n  const selectedResume = resumes.find(r => r._id === selectedResumeId);\r\n  const selectedCoverLetter = coverLetters.find(c => c._id === selectedCoverLetterId);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Package className=\"w-6 h-6 text-blue-600\" />\r\n            <div>\r\n              <h2 className=\"text-xl font-bold text-gray-900\">\r\n                {step === 1 ? 'Generate Application Package' : 'Schedule Application'}\r\n              </h2>\r\n              <p className=\"text-sm text-gray-600\">\r\n                {job.title} at {job.company}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"mx-6 mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6\">\r\n          {step === 1 && (\r\n            <div className=\"space-y-6\">\r\n              {/* Resume Selection */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Select Resume\r\n                </label>\r\n                {loadingResources ? (\r\n                  <div className=\"text-sm text-gray-500\">Loading resumes...</div>\r\n                ) : resumes.length === 0 ? (\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    No resumes found. Please create a resume first.\r\n                  </div>\r\n                ) : (\r\n                  <select\r\n                    value={selectedResumeId}\r\n                    onChange={(e) => setSelectedResumeId(e.target.value)}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                  >\r\n                    <option value=\"\">Use most recent</option>\r\n                    {resumes.map((resume) => (\r\n                      <option key={resume._id} value={resume._id}>\r\n                        {resume.name} - {new Date(resume.updatedAt).toLocaleDateString()}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                )}\r\n              </div>\r\n\r\n              {/* Cover Letter Selection */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Select Cover Letter\r\n                </label>\r\n                {loadingResources ? (\r\n                  <div className=\"text-sm text-gray-500\">Loading cover letters...</div>\r\n                ) : coverLetters.length === 0 ? (\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    No cover letters found. You can proceed without one.\r\n                  </div>\r\n                ) : (\r\n                  <select\r\n                    value={selectedCoverLetterId}\r\n                    onChange={(e) => setSelectedCoverLetterId(e.target.value)}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                  >\r\n                    <option value=\"\">Use most recent</option>\r\n                    {coverLetters.map((letter) => (\r\n                      <option key={letter._id} value={letter._id}>\r\n                        {letter.name || letter.position} - {new Date(letter.createdAt).toLocaleDateString()}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                )}\r\n              </div>\r\n\r\n              {/* Portfolio URL */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Portfolio URL (Optional)\r\n                </label>\r\n                <input\r\n                  type=\"url\"\r\n                  value={portfolioUrl}\r\n                  onChange={(e) => setPortfolioUrl(e.target.value)}\r\n                  placeholder=\"https://myportfolio.com\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                />\r\n              </div>\r\n\r\n              {/* Auto-tailor Option */}\r\n              <div className=\"flex items-start gap-3 p-4 bg-blue-50 rounded-lg\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"autoTailor\"\r\n                  checked={autoTailor}\r\n                  onChange={(e) => setAutoTailor(e.target.checked)}\r\n                  className=\"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                />\r\n                <label htmlFor=\"autoTailor\" className=\"flex-1 text-sm\">\r\n                  <span className=\"font-medium text-gray-900\">Auto-tailor for this position</span>\r\n                  <p className=\"text-gray-600 mt-1\">\r\n                    Automatically customize the resume and cover letter based on the job description\r\n                  </p>\r\n                </label>\r\n              </div>\r\n\r\n              {/* Schedule Option */}\r\n              <div className=\"flex items-start gap-3 p-4 bg-gray-50 rounded-lg\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"shouldSchedule\"\r\n                  checked={shouldSchedule}\r\n                  onChange={(e) => setShouldSchedule(e.target.checked)}\r\n                  className=\"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                />\r\n                <label htmlFor=\"shouldSchedule\" className=\"flex-1 text-sm\">\r\n                  <span className=\"font-medium text-gray-900 flex items-center gap-2\">\r\n                    <Clock className=\"w-4 h-4\" />\r\n                    Schedule submission for later\r\n                  </span>\r\n                  <p className=\"text-gray-600 mt-1\">\r\n                    Choose a specific date and time to submit this application\r\n                  </p>\r\n                </label>\r\n              </div>\r\n\r\n              {/* Package Preview */}\r\n              {selectedResume || selectedCoverLetter ? (\r\n                <div className=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\r\n                  <h3 className=\"font-medium text-gray-900 mb-3\">Package Preview</h3>\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    {selectedResume && (\r\n                      <div className=\"flex items-center gap-2 text-gray-700\">\r\n                        <span className=\"font-medium\">Resume:</span>\r\n                        <span>{selectedResume.name}</span>\r\n                      </div>\r\n                    )}\r\n                    {selectedCoverLetter && (\r\n                      <div className=\"flex items-center gap-2 text-gray-700\">\r\n                        <span className=\"font-medium\">Cover Letter:</span>\r\n                        <span>{selectedCoverLetter.name || selectedCoverLetter.position}</span>\r\n                      </div>\r\n                    )}\r\n                    {portfolioUrl && (\r\n                      <div className=\"flex items-center gap-2 text-gray-700\">\r\n                        <span className=\"font-medium\">Portfolio:</span>\r\n                        <span className=\"text-blue-600 truncate\">{portfolioUrl}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          )}\r\n\r\n          {step === 2 && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                <p className=\"text-green-800 font-medium\">Γ£ô Package generated successfully!</p>\r\n              </div>\r\n\r\n              {/* Date Selection */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Schedule Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={scheduledDate}\r\n                  onChange={(e) => setScheduledDate(e.target.value)}\r\n                  min={getMinDate()}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {/* Time Selection */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Schedule Time\r\n                </label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={scheduledTime}\r\n                  onChange={(e) => setScheduledTime(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {/* Auto-submit Option */}\r\n              <div className=\"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"autoSubmit\"\r\n                  checked={autoSubmit}\r\n                  onChange={(e) => setAutoSubmit(e.target.checked)}\r\n                  className=\"mt-1 w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500\"\r\n                />\r\n                <label htmlFor=\"autoSubmit\" className=\"flex-1 text-sm\">\r\n                  <span className=\"font-medium text-gray-900\">Enable auto-submit</span>\r\n                  <p className=\"text-gray-600 mt-1\">\r\n                    Automatically submit the application at the scheduled time\r\n                  </p>\r\n                </label>\r\n              </div>\r\n\r\n              {scheduledDate && (\r\n                <div className=\"border border-gray-200 rounded-lg p-4 bg-blue-50\">\r\n                  <h3 className=\"font-medium text-gray-900 mb-2 flex items-center gap-2\">\r\n                    <Calendar className=\"w-4 h-4\" />\r\n                    Scheduled For\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-700\">\r\n                    {new Date(`${scheduledDate}T${scheduledTime}`).toLocaleString()}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer Actions */}\r\n        <div className=\"sticky bottom-0 bg-gray-50 border-t px-6 py-4 flex items-center justify-between\">\r\n          <div className=\"text-sm text-gray-600\">\r\n            {step === 1 ? 'Step 1 of ' + (shouldSchedule ? '2' : '1') : 'Step 2 of 2'}\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            {step === 2 && (\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => setStep(1)}\r\n                disabled={loading}\r\n              >\r\n                Back\r\n              </Button>\r\n            )}\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={onClose}\r\n              disabled={loading}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            {step === 1 ? (\r\n              <Button\r\n                onClick={handleGeneratePackage}\r\n                disabled={loading || loadingResources}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                {loading ? (\r\n                  'Generating...'\r\n                ) : (\r\n                  <>\r\n                    <Package className=\"w-4 h-4\" />\r\n                    {shouldSchedule ? 'Next' : 'Generate Package'}\r\n                  </>\r\n                )}\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                onClick={handleSchedule}\r\n                disabled={loading || !scheduledDate}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                {loading ? (\r\n                  'Scheduling...'\r\n                ) : (\r\n                  <>\r\n                    <Send className=\"w-4 h-4\" />\r\n                    Schedule Application\r\n                  </>\r\n                )}\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApplicationPackageGenerator;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ApplicationQualityScore.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ArchiveModal.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":75,"column":13,"nodeType":"JSXOpeningElement","endLine":75,"endColumn":77}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\r\nimport Button from \"./Button\";\r\nimport InputField from \"./InputField\";\r\n\r\nconst ARCHIVE_REASONS = [\r\n  \"Completed\",\r\n  \"Rejected\",\r\n  \"Not Interested\",\r\n  \"Position Filled\",\r\n  \"Company Issue\",\r\n  \"Timing\",\r\n  \"Other\"\r\n];\r\n\r\nexport default function ArchiveModal({ \r\n  isOpen, \r\n  onClose, \r\n  onArchive, \r\n  jobCount = 1,\r\n  jobTitle = null \r\n}) {\r\n  const [reason, setReason] = useState(\"\");\r\n  const [notes, setNotes] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!reason) {\r\n      alert(\"Please select a reason for archiving\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      await onArchive(reason, notes);\r\n      setReason(\"\");\r\n      setNotes(\"\");\r\n      onClose();\r\n    } catch (error) {\r\n      console.error(\"Archive error:\", error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 backdrop-blur-md flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg max-w-md w-full p-6\">\r\n        <div className=\"flex items-start justify-between mb-4\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Archive Job{jobCount > 1 ? 's' : ''}</h2>\r\n            {jobTitle && (\r\n              <p className=\"text-sm text-gray-600 mt-1\">{jobTitle}</p>\r\n            )}\r\n            {jobCount > 1 && (\r\n              <p className=\"text-sm text-gray-600 mt-1\">Archiving {jobCount} jobs</p>\r\n            )}\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600\"\r\n            disabled={isSubmitting}\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Reason for Archiving <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <select\r\n              value={reason}\r\n              onChange={(e) => setReason(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              required\r\n              disabled={isSubmitting}\r\n            >\r\n              <option value=\"\">Select a reason...</option>\r\n              {ARCHIVE_REASONS.map((r) => (\r\n                <option key={r} value={r}>{r}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <InputField\r\n            label=\"Additional Notes (Optional)\"\r\n            as=\"textarea\"\r\n            rows={3}\r\n            value={notes}\r\n            onChange={(e) => setNotes(e.target.value)}\r\n            placeholder=\"Any additional context or details...\"\r\n            disabled={isSubmitting}\r\n          />\r\n\r\n          <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded\">\r\n            <div className=\"flex\">\r\n              <div className=\"shrink-0\">\r\n                <svg className=\"h-5 w-5 text-yellow-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm text-yellow-700\">\r\n                  Archived jobs will be moved to a separate view. You can restore them at any time.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-3 pt-2\">\r\n            <Button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              variant=\"secondary\"\r\n              disabled={isSubmitting}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              type=\"submit\" \r\n              variant=\"primary\"\r\n              disabled={isSubmitting}\r\n            >\r\n              {isSubmitting ? (\r\n                <span className=\"flex items-center\">\r\n                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  Archiving...\r\n                </span>\r\n              ) : (\r\n                `Archive ${jobCount > 1 ? `${jobCount} Jobs` : 'Job'}`\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\AutoArchiveModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":46,"column":5,"nodeType":"JSXOpeningElement","endLine":50,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":46,"column":5,"nodeType":"JSXOpeningElement","endLine":50,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":51,"column":7,"nodeType":"JSXOpeningElement","endLine":51,"endColumn":140},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":51,"column":7,"nodeType":"JSXOpeningElement","endLine":51,"endColumn":140},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":72,"column":13,"nodeType":"JSXOpeningElement","endLine":72,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":97,"column":13,"nodeType":"JSXOpeningElement","endLine":97,"endColumn":77},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":148,"column":15,"nodeType":"JSXAttribute","endLine":148,"endColumn":85},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":149,"column":15,"nodeType":"JSXAttribute","endLine":149,"endColumn":84}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nconst PIPELINE_STAGES = [\"Interested\", \"Applied\", \"Phone Screen\", \"Interview\", \"Offer\", \"Rejected\"];\r\n\r\nexport default function AutoArchiveModal({ isOpen, onClose, onAutoArchive }) {\r\n  const [daysInactive, setDaysInactive] = useState(90);\r\n  const [selectedStatuses, setSelectedStatuses] = useState([\"Rejected\", \"Offer\"]);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const toggleStatus = (status) => {\r\n    setSelectedStatuses(prev => \r\n      prev.includes(status) \r\n        ? prev.filter(s => s !== status)\r\n        : [...prev, status]\r\n    );\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (selectedStatuses.length === 0) {\r\n      alert(\"Please select at least one status\");\r\n      return;\r\n    }\r\n\r\n    if (daysInactive < 1) {\r\n      alert(\"Days must be at least 1\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      await onAutoArchive(daysInactive, selectedStatuses);\r\n      onClose();\r\n    } catch (error) {\r\n      console.error(\"Auto-archive error:\", error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div className=\"bg-white rounded-lg max-w-md w-full p-6 border border-gray-200 shadow-2xl mx-4\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"flex items-start justify-between mb-4\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Auto-Archive Jobs</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">\r\n              Archive jobs that haven&apos;t been updated in a while\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600\"\r\n            disabled={isSubmitting}\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Days Inactive\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              min=\"1\"\r\n              value={daysInactive}\r\n              onChange={(e) => {\r\n                const val = e.target.value;\r\n                if (val === \"\") {\r\n                  setDaysInactive(\"\");\r\n                } else {\r\n                  const num = parseInt(val, 10);\r\n                  setDaysInactive(Number.isNaN(num) ? \"\" : Math.max(1, num));\r\n                }\r\n              }}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              disabled={isSubmitting}\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              Archive jobs that haven&apos;t been updated for this many days\r\n            </p>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Job Statuses to Archive\r\n            </label>\r\n            <div className=\"space-y-2\">\r\n              {PIPELINE_STAGES.map((status) => (\r\n                <label key={status} className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedStatuses.includes(status)}\r\n                    onChange={() => toggleStatus(status)}\r\n                    className=\"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                    disabled={isSubmitting}\r\n                  />\r\n                  <span className=\"ml-2 text-sm text-gray-700\">{status}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n            <p className=\"text-xs text-gray-500 mt-2\">\r\n              Only jobs with these statuses will be auto-archived\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"bg-blue-50 border-l-4 border-blue-400 p-4 rounded\">\r\n            <div className=\"flex\">\r\n              <div className=\"shrink-0\">\r\n                <svg className=\"h-5 w-5 text-blue-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm text-blue-700\">\r\n                  This will archive jobs with selected statuses that haven&apos;t been updated in {daysInactive} days. You can restore them later.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-3 pt-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              disabled={isSubmitting}\r\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition disabled:opacity-50\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"px-4 py-2 text-white rounded-lg transition\"\r\n              style={{ backgroundColor: '#777C6D' }}\r\n              onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n              onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n            >\r\n              {isSubmitting ? (\r\n                <span className=\"flex items-center\">\r\n                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  Processing...\r\n                </span>\r\n              ) : (\r\n                'Run Auto-Archive'\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\BLSSalaryBenchmarks.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchBLSBenchmarks'. Either include it or remove the dependency array.","line":34,"column":6,"nodeType":"ArrayExpression","endLine":34,"endColumn":13,"suggestions":[{"desc":"Update the dependencies array to be: [fetchBLSBenchmarks, jobId]","fix":{"range":[929,936],"text":"[fetchBLSBenchmarks, jobId]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'job' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":106,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":106,"endColumn":14,"suggestions":[{"messageId":"removeVar","data":{"varName":"job"},"fix":{"range":[3504,3508],"text":""},"desc":"Remove unused variable 'job'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { getJobBLSBenchmarks } from '../api/salary';\r\nimport Card from './Card';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n  Cell\r\n} from 'recharts';\r\n\r\n/**\r\n * UC-112: BLS Salary Benchmarks Component\r\n * \r\n * Displays real salary data from the US Bureau of Labor Statistics API\r\n * with percentile breakdowns, appropriate disclaimers, and comparisons.\r\n */\r\nconst BLSSalaryBenchmarks = ({ jobId }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [blsData, setBlsData] = useState(null);\r\n  const [expanded, setExpanded] = useState(true);\r\n\r\n  const CHART_COLORS = ['#10b981', '#3b82f6', '#8b5cf6', '#f59e0b', '#ef4444'];\r\n\r\n  useEffect(() => {\r\n    if (jobId) {\r\n      fetchBLSBenchmarks();\r\n    }\r\n  }, [jobId]);\r\n\r\n  const fetchBLSBenchmarks = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await getJobBLSBenchmarks(jobId);\r\n      setBlsData(response.data.data);\r\n    } catch (err) {\r\n      console.error('Error fetching BLS benchmarks:', err);\r\n      // Don't show error if data simply isn't available\r\n      if (err.response?.status === 404) {\r\n        setError(null);\r\n        setBlsData(null);\r\n      } else {\r\n        setError(err.response?.data?.message || 'Failed to load BLS salary data');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card className=\"p-6 mb-8\">\r\n        <div className=\"flex items-center justify-center py-8\">\r\n          <LoadingSpinner />\r\n          <span className=\"ml-3 text-gray-600\">Loading BLS salary data...</span>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Don't show anything if there's no data and no error\r\n  if (!blsData && !error) {\r\n    return null;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card className=\"p-6 mb-8 bg-yellow-50 border-yellow-200\">\r\n        <div className=\"flex items-start gap-4\">\r\n          <svg className=\"w-6 h-6 text-yellow-600 shrink-0 mt-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n          </svg>\r\n          <div className=\"flex-1\">\r\n            <h3 className=\"font-semibold text-yellow-900 mb-1\">BLS Data Unavailable</h3>\r\n            <p className=\"text-sm text-yellow-800\">{error}</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (!blsData.benchmarkData) {\r\n    return (\r\n      <Card className=\"p-6 mb-8 bg-gray-50\">\r\n        <div className=\"flex items-start gap-4\">\r\n          <svg className=\"w-6 h-6 text-gray-400 shrink-0 mt-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n          </svg>\r\n          <div className=\"flex-1\">\r\n            <h3 className=\"font-semibold text-gray-700 mb-1\">No BLS Data Available</h3>\r\n            <p className=\"text-sm text-gray-600\">\r\n              {blsData.message || 'Bureau of Labor Statistics data is not available for this position.'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const { job, benchmarkData, comparison, disclaimer } = blsData;\r\n  const { salaryRange, percentiles = {}, source, dataYear, location, metadata } = benchmarkData;\r\n\r\n  console.log('BLS Data:', { salaryRange, percentiles, source, dataYear, location });\r\n\r\n  // Prepare percentile data for chart\r\n  const percentileData = [\r\n    { name: '10th', value: percentiles.p10 || 0, label: '10th Percentile' },\r\n    { name: '25th', value: percentiles.p25 || 0, label: '25th Percentile' },\r\n    { name: '50th (Median)', value: percentiles.p50 || 0, label: 'Median' },\r\n    { name: '75th', value: percentiles.p75 || 0, label: '75th Percentile' },\r\n    { name: '90th', value: percentiles.p90 || 0, label: '90th Percentile' },\r\n  ].filter(item => item.value > 0);\r\n\r\n  return (\r\n    <Card className=\"p-6 mb-8 bg-linear-to-br from-emerald-50 to-teal-50 border-2 border-emerald-200\">\r\n      <div className=\"flex justify-between items-start mb-4\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <div className=\"shrink-0\">\r\n            <div className=\"w-12 h-12 bg-emerald-500 rounded-lg flex items-center justify-center\">\r\n              <svg className=\"w-7 h-7 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <h2 className=\"text-xl font-bold text-gray-900 mb-1 flex items-center gap-2\">\r\n              Real Salary Data from BLS\r\n              <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800\">\r\n                Official Data\r\n              </span>\r\n            </h2>\r\n            <p className=\"text-sm text-gray-600\">\r\n              {source} ΓÇó {dataYear} Data ΓÇó {location}\r\n              {metadata.cached && (\r\n                <span className=\"ml-2 text-gray-500\">\r\n                  (Cached {metadata.cacheAge} days ago)\r\n                </span>\r\n              )}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={() => setExpanded(!expanded)}\r\n          className=\"text-gray-500 hover:text-gray-700 transition-colors\"\r\n        >\r\n          <svg \r\n            className={`w-6 h-6 transform transition-transform ${expanded ? 'rotate-180' : ''}`} \r\n            fill=\"none\" \r\n            stroke=\"currentColor\" \r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {expanded && (\r\n        <>\r\n          {/* Key Salary Metrics */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n            <div className=\"bg-white rounded-lg p-4 shadow-sm\">\r\n              <p className=\"text-sm text-gray-600 mb-1\">Median Salary</p>\r\n              <p className=\"text-2xl font-bold text-emerald-600\">\r\n                ${salaryRange.median?.toLocaleString() || 'N/A'}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">50th percentile</p>\r\n            </div>\r\n            <div className=\"bg-white rounded-lg p-4 shadow-sm\">\r\n              <p className=\"text-sm text-gray-600 mb-1\">Salary Range</p>\r\n              <p className=\"text-lg font-bold text-gray-900\">\r\n                ${salaryRange.min?.toLocaleString() || 'N/A'} - ${salaryRange.max?.toLocaleString() || 'N/A'}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">10th to 90th percentile</p>\r\n            </div>\r\n            <div className=\"bg-white rounded-lg p-4 shadow-sm\">\r\n              <p className=\"text-sm text-gray-600 mb-1\">Mean Salary</p>\r\n              <p className=\"text-2xl font-bold text-blue-600\">\r\n                ${salaryRange.mean?.toLocaleString() || 'N/A'}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">Average across all data</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Percentile Breakdown Chart */}\r\n          {percentileData.length > 0 && (\r\n            <div className=\"bg-white rounded-lg p-6 mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Salary Percentile Distribution</h3>\r\n              <div className=\"w-full h-64\">\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                  <BarChart \r\n                    data={percentileData} \r\n                    margin={{ top: 20, right: 30, left: 20, bottom: 40 }}\r\n                  >\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                    <XAxis \r\n                      dataKey=\"name\" \r\n                      tick={{ fontSize: 11 }}\r\n                      stroke=\"#6b7280\"\r\n                      angle={-15}\r\n                      textAnchor=\"end\"\r\n                    />\r\n                    <YAxis \r\n                      tickFormatter={(value) => `$${(value / 1000).toFixed(0)}k`}\r\n                      tick={{ fontSize: 11 }}\r\n                      stroke=\"#6b7280\"\r\n                    />\r\n                    <Tooltip \r\n                      formatter={(value) => [`$${value.toLocaleString()}`, 'Salary']}\r\n                      contentStyle={{ \r\n                        borderRadius: '8px', \r\n                        border: '1px solid #e5e7eb',\r\n                        boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\r\n                      }}\r\n                    />\r\n                    <Bar dataKey=\"value\" radius={[8, 8, 0, 0]}>\r\n                      {percentileData.map((entry, index) => (\r\n                        <Cell key={`cell-${index}`} fill={CHART_COLORS[index % CHART_COLORS.length]} />\r\n                      ))}\r\n                    </Bar>\r\n                  </BarChart>\r\n                </ResponsiveContainer>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Comparison with Job Posting (if available) */}\r\n          {comparison && (\r\n            <div className=\"bg-white rounded-lg p-6 mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Comparison with Job Posting</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600 mb-1\">Job Posting Range</p>\r\n                  <p className=\"text-xl font-bold text-gray-900\">\r\n                    ${comparison.jobMin?.toLocaleString()} - ${comparison.jobMax?.toLocaleString()}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600 mb-1\">BLS Median</p>\r\n                  <p className=\"text-xl font-bold text-emerald-600\">\r\n                    ${comparison.benchmarkMedian?.toLocaleString()}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600 mb-1\">Difference</p>\r\n                  <p className={`text-xl font-bold ${comparison.difference >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                    {comparison.difference >= 0 ? '+' : ''}${comparison.difference?.toLocaleString()}\r\n                  </p>\r\n                  <p className={`text-sm ${comparison.difference >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                    ({comparison.percentageDiff}% {comparison.difference >= 0 ? 'above' : 'below'} median)\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Visual indicator */}\r\n              <div className=\"mt-4\">\r\n                <div className=\"h-3 bg-gray-200 rounded-full overflow-hidden relative\">\r\n                  {comparison.jobMin && comparison.benchmarkMedian && (\r\n                    <>\r\n                      {/* BLS Median marker */}\r\n                      <div \r\n                        className=\"absolute top-0 bottom-0 w-1 bg-emerald-500\"\r\n                        style={{ \r\n                          left: `${Math.min(100, Math.max(0, ((comparison.benchmarkMedian - comparison.jobMin) / (comparison.jobMax - comparison.jobMin)) * 100))}%` \r\n                        }}\r\n                      >\r\n                        <div className=\"absolute -top-6 left-1/2 transform -translate-x-1/2 text-xs text-emerald-600 font-medium whitespace-nowrap\">\r\n                          BLS Median\r\n                        </div>\r\n                      </div>\r\n                      {/* Job range bar */}\r\n                      <div className=\"h-full bg-blue-400 opacity-50\"></div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n                  <span>${comparison.jobMin?.toLocaleString()}</span>\r\n                  <span>${comparison.jobMax?.toLocaleString()}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Percentile Details */}\r\n          <div className=\"bg-white rounded-lg p-6 mb-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Percentile Breakdown</h3>\r\n            <div className=\"space-y-3\">\r\n              {percentiles?.p10 ? (\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"text-sm text-gray-600\">10th Percentile (Entry Level)</span>\r\n                  <span className=\"font-semibold text-gray-900\">${percentiles.p10.toLocaleString()}/year</span>\r\n                </div>\r\n              ) : null}\r\n              {percentiles?.p25 ? (\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"text-sm text-gray-600\">25th Percentile (Lower Quartile)</span>\r\n                  <span className=\"font-semibold text-gray-900\">${percentiles.p25.toLocaleString()}/year</span>\r\n                </div>\r\n              ) : null}\r\n              {percentiles?.p50 ? (\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100 bg-emerald-50\">\r\n                  <span className=\"text-sm font-medium text-emerald-700\">50th Percentile (Median)</span>\r\n                  <span className=\"font-bold text-emerald-700\">${percentiles.p50.toLocaleString()}/year</span>\r\n                </div>\r\n              ) : null}\r\n              {percentiles?.p75 ? (\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"text-sm text-gray-600\">75th Percentile (Upper Quartile)</span>\r\n                  <span className=\"font-semibold text-gray-900\">${percentiles.p75.toLocaleString()}/year</span>\r\n                </div>\r\n              ) : null}\r\n              {percentiles?.p90 ? (\r\n                <div className=\"flex justify-between items-center py-2\">\r\n                  <span className=\"text-sm text-gray-600\">90th Percentile (Senior Level)</span>\r\n                  <span className=\"font-semibold text-gray-900\">${percentiles.p90.toLocaleString()}/year</span>\r\n                </div>\r\n              ) : null}\r\n              {!percentiles?.p10 && !percentiles?.p25 && !percentiles?.p50 && !percentiles?.p75 && !percentiles?.p90 && (\r\n                <p className=\"text-sm text-gray-500 italic\">No percentile data available</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Data Source & Disclaimer */}\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <svg className=\"w-5 h-5 text-blue-600 shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              <div className=\"flex-1\">\r\n                <h4 className=\"font-semibold text-blue-900 mb-1\">About This Data</h4>\r\n                <p className=\"text-sm text-blue-800 leading-relaxed\">\r\n                  {disclaimer}\r\n                </p>\r\n                <div className=\"mt-3 pt-3 border-t border-blue-200\">\r\n                  <p className=\"text-xs text-blue-700\">\r\n                    <strong>Data Updated:</strong> This data is based on {dataYear} statistics and is cached for 30 days to optimize performance.\r\n                    The data represents national averages and may not reflect specific company policies or regional variations.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default BLSSalaryBenchmarks;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\Breadcrumb.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\BulkStatusUpdate.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'bulkUpdateStatuses' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":28,"suggestions":[{"messageId":"removeVar","data":{"varName":"bulkUpdateStatuses"},"fix":{"range":[120,139],"text":""},"desc":"Remove unused variable 'bulkUpdateStatuses'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":69,"column":9,"nodeType":"JSXOpeningElement","endLine":72,"endColumn":11},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":69,"column":9,"nodeType":"JSXOpeningElement","endLine":72,"endColumn":11},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":190,"column":19,"nodeType":"JSXOpeningElement","endLine":190,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":223,"column":19,"nodeType":"JSXOpeningElement","endLine":223,"endColumn":83}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Check, X, Loader, AlertCircle, CheckCircle } from 'lucide-react';\r\nimport { bulkUpdateStatuses, formatStatus } from '../api/applicationStatus';\r\n\r\nconst STATUS_OPTIONS = [\r\n  'Interested',\r\n  'Applied',\r\n  'Phone Screen',\r\n  'Interview',\r\n  'Offer',\r\n  'Rejected'\r\n];\r\n\r\nconst BulkStatusUpdate = ({ selectedJobs, isOpen, onClose, onUpdate }) => {\r\n  const [bulkStatus, setBulkStatus] = useState('Applied');\r\n  const [bulkNotes, setBulkNotes] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [results, setResults] = useState(null);\r\n  const [error, setError] = useState('');\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleBulkUpdate = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    setResults(null);\r\n\r\n    try {\r\n      // Call the parent's update handler with the new status\r\n      await onUpdate(bulkStatus);\r\n      \r\n      // Set success results\r\n      setResults({\r\n        total: selectedJobs.length,\r\n        successful: selectedJobs.length,\r\n        failed: 0,\r\n        results: selectedJobs.map(job => ({\r\n          jobId: job._id,\r\n          success: true\r\n        }))\r\n      });\r\n      \r\n      // Wait a moment to show results, then close\r\n      setTimeout(() => {\r\n        handleClose();\r\n      }, 2000);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to update statuses');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setBulkStatus('Applied');\r\n    setBulkNotes('');\r\n    setResults(null);\r\n    setError('');\r\n    onClose();\r\n  };\r\n\r\n  const statusInfo = formatStatus(bulkStatus);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\r\n        {/* Background overlay */}\r\n        <div \r\n          className=\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\"\r\n          onClick={handleClose}\r\n        />\r\n\r\n        {/* Modal panel */}\r\n        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full relative z-10\">\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-indigo-600 to-blue-600 px-6 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-white\">Bulk Status Update</h3>\r\n                <p className=\"text-sm text-indigo-100 mt-1\">\r\n                  Update {selectedJobs.length} selected application{selectedJobs.length !== 1 ? 's' : ''}\r\n                </p>\r\n              </div>\r\n              <button\r\n                onClick={handleClose}\r\n                className=\"text-white hover:text-gray-200 transition-colors\"\r\n              >\r\n                <X size={24} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Body */}\r\n          <div className=\"p-6\">\r\n            {error && (\r\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 mb-6\">\r\n                <AlertCircle className=\"text-red-600 flex-shrink-0 mt-0.5\" size={20} />\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-red-800\">Error</p>\r\n                  <p className=\"text-sm text-red-600 mt-1\">{error}</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {results ? (\r\n              <div className=\"space-y-4\">\r\n                {/* Success Summary */}\r\n                <div className=\"bg-green-50 border-2 border-green-200 rounded-xl p-6\">\r\n                  <div className=\"flex items-center gap-3 mb-4\">\r\n                    <CheckCircle className=\"text-green-600\" size={32} />\r\n                    <div>\r\n                      <h4 className=\"text-lg font-semibold text-green-900\">Update Complete!</h4>\r\n                      <p className=\"text-sm text-green-700\">\r\n                        Successfully updated {results.successful} of {results.total} applications\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 gap-4 mt-4\">\r\n                    <div className=\"bg-white p-3 rounded-lg\">\r\n                      <p className=\"text-2xl font-bold text-green-600\">{results.successful}</p>\r\n                      <p className=\"text-sm text-gray-600\">Successful</p>\r\n                    </div>\r\n                    {results.failed > 0 && (\r\n                      <div className=\"bg-white p-3 rounded-lg\">\r\n                        <p className=\"text-2xl font-bold text-red-600\">{results.failed}</p>\r\n                        <p className=\"text-sm text-gray-600\">Failed</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Results List */}\r\n                <div className=\"max-h-60 overflow-y-auto space-y-2\">\r\n                  {results.results.map((result, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className={`flex items-center justify-between p-3 rounded-lg border ${\r\n                        result.success\r\n                          ? 'bg-green-50 border-green-200'\r\n                          : 'bg-red-50 border-red-200'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center gap-3 flex-1\">\r\n                        {result.success ? (\r\n                          <Check className=\"text-green-600 flex-shrink-0\" size={20} />\r\n                        ) : (\r\n                          <X className=\"text-red-600 flex-shrink-0\" size={20} />\r\n                        )}\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                            {selectedJobs.find(j => j._id === result.jobId)?.title || 'Unknown'}\r\n                          </p>\r\n                          {result.error && (\r\n                            <p className=\"text-xs text-red-600 mt-1\">{result.error}</p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <form onSubmit={handleBulkUpdate} className=\"space-y-6\">\r\n                {/* Selected Jobs Preview */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Selected Applications ({selectedJobs.length})\r\n                  </label>\r\n                  <div className=\"max-h-40 overflow-y-auto bg-gray-50 rounded-lg border border-gray-200 p-4\">\r\n                    <div className=\"space-y-2\">\r\n                      {selectedJobs.map((job, index) => (\r\n                        <div\r\n                          key={job._id}\r\n                          className=\"flex items-center gap-3 text-sm\"\r\n                        >\r\n                          <span className=\"text-gray-500\">{index + 1}.</span>\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"font-medium text-gray-900\">{job.title}</p>\r\n                            <p className=\"text-gray-600 text-xs\">{job.company}</p>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Status Selector */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    New Status *\r\n                  </label>\r\n                  <select\r\n                    value={bulkStatus}\r\n                    onChange={(e) => setBulkStatus(e.target.value)}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                    required\r\n                  >\r\n                    {STATUS_OPTIONS.map(status => {\r\n                      const info = formatStatus(status);\r\n                      return (\r\n                        <option key={status} value={status}>\r\n                          {info.icon} {info.label}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </select>\r\n                  <div className=\"mt-2\">\r\n                    <span className={`inline-block px-3 py-1 rounded-full text-sm font-medium ${\r\n                      statusInfo.color === 'green' ? 'bg-green-100 text-green-800' :\r\n                      statusInfo.color === 'blue' ? 'bg-blue-100 text-blue-800' :\r\n                      statusInfo.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' :\r\n                      statusInfo.color === 'red' ? 'bg-red-100 text-red-800' :\r\n                      'bg-gray-100 text-gray-800'\r\n                    }`}>\r\n                      {statusInfo.icon} {statusInfo.label}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Notes */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Notes (Optional)\r\n                  </label>\r\n                  <textarea\r\n                    value={bulkNotes}\r\n                    onChange={(e) => setBulkNotes(e.target.value)}\r\n                    rows={3}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none\"\r\n                    placeholder=\"Add notes that will be applied to all selected applications...\"\r\n                  />\r\n                  <p className=\"text-xs text-gray-500 mt-2\">\r\n                    If left empty, a default message will be added to each application\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Warning */}\r\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3\">\r\n                  <AlertCircle className=\"text-yellow-600 flex-shrink-0 mt-0.5\" size={20} />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-yellow-800\">Bulk Update Warning</p>\r\n                    <p className=\"text-sm text-yellow-700 mt-1\">\r\n                      This will update {selectedJobs.length} application{selectedJobs.length !== 1 ? 's' : ''} to \"{statusInfo.label}\". \r\n                      This action cannot be undone, but you can manually change individual statuses later.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"flex gap-3 pt-4 border-t\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleClose}\r\n                    className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium\"\r\n                    disabled={loading}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"flex-1 px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                    disabled={loading}\r\n                  >\r\n                    {loading ? (\r\n                      <>\r\n                        <Loader className=\"animate-spin\" size={20} />\r\n                        Updating...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Check size={20} />\r\n                        Update {selectedJobs.length} Application{selectedJobs.length !== 1 ? 's' : ''}\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BulkStatusUpdate;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\Button.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'jsxDEV' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"jsxDEV"},"fix":{"range":[39,86],"text":""},"desc":"Remove unused variable 'jsxDEV'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// frontend/src/components/Button.jsx\r\nimport { jsxDEV } from \"react/jsx-dev-runtime\";\r\nimport React from 'react';\r\nimport clsx from \"classnames\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\n\r\nexport default function Button({\r\n    children,\r\n    variant = \"primary\",\r\n    size = \"medium\",\r\n    isLoading = false,\r\n    disabled = false,\r\n    className = \"\",\r\n    ...props\r\n}) {\r\n    const sizes = {\r\n        sm: \"py-1 px-3 text-xs\",\r\n        small: \"py-1.5 px-4 text-sm\",\r\n        medium: \"py-2 px-5 text-base\",\r\n        large: \"py-2.5 px-6 text-lg\"\r\n    };\r\n\r\n    const base = \"rounded-lg font-medium transition focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-md border-2\";\r\n    const styles = {\r\n        primary: \"bg-primary hover:bg-primary-600 active:bg-primary-700 text-text-inverse focus:ring-primary-400 disabled:bg-primary-300 border-primary-700 hover:border-primary-800\",\r\n        secondary: \"bg-accent hover:bg-accent-500 active:bg-accent-600 text-text-primary focus:ring-accent-400 disabled:bg-accent-300 border-accent-600 hover:border-accent-700\",\r\n        tertiary: \"bg-gray-200 hover:bg-gray-300 active:bg-gray-400 text-gray-800 focus:ring-gray-400 disabled:bg-gray-100 border-gray-400 hover:border-gray-500\",\r\n        outline: \"bg-transparent border-primary text-primary hover:bg-primary-50 active:bg-primary-100 focus:ring-primary-400 disabled:border-primary-200 disabled:text-primary-200 hover:border-primary-700\",\r\n        ghost: \"bg-transparent text-primary hover:text-primary-600 hover:bg-primary-50 active:bg-primary-100 focus:ring-primary-400 disabled:text-primary-200 border-transparent hover:border-primary-200\",\r\n        danger: \"bg-error hover:bg-error-600 active:bg-error-700 text-text-inverse focus:ring-error-400 disabled:bg-error-300 border-error-700 hover:border-error-800\",\r\n    };\r\n\r\n    return (\r\n        <button\r\n            className={clsx(\r\n                base,\r\n                styles[variant],\r\n                sizes[size],\r\n                isLoading && \"relative !text-transparent\",\r\n                className\r\n            )}\r\n            disabled={disabled || isLoading}\r\n            {...props}\r\n        >\r\n            {children}\r\n            {isLoading && (\r\n                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                    <LoadingSpinner size={size === \"small\" ? \"sm\" : size === \"large\" ? \"lg\" : \"md\"} />\r\n                </div>\r\n            )}\r\n        </button>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\CandidateSuggestionModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":89,"column":5,"nodeType":"JSXOpeningElement","endLine":93,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":89,"column":5,"nodeType":"JSXOpeningElement","endLine":93,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":94,"column":7,"nodeType":"JSXOpeningElement","endLine":94,"endColumn":135},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":94,"column":7,"nodeType":"JSXOpeningElement","endLine":94,"endColumn":135},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":126,"column":17,"nodeType":"JSXOpeningElement","endLine":126,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":140,"column":17,"nodeType":"JSXOpeningElement","endLine":140,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":154,"column":17,"nodeType":"JSXOpeningElement","endLine":154,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":170,"column":17,"nodeType":"JSXOpeningElement","endLine":170,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":184,"column":17,"nodeType":"JSXOpeningElement","endLine":184,"endColumn":81}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { suggestCandidates, createInformationalInterview } from '../api/informationalInterviews';\r\nimport { setAuthToken } from '../api/axios';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\nexport default function CandidateSuggestionModal({ isOpen, onClose }) {\r\n  const { getToken } = useAuth();\r\n  const [formData, setFormData] = useState({\r\n    targetRole: '',\r\n    targetCompany: '',\r\n    targetIndustry: '',\r\n    userBackground: '',\r\n    careerGoals: ''\r\n  });\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [generating, setGenerating] = useState(false);\r\n  const [creating, setCreating] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    if (!formData.targetRole && !formData.targetCompany && !formData.targetIndustry) {\r\n      setError('Please fill in at least one of: target role, company, or industry');\r\n      return;\r\n    }\r\n\r\n    setGenerating(true);\r\n    setError(null);\r\n    setSuggestions([]);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await suggestCandidates(formData);\r\n      setSuggestions(response.data.data.suggestions || []);\r\n    } catch (err) {\r\n      console.error('Failed to generate suggestions:', err);\r\n      setError('Failed to generate candidate suggestions. Please try again.');\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleAddToList = async (suggestion) => {\r\n    setCreating(suggestion.jobTitle);\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await createInformationalInterview({\r\n        candidateName: `Target: ${suggestion.jobTitle}`,\r\n        targetRole: suggestion.jobTitle,\r\n        targetCompany: formData.targetCompany || 'To be identified',\r\n        preparationNotes: {\r\n          questions: suggestion.keyQuestions || [],\r\n          researchTopics: [suggestion.whereToFind || ''],\r\n          userNotes: `Why this person: ${suggestion.whyThisPerson}\\n\\nOutreach tip: ${suggestion.outreachTip}`\r\n        },\r\n        status: 'Identified',\r\n        tags: ['AI Suggested', formData.targetIndustry].filter(Boolean)\r\n      });\r\n      \r\n      // Mark as added\r\n      setSuggestions(prev => prev.map(s => \r\n        s.jobTitle === suggestion.jobTitle ? { ...s, added: true } : s\r\n      ));\r\n    } catch (err) {\r\n      console.error('Failed to add candidate:', err);\r\n      alert('Failed to add candidate to list');\r\n    } finally {\r\n      setCreating(null);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  // Handler for clicking the backdrop\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\" onClick={e => e.stopPropagation()}>\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">≡ƒöì Find Interview Candidates</h2>\r\n            <p className=\"text-gray-500 text-sm\">\r\n              AI-powered suggestions for valuable informational interview targets\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition\"\r\n            aria-label=\"Close\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-200px)]\">\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\r\n              <p className=\"text-red-800 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Search Form */}\r\n          <div className=\"space-y-4 mb-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Target Role\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"targetRole\"\r\n                  value={formData.targetRole}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                  placeholder=\"e.g., Product Manager\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Target Company\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"targetCompany\"\r\n                  value={formData.targetCompany}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                  placeholder=\"e.g., Google, Meta\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Target Industry\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"targetIndustry\"\r\n                  value={formData.targetIndustry}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                  placeholder=\"e.g., Fintech, Healthcare\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Your Background\r\n                </label>\r\n                <textarea\r\n                  name=\"userBackground\"\r\n                  value={formData.userBackground}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                  placeholder=\"Brief summary of your experience...\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Career Goals\r\n                </label>\r\n                <textarea\r\n                  name=\"careerGoals\"\r\n                  value={formData.careerGoals}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                  placeholder=\"What you hope to learn or achieve...\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleGenerate}\r\n              disabled={generating}\r\n              className=\"w-full px-6 py-3 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\r\n            >\r\n              {generating ? (\r\n                <span className=\"inline-flex items-center\">\r\n                  <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                  Finding Candidates...\r\n                </span>\r\n              ) : (\r\n                'Γ£¿ Generate Candidate Suggestions'\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Suggestions List */}\r\n          {suggestions.length > 0 && (\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"font-semibold text-gray-900\">\r\n                Suggested Interview Targets ({suggestions.length})\r\n              </h3>\r\n              \r\n              {suggestions.map((suggestion, idx) => (\r\n                <div key={idx} className=\"bg-gray-50 rounded-lg p-4 border border-gray-200\">\r\n                  <div className=\"flex justify-between items-start mb-2\">\r\n                    <div>\r\n                      <h4 className=\"font-semibold text-gray-900\">{suggestion.jobTitle}</h4>\r\n                      <p className=\"text-sm text-gray-600\">{suggestion.whyThisPerson}</p>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => handleAddToList(suggestion)}\r\n                      disabled={creating === suggestion.jobTitle || suggestion.added}\r\n                      className={`px-3 py-1 rounded text-sm font-medium transition ${\r\n                        suggestion.added\r\n                          ? 'bg-green-100 text-green-700 cursor-default'\r\n                          : 'bg-[#E4E6E0] text-[#4F5348] hover:bg-[#d4d6d0]'\r\n                      } disabled:opacity-50`}\r\n                    >\r\n                      {creating === suggestion.jobTitle ? 'Adding...' : suggestion.added ? 'Γ£ô Added' : '+ Add to List'}\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3\">\r\n                    <div>\r\n                      <p className=\"text-xs font-medium text-gray-500 mb-1\">Key Questions:</p>\r\n                      <ul className=\"text-sm text-gray-700 list-disc list-inside\">\r\n                        {suggestion.keyQuestions?.map((q, i) => (\r\n                          <li key={i}>{q}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-xs font-medium text-gray-500 mb-1\">Where to Find:</p>\r\n                      <p className=\"text-sm text-gray-700\">{suggestion.whereToFind}</p>\r\n                      \r\n                      <p className=\"text-xs font-medium text-gray-500 mt-2 mb-1\">Outreach Tip:</p>\r\n                      <p className=\"text-sm text-gray-700 italic\">{suggestion.outreachTip}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"bg-gray-50 border-t border-gray-200 p-4 flex justify-end\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\Card.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'Component' is assigned a value but never used.","line":23,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"Component"},"fix":{"range":[817,843],"text":""},"desc":"Remove unused variable 'Component'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// frontend/src/components/Card.jsx\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n/**\r\n * Card Component - Flexible container for grouping related content\r\n * \r\n * @param {string} variant - Card style variant (default|primary|info|muted|elevated|outlined|interactive)\r\n * @param {string} title - Optional card title\r\n * @param {ReactNode} children - Card content\r\n * @param {string} className - Additional CSS classes\r\n * @param {boolean} interactive - Enable hover/focus states (deprecated, use variant=\"interactive\")\r\n * @param {function} onClick - Click handler (makes card interactive)\r\n * @param {string} as - HTML element to render as (default: 'div')\r\n */\r\nexport default function Card({\r\n  variant = \"default\",\r\n  title,\r\n  children,\r\n  className = \"\",\r\n  interactive = false,\r\n  onClick,\r\n  as: Component = \"div\",\r\n  ...props\r\n}) {\r\n  // Determine if card should be interactive\r\n  const isInteractive = interactive || onClick || variant === \"interactive\";\r\n\r\n  // Build variant classes\r\n  const variantClasses = {\r\n    default: \"bg-white shadow-md\",\r\n    primary: \"bg-white shadow-md card--primary\",\r\n    info: \"bg-white shadow-md card--info\",\r\n    muted: \"card--muted shadow-sm\",\r\n    elevated: \"bg-white shadow-lg\",\r\n    outlined: \"bg-white border-2 shadow-sm\",\r\n    interactive: \"bg-white shadow-md card--interactive\",\r\n  };\r\n\r\n  const baseClasses = \"rounded-2xl p-6\";\r\n  const selectedVariant = variantClasses[variant] || variantClasses.default;\r\n  const interactiveClass = isInteractive && variant !== \"interactive\" ? \"card--interactive\" : \"\";\r\n\r\n  const finalClassName = `${baseClasses} ${selectedVariant} ${interactiveClass} ${className}`.trim();\r\n\r\n  return (\r\n    <Component\r\n      className={finalClassName}\r\n      onClick={onClick}\r\n      role={onClick ? \"button\" : undefined}\r\n      tabIndex={onClick ? 0 : undefined}\r\n      onKeyDown={onClick ? (e) => {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault();\r\n          onClick(e);\r\n        }\r\n      } : undefined}\r\n      {...props}\r\n    >\r\n      {title && (\r\n        <h3 className=\"text-lg font-heading font-semibold text-gray-800 mb-3\">\r\n          {title}\r\n        </h3>\r\n      )}\r\n      {children}\r\n    </Component>\r\n  );\r\n}\r\n\r\nCard.propTypes = {\r\n  variant: PropTypes.oneOf([\r\n    \"default\",\r\n    \"primary\",\r\n    \"info\",\r\n    \"muted\",\r\n    \"elevated\",\r\n    \"outlined\",\r\n    \"interactive\"\r\n  ]),\r\n  title: PropTypes.string,\r\n  children: PropTypes.node.isRequired,\r\n  className: PropTypes.string,\r\n  interactive: PropTypes.bool,\r\n  onClick: PropTypes.func,\r\n  as: PropTypes.elementType,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\CareerGrowthCalculator.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":56,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":56,"endColumn":17},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'createDefaultScenario' and 'scenarios.length'. Either include them or remove the dependency array.","line":62,"column":6,"nodeType":"ArrayExpression","endLine":62,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [createDefaultScenario, scenarios.length]","fix":{"range":[1717,1719],"text":"[createDefaultScenario, scenarios.length]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":306,"column":21,"nodeType":"JSXOpeningElement","endLine":306,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":319,"column":21,"nodeType":"JSXOpeningElement","endLine":319,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":340,"column":21,"nodeType":"JSXOpeningElement","endLine":340,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":356,"column":21,"nodeType":"JSXOpeningElement","endLine":356,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":377,"column":21,"nodeType":"JSXOpeningElement","endLine":377,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":398,"column":21,"nodeType":"JSXOpeningElement","endLine":398,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":422,"column":19,"nodeType":"JSXOpeningElement","endLine":422,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":472,"column":33,"nodeType":"JSXOpeningElement","endLine":472,"endColumn":97},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":483,"column":33,"nodeType":"JSXOpeningElement","endLine":483,"endColumn":97},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":493,"column":33,"nodeType":"JSXOpeningElement","endLine":493,"endColumn":97}],"suppressedMessages":[],"errorCount":11,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\n\r\n/**\r\n * UC-128: Career Growth Calculator\r\n * Calculate potential salary growth and career progression to compare job opportunities\r\n */\r\nconst CareerGrowthCalculator = ({ job, onClose }) => {\r\n  const [scenarios, setScenarios] = useState([]);\r\n  const [activeScenarioIndex, setActiveScenarioIndex] = useState(0);\r\n  const [comparisonMode, setComparisonMode] = useState(false);\r\n  const [showMilestones, setShowMilestones] = useState(false);\r\n\r\n  // Default scenario based on job\r\n  const createDefaultScenario = () => ({\r\n    id: Date.now(),\r\n    name: job ? `${job.company} - ${job.title}` : 'Scenario 1',\r\n    startingSalary: job?.salary?.max || job?.salary?.min || 80000,\r\n    raiseType: 'expected', // conservative, expected, optimistic\r\n    annualRaisePercent: {\r\n      conservative: 3,\r\n      expected: 5,\r\n      optimistic: 8\r\n    },\r\n    bonus: {\r\n      year1: 0,\r\n      annual: 10, // percentage\r\n    },\r\n    equity: {\r\n      totalValue: 0,\r\n      vestingYears: 4,\r\n    },\r\n    milestones: [],\r\n    notes: '',\r\n    color: '#3b82f6'\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Load saved scenarios from localStorage\r\n    const savedScenarios = localStorage.getItem('careerGrowthScenarios');\r\n    if (savedScenarios) {\r\n      try {\r\n        setScenarios(JSON.parse(savedScenarios));\r\n      } catch (e) {\r\n        setScenarios([createDefaultScenario()]);\r\n      }\r\n    } else if (scenarios.length === 0) {\r\n      setScenarios([createDefaultScenario()]);\r\n    }\r\n  }, []);\r\n\r\n  // Save scenarios to localStorage whenever they change\r\n  useEffect(() => {\r\n    if (scenarios.length > 0) {\r\n      localStorage.setItem('careerGrowthScenarios', JSON.stringify(scenarios));\r\n    }\r\n  }, [scenarios]);\r\n\r\n  const addScenario = () => {\r\n    const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'];\r\n    const newScenario = {\r\n      ...createDefaultScenario(),\r\n      id: Date.now(),\r\n      name: `Scenario ${scenarios.length + 1}`,\r\n      color: colors[scenarios.length % colors.length]\r\n    };\r\n    setScenarios([...scenarios, newScenario]);\r\n    setActiveScenarioIndex(scenarios.length);\r\n  };\r\n\r\n  const removeScenario = (index) => {\r\n    if (scenarios.length > 1) {\r\n      const newScenarios = scenarios.filter((_, i) => i !== index);\r\n      setScenarios(newScenarios);\r\n      if (activeScenarioIndex >= newScenarios.length) {\r\n        setActiveScenarioIndex(newScenarios.length - 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateScenario = (index, field, value) => {\r\n    const newScenarios = [...scenarios];\r\n    if (field.includes('.')) {\r\n      const [parent, child] = field.split('.');\r\n      newScenarios[index][parent][child] = value;\r\n    } else {\r\n      newScenarios[index][field] = value;\r\n    }\r\n    setScenarios(newScenarios);\r\n  };\r\n\r\n  const addMilestone = (scenarioIndex) => {\r\n    const newScenarios = [...scenarios];\r\n    newScenarios[scenarioIndex].milestones.push({\r\n      id: Date.now(),\r\n      year: 2,\r\n      title: 'Promotion',\r\n      salaryIncrease: 15, // percentage\r\n      newTitle: ''\r\n    });\r\n    setScenarios(newScenarios);\r\n  };\r\n\r\n  const updateMilestone = (scenarioIndex, milestoneIndex, field, value) => {\r\n    const newScenarios = [...scenarios];\r\n    newScenarios[scenarioIndex].milestones[milestoneIndex][field] = value;\r\n    setScenarios(newScenarios);\r\n  };\r\n\r\n  const removeMilestone = (scenarioIndex, milestoneIndex) => {\r\n    const newScenarios = [...scenarios];\r\n    newScenarios[scenarioIndex].milestones.splice(milestoneIndex, 1);\r\n    setScenarios(newScenarios);\r\n  };\r\n\r\n  // Calculate projections\r\n  const calculateProjections = (scenario, years = 10) => {\r\n    const projections = [];\r\n    let currentSalary = scenario.startingSalary;\r\n    \r\n    for (let year = 0; year <= years; year++) {\r\n      let yearSalary = currentSalary;\r\n      let yearBonus = 0;\r\n      let yearEquity = 0;\r\n      let milestone = null;\r\n\r\n      if (year > 0) {\r\n        // Check for milestones\r\n        const yearMilestone = scenario.milestones.find(m => m.year === year);\r\n        if (yearMilestone) {\r\n          yearSalary = currentSalary * (1 + yearMilestone.salaryIncrease / 100);\r\n          milestone = yearMilestone.title;\r\n        } else {\r\n          // Apply annual raise based on scenario type\r\n          const raisePercent = scenario.annualRaisePercent[scenario.raiseType] / 100;\r\n          yearSalary = currentSalary * (1 + raisePercent);\r\n        }\r\n        \r\n        currentSalary = yearSalary;\r\n      }\r\n\r\n      // Calculate bonus (starts year 1 for first year, then annual)\r\n      if (year === 1) {\r\n        yearBonus = yearSalary * (scenario.bonus.year1 / 100);\r\n      } else if (year > 1) {\r\n        yearBonus = yearSalary * (scenario.bonus.annual / 100);\r\n      }\r\n\r\n      // Calculate equity vesting\r\n      if (scenario.equity.totalValue > 0 && year > 0 && year <= scenario.equity.vestingYears) {\r\n        yearEquity = scenario.equity.totalValue / scenario.equity.vestingYears;\r\n      }\r\n\r\n      const totalComp = yearSalary + yearBonus + yearEquity;\r\n\r\n      projections.push({\r\n        year: year,\r\n        salary: Math.round(yearSalary),\r\n        bonus: Math.round(yearBonus),\r\n        equity: Math.round(yearEquity),\r\n        total: Math.round(totalComp),\r\n        milestone\r\n      });\r\n    }\r\n\r\n    return projections;\r\n  };\r\n\r\n  // Prepare chart data\r\n  const prepareChartData = () => {\r\n    if (comparisonMode) {\r\n      // Combine all scenarios\r\n      const years = 10;\r\n      const chartData = [];\r\n      \r\n      for (let year = 0; year <= years; year++) {\r\n        const dataPoint = { year: year === 0 ? 'Now' : `Year ${year}` };\r\n        scenarios.forEach((scenario, index) => {\r\n          const projections = calculateProjections(scenario, years);\r\n          dataPoint[`scenario${index}`] = projections[year].total;\r\n        });\r\n        chartData.push(dataPoint);\r\n      }\r\n      \r\n      return chartData;\r\n    } else {\r\n      // Single scenario with breakdown\r\n      const scenario = scenarios[activeScenarioIndex];\r\n      if (!scenario) return [];\r\n      const projections = calculateProjections(scenario, 10);\r\n      \r\n      return projections.map(p => ({\r\n        year: p.year === 0 ? 'Now' : `Year ${p.year}`,\r\n        'Base Salary': p.salary,\r\n        'Bonus': p.bonus,\r\n        'Equity': p.equity,\r\n        'Total': p.total\r\n      }));\r\n    }\r\n  };\r\n\r\n  const activeScenario = scenarios[activeScenarioIndex];\r\n  const chartData = prepareChartData();\r\n  const projections5Year = activeScenario ? calculateProjections(activeScenario, 5) : [];\r\n  const projections10Year = activeScenario ? calculateProjections(activeScenario, 10) : [];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center z-50 p-4\" style={{ backdropFilter: 'blur(8px)', backgroundColor: 'rgba(0, 0, 0, 0.3)' }}>\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 p-6 z-10\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">Career Growth Calculator</h2>\r\n              <p className=\"text-gray-600 mt-1\">\r\n                Compare salary projections across different opportunities and scenarios\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {/* Scenario Tabs */}\r\n          <div className=\"flex items-center gap-2 mb-6 overflow-x-auto pb-2\">\r\n            {scenarios.map((scenario, index) => (\r\n              <div key={scenario.id} className=\"flex items-center gap-1 shrink-0\">\r\n                <button\r\n                  onClick={() => setActiveScenarioIndex(index)}\r\n                  className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                    activeScenarioIndex === index\r\n                      ? 'bg-gray-800 text-white'\r\n                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                  }`}\r\n                  style={activeScenarioIndex === index ? { backgroundColor: scenario.color } : {}}\r\n                >\r\n                  {scenario.name}\r\n                </button>\r\n                {scenarios.length > 1 && (\r\n                  <button\r\n                    onClick={() => removeScenario(index)}\r\n                    className=\"text-red-600 hover:text-red-800 p-1\"\r\n                    title=\"Remove scenario\"\r\n                  >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                    </svg>\r\n                  </button>\r\n                )}\r\n              </div>\r\n            ))}\r\n            <button\r\n              onClick={addScenario}\r\n              className=\"px-4 py-2 border-2 border-dashed border-gray-300 text-gray-600 hover:border-gray-400 hover:text-gray-800 rounded-lg font-medium transition-colors shrink-0\"\r\n            >\r\n              + Add Scenario\r\n            </button>\r\n          </div>\r\n\r\n          {/* Mode Toggle */}\r\n          <div className=\"flex gap-2 mb-6\">\r\n            <button\r\n              onClick={() => setComparisonMode(false)}\r\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                !comparisonMode ? 'bg-gray-800 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n              }`}\r\n            >\r\n              Single View\r\n            </button>\r\n            <button\r\n              onClick={() => setComparisonMode(true)}\r\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                comparisonMode ? 'bg-gray-800 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n              }`}\r\n              disabled={scenarios.length < 2}\r\n            >\r\n              Compare All ({scenarios.length})\r\n            </button>\r\n          </div>\r\n\r\n          {!comparisonMode && activeScenario && (\r\n            <>\r\n              {/* Input Form */}\r\n              <div className=\"bg-gray-50 rounded-lg p-6 mb-6\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  {/* Scenario Name */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Scenario Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={activeScenario.name}\r\n                      onChange={(e) => updateScenario(activeScenarioIndex, 'name', e.target.value)}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent\"\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Starting Salary */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Starting Salary ($)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={activeScenario.startingSalary || ''}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value === '' ? 0 : parseInt(e.target.value);\r\n                        updateScenario(activeScenarioIndex, 'startingSalary', isNaN(value) ? 0 : value);\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        if (activeScenario.startingSalary === 0) {\r\n                          e.target.select();\r\n                        }\r\n                      }}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent\"\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Raise Scenario */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Raise Scenario\r\n                    </label>\r\n                    <select\r\n                      value={activeScenario.raiseType}\r\n                      onChange={(e) => updateScenario(activeScenarioIndex, 'raiseType', e.target.value)}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent\"\r\n                    >\r\n                      <option value=\"conservative\">Conservative ({activeScenario.annualRaisePercent.conservative}% annual)</option>\r\n                      <option value=\"expected\">Expected ({activeScenario.annualRaisePercent.expected}% annual)</option>\r\n                      <option value=\"optimistic\">Optimistic ({activeScenario.annualRaisePercent.optimistic}% annual)</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  {/* Annual Bonus */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Annual Bonus (%)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={activeScenario.bonus.annual || ''}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value === '' ? 0 : parseFloat(e.target.value);\r\n                        updateScenario(activeScenarioIndex, 'bonus.annual', isNaN(value) ? 0 : value);\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        if (activeScenario.bonus.annual === 0) {\r\n                          e.target.select();\r\n                        }\r\n                      }}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent\"\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Equity Total Value */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Total Equity Value ($)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={activeScenario.equity.totalValue || ''}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value === '' ? 0 : parseInt(e.target.value);\r\n                        updateScenario(activeScenarioIndex, 'equity.totalValue', isNaN(value) ? 0 : value);\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        if (activeScenario.equity.totalValue === 0) {\r\n                          e.target.select();\r\n                        }\r\n                      }}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent\"\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Equity Vesting Years */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Equity Vesting Period (years)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={activeScenario.equity.vestingYears || ''}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value === '' ? 0 : parseInt(e.target.value);\r\n                        updateScenario(activeScenarioIndex, 'equity.vestingYears', isNaN(value) ? 0 : value);\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        if (activeScenario.equity.vestingYears === 4 || activeScenario.equity.vestingYears === 0) {\r\n                          e.target.select();\r\n                        }\r\n                      }}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent\"\r\n                      min=\"1\"\r\n                      max=\"10\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Notes */}\r\n                <div className=\"mt-4\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Notes (Non-Financial Goals)\r\n                  </label>\r\n                  <textarea\r\n                    value={activeScenario.notes}\r\n                    onChange={(e) => updateScenario(activeScenarioIndex, 'notes', e.target.value)}\r\n                    placeholder=\"e.g., Work-life balance, learning opportunities, company culture, remote flexibility...\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent\"\r\n                    rows=\"3\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Milestones Section */}\r\n                <div className=\"mt-6\">\r\n                  <div className=\"flex justify-between items-center mb-3\">\r\n                    <button\r\n                      onClick={() => setShowMilestones(!showMilestones)}\r\n                      className=\"text-sm font-medium text-gray-700 hover:text-gray-900 flex items-center gap-2\"\r\n                    >\r\n                      <svg\r\n                        className={`w-4 h-4 transition-transform ${showMilestones ? 'rotate-90' : ''}`}\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                      </svg>\r\n                      Career Milestones (Promotions, Title Changes)\r\n                    </button>\r\n                    {showMilestones && (\r\n                      <button\r\n                        onClick={() => addMilestone(activeScenarioIndex)}\r\n                        className=\"px-3 py-1 bg-gray-800 text-white text-sm rounded-lg hover:bg-gray-900\"\r\n                      >\r\n                        + Add Milestone\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n\r\n                  {showMilestones && (\r\n                    <div className=\"space-y-3\">\r\n                      {activeScenario.milestones.length === 0 ? (\r\n                        <p className=\"text-sm text-gray-500 italic\">\r\n                          No milestones added. Click \"Add Milestone\" to include promotions or title changes.\r\n                        </p>\r\n                      ) : (\r\n                        activeScenario.milestones.map((milestone, mIndex) => (\r\n                          <div key={milestone.id} className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3\">\r\n                              <div>\r\n                                <label className=\"block text-xs font-medium text-gray-600 mb-1\">Year</label>\r\n                                <input\r\n                                  type=\"number\"\r\n                                  value={milestone.year}\r\n                                  onChange={(e) => updateMilestone(activeScenarioIndex, mIndex, 'year', parseInt(e.target.value))}\r\n                                  min=\"1\"\r\n                                  max=\"10\"\r\n                                  className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm\"\r\n                                />\r\n                              </div>\r\n                              <div>\r\n                                <label className=\"block text-xs font-medium text-gray-600 mb-1\">Milestone</label>\r\n                                <input\r\n                                  type=\"text\"\r\n                                  value={milestone.title}\r\n                                  onChange={(e) => updateMilestone(activeScenarioIndex, mIndex, 'title', e.target.value)}\r\n                                  placeholder=\"e.g., Promotion\"\r\n                                  className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm\"\r\n                                />\r\n                              </div>\r\n                              <div>\r\n                                <label className=\"block text-xs font-medium text-gray-600 mb-1\">Salary Increase (%)</label>\r\n                                <input\r\n                                  type=\"number\"\r\n                                  value={milestone.salaryIncrease}\r\n                                  onChange={(e) => updateMilestone(activeScenarioIndex, mIndex, 'salaryIncrease', parseFloat(e.target.value))}\r\n                                  className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm\"\r\n                                />\r\n                              </div>\r\n                              <div className=\"flex items-end\">\r\n                                <button\r\n                                  onClick={() => removeMilestone(activeScenarioIndex, mIndex)}\r\n                                  className=\"w-full px-2 py-1 bg-red-100 text-red-600 hover:bg-red-200 rounded text-sm\"\r\n                                >\r\n                                  Remove\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        ))\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Key Projections */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n                <div className=\"bg-linear-to-br from-blue-50 to-blue-100 rounded-lg p-6\">\r\n                  <h3 className=\"text-sm font-medium text-gray-600 mb-2\">5-Year Projection</h3>\r\n                  <p className=\"text-3xl font-bold text-blue-600\">\r\n                    ${projections5Year[5]?.total.toLocaleString()}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">\r\n                    Total compensation in year 5\r\n                  </p>\r\n                  <div className=\"mt-3 text-xs text-gray-600 space-y-1\">\r\n                    <div>Base: ${projections5Year[5]?.salary.toLocaleString()}</div>\r\n                    <div>Bonus: ${projections5Year[5]?.bonus.toLocaleString()}</div>\r\n                    <div>Equity: ${projections5Year[5]?.equity.toLocaleString()}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-linear-to-br from-green-50 to-green-100 rounded-lg p-6\">\r\n                  <h3 className=\"text-sm font-medium text-gray-600 mb-2\">10-Year Projection</h3>\r\n                  <p className=\"text-3xl font-bold text-green-600\">\r\n                    ${projections10Year[10]?.total.toLocaleString()}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">\r\n                    Total compensation in year 10\r\n                  </p>\r\n                  <div className=\"mt-3 text-xs text-gray-600 space-y-1\">\r\n                    <div>Base: ${projections10Year[10]?.salary.toLocaleString()}</div>\r\n                    <div>Bonus: ${projections10Year[10]?.bonus.toLocaleString()}</div>\r\n                    <div>Equity: ${projections10Year[10]?.equity.toLocaleString()}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Chart */}\r\n          <div className=\"bg-white rounded-lg border border-gray-200 p-6 mb-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n              {comparisonMode ? 'Scenario Comparison' : 'Salary Growth Trajectory'}\r\n            </h3>\r\n            <ResponsiveContainer width=\"100%\" height={400}>\r\n              {comparisonMode ? (\r\n                <LineChart data={chartData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"year\" />\r\n                  <YAxis tickFormatter={(value) => `$${(value / 1000).toFixed(0)}k`} />\r\n                  <Tooltip formatter={(value) => `$${value.toLocaleString()}`} />\r\n                  <Legend />\r\n                  {scenarios.map((scenario, index) => (\r\n                    <Line\r\n                      key={scenario.id}\r\n                      type=\"monotone\"\r\n                      dataKey={`scenario${index}`}\r\n                      name={scenario.name}\r\n                      stroke={scenario.color}\r\n                      strokeWidth={2}\r\n                      dot={{ fill: scenario.color, r: 4 }}\r\n                    />\r\n                  ))}\r\n                </LineChart>\r\n              ) : (\r\n                <BarChart data={chartData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"year\" />\r\n                  <YAxis tickFormatter={(value) => `$${(value / 1000).toFixed(0)}k`} />\r\n                  <Tooltip formatter={(value) => `$${value.toLocaleString()}`} />\r\n                  <Legend />\r\n                  <Bar dataKey=\"Base Salary\" stackId=\"a\" fill=\"#3b82f6\" />\r\n                  <Bar dataKey=\"Bonus\" stackId=\"a\" fill=\"#10b981\" />\r\n                  <Bar dataKey=\"Equity\" stackId=\"a\" fill=\"#f59e0b\" />\r\n                </BarChart>\r\n              )}\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Summary Table */}\r\n          {!comparisonMode && activeScenario && (\r\n            <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n                    <tr>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Year</th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Base Salary</th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Bonus</th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Equity</th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Total Comp</th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Milestone</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"divide-y divide-gray-200\">\r\n                    {projections10Year.map((projection) => (\r\n                      <tr key={projection.year} className={projection.milestone ? 'bg-yellow-50' : ''}>\r\n                        <td className=\"px-4 py-3 text-sm text-gray-900 font-medium\">\r\n                          {projection.year === 0 ? 'Now' : `Year ${projection.year}`}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-sm text-gray-900\">\r\n                          ${projection.salary.toLocaleString()}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-sm text-gray-900\">\r\n                          ${projection.bonus.toLocaleString()}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-sm text-gray-900\">\r\n                          ${projection.equity.toLocaleString()}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-sm font-semibold text-gray-900\">\r\n                          ${projection.total.toLocaleString()}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-sm text-gray-600\">\r\n                          {projection.milestone && (\r\n                            <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\r\n                              {projection.milestone}\r\n                            </span>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Notes Display */}\r\n          {!comparisonMode && activeScenario && activeScenario.notes && (\r\n            <div className=\"mt-6 bg-blue-50 rounded-lg p-4 border border-blue-200\">\r\n              <h4 className=\"text-sm font-semibold text-gray-900 mb-2\">Non-Financial Considerations</h4>\r\n              <p className=\"text-sm text-gray-700 whitespace-pre-wrap\">{activeScenario.notes}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6\">\r\n          <div className=\"flex justify-end gap-3\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCareerGrowthCalculator.propTypes = {\r\n  job: PropTypes.shape({\r\n    _id: PropTypes.string,\r\n    title: PropTypes.string,\r\n    company: PropTypes.string,\r\n    salary: PropTypes.shape({\r\n      min: PropTypes.number,\r\n      max: PropTypes.number\r\n    }),\r\n    industry: PropTypes.string\r\n  }),\r\n  onClose: PropTypes.func.isRequired\r\n};\r\n\r\nexport default CareerGrowthCalculator;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\CaseStudyPractice.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'hasRestoredRef' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":19,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":23,"suggestions":[{"messageId":"removeVar","data":{"varName":"hasRestoredRef"},"fix":{"range":[648,685],"text":""},"desc":"Remove unused variable 'hasRestoredRef'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadCaseStudy'. Either include it or remove the dependency array.","line":47,"column":6,"nodeType":"ArrayExpression","endLine":47,"endColumn":19,"suggestions":[{"desc":"Update the dependencies array to be: [caseStudyId, loadCaseStudy]","fix":{"range":[1570,1583],"text":"[caseStudyId, loadCaseStudy]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'response' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":81,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":81,"endColumn":21,"suggestions":[{"messageId":"removeVar","data":{"varName":"response"},"fix":{"range":[2464,2689],"text":""},"desc":"Remove unused variable 'response'."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport technicalPrepAPI from '../api/technicalPrep';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport Button from './Button';\r\nimport {\r\n  ArrowLeftIcon,\r\n  BookmarkIcon as BookmarkIconOutline,\r\n  LightBulbIcon,\r\n  DocumentTextIcon,\r\n  ChartBarIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { BookmarkIcon as BookmarkIconSolid } from '@heroicons/react/24/solid';\r\n\r\nconst CaseStudyPractice = () => {\r\n  const { caseStudyId } = useParams();\r\n  const navigate = useNavigate();\r\n  const hasRestoredRef = useRef(false);\r\n  \r\n  const [caseStudy, setCaseStudy] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Initialize answers from localStorage if available\r\n  const [answers, setAnswers] = useState(() => {\r\n    if (caseStudyId) {\r\n      const savedAnswers = localStorage.getItem(`case-study-answers-${caseStudyId}`);\r\n      if (savedAnswers) {\r\n        try {\r\n          return JSON.parse(savedAnswers);\r\n        } catch (e) {\r\n          console.error('Failed to parse saved answers:', e);\r\n        }\r\n      }\r\n    }\r\n    return {};\r\n  });\r\n  \r\n  const [showSampleSolution, setShowSampleSolution] = useState(false);\r\n  const [isBookmarked, setIsBookmarked] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  // Load case study when caseStudyId changes\r\n  useEffect(() => {\r\n    loadCaseStudy();\r\n  }, [caseStudyId]);\r\n\r\n  // Save answers to localStorage whenever they change\r\n  useEffect(() => {\r\n    if (caseStudyId) {\r\n      localStorage.setItem(`case-study-answers-${caseStudyId}`, JSON.stringify(answers));\r\n    }\r\n  }, [answers, caseStudyId]);\r\n\r\n  const loadCaseStudy = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await technicalPrepAPI.getCaseStudy(caseStudyId);\r\n      setCaseStudy(data);\r\n      setIsBookmarked(data.isBookmarked || false);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to load case study');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAnswerChange = (questionIndex, value) => {\r\n    setAnswers(prev => ({\r\n      ...prev,\r\n      [questionIndex]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setSubmitting(true);\r\n      \r\n      const response = await technicalPrepAPI.submitCaseStudy(caseStudyId, {\r\n        answers: Object.entries(answers).map(([index, answer]) => ({\r\n          questionIndex: parseInt(index),\r\n          answer\r\n        }))\r\n      });\r\n\r\n      alert(`Case study submitted! Your analysis has been recorded.`);\r\n      \r\n      // Clear saved answers after successful submission\r\n      localStorage.removeItem(`case-study-answers-${caseStudyId}`);\r\n      \r\n      navigate('/technical-prep');\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || 'Failed to submit case study');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleBookmark = async () => {\r\n    try {\r\n      if (isBookmarked) {\r\n        await technicalPrepAPI.removeBookmark(caseStudyId);\r\n      } else {\r\n        await technicalPrepAPI.bookmarkChallenge({\r\n          challengeType: 'caseStudy',\r\n          challengeId: caseStudyId\r\n        });\r\n      }\r\n      setIsBookmarked(!isBookmarked);\r\n    } catch (err) {\r\n      console.error('Failed to toggle bookmark:', err);\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner />;\r\n  if (error) return <ErrorMessage message={error} />;\r\n  if (!caseStudy) return <ErrorMessage message=\"Case study not found\" />;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-6\">\r\n          <button\r\n            onClick={() => navigate('/technical-prep')}\r\n            className=\"flex items-center text-blue-600 hover:text-blue-700 mb-4\"\r\n          >\r\n            <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\r\n            Back to Technical Prep\r\n          </button>\r\n          \r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <div className=\"flex items-center gap-3 mb-2\">\r\n                <h1 className=\"text-3xl font-bold text-gray-900\">{caseStudy.title}</h1>\r\n                <span className=\"px-3 py-1 rounded-full text-sm font-medium text-blue-600 bg-blue-100\">\r\n                  {caseStudy.type}\r\n                </span>\r\n              </div>\r\n              <p className=\"text-gray-600\">{caseStudy.industry}</p>\r\n            </div>\r\n            \r\n            <button\r\n              onClick={handleBookmark}\r\n              className=\"p-2 rounded-lg hover:bg-gray-100 transition-colors\"\r\n            >\r\n              {isBookmarked ? (\r\n                <BookmarkIconSolid className=\"h-6 w-6 text-blue-600\" />\r\n              ) : (\r\n                <BookmarkIconOutline className=\"h-6 w-6 text-gray-400\" />\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 gap-6\">\r\n          {/* Scenario Card */}\r\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n            <h2 className=\"text-xl font-semibold mb-4 flex items-center\">\r\n              <DocumentTextIcon className=\"h-6 w-6 mr-2 text-blue-600\" />\r\n              Scenario\r\n            </h2>\r\n            <p className=\"text-gray-700 whitespace-pre-wrap mb-4\">{caseStudy.scenario}</p>\r\n            \r\n            {caseStudy.context && (\r\n              <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\r\n                <h3 className=\"font-semibold text-blue-900 mb-2\">Context</h3>\r\n                <p className=\"text-blue-800 whitespace-pre-wrap\">{caseStudy.context}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Data Card */}\r\n          {caseStudy.data && (\r\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4 flex items-center\">\r\n                <ChartBarIcon className=\"h-6 w-6 mr-2 text-green-600\" />\r\n                Data & Metrics\r\n              </h2>\r\n              \r\n              {caseStudy.data.currentMetrics && (\r\n                <div className=\"mb-4\">\r\n                  <h3 className=\"font-semibold mb-2\">Current Metrics:</h3>\r\n                  <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                    {Object.entries(caseStudy.data.currentMetrics).map(([key, value]) => (\r\n                      <div key={key} className=\"flex justify-between py-1\">\r\n                        <span className=\"text-gray-600\">{key}:</span>\r\n                        <span className=\"font-medium\">{value}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {caseStudy.data.industryBenchmarks && (\r\n                <div>\r\n                  <h3 className=\"font-semibold mb-2\">Industry Benchmarks:</h3>\r\n                  <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                    {Object.entries(caseStudy.data.industryBenchmarks).map(([key, value]) => (\r\n                      <div key={key} className=\"flex justify-between py-1\">\r\n                        <span className=\"text-gray-600\">{key}:</span>\r\n                        <span className=\"font-medium\">{value}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Questions Card */}\r\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Questions to Address</h2>\r\n            <div className=\"space-y-6\">\r\n              {caseStudy.questions?.map((question, idx) => (\r\n                <div key={idx} className=\"border-b border-gray-200 pb-6 last:border-b-0\">\r\n                  <label className=\"block font-medium text-gray-900 mb-2\">\r\n                    {idx + 1}. {question}\r\n                  </label>\r\n                  <textarea\r\n                    value={answers[idx] || ''}\r\n                    onChange={(e) => handleAnswerChange(idx, e.target.value)}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 min-h-[120px]\"\r\n                    placeholder=\"Type your analysis here...\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Framework Card */}\r\n          {caseStudy.framework && (\r\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4 flex items-center\">\r\n                <LightBulbIcon className=\"h-6 w-6 mr-2 text-yellow-600\" />\r\n                Recommended Framework\r\n              </h2>\r\n              \r\n              {caseStudy.framework.approach && (\r\n                <div className=\"mb-4\">\r\n                  <h3 className=\"font-semibold mb-2\">Approach:</h3>\r\n                  <p className=\"text-gray-700\">{caseStudy.framework.approach}</p>\r\n                </div>\r\n              )}\r\n              \r\n              {caseStudy.framework.keySteps?.length > 0 && (\r\n                <div className=\"mb-4\">\r\n                  <h3 className=\"font-semibold mb-2\">Key Steps:</h3>\r\n                  <ol className=\"list-decimal list-inside space-y-1\">\r\n                    {caseStudy.framework.keySteps.map((step, idx) => (\r\n                      <li key={idx} className=\"text-gray-700\">{step}</li>\r\n                    ))}\r\n                  </ol>\r\n                </div>\r\n              )}\r\n              \r\n              {caseStudy.framework.analysisTools?.length > 0 && (\r\n                <div>\r\n                  <h3 className=\"font-semibold mb-2\">Analysis Tools:</h3>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {caseStudy.framework.analysisTools.map((tool, idx) => (\r\n                      <span key={idx} className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm\">\r\n                        {tool}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex justify-between items-center\">\r\n            <Button\r\n              onClick={() => setShowSampleSolution(true)}\r\n              variant=\"secondary\"\r\n            >\r\n              View Sample Solution\r\n            </Button>\r\n            \r\n            <Button\r\n              onClick={handleSubmit}\r\n              disabled={submitting || Object.keys(answers).length === 0}\r\n            >\r\n              {submitting ? 'Submitting...' : 'Submit Analysis'}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sample Solution Modal */}\r\n        {showSampleSolution && (\r\n          <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6 shadow-xl\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h3 className=\"text-xl font-semibold\">Sample Solution</h3>\r\n                <button\r\n                  onClick={() => setShowSampleSolution(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  Γ£ò\r\n                </button>\r\n              </div>\r\n              <div className=\"space-y-6\">\r\n                {caseStudy.sampleSolution ? (\r\n                  <>\r\n                    {caseStudy.sampleSolution.approach && (\r\n                      <div>\r\n                        <h4 className=\"font-semibold mb-2\">Approach:</h4>\r\n                        <p className=\"text-gray-700 whitespace-pre-wrap\">{caseStudy.sampleSolution.approach}</p>\r\n                      </div>\r\n                    )}\r\n                    {caseStudy.sampleSolution.analysis && (\r\n                      <div>\r\n                        <h4 className=\"font-semibold mb-2\">Analysis:</h4>\r\n                        <p className=\"text-gray-700 whitespace-pre-wrap\">{caseStudy.sampleSolution.analysis}</p>\r\n                      </div>\r\n                    )}\r\n                    {caseStudy.sampleSolution.recommendations?.length > 0 && (\r\n                      <div>\r\n                        <h4 className=\"font-semibold mb-2\">Recommendations:</h4>\r\n                        <ul className=\"list-disc list-inside space-y-1\">\r\n                          {caseStudy.sampleSolution.recommendations.map((rec, idx) => (\r\n                            <li key={idx} className=\"text-gray-700\">{rec}</li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    )}\r\n                    {caseStudy.sampleSolution.expectedOutcome && (\r\n                      <div>\r\n                        <h4 className=\"font-semibold mb-2\">Expected Outcome:</h4>\r\n                        <p className=\"text-gray-700\">{caseStudy.sampleSolution.expectedOutcome}</p>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  <div className=\"text-gray-500 text-center py-8\">No sample solution available for this case study.</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CaseStudyPractice;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\CodingChallenge.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadChallenge'. Either include it or remove the dependency array.","line":47,"column":6,"nodeType":"ArrayExpression","endLine":47,"endColumn":29,"suggestions":[{"desc":"Update the dependencies array to be: [challengeId, language, loadChallenge]","fix":{"range":[1719,1742],"text":"[challengeId, language, loadChallenge]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":126,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":126,"endColumn":17}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport technicalPrepAPI from '../api/technicalPrep';\r\nimport Button from './Button';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport { \r\n  PlayIcon, \r\n  ClockIcon, \r\n  LightBulbIcon, \r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  BookmarkIcon,\r\n  ArrowLeftIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { BookmarkIcon as BookmarkSolidIcon } from '@heroicons/react/24/solid';\r\n\r\nconst CodingChallenge = () => {\r\n  const { challengeId } = useParams();\r\n  const navigate = useNavigate();\r\n  \r\n  const [challenge, setChallenge] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [code, setCode] = useState('');\r\n  const [language, setLanguage] = useState('javascript');\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [results, setResults] = useState(null);\r\n  const [hintsUsed, setHintsUsed] = useState([]);\r\n  const [currentHint, setCurrentHint] = useState(null);\r\n  const [showHintModal, setShowHintModal] = useState(false);\r\n  const [showSolution, setShowSolution] = useState(false);\r\n  const [solution, setSolution] = useState(null);\r\n  const [timeSpent, setTimeSpent] = useState(0);\r\n  const [timerRunning, setTimerRunning] = useState(true);\r\n  const [isBookmarked, setIsBookmarked] = useState(false);\r\n\r\n\r\n  // Restore code from localStorage if available\r\n  useEffect(() => {\r\n    const savedCode = localStorage.getItem(`coding-challenge-code-${challengeId}-${language}`);\r\n    if (savedCode) {\r\n      setCode(savedCode);\r\n    } else {\r\n      loadChallenge();\r\n    }\r\n  }, [challengeId, language]);\r\n\r\n\r\n  // Save code to localStorage on change\r\n  useEffect(() => {\r\n    if (challengeId && language) {\r\n      localStorage.setItem(`coding-challenge-code-${challengeId}-${language}`, code);\r\n    }\r\n  }, [code, challengeId, language]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (timerRunning && !results) {\r\n      interval = setInterval(() => {\r\n        setTimeSpent(prev => prev + 1);\r\n      }, 60000); // Update every minute\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [timerRunning, results]);\r\n\r\n  const loadChallenge = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await technicalPrepAPI.getCodingChallenge(challengeId);\r\n      setChallenge(data);\r\n      \r\n      // Set starter code\r\n      const starterCode = data.starterCode?.[language] || '// Write your solution here\\n';\r\n      setCode(starterCode);\r\n      \r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to load challenge');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setSubmitting(true);\r\n      setError(null);\r\n      const response = await technicalPrepAPI.submitCodingSolution(challengeId, {\r\n        code,\r\n        language,\r\n        timeSpent,\r\n        hintsUsed\r\n      });\r\n      \r\n      console.log('Submission response:', response);\r\n      setResults(response.results);\r\n      setTimerRunning(false);\r\n    } catch (err) {\r\n      console.error('Submission error:', err);\r\n      setError(err.response?.data?.message || 'Failed to submit solution');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleGetHint = async () => {\r\n    try {\r\n      const hintIndex = hintsUsed.length;\r\n      const response = await technicalPrepAPI.getHint(challengeId, hintIndex);\r\n      setHintsUsed([...hintsUsed, hintIndex]);\r\n      setCurrentHint({ index: hintIndex + 1, text: response.hint });\r\n      setShowHintModal(true);\r\n    } catch (err) {\r\n      console.error('Hint error:', err);\r\n      setCurrentHint({ index: null, text: 'No more hints available for this challenge.' });\r\n      setShowHintModal(true);\r\n    }\r\n  };\r\n\r\n  const handleViewSolution = async () => {\r\n    try {\r\n      const solutionData = await technicalPrepAPI.getSolution(challengeId);\r\n      setSolution(solutionData);\r\n      setShowSolution(true);\r\n    } catch (err) {\r\n      alert('Complete the challenge successfully to view the solution');\r\n    }\r\n  };\r\n\r\n  const handleBookmark = async () => {\r\n    try {\r\n      const response = await technicalPrepAPI.bookmarkChallenge({\r\n        challengeType: 'coding',\r\n        challengeId\r\n      });\r\n      console.log('Bookmark response:', response);\r\n      setIsBookmarked(response.bookmarked);\r\n    } catch (err) {\r\n      console.error('Failed to bookmark challenge:', err);\r\n      setError('Failed to bookmark challenge. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleLanguageChange = (newLanguage) => {\r\n    setLanguage(newLanguage);\r\n    const starterCode = challenge.starterCode?.[newLanguage] || '// Write your solution here\\n';\r\n    setCode(starterCode);\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner />;\r\n  if (error && !challenge) return <ErrorMessage message={error} />;\r\n  if (!challenge) return <ErrorMessage message=\"Challenge not found\" />;\r\n\r\n  const formatTime = (minutes) => {\r\n    const hours = Math.floor(minutes / 60);\r\n    const mins = minutes % 60;\r\n    return hours > 0 ? `${hours}h ${mins}m` : `${mins}m`;\r\n  };\r\n\r\n  const getDifficultyColor = (difficulty) => {\r\n    const colors = {\r\n      Easy: 'text-green-600 bg-green-100',\r\n      Medium: 'text-yellow-600 bg-yellow-100',\r\n      Hard: 'text-red-600 bg-red-100',\r\n      Expert: 'text-purple-600 bg-purple-100'\r\n    };\r\n    return colors[difficulty] || 'text-gray-600 bg-gray-100';\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-6\">\r\n          <button\r\n            onClick={() => navigate('/technical-prep')}\r\n            className=\"flex items-center text-blue-600 hover:text-blue-700 mb-4\"\r\n          >\r\n            <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\r\n            Back to Challenges\r\n          </button>\r\n          \r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n                {challenge.title}\r\n              </h1>\r\n              <div className=\"flex items-center gap-3 flex-wrap\">\r\n                <span className={`px-3 py-1 rounded-full text-sm font-medium ${getDifficultyColor(challenge.difficulty)}`}>\r\n                  {challenge.difficulty}\r\n                </span>\r\n                <span className=\"px-3 py-1 rounded-full text-sm font-medium text-blue-600 bg-blue-100\">\r\n                  {challenge.category}\r\n                </span>\r\n                {challenge.techStack?.map((tech, idx) => (\r\n                  <span key={idx} className=\"px-3 py-1 rounded-full text-sm font-medium text-gray-600 bg-gray-100\">\r\n                    {tech}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"flex items-center text-gray-600\">\r\n                <ClockIcon className=\"h-5 w-5 mr-2\" />\r\n                <span>{formatTime(timeSpent)} / {challenge.timeLimit}m</span>\r\n              </div>\r\n              <button\r\n                onClick={handleBookmark}\r\n                className=\"text-gray-600 hover:text-blue-600\"\r\n              >\r\n                {isBookmarked ? (\r\n                  <BookmarkSolidIcon className=\"h-6 w-6 text-blue-600\" />\r\n                ) : (\r\n                  <BookmarkIcon className=\"h-6 w-6\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {/* Left Panel - Problem Statement */}\r\n          <div className=\"bg-white rounded-lg shadow-sm p-6 overflow-y-auto\" style={{ maxHeight: 'calc(100vh - 200px)' }}>\r\n            <h2 className=\"text-xl font-semibold mb-4\">Problem Statement</h2>\r\n            \r\n            <div className=\"prose max-w-none mb-6\">\r\n              <p className=\"text-gray-700 whitespace-pre-wrap\">{challenge.problemStatement}</p>\r\n            </div>\r\n\r\n            {challenge.constraints?.length > 0 && (\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-2\">Constraints:</h3>\r\n                <ul className=\"list-disc list-inside space-y-1 text-gray-700\">\r\n                  {challenge.constraints.map((constraint, idx) => (\r\n                    <li key={idx}>{constraint}</li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n\r\n            {challenge.examples?.length > 0 && (\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-3\">Examples:</h3>\r\n                {challenge.examples.map((example, idx) => (\r\n                  <div key={idx} className=\"bg-gray-50 rounded-lg p-4 mb-4\">\r\n                    <div className=\"mb-2\">\r\n                      <span className=\"font-medium text-gray-700\">Input:</span>\r\n                      <pre className=\"mt-1 bg-white p-2 rounded border text-sm overflow-x-auto whitespace-pre-wrap wrap-break-word\">{example.input}</pre>\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                      <span className=\"font-medium text-gray-700\">Output:</span>\r\n                      <pre className=\"mt-1 bg-white p-2 rounded border text-sm overflow-x-auto whitespace-pre-wrap wrap-break-word\">{example.output}</pre>\r\n                    </div>\r\n                    {example.explanation && (\r\n                      <div>\r\n                        <span className=\"font-medium text-gray-700\">Explanation:</span>\r\n                        <p className=\"mt-1 text-gray-600 text-sm\">{example.explanation}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {challenge.relatedConcepts?.length > 0 && (\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-2\">Related Concepts:</h3>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {challenge.relatedConcepts.map((concept, idx) => (\r\n                    <span key={idx} className=\"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm\">\r\n                      {concept}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {challenge.realWorldApplication && (\r\n              <div className=\"bg-blue-50 rounded-lg p-4\">\r\n                <h3 className=\"font-semibold text-blue-900 mb-2\">≡ƒÆí Real-World Application:</h3>\r\n                <p className=\"text-blue-800 text-sm\">{challenge.realWorldApplication}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Right Panel - Code Editor */}\r\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h2 className=\"text-xl font-semibold\">Code Editor</h2>\r\n              <select\r\n                value={language}\r\n                onChange={(e) => handleLanguageChange(e.target.value)}\r\n                className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"javascript\">JavaScript</option>\r\n                <option value=\"python\">Python</option>\r\n                <option value=\"java\">Java</option>\r\n                <option value=\"cpp\">C++</option>\r\n                <option value=\"typescript\">TypeScript</option>\r\n              </select>\r\n            </div>\r\n\r\n            <textarea\r\n              value={code}\r\n              onChange={(e) => setCode(e.target.value)}\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Tab') {\r\n                  e.preventDefault();\r\n                  const start = e.target.selectionStart;\r\n                  const end = e.target.selectionEnd;\r\n                  const newCode = code.substring(0, start) + '  ' + code.substring(end);\r\n                  setCode(newCode);\r\n                  setTimeout(() => {\r\n                    e.target.selectionStart = e.target.selectionEnd = start + 2;\r\n                  }, 0);\r\n                }\r\n              }}\r\n              className=\"w-full h-96 p-4 font-mono text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"Write your solution here...\"\r\n            />\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex justify-between items-center mt-4\">\r\n              <div className=\"flex gap-3\">\r\n                <Button\r\n                  onClick={handleGetHint}\r\n                  variant=\"secondary\"\r\n                  disabled={hintsUsed.length >= (challenge.hints?.length || 0)}\r\n                >\r\n                  Get Hint ({hintsUsed.length}/{challenge.hints?.length || 0})\r\n                </Button>\r\n              </div>\r\n\r\n              <Button\r\n                onClick={handleSubmit}\r\n                disabled={submitting || !code.trim()}\r\n                className=\"flex items-center\"\r\n              >\r\n                {submitting ? (\r\n                  <>\r\n                    <LoadingSpinner size=\"small\" />\r\n                    <span className=\"ml-2\">Running Tests...</span>\r\n                  </>\r\n                ) : (\r\n                  <>Submit Solution</>\r\n                )}\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Results */}\r\n            {results && (\r\n              <div className=\"mt-6 border-t pt-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\">Test Results</h3>\r\n                \r\n                <div className=\"mb-4\">\r\n                  <div className={`flex items-center justify-between p-4 rounded-lg ${\r\n                    results.passed === results.total ? 'bg-green-50' : 'bg-yellow-50'\r\n                  }`}>\r\n                    <div className=\"flex items-center\">\r\n                      {results.passed === results.total ? (\r\n                        <CheckCircleIcon className=\"h-6 w-6 text-green-600 mr-2\" />\r\n                      ) : (\r\n                        <XCircleIcon className=\"h-6 w-6 text-yellow-600 mr-2\" />\r\n                      )}\r\n                      <span className=\"font-semibold\">\r\n                        {results.passed} / {results.total} Tests Passed\r\n                      </span>\r\n                    </div>\r\n                    <span className=\"text-2xl font-bold\">\r\n                      {Math.round((results.passed / results.total) * 100)}%\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-3 mb-4\">\r\n                  {results.testResults?.map((test, idx) => (\r\n                    !test.isHidden && (\r\n                      <div key={idx} className={`p-3 rounded-lg border ${\r\n                        test.passed ? 'border-green-200 bg-green-50' : 'border-red-200 bg-red-50'\r\n                      }`}>\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <span className=\"font-medium\">Test Case {test.testCase}</span>\r\n                          {test.passed ? (\r\n                            <CheckCircleIcon className=\"h-5 w-5 text-green-600\" />\r\n                          ) : (\r\n                            <XCircleIcon className=\"h-5 w-5 text-red-600\" />\r\n                          )}\r\n                        </div>\r\n                        <div className=\"text-sm space-y-1\">\r\n                          <div>\r\n                            <span className=\"font-medium\">Input:</span> {JSON.stringify(test.input)}\r\n                          </div>\r\n                          {test.passed ? (\r\n                            <div>\r\n                              <span className=\"font-medium\">Output:</span> {JSON.stringify(test.expectedOutput)}\r\n                            </div>\r\n                          ) : (\r\n                            <>\r\n                              <div>\r\n                                <span className=\"font-medium\">Expected:</span> {JSON.stringify(test.expectedOutput)}\r\n                              </div>\r\n                              <div>\r\n                                <span className=\"font-medium\">Got:</span> {test.actualOutput}\r\n                              </div>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"p-4 bg-blue-50 rounded-lg mb-4\">\r\n                  <p className=\"text-blue-900\">{results.feedback}</p>\r\n                </div>\r\n\r\n                {results.passed === results.total && (\r\n                  <Button onClick={handleViewSolution} variant=\"secondary\" className=\"w-full\">\r\n                    View Optimal Solution\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Hint Modal */}\r\n            {showHintModal && currentHint && (\r\n              <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n                <div className=\"bg-white rounded-lg max-w-xl w-full p-6 shadow-xl\">\r\n                  <div className=\"flex justify-between items-center mb-4\">\r\n                    <h3 className=\"text-xl font-semibold text-gray-900\">\r\n                      {currentHint.index ? `Hint ${currentHint.index}` : 'Hint'}\r\n                    </h3>\r\n                    <button\r\n                      onClick={() => setShowHintModal(false)}\r\n                      className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                      Γ£ò\r\n                    </button>\r\n                  </div>\r\n                  <p className=\"text-gray-700 whitespace-pre-wrap\">{currentHint.text}</p>\r\n                  <div className=\"mt-6\">\r\n                    <Button onClick={() => setShowHintModal(false)} className=\"w-full\">\r\n                      OK\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Solution Modal */}\r\n            {showSolution && solution && (\r\n              <div className=\"fixed inset-0 bg-white/30 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n                <div className=\"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6\">\r\n                  <div className=\"flex justify-between items-center mb-4\">\r\n                    <h3 className=\"text-xl font-semibold\">Optimal Solution</h3>\r\n                    <button\r\n                      onClick={() => setShowSolution(false)}\r\n                      className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                      Γ£ò\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div className=\"mb-4\">\r\n                    <h4 className=\"font-semibold mb-2\">Code ({solution.language}):</h4>\r\n                    <pre className=\"bg-gray-50 p-4 rounded-lg overflow-x-auto text-sm\">\r\n                      {solution.code}\r\n                    </pre>\r\n                  </div>\r\n\r\n                  {solution.explanation && (\r\n                    <div className=\"mb-4\">\r\n                      <h4 className=\"font-semibold mb-2\">Explanation:</h4>\r\n                      <p className=\"text-gray-700 whitespace-pre-wrap\">{solution.explanation}</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    {solution.timeComplexity && (\r\n                      <div className=\"bg-purple-50 p-3 rounded-lg\">\r\n                        <span className=\"font-semibold text-purple-900\">Time Complexity:</span>\r\n                        <p className=\"text-purple-700\">{solution.timeComplexity}</p>\r\n                      </div>\r\n                    )}\r\n                    {solution.spaceComplexity && (\r\n                      <div className=\"bg-blue-50 p-3 rounded-lg\">\r\n                        <span className=\"font-semibold text-blue-900\">Space Complexity:</span>\r\n                        <p className=\"text-blue-700\">{solution.spaceComplexity}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CodingChallenge;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\CompanyInfoCard.jsx","messages":[{"ruleId":"jsx-a11y/no-noninteractive-element-interactions","severity":1,"message":"Non-interactive elements should not be assigned mouse or keyboard event listeners.","line":33,"column":29,"nodeType":"JSXOpeningElement","endLine":38,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import PropTypes from \"prop-types\";\r\nimport Card from \"./Card\";\r\n\r\nexport default function CompanyInfoCard({ companyInfo, companyName, industry, location }) {\r\n    if (!companyInfo || Object.keys(companyInfo).length === 0) {\r\n        return null;\r\n    }\r\n\r\n    // Check if there's any meaningful company information\r\n    const hasCompanyInfo =\r\n        companyInfo.size ||\r\n        companyInfo.website ||\r\n        companyInfo.description ||\r\n        companyInfo.mission ||\r\n        companyInfo.logo ||\r\n        companyInfo.contactInfo?.email ||\r\n        companyInfo.contactInfo?.phone ||\r\n        companyInfo.contactInfo?.address ||\r\n        companyInfo.glassdoorRating?.rating ||\r\n        (companyInfo.recentNews && companyInfo.recentNews.length > 0);\r\n\r\n    if (!hasCompanyInfo) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <Card title=\"Company Information\" variant=\"elevated\">\r\n            <div className=\"space-y-6\">\r\n                {/* Company Header */}\r\n                <div className=\"flex items-start gap-4\">\r\n                    {companyInfo.logo && (\r\n                        <div className=\"flex-shrink-0\">\r\n                            <img\r\n                                src={companyInfo.logo}\r\n                                alt={`${companyName} logo`}\r\n                                className=\"w-16 h-16 object-contain rounded-lg border border-gray-200\"\r\n                                onError={(e) => { e.target.style.display = 'none'; }}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                    <div className=\"flex-1\">\r\n                        <h3 className=\"text-xl font-bold text-gray-900\">{companyName}</h3>\r\n                        {(industry || location) && (\r\n                            <p className=\"text-sm text-gray-600 mt-1\">\r\n                                {[industry, location].filter(Boolean).join(\" ΓÇó \")}\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Company Details Grid */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    {companyInfo.size && (\r\n                        <div>\r\n                            <p className=\"text-sm font-medium text-gray-500\">Company Size</p>\r\n                            <p className=\"text-gray-900\">{companyInfo.size} employees</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {companyInfo.website && (\r\n                        <div>\r\n                            <p className=\"text-sm font-medium text-gray-500\">Website</p>\r\n                            <a\r\n                                href={companyInfo.website.startsWith('http') ? companyInfo.website : `https://${companyInfo.website}`}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"text-blue-600 hover:underline inline-flex items-center gap-1\"\r\n                            >\r\n                                {companyInfo.website}\r\n                                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\r\n                                </svg>\r\n                            </a>\r\n                        </div>\r\n                    )}\r\n\r\n                    {companyInfo.glassdoorRating?.rating && (\r\n                        <div>\r\n                            <p className=\"text-sm font-medium text-gray-500\">Glassdoor Rating</p>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <div className=\"flex items-center\">\r\n                                    <span className=\"text-lg font-bold text-gray-900\">{companyInfo.glassdoorRating.rating.toFixed(1)}</span>\r\n                                    <span className=\"text-yellow-500 ml-1\">Γÿà</span>\r\n                                </div>\r\n                                {companyInfo.glassdoorRating.reviewCount && (\r\n                                    <span className=\"text-sm text-gray-600\">\r\n                                        ({companyInfo.glassdoorRating.reviewCount.toLocaleString()} reviews)\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                            {companyInfo.glassdoorRating.url && (\r\n                                <a\r\n                                    href={companyInfo.glassdoorRating.url}\r\n                                    target=\"_blank\"\r\n                                    rel=\"noopener noreferrer\"\r\n                                    className=\"text-sm text-blue-600 hover:underline\"\r\n                                >\r\n                                    View on Glassdoor ΓåÆ\r\n                                </a>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Company Description */}\r\n                {companyInfo.description && (\r\n                    <div>\r\n                        <h4 className=\"text-sm font-medium text-gray-500 mb-2\">About Company</h4>\r\n                        <p className=\"text-gray-700 whitespace-pre-wrap\">{companyInfo.description}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Mission Statement */}\r\n                {companyInfo.mission && (\r\n                    <div>\r\n                        <h4 className=\"text-sm font-medium text-gray-500 mb-2\">Mission Statement</h4>\r\n                        <p className=\"text-gray-700 italic whitespace-pre-wrap\">{companyInfo.mission}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Contact Information */}\r\n                {(companyInfo.contactInfo?.email || companyInfo.contactInfo?.phone || companyInfo.contactInfo?.address) && (\r\n                    <div>\r\n                        <h4 className=\"text-sm font-medium text-gray-500 mb-2\">Contact Information</h4>\r\n                        <div className=\"space-y-2\">\r\n                            {companyInfo.contactInfo.email && (\r\n                                <div className=\"flex items-center gap-2 text-sm\">\r\n                                    <svg className=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                                    </svg>\r\n                                    <a href={`mailto:${companyInfo.contactInfo.email}`} className=\"text-blue-600 hover:underline\">\r\n                                        {companyInfo.contactInfo.email}\r\n                                    </a>\r\n                                </div>\r\n                            )}\r\n                            {companyInfo.contactInfo.phone && (\r\n                                <div className=\"flex items-center gap-2 text-sm\">\r\n                                    <svg className=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n                                    </svg>\r\n                                    <a href={`tel:${companyInfo.contactInfo.phone}`} className=\"text-blue-600 hover:underline\">\r\n                                        {companyInfo.contactInfo.phone}\r\n                                    </a>\r\n                                </div>\r\n                            )}\r\n                            {companyInfo.contactInfo.address && (\r\n                                <div className=\"flex items-start gap-2 text-sm\">\r\n                                    <svg className=\"w-4 h-4 text-gray-500 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                                    </svg>\r\n                                    <span className=\"text-gray-700\">{companyInfo.contactInfo.address}</span>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Recent News */}\r\n                {companyInfo.recentNews && companyInfo.recentNews.length > 0 && (\r\n                    <div>\r\n                        <h4 className=\"text-sm font-medium text-gray-500 mb-3\">Recent News & Updates</h4>\r\n                        <div className=\"space-y-3\">\r\n                            {companyInfo.recentNews.slice(0, 3).map((news, idx) => (\r\n                                <div key={idx} className=\"p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition border border-gray-200\">\r\n                                    <div className=\"flex items-start justify-between gap-2 mb-2\">\r\n                                        <div className=\"flex-1\">\r\n                                            {news.url ? (\r\n                                                <a\r\n                                                    href={news.url}\r\n                                                    target=\"_blank\"\r\n                                                    rel=\"noopener noreferrer\"\r\n                                                    className=\"font-medium text-gray-900 hover:text-blue-600\"\r\n                                                >\r\n                                                    {news.title}\r\n                                                </a>\r\n                                            ) : (\r\n                                                <p className=\"font-medium text-gray-900\">{news.title}</p>\r\n                                            )}\r\n                                        </div>\r\n                                        {news.relevanceScore && (\r\n                                            <span className={`px-2 py-0.5 text-xs font-medium rounded whitespace-nowrap ${\r\n                                                news.relevanceScore >= 8 ? 'bg-green-100 text-green-800' :\r\n                                                news.relevanceScore >= 6 ? 'bg-yellow-100 text-yellow-800' :\r\n                                                'bg-gray-100 text-gray-800'\r\n                                            }`}>\r\n                                                Γ¡É {news.relevanceScore}/10\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n                                    \r\n                                    {/* Metadata badges */}\r\n                                    <div className=\"flex flex-wrap gap-2 mb-2\">\r\n                                        {news.category && (\r\n                                            <span className={`px-2 py-0.5 text-xs font-medium rounded ${\r\n                                                news.category === 'funding' ? 'bg-green-100 text-green-800' :\r\n                                                news.category === 'product_launch' ? 'bg-blue-100 text-blue-800' :\r\n                                                news.category === 'hiring' ? 'bg-purple-100 text-purple-800' :\r\n                                                news.category === 'acquisition' ? 'bg-orange-100 text-orange-800' :\r\n                                                'bg-gray-100 text-gray-800'\r\n                                            }`}>\r\n                                                {news.category.replace('_', ' ')}\r\n                                            </span>\r\n                                        )}\r\n                                        {news.sentiment && (\r\n                                            <span className={`px-2 py-0.5 text-xs font-medium rounded border ${\r\n                                                news.sentiment === 'positive' ? 'bg-green-50 text-green-700 border-green-200' :\r\n                                                news.sentiment === 'negative' ? 'bg-red-50 text-red-700 border-red-200' :\r\n                                                'bg-gray-50 text-gray-700 border-gray-200'\r\n                                            }`}>\r\n                                                {news.sentiment === 'positive' && '≡ƒÿè'}\r\n                                                {news.sentiment === 'neutral' && '≡ƒÿÉ'}\r\n                                                {news.sentiment === 'negative' && '≡ƒÿƒ'}\r\n                                            </span>\r\n                                        )}\r\n                                        {news.date && (\r\n                                            <span className=\"text-xs text-gray-500\">\r\n                                                ≡ƒôà {new Date(news.date).toLocaleDateString()}\r\n                                            </span>\r\n                                        )}\r\n                                        {news.source && (\r\n                                            <span className=\"text-xs text-gray-500\">\r\n                                                ≡ƒô░ {news.source}\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {news.summary && (\r\n                                        <p className=\"text-sm text-gray-600 mb-2\">{news.summary}</p>\r\n                                    )}\r\n\r\n                                    {/* Key Points */}\r\n                                    {news.keyPoints && news.keyPoints.length > 0 && (\r\n                                        <div className=\"bg-white rounded p-2 mb-2\">\r\n                                            <p className=\"text-xs font-medium text-gray-600 mb-1\">Key Points:</p>\r\n                                            <ul className=\"text-xs text-gray-600 space-y-0.5\">\r\n                                                {news.keyPoints.slice(0, 2).map((point, pointIdx) => (\r\n                                                    <li key={pointIdx} className=\"flex items-start gap-1\">\r\n                                                        <span className=\"text-blue-600\">ΓÇó</span>\r\n                                                        <span>{point}</span>\r\n                                                    </li>\r\n                                                ))}\r\n                                            </ul>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {/* Tags */}\r\n                                    {news.tags && news.tags.length > 0 && (\r\n                                        <div className=\"flex flex-wrap gap-1\">\r\n                                            {news.tags.slice(0, 3).map((tag, tagIdx) => (\r\n                                                <span key={tagIdx} className=\"px-1.5 py-0.5 text-xs bg-white text-gray-600 rounded\">\r\n                                                    #{tag}\r\n                                                </span>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n                            {companyInfo.recentNews.length > 3 && (\r\n                                <p className=\"text-xs text-center text-gray-500\">\r\n                                    +{companyInfo.recentNews.length - 3} more news items\r\n                                </p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </Card>\r\n    );\r\n}\r\n\r\nCompanyInfoCard.propTypes = {\r\n    companyInfo: PropTypes.shape({\r\n        size: PropTypes.string,\r\n        website: PropTypes.string,\r\n        description: PropTypes.string,\r\n        mission: PropTypes.string,\r\n        logo: PropTypes.string,\r\n        contactInfo: PropTypes.shape({\r\n            email: PropTypes.string,\r\n            phone: PropTypes.string,\r\n            address: PropTypes.string,\r\n        }),\r\n        glassdoorRating: PropTypes.shape({\r\n            rating: PropTypes.number,\r\n            reviewCount: PropTypes.number,\r\n            url: PropTypes.string,\r\n        }),\r\n        recentNews: PropTypes.arrayOf(\r\n            PropTypes.shape({\r\n                title: PropTypes.string,\r\n                summary: PropTypes.string,\r\n                url: PropTypes.string,\r\n                date: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\r\n            })\r\n        ),\r\n    }),\r\n    companyName: PropTypes.string.isRequired,\r\n    industry: PropTypes.string,\r\n    location: PropTypes.string,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\CompanyNewsSection.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchNews' and 'initialNews'. Either include them or remove the dependency array. If 'setNews' needs the current value of 'initialNews', you can also switch to useReducer instead of useState and read 'initialNews' in the reducer.","line":93,"column":8,"nodeType":"ArrayExpression","endLine":93,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [companyName, fetchNews, initialNews]","fix":{"range":[3733,3746],"text":"[companyName, fetchNews, initialNews]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'companyName' and 'fetchNews'. Either include them or remove the dependency array.","line":100,"column":8,"nodeType":"ArrayExpression","endLine":100,"endColumn":26,"suggestions":[{"desc":"Update the dependencies array to be: [companyName, fetchNews, selectedCategory]","fix":{"range":[3916,3934],"text":"[companyName, fetchNews, selectedCategory]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Card from './Card';\r\nimport axios from 'axios';\r\n\r\n/**\r\n * Enhanced Company News Section Component\r\n * Displays categorized news with filtering, relevance scoring, and export functionality\r\n */\r\nexport default function CompanyNewsSection({ companyName, initialNews = [], onNewsUpdate }) {\r\n    const [news, setNews] = useState(initialNews);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [selectedCategory, setSelectedCategory] = useState('all');\r\n    const [sortBy, setSortBy] = useState('relevance'); // relevance or date\r\n    const [summary, setSummary] = useState(null);\r\n    const [showExportModal, setShowExportModal] = useState(false);\r\n\r\n    console.log('≡ƒÄ¼ CompanyNewsSection mounted/updated:', {\r\n        companyName,\r\n        initialNewsCount: initialNews.length,\r\n        currentNewsCount: news.length\r\n    });\r\n\r\n    const categories = [\r\n        { value: 'all', label: 'All News', icon: '≡ƒô░' },\r\n        { value: 'funding', label: 'Funding', icon: '≡ƒÆ░' },\r\n        { value: 'product_launch', label: 'Products', icon: '≡ƒÜÇ' },\r\n        { value: 'hiring', label: 'Hiring', icon: '≡ƒæÑ' },\r\n        { value: 'acquisition', label: 'M&A', icon: '≡ƒñ¥' },\r\n        { value: 'partnership', label: 'Partnerships', icon: '≡ƒöù' },\r\n        { value: 'leadership', label: 'Leadership', icon: '≡ƒæö' },\r\n        { value: 'awards', label: 'Awards', icon: '≡ƒÅå' },\r\n        { value: 'general', label: 'General', icon: '≡ƒôó' },\r\n    ];\r\n\r\n    // Fetch news from API\r\n    const fetchNews = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        console.log('≡ƒöì Fetching news for company:', companyName);\r\n\r\n        try {\r\n            const API_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n            const url = `${API_URL}/api/companies/news`;\r\n            console.log('≡ƒôí API URL:', url);\r\n\r\n            const response = await axios.get(url, {\r\n                params: {\r\n                    company: companyName,\r\n                    limit: 10,\r\n                    minRelevance: 3,\r\n                    category: selectedCategory === 'all' ? undefined : selectedCategory,\r\n                },\r\n            });\r\n\r\n            console.log('Γ£à API Response:', response.data);\r\n\r\n            if (response.data.success) {\r\n                setNews(response.data.data.news);\r\n                setSummary(response.data.data.summary);\r\n                console.log('≡ƒô░ News items set:', response.data.data.news.length);\r\n                if (onNewsUpdate) {\r\n                    onNewsUpdate(response.data.data.news);\r\n                }\r\n            }\r\n        } catch (err) {\r\n            console.error('Γ¥î Error fetching news:', err);\r\n            console.error('Error details:', err.response?.data || err.message);\r\n            setError('Failed to fetch company news. Using cached data.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Load news on component mount or when company changes\r\n    useEffect(() => {\r\n        console.log('≡ƒÄ» useEffect triggered - companyName:', companyName, 'initialNews:', initialNews.length);\r\n\r\n        if (companyName) {\r\n            // Use initial news if provided, otherwise fetch\r\n            if (initialNews.length > 0) {\r\n                console.log('≡ƒôª Using initial news:', initialNews.length, 'items');\r\n                setNews(initialNews);\r\n            } else {\r\n                console.log('≡ƒîÉ No initial news, fetching from API...');\r\n                fetchNews();\r\n            }\r\n        } else {\r\n            console.log('ΓÜá∩╕Å No company name provided');\r\n        }\r\n    }, [companyName]);\r\n\r\n    // Re-fetch when category changes\r\n    useEffect(() => {\r\n        if (companyName && selectedCategory !== 'all') {\r\n            fetchNews();\r\n        }\r\n    }, [selectedCategory]);\r\n\r\n    // Sort news\r\n    const sortedNews = [...news].sort((a, b) => {\r\n        if (sortBy === 'relevance') {\r\n            return (b.relevanceScore || 5) - (a.relevanceScore || 5);\r\n        } else {\r\n            return new Date(b.date) - new Date(a.date);\r\n        }\r\n    });\r\n\r\n    // Filter news by category\r\n    const filteredNews = selectedCategory === 'all'\r\n        ? sortedNews\r\n        : sortedNews.filter(item => item.category === selectedCategory);\r\n\r\n    // Export news summary\r\n    const handleExport = async (format) => {\r\n        try {\r\n            const API_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n            const response = await axios.get(`${API_URL}/api/companies/news/export`, {\r\n                params: {\r\n                    company: companyName,\r\n                    format,\r\n                },\r\n                responseType: format === 'text' ? 'blob' : 'json',\r\n            });\r\n\r\n            if (format === 'text') {\r\n                const blob = new Blob([response.data], { type: 'text/plain' });\r\n                const url = window.URL.createObjectURL(blob);\r\n                const a = document.createElement('a');\r\n                a.href = url;\r\n                a.download = `${companyName.replace(/\\s+/g, '_')}_news_summary.txt`;\r\n                a.click();\r\n            } else {\r\n                const blob = new Blob([JSON.stringify(response.data, null, 2)], { type: 'application/json' });\r\n                const url = window.URL.createObjectURL(blob);\r\n                const a = document.createElement('a');\r\n                a.href = url;\r\n                a.download = `${companyName.replace(/\\s+/g, '_')}_news_summary.json`;\r\n                a.click();\r\n            }\r\n\r\n            setShowExportModal(false);\r\n        } catch (err) {\r\n            console.error('Error exporting news:', err);\r\n            alert('Failed to export news summary');\r\n        }\r\n    };\r\n\r\n    // Get category badge color\r\n    const getCategoryColor = (category) => {\r\n        const colors = {\r\n            funding: 'bg-green-100 text-green-800',\r\n            product_launch: 'bg-blue-100 text-blue-800',\r\n            hiring: 'bg-purple-100 text-purple-800',\r\n            acquisition: 'bg-orange-100 text-orange-800',\r\n            partnership: 'bg-indigo-100 text-indigo-800',\r\n            leadership: 'bg-pink-100 text-pink-800',\r\n            awards: 'bg-yellow-100 text-yellow-800',\r\n            general: 'bg-gray-100 text-gray-800',\r\n        };\r\n        return colors[category] || colors.general;\r\n    };\r\n\r\n    // Get sentiment badge color\r\n    const getSentimentColor = (sentiment) => {\r\n        const colors = {\r\n            positive: 'bg-green-50 text-green-700 border-green-200',\r\n            neutral: 'bg-gray-50 text-gray-700 border-gray-200',\r\n            negative: 'bg-red-50 text-red-700 border-red-200',\r\n        };\r\n        return colors[sentiment] || colors.neutral;\r\n    };\r\n\r\n    // Get relevance badge\r\n    const getRelevanceBadge = (score) => {\r\n        if (score >= 8) return { label: 'High', color: 'bg-green-100 text-green-800' };\r\n        if (score >= 6) return { label: 'Medium', color: 'bg-yellow-100 text-yellow-800' };\r\n        return { label: 'Low', color: 'bg-gray-100 text-gray-800' };\r\n    };\r\n\r\n    if (!companyName) return null;\r\n\r\n    return (\r\n        <Card title=\"Company News & Updates\" variant=\"elevated\">\r\n            <div className=\"space-y-6\">\r\n                {/* Summary Section */}\r\n                {summary && (\r\n                    <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                        <h4 className=\"font-semibold text-blue-900 mb-2\">≡ƒôè News Summary</h4>\r\n                        <p className=\"text-sm text-blue-800\">{summary.summary}</p>\r\n                        {summary.highlights && summary.highlights.length > 0 && (\r\n                            <div className=\"mt-3\">\r\n                                <p className=\"text-xs font-medium text-blue-900 mb-1\">Key Highlights:</p>\r\n                                <ul className=\"text-xs text-blue-800 space-y-1\">\r\n                                    {summary.highlights.map((highlight, idx) => (\r\n                                        <li key={idx}>{highlight}</li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Controls */}\r\n                <div className=\"flex flex-wrap items-center justify-between gap-4\">\r\n                    {/* Category Filter */}\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        {categories.map((cat) => (\r\n                            <button\r\n                                key={cat.value}\r\n                                onClick={() => setSelectedCategory(cat.value)}\r\n                                className={`px-3 py-1.5 text-xs font-medium rounded-full transition ${selectedCategory === cat.value\r\n                                    ? 'bg-blue-600 text-white'\r\n                                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                                    }`}\r\n                            >\r\n                                <span className=\"mr-1\">{cat.icon}</span>\r\n                                {cat.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Actions */}\r\n                    <div className=\"flex items-center gap-3\">\r\n                        {/* Sort */}\r\n                        <select\r\n                            value={sortBy}\r\n                            onChange={(e) => setSortBy(e.target.value)}\r\n                            className=\"text-sm border border-gray-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                        >\r\n                            <option value=\"relevance\">Sort by Relevance</option>\r\n                            <option value=\"date\">Sort by Date</option>\r\n                        </select>\r\n\r\n                        {/* Refresh */}\r\n                        <button\r\n                            onClick={fetchNews}\r\n                            disabled={loading}\r\n                            className=\"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50\"\r\n                        >\r\n                            {loading ? '≡ƒöä' : 'Γå╗'} Refresh\r\n                        </button>\r\n\r\n                        {/* Export */}\r\n                        <button\r\n                            onClick={() => setShowExportModal(true)}\r\n                            className=\"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\r\n                        >\r\n                            ≡ƒôÑ Export\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Error Message */}\r\n                {error && (\r\n                    <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800\">\r\n                        ΓÜá∩╕Å {error}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Loading State */}\r\n                {loading && (\r\n                    <div className=\"text-center py-8\">\r\n                        <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n                        <p className=\"mt-2 text-sm text-gray-600\">Fetching latest news...</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* News Items */}\r\n                {!loading && filteredNews.length > 0 && (\r\n                    <div className=\"space-y-4\">\r\n                        {filteredNews.map((newsItem, idx) => (\r\n                            <div\r\n                                key={idx}\r\n                                className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition\"\r\n                            >\r\n                                {/* Header */}\r\n                                <div className=\"flex items-start justify-between gap-3 mb-2\">\r\n                                    <h5 className=\"font-semibold text-gray-900 flex-1\">\r\n                                        {newsItem.url ? (\r\n                                            <a\r\n                                                href={newsItem.url}\r\n                                                target=\"_blank\"\r\n                                                rel=\"noopener noreferrer\"\r\n                                                className=\"hover:text-blue-600 transition\"\r\n                                            >\r\n                                                {newsItem.title}\r\n                                            </a>\r\n                                        ) : (\r\n                                            newsItem.title\r\n                                        )}\r\n                                    </h5>\r\n                                    {newsItem.relevanceScore && (\r\n                                        <span className={`px-2 py-0.5 text-xs font-medium rounded ${getRelevanceBadge(newsItem.relevanceScore).color}`}>\r\n                                            {getRelevanceBadge(newsItem.relevanceScore).label}\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Metadata */}\r\n                                <div className=\"flex flex-wrap items-center gap-2 mb-3\">\r\n                                    {newsItem.category && (\r\n                                        <span className={`px-2 py-0.5 text-xs font-medium rounded ${getCategoryColor(newsItem.category)}`}>\r\n                                            {newsItem.category.replace('_', ' ')}\r\n                                        </span>\r\n                                    )}\r\n                                    {newsItem.sentiment && (\r\n                                        <span className={`px-2 py-0.5 text-xs font-medium rounded border ${getSentimentColor(newsItem.sentiment)}`}>\r\n                                            {newsItem.sentiment === 'positive' && '≡ƒÿè'}\r\n                                            {newsItem.sentiment === 'neutral' && '≡ƒÿÉ'}\r\n                                            {newsItem.sentiment === 'negative' && '≡ƒÿƒ'}\r\n                                            {newsItem.sentiment}\r\n                                        </span>\r\n                                    )}\r\n                                    {newsItem.date && (\r\n                                        <span className=\"text-xs text-gray-500\">\r\n                                            ≡ƒôà {new Date(newsItem.date).toLocaleDateString()}\r\n                                        </span>\r\n                                    )}\r\n                                    {newsItem.source && (\r\n                                        <span className=\"text-xs text-gray-500\">\r\n                                            ≡ƒô░ {newsItem.source}\r\n                                        </span>\r\n                                    )}\r\n                                    {newsItem.relevanceScore && (\r\n                                        <span className=\"text-xs text-gray-500\">\r\n                                            Γ¡É {newsItem.relevanceScore}/10\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Summary */}\r\n                                {newsItem.summary && (\r\n                                    <p className=\"text-sm text-gray-700 mb-3\">{newsItem.summary}</p>\r\n                                )}\r\n\r\n                                {/* Key Points */}\r\n                                {newsItem.keyPoints && newsItem.keyPoints.length > 0 && (\r\n                                    <div className=\"bg-gray-50 rounded p-3 mb-3\">\r\n                                        <p className=\"text-xs font-medium text-gray-700 mb-2\">≡ƒöæ Key Points:</p>\r\n                                        <ul className=\"text-xs text-gray-600 space-y-1\">\r\n                                            {newsItem.keyPoints.map((point, pointIdx) => (\r\n                                                <li key={pointIdx} className=\"flex items-start gap-2\">\r\n                                                    <span className=\"text-blue-600 mt-0.5\">ΓÇó</span>\r\n                                                    <span>{point}</span>\r\n                                                </li>\r\n                                            ))}\r\n                                        </ul>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Tags */}\r\n                                {newsItem.tags && newsItem.tags.length > 0 && (\r\n                                    <div className=\"flex flex-wrap gap-1.5\">\r\n                                        {newsItem.tags.map((tag, tagIdx) => (\r\n                                            <span\r\n                                                key={tagIdx}\r\n                                                className=\"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded\"\r\n                                            >\r\n                                                #{tag}\r\n                                            </span>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Empty State */}\r\n                {!loading && filteredNews.length === 0 && (\r\n                    <div className=\"text-center py-8\">\r\n                        <p className=\"text-gray-500\">≡ƒô¡ No news items found for this category.</p>\r\n                        <button\r\n                            onClick={() => setSelectedCategory('all')}\r\n                            className=\"mt-2 text-sm text-blue-600 hover:underline\"\r\n                        >\r\n                            View all news\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Export Modal */}\r\n            {showExportModal && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n                    <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Export News Summary</h3>\r\n                        <p className=\"text-sm text-gray-600 mb-6\">\r\n                            Choose a format to export the news summary for use in applications and interviews.\r\n                        </p>\r\n                        <div className=\"space-y-3\">\r\n                            <button\r\n                                onClick={() => handleExport('text')}\r\n                                className=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\r\n                            >\r\n                                <div className=\"font-medium text-gray-900\">≡ƒôä Text Format (.txt)</div>\r\n                                <div className=\"text-sm text-gray-600\">Formatted text for cover letters</div>\r\n                            </button>\r\n                            <button\r\n                                onClick={() => handleExport('json')}\r\n                                className=\"w-full px-4 py-3 text-left border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\r\n                            >\r\n                                <div className=\"font-medium text-gray-900\">≡ƒôè JSON Format (.json)</div>\r\n                                <div className=\"text-sm text-gray-600\">Structured data for analysis</div>\r\n                            </button>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setShowExportModal(false)}\r\n                            className=\"mt-4 w-full px-4 py-2 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </Card>\r\n    );\r\n}\r\n\r\nCompanyNewsSection.propTypes = {\r\n    companyName: PropTypes.string.isRequired,\r\n    initialNews: PropTypes.array,\r\n    onNewsUpdate: PropTypes.func,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\CompanyResearchReport.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchResearch'. Either include it or remove the dependency array.","line":26,"column":8,"nodeType":"ArrayExpression","endLine":26,"endColumn":31,"suggestions":[{"desc":"Update the dependencies array to be: [companyName, autoLoad, fetchResearch]","fix":{"range":[945,968],"text":"[companyName, autoLoad, fetchResearch]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\n/**\r\n * UC-064: Comprehensive Company Research Report Component\r\n * Displays automated company research with all acceptance criteria covered:\r\n * - Basic information (size, industry, headquarters)\r\n * - Mission, values, and culture\r\n * - Recent news and press releases\r\n * - Key executives and leadership\r\n * - Products and services\r\n * - Competitive landscape\r\n * - Social media presence\r\n * - Research summary\r\n */\r\nexport default function CompanyResearchReport({ companyName, jobDescription = '', website = '', autoLoad = true }) {\r\n    const [research, setResearch] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [activeTab, setActiveTab] = useState('overview');\r\n\r\n    useEffect(() => {\r\n        if (companyName && autoLoad) {\r\n            fetchResearch();\r\n        }\r\n    }, [companyName, autoLoad]);\r\n\r\n    const fetchResearch = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const API_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n            const response = await axios.get(`${API_URL}/api/companies/research`, {\r\n                params: {\r\n                    company: companyName,\r\n                    jobDescription,\r\n                    website\r\n                }\r\n            });\r\n\r\n            if (response.data.success) {\r\n                setResearch(response.data.data.research);\r\n            }\r\n        } catch (err) {\r\n            console.error('Research fetch error:', err);\r\n            setError('Failed to fetch company research. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleExport = async (format) => {\r\n        try {\r\n            const API_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n            const response = await axios.get(`${API_URL}/api/companies/research/export`, {\r\n                params: {\r\n                    company: companyName,\r\n                    format,\r\n                    jobDescription,\r\n                    website\r\n                },\r\n                responseType: 'blob'\r\n            });\r\n\r\n            // Create download link\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', `${companyName.replace(/\\s+/g, '_')}_research_report.${format === 'json' ? 'json' : 'txt'}`);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            link.remove();\r\n        } catch (err) {\r\n            console.error('Export error:', err);\r\n            alert('Failed to export research report');\r\n        }\r\n    };\r\n\r\n    const getDataQualityColor = (quality) => {\r\n        if (quality >= 80) return 'text-green-600 bg-green-100';\r\n        if (quality >= 60) return 'text-yellow-600 bg-yellow-100';\r\n        return 'text-red-600 bg-red-100';\r\n    };\r\n\r\n    const tabs = [\r\n        { id: 'overview', label: 'Overview', icon: '≡ƒôè' },\r\n        { id: 'culture', label: 'Mission & Culture', icon: '≡ƒÄ»' },\r\n        { id: 'products', label: 'Products & Services', icon: '≡ƒÜÇ' },\r\n        { id: 'leadership', label: 'Leadership', icon: '≡ƒæö' },\r\n        { id: 'competitive', label: 'Competitive Landscape', icon: '≡ƒÅå' },\r\n        { id: 'social', label: 'Social Media', icon: '≡ƒô▒' }\r\n    ];\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <div className=\"flex items-center justify-center\">\r\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\r\n                    <span className=\"ml-3 text-gray-600\">Researching {companyName}...</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n                <div className=\"flex\">\r\n                    <div className=\"flex-shrink-0\">\r\n                        <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n                        </svg>\r\n                    </div>\r\n                    <div className=\"ml-3\">\r\n                        <p className=\"text-sm text-red-700\">{error}</p>\r\n                        <button\r\n                            onClick={fetchResearch}\r\n                            className=\"mt-2 text-sm font-medium text-red-600 hover:text-red-500\"\r\n                        >\r\n                            Try Again\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!research) {\r\n        return (\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <p className=\"text-gray-500 text-center\">Click \"Research Company\" to begin</p>\r\n                <div className=\"mt-4 text-center\">\r\n                    <button\r\n                        onClick={fetchResearch}\r\n                        className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\r\n                    >\r\n                        ≡ƒöì Research Company\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg shadow-md\">\r\n            {/* Header */}\r\n            <div className=\"border-b border-gray-200 p-6\">\r\n                <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-bold text-gray-900\">{research.companyName}</h2>\r\n                        <p className=\"text-sm text-gray-500 mt-1\">\r\n                            Research Date: {new Date(research.researchDate).toLocaleDateString()}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${getDataQualityColor(research.metadata.dataQuality)}`}>\r\n                            {research.metadata.dataQuality}% Data Quality\r\n                        </span>\r\n                        <button\r\n                            onClick={fetchResearch}\r\n                            className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\"\r\n                            title=\"Refresh Research\"\r\n                        >\r\n                            Γå╗\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Summary Banner */}\r\n                <div className=\"mt-4 bg-blue-50 border-l-4 border-blue-400 p-4 rounded\">\r\n                    <p className=\"text-sm text-gray-700\">{research.summary}</p>\r\n                </div>\r\n\r\n                {/* Export Buttons */}\r\n                <div className=\"mt-4 flex space-x-2\">\r\n                    <button\r\n                        onClick={() => handleExport('text')}\r\n                        className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 text-sm\"\r\n                    >\r\n                        ≡ƒôä Export as Text\r\n                    </button>\r\n                    <button\r\n                        onClick={() => handleExport('json')}\r\n                        className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm\"\r\n                    >\r\n                        ≡ƒôï Export as JSON\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tabs */}\r\n            <div className=\"border-b border-gray-200\">\r\n                <nav className=\"flex space-x-4 px-6\" aria-label=\"Tabs\">\r\n                    {tabs.map(tab => (\r\n                        <button\r\n                            key={tab.id}\r\n                            onClick={() => setActiveTab(tab.id)}\r\n                            className={`py-4 px-1 border-b-2 font-medium text-sm ${activeTab === tab.id\r\n                                    ? 'border-blue-500 text-blue-600'\r\n                                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                                }`}\r\n                        >\r\n                            {tab.icon} {tab.label}\r\n                        </button>\r\n                    ))}\r\n                </nav>\r\n            </div>\r\n\r\n            {/* Tab Content */}\r\n            <div className=\"p-6\">\r\n                {/* Overview Tab - Enhanced */}\r\n                {activeTab === 'overview' && (\r\n                    <div className=\"space-y-6\">\r\n                        {/* Company Description */}\r\n                        {research.basicInfo.description && (\r\n                            <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 p-5 rounded-lg border-l-4 border-blue-500\">\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">≡ƒôû About {research.companyName}</h3>\r\n                                <p className=\"text-gray-700 leading-relaxed\">{research.basicInfo.description}</p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Company Details Grid */}\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Company Details</h3>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                                <InfoCard label=\"Industry\" value={research.basicInfo.industry} icon=\"≡ƒÅó\" />\r\n                                <InfoCard label=\"Company Size\" value={research.basicInfo.size} icon=\"≡ƒæÑ\" />\r\n                                <InfoCard label=\"Headquarters\" value={research.basicInfo.headquarters} icon=\"≡ƒôì\" />\r\n                                {research.basicInfo.founded && (\r\n                                    <InfoCard label=\"Founded\" value={research.basicInfo.founded} icon=\"≡ƒôà\" />\r\n                                )}\r\n                                <InfoCard label=\"Type\" value={research.basicInfo.companyType} icon=\"≡ƒÅ¢∩╕Å\" />\r\n                                {research.basicInfo.stockTicker && (\r\n                                    <InfoCard label=\"Stock\" value={research.basicInfo.stockTicker} icon=\"≡ƒôê\" />\r\n                                )}\r\n                                {research.basicInfo.revenue && (\r\n                                    <InfoCard label=\"Revenue\" value={research.basicInfo.revenue} icon=\"≡ƒÆ░\" />\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Website and Contact */}\r\n                        {research.basicInfo.website && (\r\n                            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                                <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">≡ƒîÉ Website</h3>\r\n                                <a\r\n                                    href={research.basicInfo.website}\r\n                                    target=\"_blank\"\r\n                                    rel=\"noopener noreferrer\"\r\n                                    className=\"text-blue-600 hover:underline text-lg font-medium\"\r\n                                >\r\n                                    {research.basicInfo.website}\r\n                                </a>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Research Summary */}\r\n                        {research.summary && (\r\n                            <div className=\"bg-green-50 p-5 rounded-lg border-l-4 border-green-500\">\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒô¥ Research Summary</h3>\r\n                                <p className=\"text-gray-700 leading-relaxed whitespace-pre-line\">{research.summary}</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Mission & Culture Tab */}\r\n                {activeTab === 'culture' && (\r\n                    <div className=\"space-y-6\">\r\n                        {research.missionAndCulture.mission && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒÄ» Mission Statement</h3>\r\n                                <p className=\"text-gray-700 bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400\">\r\n                                    {research.missionAndCulture.mission}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.missionAndCulture.values.length > 0 && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒÆÄ Core Values</h3>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                                    {research.missionAndCulture.values.map((value, index) => (\r\n                                        <div key={index} className=\"bg-green-50 p-3 rounded-lg border-l-4 border-green-400\">\r\n                                            <p className=\"text-gray-700\">ΓÇó {value}</p>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.missionAndCulture.culture && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒîƒ Company Culture</h3>\r\n                                <p className=\"text-gray-700 bg-purple-50 p-4 rounded-lg border-l-4 border-purple-400\">\r\n                                    {research.missionAndCulture.culture}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.missionAndCulture.workEnvironment && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒÆ╝ Work Environment</h3>\r\n                                <p className=\"text-gray-700 bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400\">\r\n                                    {research.missionAndCulture.workEnvironment}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Products & Services Tab */}\r\n                {activeTab === 'products' && (\r\n                    <div className=\"space-y-6\">\r\n                        {research.productsAndServices.mainProducts.length > 0 && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒÜÇ Main Products</h3>\r\n                                <ul className=\"space-y-2\">\r\n                                    {research.productsAndServices.mainProducts.map((product, index) => (\r\n                                        <li key={index} className=\"flex items-start\">\r\n                                            <span className=\"text-blue-500 mr-2\">ΓÇó</span>\r\n                                            <span className=\"text-gray-700\">{product}</span>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.productsAndServices.services.length > 0 && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒ¢á∩╕Å Services</h3>\r\n                                <ul className=\"space-y-2\">\r\n                                    {research.productsAndServices.services.map((service, index) => (\r\n                                        <li key={index} className=\"flex items-start\">\r\n                                            <span className=\"text-green-500 mr-2\">ΓÇó</span>\r\n                                            <span className=\"text-gray-700\">{service}</span>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.productsAndServices.technologies.length > 0 && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">ΓÜÖ∩╕Å Technologies</h3>\r\n                                <div className=\"flex flex-wrap gap-2\">\r\n                                    {research.productsAndServices.technologies.map((tech, index) => (\r\n                                        <span\r\n                                            key={index}\r\n                                            className=\"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm\"\r\n                                        >\r\n                                            {tech}\r\n                                        </span>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.productsAndServices.innovations.length > 0 && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒÆí Recent Innovations</h3>\r\n                                <ul className=\"space-y-2\">\r\n                                    {research.productsAndServices.innovations.map((innovation, index) => (\r\n                                        <li key={index} className=\"flex items-start\">\r\n                                            <span className=\"text-yellow-500 mr-2\">Γ£¿</span>\r\n                                            <span className=\"text-gray-700\">{innovation}</span>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Leadership Tab */}\r\n                {activeTab === 'leadership' && (\r\n                    <div className=\"space-y-6\">\r\n                        {research.leadership.executives.length > 0 && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒæö Key Executives</h3>\r\n                                <div className=\"space-y-4\">\r\n                                    {research.leadership.executives.map((exec, index) => (\r\n                                        <div key={index} className=\"bg-gray-50 p-4 rounded-lg border-l-4 border-blue-500\">\r\n                                            <p className=\"font-semibold text-gray-900\">{exec.name}</p>\r\n                                            <p className=\"text-sm text-blue-600\">{exec.title}</p>\r\n                                            {exec.background && (\r\n                                                <p className=\"text-sm text-gray-600 mt-2\">{exec.background}</p>\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.leadership.keyLeaders.length > 0 && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒîƒ Other Key Leaders</h3>\r\n                                <ul className=\"space-y-2\">\r\n                                    {research.leadership.keyLeaders.map((leader, index) => (\r\n                                        <li key={index} className=\"flex items-start\">\r\n                                            <span className=\"text-blue-500 mr-2\">ΓÇó</span>\r\n                                            <span className=\"text-gray-700\">{leader}</span>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.leadership.leadershipInfo && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒôû Leadership Philosophy</h3>\r\n                                <p className=\"text-gray-700 bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400\">\r\n                                    {research.leadership.leadershipInfo}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.leadership.executives.length === 0 && research.leadership.keyLeaders.length === 0 && (\r\n                            <p className=\"text-gray-500 text-center py-8\">\r\n                                Leadership information not available\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Competitive Landscape Tab */}\r\n                {activeTab === 'competitive' && (\r\n                    <div className=\"space-y-6\">\r\n                        {research.competitive.mainCompetitors.length > 0 && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒÅå Main Competitors</h3>\r\n                                <div className=\"flex flex-wrap gap-2\">\r\n                                    {research.competitive.mainCompetitors.map((competitor, index) => (\r\n                                        <span\r\n                                            key={index}\r\n                                            className=\"px-4 py-2 bg-red-100 text-red-700 rounded-lg text-sm font-medium\"\r\n                                        >\r\n                                            {competitor}\r\n                                        </span>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.competitive.marketPosition && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒôè Market Position</h3>\r\n                                <p className=\"text-gray-700 bg-green-50 p-4 rounded-lg border-l-4 border-green-400\">\r\n                                    {research.competitive.marketPosition}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.competitive.uniqueValue && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Γ£¿ Unique Value Proposition</h3>\r\n                                <p className=\"text-gray-700 bg-purple-50 p-4 rounded-lg border-l-4 border-purple-400\">\r\n                                    {research.competitive.uniqueValue}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.competitive.industryTrends.length > 0 && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒôê Industry Trends</h3>\r\n                                <ul className=\"space-y-2\">\r\n                                    {research.competitive.industryTrends.map((trend, index) => (\r\n                                        <li key={index} className=\"flex items-start\">\r\n                                            <span className=\"text-blue-500 mr-2\">≡ƒôî</span>\r\n                                            <span className=\"text-gray-700\">{trend}</span>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Social Media Tab */}\r\n                {activeTab === 'social' && (\r\n                    <div className=\"space-y-6\">\r\n                        {research.socialMedia.platforms && Object.keys(research.socialMedia.platforms).length > 0 && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒô▒ Social Media Profiles</h3>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                    {Object.entries(research.socialMedia.platforms).map(([platform, url]) => (\r\n                                        <a\r\n                                            key={platform}\r\n                                            href={url}\r\n                                            target=\"_blank\"\r\n                                            rel=\"noopener noreferrer\"\r\n                                            className=\"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\r\n                                        >\r\n                                            <span className=\"text-2xl mr-3\">{getPlatformIcon(platform)}</span>\r\n                                            <div>\r\n                                                <p className=\"font-medium text-gray-900 capitalize\">{platform}</p>\r\n                                                <p className=\"text-sm text-blue-600 hover:underline truncate\">{url}</p>\r\n                                            </div>\r\n                                        </a>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {research.socialMedia.engagement && (\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">≡ƒÆ¼ Engagement Tip</h3>\r\n                                <p className=\"text-gray-700 bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400\">\r\n                                    {research.socialMedia.engagement}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Helper Components\r\nfunction InfoCard({ label, value, icon }) {\r\n    return (\r\n        <div className=\"bg-gray-50 p-4 rounded-lg border-l-4 border-blue-500\">\r\n            <p className=\"text-sm text-gray-600 mb-1\">{icon} {label}</p>\r\n            <p className=\"text-lg font-semibold text-gray-900\">{value}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction getPlatformIcon(platform) {\r\n    const icons = {\r\n        linkedin: '≡ƒÆ╝',\r\n        twitter: '≡ƒÉª',\r\n        facebook: '≡ƒæÑ',\r\n        instagram: '≡ƒô╖',\r\n        youtube: '≡ƒô║',\r\n        github: '≡ƒÆ╗'\r\n    };\r\n    return icons[platform.toLowerCase()] || '≡ƒöù';\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\Container.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'Component' is assigned a value but never used.","line":21,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":21,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"Component"},"fix":{"range":[728,754],"text":""},"desc":"Remove unused variable 'Component'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// frontend/src/components/Container.jsx\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n/**\r\n * Container Component - Provides consistent page section layout and max-width constraints\r\n * \r\n * @param {number} level - Container hierarchy level (1 = widest, 2 = narrower)\r\n * @param {boolean} padded - Add visual padding/background styling\r\n * @param {boolean} panel - Apply panel styling (background + shadow)\r\n * @param {ReactNode} children - Container content\r\n * @param {string} className - Additional CSS classes\r\n * @param {string} as - HTML element to render as (default: 'div')\r\n */\r\nexport default function Container({\r\n  level = 1,\r\n  padded = false,\r\n  panel = false,\r\n  children,\r\n  className = \"\",\r\n  as: Component = \"div\",\r\n  ...props\r\n}) {\r\n  // Determine base container class\r\n  const levelClasses = {\r\n    1: \"container-level-1\",\r\n    2: \"container-level-2\",\r\n  };\r\n\r\n  const baseClass = levelClasses[level] || levelClasses[1];\r\n  const paddedClass = padded ? \"container--padded\" : \"\";\r\n  const panelClass = panel ? \"container-panel\" : \"\";\r\n  \r\n  const finalClassName = `${baseClass} ${paddedClass} ${panelClass} ${className}`.trim();\r\n\r\n  return (\r\n    <Component className={finalClassName} {...props}>\r\n      {children}\r\n    </Component>\r\n  );\r\n}\r\n\r\nContainer.propTypes = {\r\n  level: PropTypes.oneOf([1, 2]),\r\n  padded: PropTypes.bool,\r\n  panel: PropTypes.bool,\r\n  children: PropTypes.node.isRequired,\r\n  className: PropTypes.string,\r\n  as: PropTypes.elementType,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\CoverLetterEditor.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useCallback' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":1,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":49,"suggestions":[{"messageId":"removeVar","data":{"varName":"useCallback"},"fix":{"range":[35,48],"text":""},"desc":"Remove unused variable 'useCallback'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":575,"column":21,"nodeType":"JSXOpeningElement","endLine":576,"endColumn":62},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":575,"column":21,"nodeType":"JSXOpeningElement","endLine":576,"endColumn":62}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { useEditor, EditorContent } from '@tiptap/react';\r\nimport StarterKit from '@tiptap/starter-kit';\r\nimport Placeholder from '@tiptap/extension-placeholder';\r\nimport axios from '../api/axios';\r\n\r\n/**\r\n * UC-060: Rich text editor for cover letter editing with AI-powered assistance\r\n * Features:\r\n * - Rich text formatting (bold, italic, lists)\r\n * - Real-time word/character count\r\n * - Spell check and grammar assistance\r\n * - Synonym suggestions\r\n * - Readability score\r\n * - Sentence restructuring\r\n * - Version history\r\n * - Auto-save functionality\r\n */\r\nconst CoverLetterEditor = ({ \r\n  initialContent, \r\n  onChange, \r\n  coverLetterId,\r\n  onSave \r\n}) => {\r\n  // Editor state\r\n  const [content, setContent] = useState(initialContent || '');\r\n  const [wordCount, setWordCount] = useState(0);\r\n  const [charCount, setCharCount] = useState(0);\r\n  const [selectedText, setSelectedText] = useState('');\r\n  \r\n  // AI assistance state\r\n  const [spellingIssues, setSpellingIssues] = useState([]);\r\n  const [readabilityScore, setReadabilityScore] = useState(null);\r\n  const [synonymSuggestions, setSynonymSuggestions] = useState(null);\r\n  const [restructuringSuggestions, setRestructuringSuggestions] = useState(null);\r\n  \r\n  // UI state\r\n  const [showSpellCheck, setShowSpellCheck] = useState(false);\r\n  const [showReadability, setShowReadability] = useState(false);\r\n  const [showSynonyms, setShowSynonyms] = useState(false);\r\n  const [showRestructure, setShowRestructure] = useState(false);\r\n  const [showHistory, setShowHistory] = useState(false);\r\n  const [editHistory, setEditHistory] = useState([]);\r\n  \r\n  // Loading states\r\n  const [isCheckingSpelling, setIsCheckingSpelling] = useState(false);\r\n  const [isAnalyzingReadability, setIsAnalyzingReadability] = useState(false);\r\n  const [isFetchingSynonyms, setIsFetchingSynonyms] = useState(false);\r\n  const [isFetchingRestructure, setIsFetchingRestructure] = useState(false);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  \r\n  // Auto-save\r\n  const autoSaveTimerRef = useRef(null);\r\n  const [lastSaved, setLastSaved] = useState(null);\r\n\r\n  // Initialize TipTap editor\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit,\r\n      Placeholder.configure({\r\n        placeholder: 'Start editing your cover letter...',\r\n      }),\r\n    ],\r\n    content: initialContent,\r\n    onCreate: ({ editor }) => {\r\n      // Initialize word and character count when editor is created\r\n      const text = editor.getText();\r\n      setCharCount(text.length);\r\n      setWordCount(text.trim().split(/\\s+/).filter(Boolean).length);\r\n    },\r\n    onUpdate: ({ editor }) => {\r\n      const html = editor.getHTML();\r\n      const text = editor.getText();\r\n      \r\n      setContent(html);\r\n      setCharCount(text.length);\r\n      setWordCount(text.trim().split(/\\s+/).filter(Boolean).length);\r\n      \r\n      if (onChange) {\r\n        onChange(html);\r\n      }\r\n      \r\n      // Trigger auto-save\r\n      if (autoSaveTimerRef.current) {\r\n        clearTimeout(autoSaveTimerRef.current);\r\n      }\r\n      autoSaveTimerRef.current = setTimeout(() => {\r\n        handleAutoSave(html);\r\n      }, 3000); // Auto-save after 3 seconds of inactivity\r\n    },\r\n  });\r\n\r\n  // Get selected text\r\n  useEffect(() => {\r\n    if (editor) {\r\n      editor.on('selectionUpdate', () => {\r\n        const { from, to } = editor.state.selection;\r\n        const text = editor.state.doc.textBetween(from, to, ' ');\r\n        setSelectedText(text);\r\n      });\r\n    }\r\n  }, [editor]);\r\n\r\n  // Cleanup\r\n  useEffect(() => {\r\n    return () => {\r\n      if (autoSaveTimerRef.current) {\r\n        clearTimeout(autoSaveTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Auto-save function\r\n  const handleAutoSave = async (contentToSave) => {\r\n    if (!coverLetterId || !contentToSave.trim()) return;\r\n    \r\n    try {\r\n      await axios.post(`/api/cover-letters/${coverLetterId}/versions`, {\r\n        content: contentToSave,\r\n        note: 'Auto-save'\r\n      });\r\n      setLastSaved(new Date());\r\n    } catch (error) {\r\n      console.error('Auto-save failed:', error);\r\n    }\r\n  };\r\n\r\n  // Manual save\r\n  const handleManualSave = async () => {\r\n    if (!coverLetterId || !content.trim()) return;\r\n    \r\n    setIsSaving(true);\r\n    try {\r\n      await axios.post(`/api/cover-letters/${coverLetterId}/versions`, {\r\n        content,\r\n        note: 'Manual save'\r\n      });\r\n      setLastSaved(new Date());\r\n      if (onSave) {\r\n        onSave(content);\r\n      }\r\n    } catch (error) {\r\n      console.error('Save failed:', error);\r\n      alert('Failed to save. Please try again.');\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  // Spell and grammar check\r\n  const checkSpelling = async () => {\r\n    const text = editor.getText();\r\n    if (!text.trim()) return;\r\n    \r\n    setIsCheckingSpelling(true);\r\n    try {\r\n      const response = await axios.post('/api/cover-letters/editing/spell-check', { text });\r\n      setSpellingIssues(response.data.data.analysis.issues || []);\r\n      setShowSpellCheck(true);\r\n    } catch (error) {\r\n      console.error('Spell check failed:', error);\r\n      alert('Failed to check spelling. Please try again.');\r\n    } finally {\r\n      setIsCheckingSpelling(false);\r\n    }\r\n  };\r\n\r\n  // Readability analysis\r\n  const analyzeReadability = async () => {\r\n    const text = editor.getText();\r\n    if (!text.trim()) return;\r\n    \r\n    setIsAnalyzingReadability(true);\r\n    try {\r\n      const response = await axios.post('/api/cover-letters/editing/readability', { text });\r\n      setReadabilityScore(response.data.data.analysis);\r\n      setShowReadability(true);\r\n    } catch (error) {\r\n      console.error('Readability analysis failed:', error);\r\n      alert('Failed to analyze readability. Please try again.');\r\n    } finally {\r\n      setIsAnalyzingReadability(false);\r\n    }\r\n  };\r\n\r\n  // Get synonyms for selected text\r\n  const getSynonyms = async () => {\r\n    if (!selectedText.trim()) {\r\n      alert('Please select a word or phrase to get synonym suggestions.');\r\n      return;\r\n    }\r\n    \r\n    setIsFetchingSynonyms(true);\r\n    try {\r\n      const response = await axios.post('/api/cover-letters/editing/synonyms', { \r\n        word: selectedText,\r\n        context: editor.getText()\r\n      });\r\n      setSynonymSuggestions(response.data.data.suggestions);\r\n      setShowSynonyms(true);\r\n    } catch (error) {\r\n      console.error('Synonym fetch failed:', error);\r\n      alert('Failed to get synonyms. Please try again.');\r\n    } finally {\r\n      setIsFetchingSynonyms(false);\r\n    }\r\n  };\r\n\r\n  // Get restructuring suggestions\r\n  const getRestructuringSuggestions = async () => {\r\n    if (!selectedText.trim()) {\r\n      alert('Please select a sentence or paragraph to get restructuring suggestions.');\r\n      return;\r\n    }\r\n    \r\n    setIsFetchingRestructure(true);\r\n    try {\r\n      const response = await axios.post('/api/cover-letters/editing/restructure', { \r\n        text: selectedText,\r\n        type: selectedText.split('.').length > 1 ? 'paragraph' : 'sentence'\r\n      });\r\n      setRestructuringSuggestions(response.data.data.suggestions);\r\n      setShowRestructure(true);\r\n    } catch (error) {\r\n      console.error('Restructuring fetch failed:', error);\r\n      alert('Failed to get restructuring suggestions. Please try again.');\r\n    } finally {\r\n      setIsFetchingRestructure(false);\r\n    }\r\n  };\r\n\r\n  // Load edit history\r\n  const loadHistory = async () => {\r\n    if (!coverLetterId) return;\r\n    \r\n    try {\r\n      const response = await axios.get(`/api/cover-letters/${coverLetterId}/history`);\r\n      setEditHistory(response.data.data.history || []);\r\n      setShowHistory(true);\r\n    } catch (error) {\r\n      console.error('Failed to load history:', error);\r\n      alert('Failed to load edit history. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Apply spelling correction\r\n  const applyCorrection = (issue) => {\r\n    if (!editor || !issue.suggestion) return;\r\n    \r\n    // Get the current HTML content to preserve formatting\r\n    const currentHtml = editor.getHTML();\r\n    \r\n    // Replace the text in HTML, being careful to preserve tags\r\n    // Use a regex to find the text outside of HTML tags\r\n    const escapedText = issue.text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n    const regex = new RegExp(`(>[^<]*)(${escapedText})([^>]*<)`, 'gi');\r\n    \r\n    let newHtml = currentHtml;\r\n    let replaced = false;\r\n    \r\n    // Try to replace within text nodes (between tags)\r\n    newHtml = currentHtml.replace(regex, (match, before, text, after) => {\r\n      replaced = true;\r\n      return before + issue.suggestion + after;\r\n    });\r\n    \r\n    // If no match found in tags, try replacing in plain text nodes\r\n    if (!replaced) {\r\n      const textRegex = new RegExp(`\\\\b${escapedText}\\\\b`, 'gi');\r\n      newHtml = currentHtml.replace(textRegex, issue.suggestion);\r\n    }\r\n    \r\n    editor.commands.setContent(newHtml);\r\n    \r\n    // Remove the fixed issue from the list\r\n    setSpellingIssues(prevIssues => \r\n      prevIssues.filter(i => i.text !== issue.text || i.suggestion !== issue.suggestion)\r\n    );\r\n  };\r\n\r\n  // Replace selected text with synonym\r\n  const replaceSynonym = (synonym) => {\r\n    if (!editor || !selectedText) return;\r\n    \r\n    // Preserve the capitalization of the original word\r\n    let replacementWord = synonym.word;\r\n    \r\n    // Check if the first character of selected text is uppercase\r\n    if (selectedText.length > 0 && selectedText[0] === selectedText[0].toUpperCase()) {\r\n      // Capitalize the synonym\r\n      replacementWord = synonym.word.charAt(0).toUpperCase() + synonym.word.slice(1);\r\n    } else if (selectedText.length > 0 && selectedText[0] === selectedText[0].toLowerCase()) {\r\n      // Lowercase the synonym\r\n      replacementWord = synonym.word.charAt(0).toLowerCase() + synonym.word.slice(1);\r\n    }\r\n    \r\n    editor.chain().focus().deleteSelection().insertContent(replacementWord).run();\r\n    setShowSynonyms(false);\r\n    setSynonymSuggestions(null);\r\n  };\r\n\r\n  // Apply restructuring suggestion\r\n  const applyRestructuring = (variation) => {\r\n    if (!editor || !selectedText) return;\r\n    \r\n    editor.chain().focus().deleteSelection().insertContent(variation.text).run();\r\n    setShowRestructure(false);\r\n    setRestructuringSuggestions(null);\r\n  };\r\n\r\n  // Restore version from history\r\n  const restoreVersion = (version) => {\r\n    if (!editor) return;\r\n    \r\n    const confirmed = window.confirm('Are you sure you want to restore this version? Your current changes will be saved as a new version.');\r\n    if (confirmed) {\r\n      editor.commands.setContent(version.content);\r\n      setShowHistory(false);\r\n    }\r\n  };\r\n\r\n  if (!editor) {\r\n    return <div>Loading editor...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"cover-letter-editor\">\r\n      {/* Toolbar */}\r\n      <div className=\"border-b border-gray-300 p-3 bg-gray-50 rounded-t-lg flex flex-wrap items-center gap-2\">\r\n        {/* Formatting buttons */}\r\n        <div className=\"flex items-center gap-1 border-r border-gray-300 pr-2\">\r\n          <button\r\n            onClick={() => editor.chain().focus().toggleBold().run()}\r\n            className={`px-3 py-1 rounded ${editor.isActive('bold') ? 'bg-gray-300' : 'hover:bg-gray-200'}`}\r\n            title=\"Bold (Ctrl+B)\"\r\n          >\r\n            <strong>B</strong>\r\n          </button>\r\n          <button\r\n            onClick={() => editor.chain().focus().toggleItalic().run()}\r\n            className={`px-3 py-1 rounded ${editor.isActive('italic') ? 'bg-gray-300' : 'hover:bg-gray-200'}`}\r\n            title=\"Italic (Ctrl+I)\"\r\n          >\r\n            <em>I</em>\r\n          </button>\r\n          <button\r\n            onClick={() => editor.chain().focus().toggleBulletList().run()}\r\n            className={`px-3 py-1 rounded ${editor.isActive('bulletList') ? 'bg-gray-300' : 'hover:bg-gray-200'}`}\r\n            title=\"Bullet List\"\r\n          >\r\n            ΓÇó List\r\n          </button>\r\n        </div>\r\n\r\n        {/* AI Assistance buttons */}\r\n        <div className=\"flex items-center gap-1 border-r border-gray-300 pr-2\">\r\n          <button\r\n            onClick={checkSpelling}\r\n            disabled={isCheckingSpelling}\r\n            className=\"px-3 py-1 rounded bg-blue-100 hover:bg-blue-200 text-sm disabled:opacity-50\"\r\n            title=\"Check Spelling & Grammar\"\r\n          >\r\n            {isCheckingSpelling ? '...' : 'Γ£ô Spell Check'}\r\n          </button>\r\n          <button\r\n            onClick={analyzeReadability}\r\n            disabled={isAnalyzingReadability}\r\n            className=\"px-3 py-1 rounded bg-green-100 hover:bg-green-200 text-sm disabled:opacity-50\"\r\n            title=\"Analyze Readability\"\r\n          >\r\n            {isAnalyzingReadability ? '...' : '≡ƒôè Readability'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Selection-based tools */}\r\n        <div className=\"flex items-center gap-1 border-r border-gray-300 pr-2\">\r\n          <button\r\n            onClick={getSynonyms}\r\n            disabled={!selectedText || isFetchingSynonyms}\r\n            className=\"px-3 py-1 rounded bg-purple-100 hover:bg-purple-200 text-sm disabled:opacity-50\"\r\n            title=\"Get Synonyms for Selected Text\"\r\n          >\r\n            {isFetchingSynonyms ? '...' : '≡ƒôû Synonyms'}\r\n          </button>\r\n          <button\r\n            onClick={getRestructuringSuggestions}\r\n            disabled={!selectedText || isFetchingRestructure}\r\n            className=\"px-3 py-1 rounded bg-yellow-100 hover:bg-yellow-200 text-sm disabled:opacity-50\"\r\n            title=\"Restructure Selected Text\"\r\n          >\r\n            {isFetchingRestructure ? '...' : '≡ƒöä Restructure'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* History and save */}\r\n        <div className=\"flex items-center gap-1\">\r\n          <button\r\n            onClick={loadHistory}\r\n            className=\"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 text-sm\"\r\n            title=\"View Edit History\"\r\n          >\r\n            ≡ƒòÆ History\r\n          </button>\r\n          <button\r\n            onClick={handleManualSave}\r\n            disabled={isSaving}\r\n            className=\"px-3 py-1 rounded text-white text-sm disabled:opacity-50\"\r\n            style={{ backgroundColor: '#777C6D' }}\r\n            title=\"Save Version\"\r\n          >\r\n            {isSaving ? 'Saving...' : '≡ƒÆ╛ Save'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Auto-save indicator */}\r\n        {lastSaved && (\r\n          <span className=\"text-xs text-gray-500 ml-auto\">\r\n            Last saved: {lastSaved.toLocaleTimeString()}\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Editor area with side panels */}\r\n      <div className=\"flex\">\r\n        {/* Main editor */}\r\n        <div className=\"flex-1\">\r\n          <EditorContent \r\n            editor={editor} \r\n            className=\"prose max-w-none p-4 min-h-[400px] focus:outline-none\"\r\n          />\r\n          \r\n          {/* Word/Character count */}\r\n          <div className=\"border-t border-gray-300 p-2 bg-gray-50 text-sm text-gray-600 flex justify-between\">\r\n            <span>{wordCount} words</span>\r\n            <span>{charCount} characters</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Side panels for AI assistance */}\r\n        {(showSpellCheck || showReadability || showSynonyms || showRestructure || showHistory) && (\r\n          <div className=\"w-80 border-l border-gray-300 p-4 bg-gray-50 overflow-y-auto\" style={{ maxHeight: '500px' }}>\r\n            {/* Spell Check Panel */}\r\n            {showSpellCheck && (\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                  <h3 className=\"font-bold text-lg\">Spelling & Grammar</h3>\r\n                  <button \r\n                    onClick={() => setShowSpellCheck(false)}\r\n                    className=\"text-gray-500 hover:text-gray-700\"\r\n                  >\r\n                    Γ£ò\r\n                  </button>\r\n                </div>\r\n                {spellingIssues.length === 0 ? (\r\n                  <p className=\"text-green-600\">Γ£ô No issues found!</p>\r\n                ) : (\r\n                  <div className=\"space-y-2\">\r\n                    {spellingIssues.map((issue, index) => (\r\n                      <div key={index} className=\"p-2 bg-white rounded border border-gray-200\">\r\n                        <div className=\"flex justify-between items-start\">\r\n                          <div className=\"flex-1\">\r\n                            <span className={`inline-block px-2 py-1 rounded text-xs mb-1 ${\r\n                              issue.severity === 'critical' ? 'bg-red-100 text-red-800' :\r\n                              issue.severity === 'moderate' ? 'bg-yellow-100 text-yellow-800' :\r\n                              'bg-blue-100 text-blue-800'\r\n                            }`}>\r\n                              {issue.type}\r\n                            </span>\r\n                            <p className=\"text-sm line-through\">{issue.text}</p>\r\n                            <p className=\"text-sm text-green-600\">ΓåÆ {issue.suggestion}</p>\r\n                            <p className=\"text-xs text-gray-500 mt-1\">{issue.explanation}</p>\r\n                          </div>\r\n                          <button\r\n                            onClick={() => applyCorrection(issue)}\r\n                            className=\"ml-2 px-2 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600\"\r\n                          >\r\n                            Fix\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Readability Panel */}\r\n            {showReadability && readabilityScore && (\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                  <h3 className=\"font-bold text-lg\">Readability Score</h3>\r\n                  <button \r\n                    onClick={() => setShowReadability(false)}\r\n                    className=\"text-gray-500 hover:text-gray-700\"\r\n                  >\r\n                    Γ£ò\r\n                  </button>\r\n                </div>\r\n                <div className=\"p-3 bg-white rounded border border-gray-200\">\r\n                  <div className=\"text-center mb-3\">\r\n                    <div className={`text-4xl font-bold ${\r\n                      readabilityScore.readabilityScore >= 80 ? 'text-green-600' :\r\n                      readabilityScore.readabilityScore >= 60 ? 'text-yellow-600' :\r\n                      'text-red-600'\r\n                    }`}>\r\n                      {readabilityScore.readabilityScore}/100\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600\">Overall Score</p>\r\n                  </div>\r\n                  \r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <div className=\"flex justify-between\">\r\n                      <span>Avg. Sentence Length:</span>\r\n                      <span className=\"font-medium\">{readabilityScore.metrics.averageSentenceLength} words</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span>Vocabulary:</span>\r\n                      <span className=\"font-medium capitalize\">{readabilityScore.metrics.vocabularyLevel}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span>Tone:</span>\r\n                      <span className=\"font-medium capitalize\">{readabilityScore.metrics.toneConsistency}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {readabilityScore.strengths && readabilityScore.strengths.length > 0 && (\r\n                    <div className=\"mt-3\">\r\n                      <p className=\"font-semibold text-green-700 mb-1\">Strengths:</p>\r\n                      <ul className=\"text-sm space-y-1\">\r\n                        {readabilityScore.strengths.map((strength, i) => (\r\n                          <li key={i} className=\"text-green-600\">Γ£ô {strength}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n\r\n                  {readabilityScore.improvements && readabilityScore.improvements.length > 0 && (\r\n                    <div className=\"mt-3\">\r\n                      <p className=\"font-semibold text-orange-700 mb-1\">Suggestions:</p>\r\n                      <ul className=\"text-sm space-y-2\">\r\n                        {readabilityScore.improvements.map((imp, i) => (\r\n                          <li key={i} className=\"text-orange-600\">\r\n                            ΓÇó {imp.issue}\r\n                            <p className=\"text-xs text-gray-600 mt-1\">{imp.suggestion}</p>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n\r\n                  {readabilityScore.summary && (\r\n                    <div className=\"mt-3 p-2 bg-gray-100 rounded text-sm\">\r\n                      {readabilityScore.summary}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Synonyms Panel */}\r\n            {showSynonyms && synonymSuggestions && (\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                  <h3 className=\"font-bold text-lg\">Synonym Suggestions</h3>\r\n                  <button \r\n                    onClick={() => setShowSynonyms(false)}\r\n                    className=\"text-gray-500 hover:text-gray-700\"\r\n                  >\r\n                    Γ£ò\r\n                  </button>\r\n                </div>\r\n                <p className=\"text-sm text-gray-600 mb-2\">For: <strong>{synonymSuggestions.word}</strong></p>\r\n                <div className=\"space-y-2\">\r\n                  {synonymSuggestions.synonyms.map((syn, index) => (\r\n                    <div key={index} className=\"p-2 bg-white rounded border border-gray-200 hover:border-purple-300 cursor-pointer\"\r\n                         onClick={() => replaceSynonym(syn)}>\r\n                      <p className=\"font-medium text-purple-700\">{syn.word}</p>\r\n                      <p className=\"text-xs text-gray-600\">{syn.usage}</p>\r\n                      <p className=\"text-xs text-gray-500 italic mt-1\">{syn.example}</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Restructuring Panel */}\r\n            {showRestructure && restructuringSuggestions && (\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                  <h3 className=\"font-bold text-lg\">Restructuring Options</h3>\r\n                  <button \r\n                    onClick={() => setShowRestructure(false)}\r\n                    className=\"text-gray-500 hover:text-gray-700\"\r\n                  >\r\n                    Γ£ò\r\n                  </button>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  {restructuringSuggestions.variations.map((variation, index) => (\r\n                    <div key={index} className=\"p-2 bg-white rounded border border-gray-200\">\r\n                      <div className=\"flex justify-between items-start mb-1\">\r\n                        <span className=\"text-xs font-semibold text-yellow-700 uppercase\">{variation.emphasis}</span>\r\n                        <span className=\"text-xs text-gray-500\">{variation.wordCountChange}</span>\r\n                      </div>\r\n                      <p className=\"text-sm mb-2\">{variation.text}</p>\r\n                      <p className=\"text-xs text-gray-600 mb-2\">{variation.improvements}</p>\r\n                      <button\r\n                        onClick={() => applyRestructuring(variation)}\r\n                        className=\"w-full px-2 py-1 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600\"\r\n                      >\r\n                        Apply This Version\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* History Panel */}\r\n            {showHistory && (\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                  <h3 className=\"font-bold text-lg\">Edit History</h3>\r\n                  <button \r\n                    onClick={() => setShowHistory(false)}\r\n                    className=\"text-gray-500 hover:text-gray-700\"\r\n                  >\r\n                    Γ£ò\r\n                  </button>\r\n                </div>\r\n                {editHistory.length === 0 ? (\r\n                  <p className=\"text-gray-600 text-sm\">No saved versions yet</p>\r\n                ) : (\r\n                  <div className=\"space-y-2\">\r\n                    {editHistory.slice().reverse().map((version, index) => (\r\n                      <div key={index} className=\"p-2 bg-white rounded border border-gray-200\">\r\n                        <div className=\"flex justify-between items-start mb-1\">\r\n                          <span className=\"text-xs text-gray-600\">\r\n                            {new Date(version.timestamp).toLocaleString()}\r\n                          </span>\r\n                          <span className=\"text-xs font-medium text-blue-600\">{version.note}</span>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-700 line-clamp-2 mb-2\">\r\n                          {version.content.replace(/<[^>]*>/g, '').substring(0, 100)}...\r\n                        </p>\r\n                        <button\r\n                          onClick={() => restoreVersion(version)}\r\n                          className=\"w-full px-2 py-1 bg-gray-500 text-white text-xs rounded hover:bg-gray-600\"\r\n                        >\r\n                          Restore This Version\r\n                        </button>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* TipTap styles */}\r\n      <style jsx global>{`\r\n        .ProseMirror {\r\n          min-height: 400px;\r\n          outline: none;\r\n        }\r\n        \r\n        .ProseMirror p.is-editor-empty:first-child::before {\r\n          color: #adb5bd;\r\n          content: attr(data-placeholder);\r\n          float: left;\r\n          height: 0;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .ProseMirror strong {\r\n          font-weight: 700;\r\n        }\r\n\r\n        .ProseMirror em {\r\n          font-style: italic;\r\n        }\r\n\r\n        .ProseMirror ul {\r\n          padding-left: 1.5rem;\r\n          list-style-type: disc;\r\n        }\r\n\r\n        .ProseMirror li {\r\n          margin: 0.25rem 0;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CoverLetterEditor;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\CoverLetterExportModal.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'formattingStyles' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":82,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":82,"endColumn":27,"suggestions":[{"messageId":"removeVar","data":{"varName":"formattingStyles"},"fix":{"range":[2532,3020],"text":""},"desc":"Remove unused variable 'formattingStyles'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":169,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":169,"endColumn":31},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":218,"column":9,"nodeType":"JSXOpeningElement","endLine":222,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":218,"column":9,"nodeType":"JSXOpeningElement","endLine":222,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":223,"column":13,"nodeType":"JSXOpeningElement","endLine":226,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":223,"column":13,"nodeType":"JSXOpeningElement","endLine":226,"endColumn":14},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":309,"column":45,"nodeType":"JSXOpeningElement","endLine":309,"endColumn":109},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":325,"column":57,"nodeType":"JSXAttribute","endLine":328,"endColumn":59},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":329,"column":57,"nodeType":"JSXAttribute","endLine":332,"endColumn":59},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":343,"column":49,"nodeType":"JSXOpeningElement","endLine":343,"endColumn":113},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":358,"column":49,"nodeType":"JSXOpeningElement","endLine":358,"endColumn":113},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":373,"column":49,"nodeType":"JSXOpeningElement","endLine":373,"endColumn":113},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":388,"column":49,"nodeType":"JSXOpeningElement","endLine":388,"endColumn":113},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":403,"column":49,"nodeType":"JSXOpeningElement","endLine":403,"endColumn":113},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":428,"column":45,"nodeType":"JSXOpeningElement","endLine":428,"endColumn":109},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":443,"column":45,"nodeType":"JSXOpeningElement","endLine":443,"endColumn":109},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":458,"column":45,"nodeType":"JSXOpeningElement","endLine":458,"endColumn":109},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":473,"column":45,"nodeType":"JSXOpeningElement","endLine":473,"endColumn":109},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":526,"column":45,"nodeType":"JSXAttribute","endLine":526,"endColumn":115},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":527,"column":45,"nodeType":"JSXAttribute","endLine":527,"endColumn":114},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":553,"column":37,"nodeType":"JSXOpeningElement","endLine":553,"endColumn":101},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":566,"column":45,"nodeType":"JSXAttribute","endLine":566,"endColumn":115},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":567,"column":45,"nodeType":"JSXAttribute","endLine":567,"endColumn":114},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":577,"column":41,"nodeType":"JSXOpeningElement","endLine":577,"endColumn":100},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":582,"column":45,"nodeType":"JSXAttribute","endLine":582,"endColumn":115},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":583,"column":45,"nodeType":"JSXAttribute","endLine":583,"endColumn":114},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":621,"column":29,"nodeType":"JSXAttribute","endLine":621,"endColumn":99},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":622,"column":29,"nodeType":"JSXAttribute","endLine":622,"endColumn":98}],"suppressedMessages":[],"errorCount":14,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * UC-054: Cover Letter Export Modal Component\r\n * Provides comprehensive export options for cover letters in multiple formats\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { setAuthToken } from '../api/axios';\r\nimport {\r\n    exportCoverLetterAsPdf,\r\n    exportCoverLetterAsDocx,\r\n    exportCoverLetterAsHtml,\r\n    exportCoverLetterAsText,\r\n    generateEmailTemplate\r\n} from '../api/coverLetters';\r\n\r\nconst CoverLetterExportModal = ({\r\n    coverLetter,\r\n    onClose,\r\n    contactInfo = null,\r\n    linkedJob = null\r\n}) => {\r\n    const { getToken } = useAuth();\r\n    const [exportFormat, setExportFormat] = useState('pdf');\r\n    const [isExporting, setIsExporting] = useState(false);\r\n    const [exportOptions, setExportOptions] = useState({\r\n        // Letterhead options\r\n        letterhead: {\r\n            enabled: true,\r\n            alignment: 'left', // left, center, right\r\n            name: contactInfo?.name || '',\r\n            address: contactInfo?.address || '',\r\n            phone: contactInfo?.phone || '',\r\n            email: contactInfo?.email || '',\r\n            website: contactInfo?.website || ''\r\n        },\r\n        // Job details\r\n        jobDetails: {\r\n            company: linkedJob?.company || '',\r\n            jobTitle: linkedJob?.jobTitle || '',\r\n            hiringManager: linkedJob?.hiringManager || 'Hiring Manager',\r\n            companyAddress: linkedJob?.companyAddress || ''\r\n        },\r\n        // Format options\r\n        printOptimized: true,\r\n        includeHeader: true\r\n    });\r\n    const [emailTemplate, setEmailTemplate] = useState(null);\r\n    const [showEmailPreview, setShowEmailPreview] = useState(false);\r\n\r\n    const formatOptions = [\r\n        {\r\n            value: 'pdf',\r\n            label: 'PDF',\r\n            icon: '≡ƒôä',\r\n            description: 'Professional format for submissions',\r\n            recommended: true\r\n        },\r\n        {\r\n            value: 'docx',\r\n            label: 'Word Document',\r\n            icon: '≡ƒô¥',\r\n            description: 'Editable Microsoft Word format',\r\n            recommended: false\r\n        },\r\n        {\r\n            value: 'html',\r\n            label: 'HTML',\r\n            icon: '≡ƒîÉ',\r\n            description: 'Web-ready format',\r\n            recommended: false\r\n        },\r\n        {\r\n            value: 'text',\r\n            label: 'Plain Text',\r\n            icon: '≡ƒôï',\r\n            description: 'For email applications',\r\n            recommended: false\r\n        }\r\n    ];\r\n\r\n    const formattingStyles = [\r\n        { value: 'formal', label: 'Formal', description: 'Traditional business letter' },\r\n        { value: 'modern', label: 'Modern', description: 'Contemporary professional' },\r\n        { value: 'creative', label: 'Creative', description: 'Expressive and engaging' },\r\n        { value: 'technical', label: 'Technical', description: 'Technical roles focus' },\r\n        { value: 'executive', label: 'Executive', description: 'Senior leadership style' }\r\n    ];\r\n\r\n    const handleExport = async () => {\r\n        setIsExporting(true);\r\n        try {\r\n            // Get and set authentication token\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n\r\n            // Validate cover letter ID\r\n            if (!coverLetter || !coverLetter._id) {\r\n                throw new Error('Cover letter ID is missing');\r\n            }\r\n\r\n            let response;\r\n            const payload = {\r\n                letterhead: exportOptions.letterhead,\r\n                jobDetails: exportOptions.jobDetails,\r\n                printOptimized: exportOptions.printOptimized,\r\n                includeHeader: exportOptions.includeHeader\r\n            };\r\n\r\n            console.log('Exporting cover letter:', { id: coverLetter._id, format: exportFormat });\r\n\r\n            // Call appropriate export API based on format\r\n            switch (exportFormat) {\r\n                case 'pdf':\r\n                    response = await exportCoverLetterAsPdf(coverLetter._id, payload);\r\n                    break;\r\n                case 'docx':\r\n                    response = await exportCoverLetterAsDocx(coverLetter._id, payload);\r\n                    break;\r\n                case 'html':\r\n                    response = await exportCoverLetterAsHtml(coverLetter._id, payload);\r\n                    break;\r\n                case 'text':\r\n                    response = await exportCoverLetterAsText(coverLetter._id, payload);\r\n                    break;\r\n                default:\r\n                    throw new Error('Invalid export format');\r\n            }\r\n\r\n            // Create download link\r\n            const blob = new Blob([response.data], {\r\n                type: response.headers['content-type']\r\n            });\r\n            const url = window.URL.createObjectURL(blob);\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n\r\n            // Extract filename from Content-Disposition header or generate one\r\n            const contentDisposition = response.headers['content-disposition'];\r\n            let filename = `cover-letter.${exportFormat}`;\r\n            if (contentDisposition) {\r\n                const filenameMatch = contentDisposition.match(/filename=\"?([^\"]+)\"?/);\r\n                if (filenameMatch) {\r\n                    filename = filenameMatch[1];\r\n                }\r\n            }\r\n\r\n            link.setAttribute('download', filename);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            link.remove();\r\n            window.URL.revokeObjectURL(url);\r\n\r\n            // Show success message\r\n            alert(`Cover letter exported successfully as ${exportFormat.toUpperCase()}!`);\r\n        } catch (error) {\r\n            console.error('Export failed:', error);\r\n            \r\n            // Handle blob error responses - need to convert to text first\r\n            let errorMessage = error.message || 'Failed to export cover letter';\r\n            \r\n            if (error.response) {\r\n                // If response is a blob (because responseType: 'blob'), try to read it as text\r\n                if (error.response.data instanceof Blob) {\r\n                    try {\r\n                        const text = await error.response.data.text();\r\n                        const json = JSON.parse(text);\r\n                        errorMessage = json.message || errorMessage;\r\n                    } catch (e) {\r\n                        // If parsing fails, use status text or default message\r\n                        errorMessage = error.response.statusText || `Server returned ${error.response.status}`;\r\n                    }\r\n                } else if (error.response.data?.message) {\r\n                    errorMessage = error.response.data.message;\r\n                } else if (error.response.status === 404) {\r\n                    errorMessage = 'Cover letter not found or export endpoint not available';\r\n                }\r\n            }\r\n            \r\n            alert(`Failed to export cover letter: ${errorMessage}`);\r\n        } finally {\r\n            setIsExporting(false);\r\n        }\r\n    };\r\n\r\n    const handleGenerateEmailTemplate = async () => {\r\n        setIsExporting(true);\r\n        try {\r\n            // Get and set authentication token\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n\r\n            const payload = {\r\n                jobDetails: exportOptions.jobDetails\r\n            };\r\n\r\n            const response = await generateEmailTemplate(coverLetter._id, payload);\r\n            setEmailTemplate(response.data.data.emailTemplate);\r\n            setShowEmailPreview(true);\r\n        } catch (error) {\r\n            console.error('Failed to generate email template:', error);\r\n            alert(`Failed to generate email template: ${error.response?.data?.message || error.message}`);\r\n        } finally {\r\n            setIsExporting(false);\r\n        }\r\n    };\r\n\r\n    const copyToClipboard = (text) => {\r\n        navigator.clipboard.writeText(text).then(() => {\r\n            alert('Copied to clipboard!');\r\n        }).catch(err => {\r\n            console.error('Failed to copy:', err);\r\n            alert('Failed to copy to clipboard');\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={onClose}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-bold text-gray-900\">Export Cover Letter</h2>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">{coverLetter.name}</p>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                        disabled={isExporting}\r\n                    >\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"px-6 py-4 space-y-6\">\r\n                    {!showEmailPreview ? (\r\n                        <>\r\n                            {/* Format Selection */}\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Export Format</h3>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                                    {formatOptions.map((format) => (\r\n                                        <button\r\n                                            key={format.value}\r\n                                            onClick={() => setExportFormat(format.value)}\r\n                                            className={`relative p-4 border-2 rounded-lg text-left transition-all ${exportFormat === format.value\r\n                                                    ? 'border-blue-500 bg-blue-50'\r\n                                                    : 'border-gray-200 hover:border-gray-300'\r\n                                                }`}\r\n                                        >\r\n                                            <div className=\"flex items-start justify-between\">\r\n                                                <div className=\"flex items-center space-x-3\">\r\n                                                    <span className=\"text-2xl\">{format.icon}</span>\r\n                                                    <div>\r\n                                                        <div className=\"font-semibold text-gray-900\">{format.label}</div>\r\n                                                        <div className=\"text-sm text-gray-600\">{format.description}</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                {format.recommended && (\r\n                                                    <span className=\"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded\">\r\n                                                        Recommended\r\n                                                    </span>\r\n                                                )}\r\n                                            </div>\r\n                                            {exportFormat === format.value && (\r\n                                                <div className=\"absolute top-2 right-2\">\r\n                                                    <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                                                    </svg>\r\n                                                </div>\r\n                                            )}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Letterhead Options */}\r\n                            <div>\r\n                                <div className=\"flex items-center justify-between mb-3\">\r\n                                    <h3 className=\"text-lg font-semibold text-gray-900\">Letterhead Options</h3>\r\n                                    <label className=\"flex items-center space-x-2\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={exportOptions.letterhead.enabled}\r\n                                            onChange={(e) => setExportOptions({\r\n                                                ...exportOptions,\r\n                                                letterhead: { ...exportOptions.letterhead, enabled: e.target.checked }\r\n                                            })}\r\n                                            className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n                                        />\r\n                                        <span className=\"text-sm text-gray-700\">Include Letterhead</span>\r\n                                    </label>\r\n                                </div>\r\n\r\n                                {exportOptions.letterhead.enabled && (\r\n                                    <div className=\"space-y-4 bg-gray-50 p-4 rounded-lg\">\r\n                                        {/* Alignment */}\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                                Alignment\r\n                                            </label>\r\n                                            <div className=\"flex space-x-2\">\r\n                                                {['left', 'center', 'right'].map((align) => (\r\n                                                    <button\r\n                                                        key={align}\r\n                                                        onClick={() => setExportOptions({\r\n                                                            ...exportOptions,\r\n                                                            letterhead: { ...exportOptions.letterhead, alignment: align }\r\n                                                        })}\r\n                                                        className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${exportOptions.letterhead.alignment === align\r\n                                                                ? ''\r\n                                                                : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\r\n                                                            }`}\r\n                                                        style={exportOptions.letterhead.alignment === align ? { backgroundColor: '#777C6D', color: '#FFFFFF' } : undefined}\r\n                                                        onMouseOver={(e) => {\r\n                                                            if (exportOptions.letterhead.alignment === align) return;\r\n                                                            e.currentTarget.style.backgroundColor = '#F8F9F7';\r\n                                                        }}\r\n                                                        onMouseOut={(e) => {\r\n                                                            if (exportOptions.letterhead.alignment === align) return;\r\n                                                            e.currentTarget.style.backgroundColor = 'transparent';\r\n                                                        }}\r\n                                                    >\r\n                                                        {align.charAt(0).toUpperCase() + align.slice(1)}\r\n                                                    </button>\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* Contact Fields */}\r\n                                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                            <div>\r\n                                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                                    Name\r\n                                                </label>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={exportOptions.letterhead.name}\r\n                                                    onChange={(e) => setExportOptions({\r\n                                                        ...exportOptions,\r\n                                                        letterhead: { ...exportOptions.letterhead, name: e.target.value }\r\n                                                    })}\r\n                                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                                                    placeholder=\"Your Name\"\r\n                                                />\r\n                                            </div>\r\n                                            <div>\r\n                                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                                    Email\r\n                                                </label>\r\n                                                <input\r\n                                                    type=\"email\"\r\n                                                    value={exportOptions.letterhead.email}\r\n                                                    onChange={(e) => setExportOptions({\r\n                                                        ...exportOptions,\r\n                                                        letterhead: { ...exportOptions.letterhead, email: e.target.value }\r\n                                                    })}\r\n                                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                                                    placeholder=\"email@example.com\"\r\n                                                />\r\n                                            </div>\r\n                                            <div>\r\n                                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                                    Phone\r\n                                                </label>\r\n                                                <input\r\n                                                    type=\"tel\"\r\n                                                    value={exportOptions.letterhead.phone}\r\n                                                    onChange={(e) => setExportOptions({\r\n                                                        ...exportOptions,\r\n                                                        letterhead: { ...exportOptions.letterhead, phone: e.target.value }\r\n                                                    })}\r\n                                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                                                    placeholder=\"(123) 456-7890\"\r\n                                                />\r\n                                            </div>\r\n                                            <div>\r\n                                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                                    Website\r\n                                                </label>\r\n                                                <input\r\n                                                    type=\"url\"\r\n                                                    value={exportOptions.letterhead.website}\r\n                                                    onChange={(e) => setExportOptions({\r\n                                                        ...exportOptions,\r\n                                                        letterhead: { ...exportOptions.letterhead, website: e.target.value }\r\n                                                    })}\r\n                                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                                                    placeholder=\"https://yourwebsite.com\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"md:col-span-2\">\r\n                                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                                    Address\r\n                                                </label>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={exportOptions.letterhead.address}\r\n                                                    onChange={(e) => setExportOptions({\r\n                                                        ...exportOptions,\r\n                                                        letterhead: { ...exportOptions.letterhead, address: e.target.value }\r\n                                                    })}\r\n                                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                                                    placeholder=\"123 Main St, City, State 12345\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Job Details */}\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Recipient Information</h3>\r\n                                <div className=\"space-y-4 bg-gray-50 p-4 rounded-lg\">\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                                Company Name\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={exportOptions.jobDetails.company}\r\n                                                onChange={(e) => setExportOptions({\r\n                                                    ...exportOptions,\r\n                                                    jobDetails: { ...exportOptions.jobDetails, company: e.target.value }\r\n                                                })}\r\n                                                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                                                placeholder=\"Company Name\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                                Job Title\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={exportOptions.jobDetails.jobTitle}\r\n                                                onChange={(e) => setExportOptions({\r\n                                                    ...exportOptions,\r\n                                                    jobDetails: { ...exportOptions.jobDetails, jobTitle: e.target.value }\r\n                                                })}\r\n                                                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                                                placeholder=\"Job Title\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                                Hiring Manager\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={exportOptions.jobDetails.hiringManager}\r\n                                                onChange={(e) => setExportOptions({\r\n                                                    ...exportOptions,\r\n                                                    jobDetails: { ...exportOptions.jobDetails, hiringManager: e.target.value }\r\n                                                })}\r\n                                                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                                                placeholder=\"Hiring Manager\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                                Company Address\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={exportOptions.jobDetails.companyAddress}\r\n                                                onChange={(e) => setExportOptions({\r\n                                                    ...exportOptions,\r\n                                                    jobDetails: { ...exportOptions.jobDetails, companyAddress: e.target.value }\r\n                                                })}\r\n                                                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                                                placeholder=\"Company Address\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Additional Options */}\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Additional Options</h3>\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"flex items-center space-x-2\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={exportOptions.printOptimized}\r\n                                            onChange={(e) => setExportOptions({\r\n                                                ...exportOptions,\r\n                                                printOptimized: e.target.checked\r\n                                            })}\r\n                                            className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n                                        />\r\n                                        <span className=\"text-sm text-gray-700\">Print-optimized layout</span>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Email Integration */}\r\n                            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                                <div className=\"flex items-start space-x-3\">\r\n                                    <svg className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                                    </svg>\r\n                                    <div className=\"flex-1\">\r\n                                        <h4 className=\"text-sm font-semibold text-blue-900 mb-1\">Email Application</h4>\r\n                                        <p className=\"text-sm text-blue-800 mb-3\">\r\n                                            Generate a ready-to-send email template with your cover letter\r\n                                        </p>\r\n                                        <button\r\n                                            onClick={handleGenerateEmailTemplate}\r\n                                            disabled={isExporting}\r\n                                            className=\"px-4 py-2 text-white rounded-md transition-colors disabled:opacity-50 text-sm font-medium\"\r\n                                            style={{ backgroundColor: '#777C6D' }}\r\n                                            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                                            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                                        >\r\n                                            Generate Email Template\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    ) : (\r\n                        /* Email Preview */\r\n                        <div className=\"space-y-4\">\r\n                            <button\r\n                                onClick={() => setShowEmailPreview(false)}\r\n                                className=\"flex items-center text-sm text-gray-600 hover:text-gray-800\"\r\n                            >\r\n                                <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n                                </svg>\r\n                                Back to export options\r\n                            </button>\r\n\r\n                            <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Email Template</h3>\r\n\r\n                                {/* Subject */}\r\n                                <div className=\"mb-4\">\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Subject:</label>\r\n                                    <div className=\"flex items-center space-x-2\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={emailTemplate?.subject || ''}\r\n                                            readOnly\r\n                                            className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-50\"\r\n                                        />\r\n                                        <button\r\n                                            onClick={() => copyToClipboard(emailTemplate?.subject || '')}\r\n                                            className=\"px-3 py-2 rounded-md transition-colors\"\r\n                                            title=\"Copy subject\"\r\n                                            style={{ backgroundColor: '#F3F4F2', color: '#4F5348' }}\r\n                                            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#E8EAE6'}\r\n                                            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#F3F4F2'}\r\n                                        >\r\n                                            ≡ƒôï\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Body */}\r\n                                <div>\r\n                                    <div className=\"flex items-center justify-between mb-2\">\r\n                                        <label className=\"block text-sm font-medium text-gray-700\">Body:</label>\r\n                                        <button\r\n                                            onClick={() => copyToClipboard(emailTemplate?.body || '')}\r\n                                            className=\"px-3 py-1.5 text-sm rounded-md transition-colors\"\r\n                                            style={{ backgroundColor: '#777C6D', color: '#FFFFFF' }}\r\n                                            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                                            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                                        >\r\n                                            Copy Body\r\n                                        </button>\r\n                                    </div>\r\n                                    <textarea\r\n                                        value={emailTemplate?.body || ''}\r\n                                        readOnly\r\n                                        rows={20}\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-sm\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\r\n                                    <p className=\"text-sm text-yellow-800\">\r\n                                        ≡ƒÆí <strong>Tip:</strong> Copy the subject and body to your email client. You can also export as plain text for a cleaner format.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer Actions */}\r\n                {!showEmailPreview && (\r\n                    <div className=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-between\">\r\n                        <button\r\n                            onClick={onClose}\r\n                            disabled={isExporting}\r\n                            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            onClick={handleExport}\r\n                            disabled={isExporting}\r\n                            className=\"px-6 py-2 text-white rounded-md transition-colors disabled:opacity-50 flex items-center space-x-2\"\r\n                            style={{ backgroundColor: '#777C6D' }}\r\n                            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                        >\r\n                            {isExporting ? (\r\n                                <>\r\n                                    <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                    </svg>\r\n                                    <span>Exporting...</span>\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n                                    </svg>\r\n                                    <span>Export as {exportFormat.toUpperCase()}</span>\r\n                                </>\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CoverLetterExportModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\CoverLetterGeneratorModal.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'selectedNarratives' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":23,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":28,"suggestions":[{"messageId":"removeVar","data":{"varName":"selectedNarratives"},"fix":{"range":[1053,1071],"text":""},"desc":"Remove unused variable 'selectedNarratives'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":251,"column":21,"nodeType":"JSXOpeningElement","endLine":251,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":265,"column":23,"nodeType":"JSXOpeningElement","endLine":265,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":281,"column":23,"nodeType":"JSXOpeningElement","endLine":281,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":298,"column":21,"nodeType":"JSXOpeningElement","endLine":298,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":359,"column":19,"nodeType":"JSXOpeningElement","endLine":359,"endColumn":83}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { X, FileText, Sparkles, Loader2 } from 'lucide-react';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport ExperienceHighlighter from './ExperienceHighlighter';\r\nimport { analyzeExperienceForCoverLetter } from '../api/coverLetters';\r\nimport { createCoverLetter } from '../api/coverLetters';\r\n\r\nconst CoverLetterGeneratorModal = ({ job, onClose, onSuccess }) => {\r\n  const [step, setStep] = useState(1); // 1: Options, 2: Experience Selection, 3: Preview & Save\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  \r\n  // Step 1: Options\r\n  const [coverLetterName, setCoverLetterName] = useState('');\r\n  const [style, setStyle] = useState('formal');\r\n  const [maxExperiences, setMaxExperiences] = useState(3);\r\n  const [tone, setTone] = useState('professional');\r\n  const [includeQuantifiedAchievements, setIncludeQuantifiedAchievements] = useState(true);\r\n  \r\n  // Step 2: Experience Analysis\r\n  const [selectedNarratives, setSelectedNarratives] = useState('');\r\n  const [analysis, setAnalysis] = useState(null);\r\n  \r\n  // Step 3: Generated Content\r\n  const [generatedContent, setGeneratedContent] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (job) {\r\n      setCoverLetterName(`Cover Letter - ${job.company} - ${job.title}`);\r\n    }\r\n  }, [job]);\r\n\r\n  const handleStartAnalysis = async () => {\r\n    if (!coverLetterName.trim()) {\r\n      setError('Please enter a name for your cover letter');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await analyzeExperienceForCoverLetter(job._id, maxExperiences);\r\n      setAnalysis(response.data.data);\r\n      setStep(2);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to analyze experience');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleNarrativesSelected = (narrativesText) => {\r\n    setSelectedNarratives(narrativesText);\r\n    setStep(3);\r\n    generateCoverLetterContent(narrativesText);\r\n  };\r\n\r\n  const generateCoverLetterContent = (narratives) => {\r\n    // Generate cover letter structure with the selected narratives\r\n    const today = new Date().toLocaleDateString('en-US', { \r\n      month: 'long', \r\n      day: 'numeric', \r\n      year: 'numeric' \r\n    });\r\n\r\n    const salutationMap = {\r\n      formal: 'Dear Hiring Manager,',\r\n      professional: 'Dear Hiring Team,',\r\n      friendly: 'Hello,',\r\n      enthusiastic: 'Dear Hiring Team,'\r\n    };\r\n\r\n    const openingMap = {\r\n      formal: `I am writing to express my strong interest in the ${job.title} position at ${job.company}.`,\r\n      professional: `I am excited to apply for the ${job.title} position at ${job.company}.`,\r\n      friendly: `I'm thrilled to submit my application for the ${job.title} role at ${job.company}.`,\r\n      enthusiastic: `I am incredibly excited about the opportunity to join ${job.company} as a ${job.title}!`\r\n    };\r\n\r\n    const closingMap = {\r\n      formal: 'I look forward to the opportunity to discuss how my experience and skills align with your needs.',\r\n      professional: 'I would welcome the opportunity to discuss how I can contribute to your team.',\r\n      friendly: 'I would love to chat more about how I can contribute to your team!',\r\n      enthusiastic: 'I am eager to bring my passion and expertise to your team and would love to discuss this opportunity further!'\r\n    };\r\n\r\n    const signOffMap = {\r\n      formal: 'Sincerely,',\r\n      professional: 'Best regards,',\r\n      friendly: 'Thank you,',\r\n      enthusiastic: 'Enthusiastically yours,'\r\n    };\r\n\r\n    // Extract key skills from matched requirements\r\n    const allMatchedSkills = [];\r\n    if (analysis?.selectedExperiences) {\r\n      analysis.selectedExperiences.forEach(exp => {\r\n        if (exp.relevance?.matchedSkills) {\r\n          allMatchedSkills.push(...exp.relevance.matchedSkills);\r\n        }\r\n      });\r\n    }\r\n    const topSkills = [...new Set(allMatchedSkills)].slice(0, 5);\r\n\r\n    // Build skills paragraph highlighting job requirements alignment\r\n    let skillsParagraph = '';\r\n    if (topSkills.length > 0) {\r\n      const skillsList = topSkills.length > 2 \r\n        ? `${topSkills.slice(0, -1).join(', ')}, and ${topSkills[topSkills.length - 1]}`\r\n        : topSkills.join(' and ');\r\n      \r\n      skillsParagraph = tone === 'formal' \r\n        ? `My expertise in ${skillsList} directly addresses the key requirements outlined in your job posting. I am particularly drawn to this opportunity as it aligns perfectly with my professional strengths and career objectives.`\r\n        : tone === 'enthusiastic'\r\n        ? `I'm particularly excited about how my skills in ${skillsList} align with your needs! These are areas where I've not only developed expertise but also achieved significant results.`\r\n        : `My background in ${skillsList} aligns well with your requirements, and I'm confident these skills will enable me to make immediate contributions to your team.`;\r\n    }\r\n\r\n    // Add requirement connections if available\r\n    let requirementsSection = '';\r\n    if (analysis?.requirementConnections && analysis.requirementConnections.length > 0) {\r\n      const topConnections = analysis.requirementConnections.slice(0, 2);\r\n      const connectionTexts = topConnections.map(conn => {\r\n        const expTitle = conn.experiences[0]?.title || 'my previous role';\r\n        return `As ${expTitle}, I ${conn.requirement.toLowerCase()}`;\r\n      });\r\n      \r\n      if (connectionTexts.length > 0) {\r\n        requirementsSection = `\\n\\n${connectionTexts.join(', and ')}. These experiences have prepared me to excel in the responsibilities outlined for this position.`;\r\n      }\r\n    }\r\n\r\n    const content = `${today}\r\n\r\n${salutationMap[tone] || salutationMap.professional}\r\n\r\n${openingMap[tone] || openingMap.professional} ${skillsParagraph ? skillsParagraph + '\\n' : 'With a proven track record in the industry, I am confident that my background makes me an excellent fit for this role.\\n'}\r\n${narratives}${requirementsSection}\r\n\r\n${analysis?.packageScore?.gaps?.length > 0 && tone !== 'friendly' ? `While I am actively developing my expertise in ${analysis.packageScore.gaps.slice(0, 2).join(' and ')}, my strong foundation in the core requirements and my proven ability to quickly master new technologies position me to excel in this role.\r\n\r\n` : ''}${closingMap[tone] || closingMap.professional}\r\n\r\n${signOffMap[tone] || signOffMap.professional}\r\n[Your Name]`;\r\n\r\n    setGeneratedContent(content);\r\n  };\r\n\r\n  const handleSaveCoverLetter = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const payload = {\r\n        name: coverLetterName,\r\n        content: generatedContent,\r\n        style: style,\r\n        jobId: job._id\r\n      };\r\n\r\n      await createCoverLetter(payload);\r\n      \r\n      if (onSuccess) {\r\n        onSuccess();\r\n      }\r\n      onClose();\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to save cover letter');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (step === 2) {\r\n      setStep(1);\r\n      setAnalysis(null);\r\n    } else if (step === 3) {\r\n      setStep(2);\r\n      setGeneratedContent('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"p-6 border-b bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <FileText size={28} />\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold\">Generate Cover Letter</h2>\r\n                <p className=\"text-sm text-blue-100 mt-1\">\r\n                  {job.title} at {job.company}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-white hover:bg-white hover:bg-opacity-20 p-2 rounded-full transition-colors\"\r\n            >\r\n              <X size={24} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Progress Steps */}\r\n        <div className=\"px-6 py-4 bg-gray-50 border-b\">\r\n          <div className=\"flex items-center justify-between max-w-2xl mx-auto\">\r\n            <div className={`flex items-center gap-2 ${step >= 1 ? 'text-blue-600' : 'text-gray-400'}`}>\r\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold ${step >= 1 ? 'bg-blue-600 text-white' : 'bg-gray-300 text-gray-600'}`}>\r\n                1\r\n              </div>\r\n              <span className=\"text-sm font-medium\">Configure</span>\r\n            </div>\r\n            <div className={`flex-1 h-1 mx-4 ${step >= 2 ? 'bg-blue-600' : 'bg-gray-300'}`}></div>\r\n            <div className={`flex items-center gap-2 ${step >= 2 ? 'text-blue-600' : 'text-gray-400'}`}>\r\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold ${step >= 2 ? 'bg-blue-600 text-white' : 'bg-gray-300 text-gray-600'}`}>\r\n                2\r\n              </div>\r\n              <span className=\"text-sm font-medium\">Select Experience</span>\r\n            </div>\r\n            <div className={`flex-1 h-1 mx-4 ${step >= 3 ? 'bg-blue-600' : 'bg-gray-300'}`}></div>\r\n            <div className={`flex items-center gap-2 ${step >= 3 ? 'text-blue-600' : 'text-gray-400'}`}>\r\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold ${step >= 3 ? 'bg-blue-600 text-white' : 'bg-gray-300 text-gray-600'}`}>\r\n                3\r\n              </div>\r\n              <span className=\"text-sm font-medium\">Preview & Save</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6\">\r\n          {error && (\r\n            <Card variant=\"error\" className=\"mb-4\">\r\n              <p className=\"text-sm\">{error}</p>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Step 1: Configuration */}\r\n          {step === 1 && (\r\n            <div className=\"max-w-2xl mx-auto space-y-6\">\r\n              <Card title=\"Cover Letter Configuration\" variant=\"elevated\">\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Cover Letter Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={coverLetterName}\r\n                      onChange={(e) => setCoverLetterName(e.target.value)}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                      placeholder=\"e.g., Cover Letter - Company - Position\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        Writing Style\r\n                      </label>\r\n                      <select\r\n                        value={style}\r\n                        onChange={(e) => setStyle(e.target.value)}\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                      >\r\n                        <option value=\"formal\">Formal</option>\r\n                        <option value=\"professional\">Professional</option>\r\n                        <option value=\"creative\">Creative</option>\r\n                        <option value=\"technical\">Technical</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        Tone\r\n                      </label>\r\n                      <select\r\n                        value={tone}\r\n                        onChange={(e) => setTone(e.target.value)}\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                      >\r\n                        <option value=\"formal\">Formal</option>\r\n                        <option value=\"professional\">Professional</option>\r\n                        <option value=\"friendly\">Friendly</option>\r\n                        <option value=\"enthusiastic\">Enthusiastic</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Number of Experiences to Highlight\r\n                    </label>\r\n                    <select\r\n                      value={maxExperiences}\r\n                      onChange={(e) => setMaxExperiences(Number(e.target.value))}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                    >\r\n                      <option value=\"1\">1 - Most Relevant Only</option>\r\n                      <option value=\"2\">2 - Top Two</option>\r\n                      <option value=\"3\">3 - Top Three (Recommended)</option>\r\n                      <option value=\"4\">4 - Extended</option>\r\n                      <option value=\"5\">5 - Comprehensive</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"includeQuantified\"\r\n                      checked={includeQuantifiedAchievements}\r\n                      onChange={(e) => setIncludeQuantifiedAchievements(e.target.checked)}\r\n                      className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                    />\r\n                    <label htmlFor=\"includeQuantified\" className=\"text-sm text-gray-700\">\r\n                      Include quantified achievements (recommended)\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n\r\n              <Card variant=\"info\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <Sparkles className=\"text-blue-600 flex-shrink-0 mt-0.5\" size={20} />\r\n                  <div className=\"text-sm text-blue-800\">\r\n                    <p className=\"font-medium mb-1\">AI-Powered Experience Analysis</p>\r\n                    <p>\r\n                      We'll analyze your work experience and automatically select the most relevant experiences\r\n                      for this job, then generate compelling narratives that highlight your achievements.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 2: Experience Selection */}\r\n          {step === 2 && analysis && (\r\n            <ExperienceHighlighter\r\n              jobId={job._id}\r\n              analysisData={analysis}\r\n              onSelectNarrative={handleNarrativesSelected}\r\n              onClose={handleBack}\r\n            />\r\n          )}\r\n\r\n          {/* Step 3: Preview & Save */}\r\n          {step === 3 && (\r\n            <div className=\"max-w-3xl mx-auto space-y-6\">\r\n              <Card title=\"Cover Letter Preview\" variant=\"elevated\">\r\n                <div className=\"mb-4\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Edit Your Cover Letter\r\n                  </label>\r\n                  <textarea\r\n                    value={generatedContent}\r\n                    onChange={(e) => setGeneratedContent(e.target.value)}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-serif\"\r\n                    rows={20}\r\n                    placeholder=\"Your cover letter content...\"\r\n                  />\r\n                  <p className=\"text-xs text-gray-500 mt-2\">\r\n                    {generatedContent.length} characters\r\n                  </p>\r\n                </div>\r\n              </Card>\r\n\r\n              {analysis?.recommendations && analysis.recommendations.length > 0 && (\r\n                <Card title=\"Tips for Enhancement\" variant=\"info\">\r\n                  <ul className=\"space-y-2 text-sm\">\r\n                    {analysis.recommendations.slice(0, 3).map((rec, idx) => (\r\n                      <li key={idx} className=\"flex items-start gap-2\">\r\n                        <Sparkles size={16} className=\"text-blue-600 flex-shrink-0 mt-0.5\" />\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">{rec.message}</p>\r\n                          <p className=\"text-gray-600 text-xs mt-0.5\">{rec.action}</p>\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </Card>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"p-6 border-t bg-gray-50 flex items-center justify-between\">\r\n          <div>\r\n            {step > 1 && (\r\n              <Button variant=\"secondary\" onClick={handleBack} disabled={loading}>\r\n                Back\r\n              </Button>\r\n            )}\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <Button variant=\"secondary\" onClick={onClose} disabled={loading}>\r\n              Cancel\r\n            </Button>\r\n            {step === 1 && (\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={handleStartAnalysis}\r\n                disabled={loading || !coverLetterName.trim()}\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <Loader2 className=\"animate-spin mr-2\" size={16} />\r\n                    Analyzing...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Sparkles className=\"mr-2\" size={16} />\r\n                    Analyze Experience\r\n                  </>\r\n                )}\r\n              </Button>\r\n            )}\r\n            {step === 3 && (\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={handleSaveCoverLetter}\r\n                disabled={loading || !generatedContent.trim()}\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <Loader2 className=\"animate-spin mr-2\" size={16} />\r\n                    Saving...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <FileText className=\"mr-2\" size={16} />\r\n                    Save Cover Letter\r\n                  </>\r\n                )}\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCoverLetterGeneratorModal.propTypes = {\r\n  job: PropTypes.object.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onSuccess: PropTypes.func\r\n};\r\n\r\nexport default CoverLetterGeneratorModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\DeadlineCalendar.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'startWeekDay' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":26,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":26,"endColumn":23,"suggestions":[{"messageId":"removeVar","data":{"varName":"startWeekDay"},"fix":{"range":[756,802],"text":""},"desc":"Remove unused variable 'startWeekDay'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useMemo, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction formatYmd(d) {\r\n  const dt = new Date(d);\r\n  const y = dt.getFullYear();\r\n  const m = `${dt.getMonth() + 1}`.padStart(2, \"0\");\r\n  const day = `${dt.getDate()}`.padStart(2, \"0\");\r\n  return `${y}-${m}-${day}`;\r\n}\r\n\r\nexport default function DeadlineCalendar({ jobs, interviews, onJobView, onInterviewView }) {\r\n  const [current, setCurrent] = useState(() => {\r\n    const now = new Date();\r\n    now.setDate(1);\r\n    now.setHours(0,0,0,0);\r\n    return now;\r\n  });\r\n\r\n  const weeks = useMemo(() => {\r\n    const start = new Date(current);\r\n    const end = new Date(current);\r\n    end.setMonth(end.getMonth() + 1);\r\n    end.setDate(0); // last day of current month\r\n\r\n    const startWeekDay = (start.getDay() + 6) % 7; // make Monday=0 if desired; we'll keep Sunday=0 as default\r\n    const days = [];\r\n\r\n    // Start from Sunday of the first week\r\n    const cursor = new Date(start);\r\n    cursor.setDate(start.getDate() - start.getDay());\r\n    // Iterate until end of month week finishes (to Saturday)\r\n    const last = new Date(end);\r\n    last.setDate(end.getDate() + (6 - end.getDay()));\r\n\r\n    while (cursor <= last) {\r\n      days.push(new Date(cursor));\r\n      cursor.setDate(cursor.getDate() + 1);\r\n    }\r\n\r\n    // Chunk into weeks of 7\r\n    const res = [];\r\n    for (let i = 0; i < days.length; i += 7) {\r\n      res.push(days.slice(i, i + 7));\r\n    }\r\n    return res;\r\n  }, [current]);\r\n\r\n  const jobsByDay = useMemo(() => {\r\n    const map = new Map();\r\n    (jobs || []).forEach((j) => {\r\n      if (!j.deadline) return;\r\n      const key = formatYmd(j.deadline);\r\n      if (!map.has(key)) map.set(key, []);\r\n      map.get(key).push(j);\r\n    });\r\n    return map;\r\n  }, [jobs]);\r\n\r\n  const interviewsByDay = useMemo(() => {\r\n    const map = new Map();\r\n    (interviews || []).forEach((i) => {\r\n      if (!i.scheduledDate || i.status === \"Cancelled\") return;\r\n      const key = formatYmd(i.scheduledDate);\r\n      if (!map.has(key)) map.set(key, []);\r\n      map.get(key).push(i);\r\n    });\r\n    return map;\r\n  }, [interviews]);\r\n\r\n  const monthLabel = current.toLocaleDateString(undefined, { month: \"long\", year: \"numeric\" });\r\n\r\n  const goPrev = () => {\r\n    const d = new Date(current);\r\n    d.setMonth(d.getMonth() - 1);\r\n    setCurrent(d);\r\n  };\r\n  const goNext = () => {\r\n    const d = new Date(current);\r\n    d.setMonth(d.getMonth() + 1);\r\n    setCurrent(d);\r\n  };\r\n\r\n  const isSameMonth = (d) => d.getMonth() === current.getMonth();\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border border-gray-200\">\r\n      <div className=\"flex items-center justify-between p-3 border-b\">\r\n        <button onClick={goPrev} className=\"px-2 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200\">Prev</button>\r\n        <div className=\"font-semibold\">{monthLabel}</div>\r\n        <button onClick={goNext} className=\"px-2 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200\">Next</button>\r\n      </div>\r\n      <div className=\"grid grid-cols-7 text-xs text-gray-600 p-2\">\r\n        {['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].map((d) => (\r\n          <div key={d} className=\"text-center font-medium py-1\">{d}</div>\r\n        ))}\r\n      </div>\r\n      <div className=\"grid grid-cols-7 gap-px bg-gray-200\">\r\n        {weeks.flat().map((d, idx) => {\r\n          const key = formatYmd(d);\r\n          const jobsForDay = jobsByDay.get(key) || [];\r\n          const interviewsForDay = interviewsByDay.get(key) || [];\r\n          const muted = !isSameMonth(d);\r\n          const totalItems = jobsForDay.length + interviewsForDay.length;\r\n          \r\n          return (\r\n            <div key={key+idx} className={`bg-white p-2 min-h-[92px] ${muted ? 'opacity-40' : ''}`}>\r\n              <div className=\"text-xs font-medium text-gray-700\">{d.getDate()}</div>\r\n              \r\n              {/* Job Deadlines */}\r\n              {jobsForDay.length > 0 && (\r\n                <div className=\"mt-1 space-y-1\">\r\n                  {jobsForDay.slice(0, Math.min(2, totalItems > 3 ? 1 : 2)).map((j) => (\r\n                    <div key={j._id} className=\"text-[11px] truncate\">\r\n                      <button\r\n                        className=\"text-blue-700 hover:underline\"\r\n                        onClick={() => onJobView && onJobView(j)}\r\n                        title={`Deadline: ${j.title} @ ${j.company}`}\r\n                      >\r\n                        ≡ƒôï {j.title}\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              \r\n              {/* Interviews */}\r\n              {interviewsForDay.length > 0 && (\r\n                <div className=\"mt-1 space-y-1\">\r\n                  {interviewsForDay.slice(0, Math.min(2, totalItems > 3 ? 1 : 2)).map((i) => (\r\n                    <div key={i._id} className=\"text-[11px] truncate\">\r\n                      <button\r\n                        className=\"text-purple-700 hover:underline\"\r\n                        onClick={() => onInterviewView && onInterviewView(i)}\r\n                        title={`Interview: ${i.title} @ ${i.company} - ${new Date(i.scheduledDate).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`}\r\n                      >\r\n                        ≡ƒôà {new Date(i.scheduledDate).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} - {i.company}\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              \r\n              {totalItems > 3 && (\r\n                <div className=\"text-[11px] text-gray-500 mt-1\">+{totalItems - 2} more</div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nDeadlineCalendar.propTypes = {\r\n  jobs: PropTypes.arrayOf(PropTypes.object),\r\n  interviews: PropTypes.arrayOf(PropTypes.object),\r\n  onJobView: PropTypes.func,\r\n  onInterviewView: PropTypes.func,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\EmailStatusDetector.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'getConfidenceBg' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":81,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":81,"endColumn":24,"suggestions":[{"messageId":"removeVar","data":{"varName":"getConfidenceBg"},"fix":{"range":[2477,2651],"text":""},"desc":"Remove unused variable 'getConfidenceBg'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":91,"column":9,"nodeType":"JSXOpeningElement","endLine":94,"endColumn":11},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":91,"column":9,"nodeType":"JSXOpeningElement","endLine":94,"endColumn":11},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":132,"column":17,"nodeType":"JSXOpeningElement","endLine":132,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":147,"column":17,"nodeType":"JSXOpeningElement","endLine":147,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":162,"column":17,"nodeType":"JSXOpeningElement","endLine":162,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":180,"column":17,"nodeType":"JSXOpeningElement","endLine":180,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":251,"column":21,"nodeType":"JSXOpeningElement","endLine":251,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":273,"column":23,"nodeType":"JSXOpeningElement","endLine":273,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":283,"column":23,"nodeType":"JSXOpeningElement","endLine":283,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":300,"column":23,"nodeType":"JSXOpeningElement","endLine":300,"endColumn":87}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Mail, AlertCircle, CheckCircle, TrendingUp, X, Sparkles } from 'lucide-react';\r\nimport { detectStatusFromEmail, formatStatus } from '../api/applicationStatus';\r\nimport axiosInstance from '../api/axios';\r\n\r\nconst EmailStatusDetector = ({ jobId, isOpen, onClose, onDetectionConfirmed }) => {\r\n  const [emailData, setEmailData] = useState({\r\n    subject: '',\r\n    body: '',\r\n    from: '',\r\n    receivedAt: new Date().toISOString().split('T')[0]\r\n  });\r\n  const [detection, setDetection] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [confirming, setConfirming] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleDetect = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    setDetection(null);\r\n\r\n    try {\r\n      // Map frontend field names to backend expected names\r\n      const result = await detectStatusFromEmail(jobId, {\r\n        emailSubject: emailData.subject,\r\n        emailBody: emailData.body,\r\n        emailFrom: emailData.from,\r\n        receivedAt: emailData.receivedAt\r\n      });\r\n      setDetection(result);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to detect status');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleConfirm = async (applyUpdate) => {\r\n    if (!detection) return;\r\n\r\n    setConfirming(true);\r\n    setError('');\r\n\r\n    try {\r\n      if (applyUpdate) {\r\n        // Update job status directly using the job status endpoint\r\n        await axiosInstance.put(`/api/jobs/${jobId}/status`, {\r\n          status: detection.data.detectedStatus,\r\n          notes: `Status detected from email: ${emailData.subject}\\nConfidence: ${detection.data.confidence}%\\nReason: ${detection.data.reason}`\r\n        });\r\n\r\n        onDetectionConfirmed?.();\r\n      }\r\n      \r\n      // Reset form\r\n      setEmailData({\r\n        subject: '',\r\n        body: '',\r\n        from: '',\r\n        receivedAt: new Date().toISOString().split('T')[0]\r\n      });\r\n      setDetection(null);\r\n      onClose();\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to apply status update');\r\n    } finally {\r\n      setConfirming(false);\r\n    }\r\n  };\r\n\r\n  const getConfidenceColor = (confidence) => {\r\n    if (confidence >= 80) return 'text-green-600';\r\n    if (confidence >= 60) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  const getConfidenceBg = (confidence) => {\r\n    if (confidence >= 80) return 'bg-green-100';\r\n    if (confidence >= 60) return 'bg-yellow-100';\r\n    return 'bg-red-100';\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\r\n        {/* Background overlay */}\r\n        <div \r\n          className=\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\"\r\n          onClick={onClose}\r\n        />\r\n\r\n        {/* Modal panel */}\r\n        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full relative z-10\">\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <Sparkles className=\"text-white\" size={24} />\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-white\">AI Email Status Detector</h3>\r\n                  <p className=\"text-sm text-purple-100 mt-1\">Paste email content to automatically detect status</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-white hover:text-gray-200 transition-colors\"\r\n              >\r\n                <X size={24} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Body */}\r\n          <div className=\"p-6\">\r\n            {error && (\r\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 mb-6\">\r\n                <AlertCircle className=\"text-red-600 flex-shrink-0 mt-0.5\" size={20} />\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-red-800\">Error</p>\r\n                  <p className=\"text-sm text-red-600 mt-1\">{error}</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={handleDetect} className=\"space-y-4\">\r\n              {/* Email From */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  From (Email Address)\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={emailData.from}\r\n                  onChange={(e) => setEmailData({ ...emailData, from: e.target.value })}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                  placeholder=\"recruiter@company.com\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {/* Email Subject */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Subject *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={emailData.subject}\r\n                  onChange={(e) => setEmailData({ ...emailData, subject: e.target.value })}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                  placeholder=\"Interview Invitation - Software Engineer Position\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {/* Email Body */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Email Body *\r\n                </label>\r\n                <textarea\r\n                  value={emailData.body}\r\n                  onChange={(e) => setEmailData({ ...emailData, body: e.target.value })}\r\n                  rows={8}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none font-mono text-sm\"\r\n                  placeholder=\"Paste the email content here...\"\r\n                  required\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-2\">\r\n                  Include the full email body for best detection accuracy\r\n                </p>\r\n              </div>\r\n\r\n              {/* Received Date */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Received Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={emailData.receivedAt}\r\n                  onChange={(e) => setEmailData({ ...emailData, receivedAt: e.target.value })}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                  max={new Date().toISOString().split('T')[0]}\r\n                />\r\n              </div>\r\n\r\n              {/* Detect Button */}\r\n              <button\r\n                type=\"submit\"\r\n                className=\"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                disabled={loading}\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\r\n                    Analyzing...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Sparkles size={20} />\r\n                    Detect Status\r\n                  </>\r\n                )}\r\n              </button>\r\n            </form>\r\n\r\n            {/* Detection Results */}\r\n            {detection && (\r\n              <div className=\"mt-6 p-6 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200\">\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                  <CheckCircle className=\"text-purple-600 flex-shrink-0\" size={28} />\r\n                  <div>\r\n                    <h4 className=\"text-lg font-semibold text-gray-900\">Detection Complete</h4>\r\n                    <p className=\"text-sm text-gray-600\">AI has analyzed the email content</p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Confidence Meter */}\r\n                <div className=\"mb-6\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm font-medium text-gray-700\">Confidence Level</span>\r\n                    <span className={`text-lg font-bold ${getConfidenceColor(detection.data.confidence)}`}>\r\n                      {detection.data.confidence}%\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\">\r\n                    <div\r\n                      className={`h-full transition-all duration-500 ${\r\n                        detection.data.confidence >= 80 ? 'bg-green-500' :\r\n                        detection.data.confidence >= 60 ? 'bg-yellow-500' :\r\n                        'bg-red-500'\r\n                      }`}\r\n                      style={{ width: `${detection.data.confidence}%` }}\r\n                    />\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    {detection.data.confidence >= 80 ? 'High confidence - Safe to apply automatically' :\r\n                     detection.data.confidence >= 60 ? 'Medium confidence - Review before applying' :\r\n                     'Low confidence - Manual review recommended'}\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Detected Status */}\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-gray-700 block mb-2\">Detected Status</label>\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {(() => {\r\n                        const statusInfo = formatStatus(detection.data.detectedStatus);\r\n                        return (\r\n                          <span className={`px-4 py-2 rounded-lg text-base font-medium ${\r\n                            statusInfo.color === 'green' ? 'bg-green-100 text-green-800' :\r\n                            statusInfo.color === 'blue' ? 'bg-blue-100 text-blue-800' :\r\n                            statusInfo.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' :\r\n                            statusInfo.color === 'red' ? 'bg-red-100 text-red-800' :\r\n                            'bg-gray-100 text-gray-800'\r\n                          }`}>\r\n                            {statusInfo.icon} {statusInfo.label}\r\n                          </span>\r\n                        );\r\n                      })()}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Reason */}\r\n                  {detection.data.reason && (\r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-700 block mb-2\">Detection Reason</label>\r\n                      <p className=\"text-sm text-gray-700 bg-white p-3 rounded-lg border border-gray-200\">\r\n                        {detection.data.reason}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Matched Keywords */}\r\n                  {detection.data.matchedKeywords && detection.data.matchedKeywords.length > 0 && (\r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-700 block mb-2\">Matched Keywords</label>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {detection.data.matchedKeywords.map((keyword, index) => (\r\n                          <span\r\n                            key={index}\r\n                            className=\"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium\"\r\n                          >\r\n                            {keyword}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Suggested Action */}\r\n                  {detection.data.suggestedAction && (\r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-700 block mb-2\">Suggested Next Action</label>\r\n                      <div className=\"flex items-start gap-2 bg-blue-50 p-3 rounded-lg border border-blue-200\">\r\n                        <TrendingUp className=\"text-blue-600 flex-shrink-0 mt-0.5\" size={16} />\r\n                        <p className=\"text-sm text-blue-700\">{detection.data.suggestedAction}</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Action Buttons */}\r\n                <div className=\"flex gap-3 mt-6 pt-4 border-t border-purple-200\">\r\n                  <button\r\n                    onClick={() => handleConfirm(false)}\r\n                    className=\"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50\"\r\n                    disabled={confirming}\r\n                  >\r\n                    Dismiss\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleConfirm(true)}\r\n                    className=\"flex-1 px-4 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    disabled={confirming}\r\n                  >\r\n                    {confirming ? 'Applying...' : 'Apply Status Update'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailStatusDetector;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ErrorBoundary.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":23,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":40,"suggestions":[{"messageId":"removeVar","data":{"varName":"error"},"fix":{"range":[622,627],"text":""},"desc":"Remove unused variable 'error'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { captureException, addBreadcrumb } from '../utils/sentry';\r\n\r\n/**\r\n * ErrorBoundary Component\r\n * Catches JavaScript errors anywhere in the child component tree\r\n * and displays a fallback UI instead of crashing the entire app\r\n * \r\n * Integrates with Sentry for error tracking and monitoring\r\n */\r\nclass ErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      eventId: null\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    // Update state so the next render will show the fallback UI\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // Log error details for debugging\r\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\r\n\r\n    this.setState({\r\n      error,\r\n      errorInfo\r\n    });\r\n\r\n    // Add breadcrumb for context\r\n    addBreadcrumb('Error boundary triggered', 'error', 'error', {\r\n      errorMessage: error?.message,\r\n      componentStack: errorInfo?.componentStack?.substring(0, 500)\r\n    });\r\n\r\n    // Capture the error in Sentry\r\n    captureException(error, {\r\n      componentStack: errorInfo?.componentStack,\r\n      boundary: this.props.name || 'ErrorBoundary'\r\n    });\r\n  }\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      eventId: null\r\n    });\r\n  };\r\n\r\n  handleReportFeedback = () => {\r\n    // If Sentry is available, show feedback dialog\r\n    if (this.state.eventId && window.Sentry) {\r\n      window.Sentry.showReportDialog({ eventId: this.state.eventId });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // Custom fallback UI\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      // Default fallback UI\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 px-4\">\r\n          <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-6\">\r\n            <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full\">\r\n              <svg\r\n                className=\"w-6 h-6 text-red-600\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\r\n                />\r\n              </svg>\r\n            </div>\r\n\r\n            <h2 className=\"mt-4 text-xl font-heading font-semibold text-center text-gray-900\">\r\n              Oops! Something went wrong\r\n            </h2>\r\n\r\n            <p className=\"mt-2 text-sm text-center text-gray-600\">\r\n              We're sorry for the inconvenience. An unexpected error occurred.\r\n              Our team has been notified and is working on a fix.\r\n            </p>\r\n\r\n            {import.meta.env.DEV && this.state.error && (\r\n              <details className=\"mt-4 p-3 bg-gray-100 rounded text-xs\">\r\n                <summary className=\"cursor-pointer font-heading font-medium text-gray-700\">\r\n                  Error Details (Development Only)\r\n                </summary>\r\n                <pre className=\"mt-2 whitespace-pre-wrap text-red-600\">\r\n                  {this.state.error.toString()}\r\n                  {this.state.errorInfo?.componentStack}\r\n                </pre>\r\n              </details>\r\n            )}\r\n\r\n            <div className=\"mt-6 flex gap-3\">\r\n              <button\r\n                onClick={this.handleReset}\r\n                className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition font-medium\"\r\n              >\r\n                Try Again\r\n              </button>\r\n              <button\r\n                onClick={() => window.location.href = '/'}\r\n                className=\"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition font-medium\"\r\n              >\r\n                Go Home\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nErrorBoundary.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  fallback: PropTypes.node,\r\n  name: PropTypes.string\r\n};\r\n\r\nexport default ErrorBoundary;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ErrorMessage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ExperienceHighlighter.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadAnalysis'. Either include it or remove the dependency array.","line":43,"column":6,"nodeType":"ArrayExpression","endLine":43,"endColumn":27,"suggestions":[{"desc":"Update the dependencies array to be: [jobId, analysisData, loadAnalysis]","fix":{"range":[1380,1401],"text":"[jobId, analysisData, loadAnalysis]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":266,"column":23,"nodeType":"JSXOpeningElement","endLine":274,"endColumn":24},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":266,"column":23,"nodeType":"JSXOpeningElement","endLine":274,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { \r\n  Briefcase, \r\n  TrendingUp, \r\n  Award, \r\n  AlertCircle, \r\n  CheckCircle2, \r\n  Lightbulb,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Copy,\r\n  Star\r\n} from 'lucide-react';\r\nimport { analyzeExperienceForCoverLetter } from '../api/coverLetters';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\n\r\nconst ExperienceHighlighter = ({ jobId, analysisData, onSelectNarrative, onClose }) => {\r\n  const [analysis, setAnalysis] = useState(analysisData || null);\r\n  const [loading, setLoading] = useState(!analysisData);\r\n  const [error, setError] = useState('');\r\n  const [expandedExperience, setExpandedExperience] = useState(null);\r\n  const [selectedNarratives, setSelectedNarratives] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (analysisData) {\r\n      setAnalysis(analysisData);\r\n      setLoading(false);\r\n      \r\n      // Auto-select highest strength narratives\r\n      const autoSelected = {};\r\n      analysisData.selectedExperiences?.forEach((exp, idx) => {\r\n        const highestStrength = exp.narratives?.find(n => n.strength === 'high') || exp.narratives?.[0];\r\n        if (highestStrength) {\r\n          autoSelected[idx] = highestStrength;\r\n        }\r\n      });\r\n      setSelectedNarratives(autoSelected);\r\n    } else if (jobId && !analysisData) {\r\n      loadAnalysis();\r\n    }\r\n  }, [jobId, analysisData]);\r\n\r\n  const loadAnalysis = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await analyzeExperienceForCoverLetter(jobId, 3);\r\n      setAnalysis(response.data.data);\r\n      \r\n      // Auto-select highest strength narratives\r\n      const autoSelected = {};\r\n      response.data.data.selectedExperiences?.forEach((exp, idx) => {\r\n        const highestStrength = exp.narratives?.find(n => n.strength === 'high') || exp.narratives?.[0];\r\n        if (highestStrength) {\r\n          autoSelected[idx] = highestStrength;\r\n        }\r\n      });\r\n      setSelectedNarratives(autoSelected);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to analyze experience');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getRelevanceColor = (score) => {\r\n    if (score >= 70) return 'text-green-600 bg-green-100';\r\n    if (score >= 50) return 'text-yellow-600 bg-yellow-100';\r\n    return 'text-orange-600 bg-orange-100';\r\n  };\r\n\r\n  const getPriorityBadge = (priority) => {\r\n    const colors = {\r\n      high: 'bg-green-100 text-green-800',\r\n      medium: 'bg-yellow-100 text-yellow-800',\r\n      low: 'bg-gray-100 text-gray-800'\r\n    };\r\n    return colors[priority] || colors.low;\r\n  };\r\n\r\n  const handleCopyNarrative = (text) => {\r\n    navigator.clipboard.writeText(text);\r\n    // Could add toast notification here\r\n  };\r\n\r\n  const handleSelectNarrative = (expIndex, narrative) => {\r\n    setSelectedNarratives(prev => ({\r\n      ...prev,\r\n      [expIndex]: narrative\r\n    }));\r\n  };\r\n\r\n  const handleApplySelected = () => {\r\n    const narrativesText = Object.values(selectedNarratives)\r\n      .map(n => n.text)\r\n      .join('\\n\\n');\r\n    \r\n    if (onSelectNarrative) {\r\n      onSelectNarrative(narrativesText);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center p-8\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n        <p className=\"ml-4 text-gray-600\">Analyzing your experience relevance...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card variant=\"error\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <AlertCircle className=\"text-red-600 flex-shrink-0 mt-0.5\" size={20} />\r\n          <div>\r\n            <p className=\"font-medium text-red-800\">Analysis Failed</p>\r\n            <p className=\"text-sm text-red-600 mt-1\">{error}</p>\r\n            <Button onClick={loadAnalysis} className=\"mt-3\" size=\"sm\">\r\n              Try Again\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (!analysis) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Overall Package Score */}\r\n      <Card title=\"Experience Relevance Score\" variant=\"elevated\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <div className=\"text-3xl font-bold text-gray-900\">\r\n              {analysis.packageScore.overallScore}%\r\n            </div>\r\n            <p className=\"text-sm text-gray-600 mt-1\">\r\n              {analysis.packageScore.recommendation}\r\n            </p>\r\n          </div>\r\n          <div className=\"text-right\">\r\n            <div className=\"text-sm font-medium text-gray-700\">\r\n              Job Coverage\r\n            </div>\r\n            <div className=\"text-2xl font-semibold text-blue-600\">\r\n              {analysis.packageScore.coverage}%\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Strengths */}\r\n        {analysis.packageScore.strengths?.length > 0 && (\r\n          <div className=\"mb-4\">\r\n            <p className=\"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2\">\r\n              <CheckCircle2 size={16} className=\"text-green-600\" />\r\n              Key Strengths\r\n            </p>\r\n            <ul className=\"space-y-1\">\r\n              {analysis.packageScore.strengths.map((strength, idx) => (\r\n                <li key={idx} className=\"text-sm text-gray-700 flex items-start gap-2\">\r\n                  <Star size={14} className=\"text-green-600 mt-0.5 flex-shrink-0\" />\r\n                  {strength}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n\r\n        {/* Gaps */}\r\n        {analysis.packageScore.gaps?.length > 0 && (\r\n          <div>\r\n            <p className=\"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2\">\r\n              <AlertCircle size={16} className=\"text-orange-600\" />\r\n              Skill Gaps to Address\r\n            </p>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {analysis.packageScore.gaps.map((gap, idx) => (\r\n                <span\r\n                  key={idx}\r\n                  className=\"px-2 py-1 bg-orange-50 text-orange-700 text-xs rounded-full\"\r\n                >\r\n                  {gap}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Selected Experiences */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n          <Briefcase size={20} />\r\n          Most Relevant Experiences\r\n        </h3>\r\n\r\n        <div className=\"space-y-4\">\r\n          {analysis.selectedExperiences?.map((expData, expIndex) => (\r\n            <Card key={expIndex} variant=\"elevated\">\r\n              <div className=\"space-y-4\">\r\n                {/* Experience Header */}\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-semibold text-gray-900\">\r\n                      {expData.experience.title}\r\n                    </h4>\r\n                    <p className=\"text-sm text-gray-600\">{expData.experience.company}</p>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className={`px-3 py-1 rounded-full text-sm font-medium ${getPriorityBadge(expData.relevance.priority)}`}>\r\n                      {expData.relevance.priority}\r\n                    </span>\r\n                    <span className={`px-3 py-1 rounded-full text-sm font-medium ${getRelevanceColor(expData.relevance.score)}`}>\r\n                      {expData.relevance.score}% match\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Relevance Reasons */}\r\n                {expData.relevance.reasons?.length > 0 && (\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {expData.relevance.reasons.map((reason, idx) => (\r\n                      <span\r\n                        key={idx}\r\n                        className=\"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded\"\r\n                      >\r\n                        {reason}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Matched Skills */}\r\n                {expData.relevance.matchedSkills?.length > 0 && (\r\n                  <div>\r\n                    <p className=\"text-xs font-medium text-gray-600 mb-2\">Matched Skills:</p>\r\n                    <div className=\"flex flex-wrap gap-1\">\r\n                      {expData.relevance.matchedSkills.map((skill, idx) => (\r\n                        <span\r\n                          key={idx}\r\n                          className=\"px-2 py-0.5 bg-green-50 text-green-700 text-xs rounded\"\r\n                        >\r\n                          {skill}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Narrative Options */}\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2\">\r\n                    <TrendingUp size={16} />\r\n                    Select Narrative Style\r\n                  </p>\r\n                  <div className=\"space-y-2\">\r\n                    {expData.narratives?.map((narrative, narIdx) => (\r\n                      <div\r\n                        key={narIdx}\r\n                        className={`p-3 rounded-lg border-2 cursor-pointer transition-all ${\r\n                          selectedNarratives[expIndex]?.text === narrative.text\r\n                            ? 'border-blue-500 bg-blue-50'\r\n                            : 'border-gray-200 hover:border-gray-300 bg-white'\r\n                        }`}\r\n                        onClick={() => handleSelectNarrative(expIndex, narrative)}\r\n                      >\r\n                        <div className=\"flex items-start justify-between gap-3\">\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-2 mb-2\">\r\n                              <span className=\"text-xs font-medium text-gray-600 uppercase\">\r\n                                {narrative.style}\r\n                              </span>\r\n                              {narrative.strength === 'high' && (\r\n                                <Award size={14} className=\"text-yellow-600\" />\r\n                              )}\r\n                            </div>\r\n                            <p className=\"text-sm text-gray-700\">{narrative.text}</p>\r\n                          </div>\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              handleCopyNarrative(narrative.text);\r\n                            }}\r\n                            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                            title=\"Copy to clipboard\"\r\n                          >\r\n                            <Copy size={16} />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Quantified Achievements */}\r\n                {expData.quantifiedAchievements?.length > 0 && (\r\n                  <div>\r\n                    <button\r\n                      onClick={() => setExpandedExperience(expandedExperience === expIndex ? null : expIndex)}\r\n                      className=\"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900\"\r\n                    >\r\n                      {expandedExperience === expIndex ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\r\n                      Quantified Achievements ({expData.quantifiedAchievements.length})\r\n                    </button>\r\n                    {expandedExperience === expIndex && (\r\n                      <ul className=\"mt-2 space-y-1 pl-6\">\r\n                        {expData.quantifiedAchievements.map((achievement, idx) => (\r\n                          <li key={idx} className=\"text-sm text-gray-700 list-disc\">\r\n                            {achievement}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recommendations */}\r\n      {analysis.recommendations?.length > 0 && (\r\n        <Card title=\"Recommendations\" variant=\"info\">\r\n          <div className=\"space-y-3\">\r\n            {analysis.recommendations.map((rec, idx) => (\r\n              <div key={idx} className=\"flex items-start gap-3\">\r\n                <Lightbulb size={18} className=\"text-blue-600 flex-shrink-0 mt-0.5\" />\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-900\">{rec.message}</p>\r\n                  <p className=\"text-xs text-gray-600 mt-1\">{rec.action}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Additional Suggestions */}\r\n      {analysis.additionalSuggestions?.length > 0 && (\r\n        <Card title=\"Additional Experience Suggestions\" variant=\"elevated\">\r\n          <div className=\"space-y-2\">\r\n            {analysis.additionalSuggestions.map((suggestion, idx) => (\r\n              <div key={idx} className=\"p-3 bg-gray-50 rounded-lg\">\r\n                <div className=\"flex items-center justify-between mb-1\">\r\n                  <p className=\"text-sm font-medium text-gray-900\">\r\n                    {suggestion.experience.title} at {suggestion.experience.company}\r\n                  </p>\r\n                  <span className=\"text-xs font-medium text-gray-600\">\r\n                    {suggestion.relevanceScore}% match\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-xs text-gray-600\">{suggestion.reason}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"flex items-center justify-end gap-3 pt-4 border-t\">\r\n        {onClose && (\r\n          <Button variant=\"secondary\" onClick={onClose}>\r\n            Cancel\r\n          </Button>\r\n        )}\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={handleApplySelected}\r\n          disabled={Object.keys(selectedNarratives).length === 0}\r\n        >\r\n          Apply Selected Narratives to Cover Letter\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nExperienceHighlighter.propTypes = {\r\n  jobId: PropTypes.string.isRequired,\r\n  analysisData: PropTypes.object,\r\n  onSelectNarrative: PropTypes.func,\r\n  onClose: PropTypes.func\r\n};\r\n\r\nexport default ExperienceHighlighter;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\FollowUpReminderNotification.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":71,"column":11,"nodeType":"JSXOpeningElement","endLine":74,"endColumn":13},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":71,"column":11,"nodeType":"JSXOpeningElement","endLine":74,"endColumn":13},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":159,"column":5,"nodeType":"JSXOpeningElement","endLine":164,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":159,"column":5,"nodeType":"JSXOpeningElement","endLine":164,"endColumn":6}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { setAuthToken } from '../api/axios';\r\nimport { getPendingReminders, getReminderTypeInfo, formatScheduledDate } from '../api/followUpReminders';\r\n\r\n/**\r\n * FollowUpReminderNotification - Shows a notification badge/dropdown for pending reminders\r\n * Can be placed in the navbar or dashboard\r\n */\r\nexport default function FollowUpReminderNotification({ onViewAll, onOpenFollowUpTemplates }) {\r\n  const { getToken } = useAuth();\r\n  const [reminders, setReminders] = useState({ overdue: [], upcoming: [], total: 0 });\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const loadReminders = useCallback(async () => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const data = await getPendingReminders(7);\r\n      setReminders(data.data || { overdue: [], upcoming: [], total: 0 });\r\n    } catch (err) {\r\n      console.error('Failed to load reminders:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [getToken]);\r\n\r\n  useEffect(() => {\r\n    loadReminders();\r\n    // Refresh every 5 minutes\r\n    const interval = setInterval(loadReminders, 5 * 60 * 1000);\r\n    return () => clearInterval(interval);\r\n  }, [loadReminders]);\r\n\r\n  const totalCount = (reminders.overdue?.length || 0) + (reminders.upcoming?.length || 0);\r\n  const overdueCount = reminders.overdue?.length || 0;\r\n\r\n  // Don't show anything if no reminders\r\n  if (!loading && totalCount === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {/* Notification Bell/Badge */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition\"\r\n        title=\"Follow-up Reminders\"\r\n      >\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} \r\n            d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\r\n        </svg>\r\n        \r\n        {/* Badge */}\r\n        {totalCount > 0 && (\r\n          <span className={`absolute -top-1 -right-1 px-1.5 py-0.5 text-xs font-bold rounded-full ${\r\n            overdueCount > 0 ? 'bg-red-500 text-white' : 'bg-blue-500 text-white'\r\n          }`}>\r\n            {totalCount > 9 ? '9+' : totalCount}\r\n          </span>\r\n        )}\r\n      </button>\r\n\r\n      {/* Dropdown */}\r\n      {isOpen && (\r\n        <>\r\n          {/* Backdrop */}\r\n          <div \r\n            className=\"fixed inset-0 z-40\" \r\n            onClick={() => setIsOpen(false)}\r\n          />\r\n          \r\n          {/* Dropdown Content */}\r\n          <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50 overflow-hidden\">\r\n            {/* Header */}\r\n            <div className=\"px-4 py-3 bg-gray-50 border-b border-gray-200\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"font-semibold text-gray-800\">Follow-up Reminders</h3>\r\n                {overdueCount > 0 && (\r\n                  <span className=\"px-2 py-0.5 text-xs font-medium bg-red-100 text-red-800 rounded-full\">\r\n                    {overdueCount} overdue\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Reminders List */}\r\n            <div className=\"max-h-80 overflow-y-auto\">\r\n              {loading ? (\r\n                <div className=\"p-4 text-center text-gray-500\">\r\n                  <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto\"></div>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  {/* Overdue */}\r\n                  {reminders.overdue?.slice(0, 3).map(reminder => (\r\n                    <ReminderItem \r\n                      key={reminder._id} \r\n                      reminder={reminder} \r\n                      isOverdue={true}\r\n                      onClick={() => {\r\n                        setIsOpen(false);\r\n                        onOpenFollowUpTemplates?.(reminder.jobId);\r\n                      }}\r\n                    />\r\n                  ))}\r\n\r\n                  {/* Upcoming */}\r\n                  {reminders.upcoming?.slice(0, 3).map(reminder => (\r\n                    <ReminderItem \r\n                      key={reminder._id} \r\n                      reminder={reminder} \r\n                      isOverdue={false}\r\n                      onClick={() => {\r\n                        setIsOpen(false);\r\n                        onOpenFollowUpTemplates?.(reminder.jobId);\r\n                      }}\r\n                    />\r\n                  ))}\r\n\r\n                  {/* Empty State */}\r\n                  {totalCount === 0 && (\r\n                    <div className=\"p-4 text-center text-gray-500 text-sm\">\r\n                      No pending reminders\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            {totalCount > 0 && (\r\n              <div className=\"px-4 py-3 bg-gray-50 border-t border-gray-200\">\r\n                <button\r\n                  onClick={() => {\r\n                    setIsOpen(false);\r\n                    onViewAll?.();\r\n                  }}\r\n                  className=\"w-full text-center text-sm font-medium text-blue-600 hover:text-blue-800\"\r\n                >\r\n                  View All Reminders ΓåÆ\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ReminderItem({ reminder, isOverdue, onClick }) {\r\n  const typeInfo = getReminderTypeInfo(reminder.reminderType);\r\n  \r\n  return (\r\n    <div \r\n      className={`px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition ${\r\n        isOverdue ? 'bg-red-50' : ''\r\n      }`}\r\n      onClick={onClick}\r\n    >\r\n      <div className=\"flex items-start gap-3\">\r\n        <span className=\"text-lg\">{typeInfo.icon}</span>\r\n        <div className=\"flex-1 min-w-0\">\r\n          <p className=\"text-sm font-medium text-gray-800 truncate\">\r\n            {reminder.jobId?.title}\r\n          </p>\r\n          <p className=\"text-xs text-gray-600 truncate\">\r\n            {reminder.jobId?.company}\r\n          </p>\r\n          <p className={`text-xs font-medium mt-1 ${isOverdue ? 'text-red-600' : 'text-gray-500'}`}>\r\n            {formatScheduledDate(reminder.scheduledDate)}\r\n          </p>\r\n        </div>\r\n        <span className={`px-2 py-0.5 text-xs font-medium rounded-full ${\r\n          reminder.priority === 'high' ? 'bg-red-100 text-red-700' :\r\n          reminder.priority === 'medium' ? 'bg-yellow-100 text-yellow-700' :\r\n          'bg-green-100 text-green-700'\r\n        }`}>\r\n          {reminder.priority}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Compact reminder count badge for navbar\r\n */\r\nexport function FollowUpReminderBadge() {\r\n  const { getToken } = useAuth();\r\n  const [count, setCount] = useState(0);\r\n  const [hasOverdue, setHasOverdue] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const loadCount = async () => {\r\n      try {\r\n        const token = await getToken();\r\n        setAuthToken(token);\r\n        const data = await getPendingReminders(7);\r\n        const reminders = data.data || { overdue: [], upcoming: [] };\r\n        setCount((reminders.overdue?.length || 0) + (reminders.upcoming?.length || 0));\r\n        setHasOverdue((reminders.overdue?.length || 0) > 0);\r\n      } catch (err) {\r\n        console.error('Failed to load reminder count:', err);\r\n      }\r\n    };\r\n\r\n    loadCount();\r\n    const interval = setInterval(loadCount, 5 * 60 * 1000);\r\n    return () => clearInterval(interval);\r\n  }, [getToken]);\r\n\r\n  if (count === 0) return null;\r\n\r\n  return (\r\n    <span className={`px-1.5 py-0.5 text-xs font-bold rounded-full ${\r\n      hasOverdue ? 'bg-red-500 text-white' : 'bg-blue-500 text-white'\r\n    }`}>\r\n      {count > 9 ? '9+' : count}\r\n    </span>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\FollowUpReminders.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'response' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":129,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":129,"endColumn":21,"suggestions":[{"messageId":"removeVar","data":{"varName":"response"},"fix":{"range":[4085,4135],"text":""},"desc":"Remove unused variable 'response'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":188,"column":9,"nodeType":"JSXOpeningElement","endLine":191,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":188,"column":9,"nodeType":"JSXOpeningElement","endLine":191,"endColumn":10},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":523,"column":17,"nodeType":"JSXOpeningElement","endLine":523,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":534,"column":17,"nodeType":"JSXOpeningElement","endLine":534,"endColumn":81}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { setAuthToken } from '../api/axios';\r\nimport {\r\n  getPendingReminders,\r\n  getReminderStats,\r\n  snoozeReminder,\r\n  dismissReminder,\r\n  completeReminder,\r\n  getEtiquetteTips,\r\n  getPriorityBadgeClasses,\r\n  getStatusBadgeClasses,\r\n  getReminderTypeInfo,\r\n  formatScheduledDate,\r\n  getResponsivenessInfo,\r\n  dismissRejectedReminders,\r\n  generateEmailTemplate\r\n} from '../api/followUpReminders';\r\n\r\nconst SNOOZE_OPTIONS = [\r\n  { days: 1, label: '1 day' },\r\n  { days: 2, label: '2 days' },\r\n  { days: 3, label: '3 days' },\r\n  { days: 7, label: '1 week' }\r\n];\r\n\r\nexport default function FollowUpReminders({ onOpenFollowUpTemplates }) {\r\n  const { getToken } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n  const [reminders, setReminders] = useState({ overdue: [], upcoming: [], total: 0 });\r\n  const [stats, setStats] = useState(null);\r\n  const [expandedReminder, setExpandedReminder] = useState(null);\r\n  const [etiquetteTips, setEtiquetteTips] = useState(null);\r\n  const [selectedSnooze, setSelectedSnooze] = useState(null);\r\n  const [actionLoading, setActionLoading] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [showDismissedMessage, setShowDismissedMessage] = useState(false);\r\n  const [emailTemplate, setEmailTemplate] = useState(null);\r\n  const [showEmailTemplate, setShowEmailTemplate] = useState(false);\r\n\r\n  const loadReminders = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      \r\n      const [remindersData, statsData] = await Promise.all([\r\n        getPendingReminders(14),\r\n        getReminderStats()\r\n      ]);\r\n      \r\n      setReminders(remindersData.data || { overdue: [], upcoming: [], total: 0 });\r\n      setStats(statsData.data);\r\n    } catch (err) {\r\n      console.error('Failed to load reminders:', err);\r\n      setError('Failed to load reminders. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [getToken]);\r\n\r\n  useEffect(() => {\r\n    loadReminders();\r\n  }, [loadReminders]);\r\n\r\n  const loadEtiquetteTips = async (type) => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await getEtiquetteTips(type);\r\n      setEtiquetteTips(response.data);\r\n    } catch (err) {\r\n      console.error('Failed to load etiquette tips:', err);\r\n    }\r\n  };\r\n\r\n  const handleSnooze = async (reminderId, days) => {\r\n    try {\r\n      setActionLoading(reminderId);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await snoozeReminder(reminderId, { days });\r\n      await loadReminders();\r\n      setSelectedSnooze(null);\r\n    } catch (err) {\r\n      console.error('Failed to snooze reminder:', err);\r\n      setError('Failed to snooze reminder');\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const handleDismiss = async (reminderId, reason = 'Manually dismissed') => {\r\n    try {\r\n      setActionLoading(reminderId);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await dismissReminder(reminderId, reason);\r\n      await loadReminders();\r\n    } catch (err) {\r\n      console.error('Failed to dismiss reminder:', err);\r\n      setError('Failed to dismiss reminder');\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const handleComplete = async (reminderId) => {\r\n    try {\r\n      setActionLoading(reminderId);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await completeReminder(reminderId, { method: 'marked-complete' });\r\n      await loadReminders();\r\n    } catch (err) {\r\n      console.error('Failed to complete reminder:', err);\r\n      setError('Failed to complete reminder');\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const handleDismissRejected = async () => {\r\n    try {\r\n      setActionLoading('dismiss-rejected');\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await dismissRejectedReminders();\r\n      setShowDismissedMessage(true);\r\n      setTimeout(() => setShowDismissedMessage(false), 3000);\r\n      await loadReminders();\r\n    } catch (err) {\r\n      console.error('Failed to dismiss rejected reminders:', err);\r\n      setError('Failed to dismiss rejected reminders');\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const handleExpandReminder = async (reminder) => {\r\n    if (expandedReminder === reminder._id) {\r\n      setExpandedReminder(null);\r\n      setEtiquetteTips(null);\r\n    } else {\r\n      setExpandedReminder(reminder._id);\r\n      await loadEtiquetteTips(reminder.reminderType);\r\n    }\r\n  };\r\n\r\n  const handleSendFollowUp = (reminder) => {\r\n    if (onOpenFollowUpTemplates && reminder.jobId) {\r\n      onOpenFollowUpTemplates(reminder.jobId);\r\n    }\r\n  };\r\n\r\n  const handleGenerateEmailTemplate = async (reminderId) => {\r\n    try {\r\n      setActionLoading(reminderId);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await generateEmailTemplate(reminderId);\r\n      setEmailTemplate(response.data);\r\n      setShowEmailTemplate(true);\r\n    } catch (err) {\r\n      console.error('Failed to generate email template:', err);\r\n      setError('Failed to generate email template');\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const ReminderCard = ({ reminder, isOverdue }) => {\r\n    const typeInfo = getReminderTypeInfo(reminder.reminderType);\r\n    const isExpanded = expandedReminder === reminder._id;\r\n    const isLoading = actionLoading === reminder._id;\r\n    const responsivenessInfo = getResponsivenessInfo(reminder.companyResponsiveness?.responsiveness);\r\n\r\n    return (\r\n      <div \r\n        className={`border rounded-lg p-4 mb-3 transition-all ${\r\n          isOverdue \r\n            ? 'border-red-300 bg-red-50' \r\n            : 'border-gray-200 bg-white hover:shadow-md'\r\n        }`}\r\n      >\r\n        {/* Header */}\r\n        <div \r\n          className=\"flex items-start justify-between cursor-pointer\"\r\n          onClick={() => handleExpandReminder(reminder)}\r\n        >\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex items-center gap-2 mb-1\">\r\n              <span className=\"text-xl\">{typeInfo.icon}</span>\r\n              <h4 className=\"font-medium text-gray-900\">{reminder.title}</h4>\r\n            </div>\r\n            <div className=\"flex flex-wrap items-center gap-2 text-sm\">\r\n              <span className=\"text-gray-600\">\r\n                {reminder.jobId?.title} at {reminder.jobId?.company}\r\n              </span>\r\n              <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${getPriorityBadgeClasses(reminder.priority)}`}>\r\n                {reminder.priority}\r\n              </span>\r\n              <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${getStatusBadgeClasses(reminder.status)}`}>\r\n                {reminder.status}\r\n              </span>\r\n            </div>\r\n            <div className={`mt-1 text-sm font-medium ${isOverdue ? 'text-red-600' : 'text-gray-600'}`}>\r\n              {formatScheduledDate(reminder.scheduledDate)}\r\n            </div>\r\n          </div>\r\n          <div className=\"ml-4\">\r\n            <span className=\"text-gray-400 text-lg\">\r\n              {isExpanded ? 'Γû╝' : 'Γû╢'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Expanded Content */}\r\n        {isExpanded && (\r\n          <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n            {/* Description */}\r\n            <p className=\"text-sm text-gray-700 mb-4\">{reminder.description}</p>\r\n\r\n            {/* Company Responsiveness */}\r\n            {reminder.companyResponsiveness && reminder.companyResponsiveness.responsiveness !== 'unknown' && (\r\n              <div className=\"mb-4 p-3 bg-gray-50 rounded-lg\">\r\n                <div className=\"flex items-center gap-2 mb-1\">\r\n                  <span className=\"text-sm font-medium text-gray-700\">Company Responsiveness:</span>\r\n                  <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${responsivenessInfo.color}`}>\r\n                    {responsivenessInfo.label}\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-xs text-gray-600\">{responsivenessInfo.description}</p>\r\n                {reminder.adjustedFrequency?.adjustmentReason && (\r\n                  <p className=\"text-xs text-gray-500 mt-1 italic\">\r\n                    Timing adjusted: {reminder.adjustedFrequency.adjustmentReason}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Etiquette Tips */}\r\n            {etiquetteTips && (\r\n              <div className=\"mb-4\">\r\n                <h5 className=\"text-sm font-medium text-gray-800 mb-2 flex items-center gap-1\">\r\n                  <span>≡ƒÆí</span> Follow-up Etiquette Tips\r\n                </h5>\r\n                <ul className=\"space-y-1\">\r\n                  {etiquetteTips.tips?.map((tip, index) => (\r\n                    <li key={index} className=\"flex items-start gap-2 text-sm\">\r\n                      <span className={`mt-0.5 ${\r\n                        tip.importance === 'critical' ? 'text-red-500' :\r\n                        tip.importance === 'important' ? 'text-yellow-500' :\r\n                        'text-green-500'\r\n                      }`}>\r\n                        {tip.importance === 'critical' ? 'ΓÜá∩╕Å' :\r\n                         tip.importance === 'important' ? '≡ƒôî' : '≡ƒÆÜ'}\r\n                      </span>\r\n                      <span className=\"text-gray-700\">{tip.tip}</span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n\r\n            {/* Suggested Template */}\r\n            {reminder.suggestedTemplateType && (\r\n              <div className=\"mb-4 p-3 bg-blue-50 rounded-lg\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span>≡ƒôº</span>\r\n                  <span className=\"text-sm text-blue-800\">\r\n                    Suggested template: <span className=\"font-medium capitalize\">{reminder.suggestedTemplateType.replace('-', ' ')}</span>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex flex-wrap gap-2 pt-4 border-t border-gray-200\">\r\n              {/* Generate Email Template Button */}\r\n              <button\r\n                onClick={() => handleGenerateEmailTemplate(reminder._id)}\r\n                disabled={isLoading}\r\n                className=\"px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition disabled:opacity-50\"\r\n              >\r\n                ≡ƒô¥ Generate Email Template\r\n              </button>\r\n\r\n              {/* Send Follow-up Button */}\r\n              <button\r\n                onClick={() => handleSendFollowUp(reminder)}\r\n                disabled={isLoading}\r\n                className=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition disabled:opacity-50\"\r\n              >\r\n                ≡ƒôº Send Follow-up\r\n              </button>\r\n\r\n              {/* Complete Button */}\r\n              <button\r\n                onClick={() => handleComplete(reminder._id)}\r\n                disabled={isLoading}\r\n                className=\"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition disabled:opacity-50\"\r\n              >\r\n                {isLoading ? '...' : 'Γ£ô Mark Complete'}\r\n              </button>\r\n\r\n              {/* Snooze Dropdown */}\r\n              <div className=\"relative\">\r\n                <button\r\n                  onClick={() => setSelectedSnooze(selectedSnooze === reminder._id ? null : reminder._id)}\r\n                  disabled={isLoading}\r\n                  className=\"px-4 py-2 bg-yellow-500 text-white text-sm font-medium rounded-lg hover:bg-yellow-600 transition disabled:opacity-50\"\r\n                >\r\n                  ΓÅ░ Snooze\r\n                </button>\r\n                {selectedSnooze === reminder._id && (\r\n                  <div className=\"absolute z-10 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-[120px]\">\r\n                    {SNOOZE_OPTIONS.map(option => (\r\n                      <button\r\n                        key={option.days}\r\n                        onClick={() => handleSnooze(reminder._id, option.days)}\r\n                        className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                      >\r\n                        {option.label}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Dismiss Button */}\r\n              <button\r\n                onClick={() => handleDismiss(reminder._id)}\r\n                disabled={isLoading}\r\n                className=\"px-4 py-2 bg-gray-200 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-300 transition disabled:opacity-50\"\r\n              >\r\n                {isLoading ? '...' : 'Γ£ò Dismiss'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-6 flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n        <span className=\"ml-2 text-gray-600\">Loading reminders...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"follow-up-reminders\">\r\n      {/* Header */}\r\n      <div className=\"bg-gray-50 border-b px-6 py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-lg font-heading font-semibold text-gray-900\">\r\n              Follow-up Reminders\r\n            </h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">\r\n              Stay on top of your applications with intelligent follow-up reminders\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"mx-6 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\">\r\n          {error}\r\n          <button onClick={() => setError(null)} className=\"ml-2 font-medium hover:underline\">\r\n            Dismiss\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Success Message */}\r\n      {showDismissedMessage && (\r\n        <div className=\"mx-6 mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm\">\r\n          Γ£ô Reminders for rejected applications have been dismissed\r\n        </div>\r\n      )}\r\n\r\n      {/* Statistics */}\r\n      {stats && (\r\n        <div className=\"px-6 py-4 bg-white border-b\">\r\n          <div className=\"grid grid-cols-4 gap-4\">\r\n            <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n              <div className=\"text-2xl font-bold text-gray-800\">{stats.overdueCount || 0}</div>\r\n              <div className=\"text-xs text-red-600 font-medium\">Overdue</div>\r\n            </div>\r\n            <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n              <div className=\"text-2xl font-bold text-gray-800\">{stats.upcomingCount || 0}</div>\r\n              <div className=\"text-xs text-blue-600 font-medium\">Upcoming</div>\r\n            </div>\r\n            <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n              <div className=\"text-2xl font-bold text-gray-800\">{stats.completionRate || 0}%</div>\r\n              <div className=\"text-xs text-green-600 font-medium\">Completion Rate</div>\r\n            </div>\r\n            <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n              <div className=\"text-2xl font-bold text-gray-800\">{stats.responseRate || 0}%</div>\r\n              <div className=\"text-xs text-purple-600 font-medium\">Response Rate</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Actions Bar */}\r\n      <div className=\"px-6 py-3 bg-gray-50 border-b flex justify-between items-center\">\r\n        <button\r\n          onClick={loadReminders}\r\n          className=\"text-sm text-blue-600 hover:text-blue-800 font-medium\"\r\n        >\r\n          Γå╗ Refresh\r\n        </button>\r\n        <button\r\n          onClick={handleDismissRejected}\r\n          disabled={actionLoading === 'dismiss-rejected'}\r\n          className=\"text-sm text-gray-600 hover:text-gray-800\"\r\n        >\r\n          {actionLoading === 'dismiss-rejected' ? 'Dismissing...' : 'Dismiss all for rejected apps'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"p-6\">\r\n        {/* Overdue Reminders */}\r\n        {reminders.overdue?.length > 0 && (\r\n          <div className=\"mb-6\">\r\n            <h3 className=\"text-sm font-semibold text-red-600 mb-3 flex items-center gap-2\">\r\n              <span>ΓÜá∩╕Å</span> Overdue ({reminders.overdue.length})\r\n            </h3>\r\n            {reminders.overdue.map(reminder => (\r\n              <ReminderCard key={reminder._id} reminder={reminder} isOverdue={true} />\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Upcoming Reminders */}\r\n        {reminders.upcoming?.length > 0 && (\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2\">\r\n              <span>≡ƒôà</span> Upcoming ({reminders.upcoming.length})\r\n            </h3>\r\n            {reminders.upcoming.map(reminder => (\r\n              <ReminderCard key={reminder._id} reminder={reminder} isOverdue={false} />\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Empty State */}\r\n        {(!reminders.overdue?.length && !reminders.upcoming?.length) && (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-4xl mb-4\">Γ£à</div>\r\n            <h3 className=\"text-lg font-medium text-gray-800 mb-2\">All caught up!</h3>\r\n            <p className=\"text-sm text-gray-600\">\r\n              No pending follow-up reminders. Keep applying and they'll appear here automatically.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Best Practices Section */}\r\n        <div className=\"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n          <h3 className=\"text-sm font-semibold text-blue-800 mb-3 flex items-center gap-2\">\r\n            <span>≡ƒôÜ</span> Follow-up Best Practices\r\n          </h3>\r\n          <ul className=\"space-y-2 text-sm text-blue-700\">\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-blue-500\">ΓÇó</span>\r\n              <span><strong>Thank-you notes:</strong> Send within 24 hours of any interview</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-blue-500\">ΓÇó</span>\r\n              <span><strong>Application follow-ups:</strong> Wait 1-2 weeks before checking in</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-blue-500\">ΓÇó</span>\r\n              <span><strong>Post-interview:</strong> Follow up 3-5 business days after if no response</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-blue-500\">ΓÇó</span>\r\n              <span><strong>Keep it brief:</strong> Your follow-up should be 3-4 sentences max</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-blue-500\">ΓÇó</span>\r\n              <span><strong>Know when to stop:</strong> Two follow-ups max per stage; then move on</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Email Template Modal */}\r\n      {showEmailTemplate && emailTemplate && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-start mb-4\">\r\n                <h3 className=\"text-xl font-bold text-gray-900\">≡ƒôº Follow-Up Email Template</h3>\r\n                <button\r\n                  onClick={() => setShowEmailTemplate(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600 text-2xl leading-none\"\r\n                >\r\n                  ├ù\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"mb-4 p-3 bg-blue-50 rounded-lg\">\r\n                <p className=\"text-sm text-blue-800\">\r\n                  <strong>{emailTemplate.job?.title}</strong> at <strong>{emailTemplate.job?.company}</strong>\r\n                </p>\r\n                <p className=\"text-xs text-blue-600 mt-1\">\r\n                  Template type: {emailTemplate.reminderType?.replace(/-/g, ' ')}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Subject */}\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Subject:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={emailTemplate.template?.subject || ''}\r\n                  readOnly\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-800\"\r\n                />\r\n              </div>\r\n\r\n              {/* Body */}\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email Body:</label>\r\n                <textarea\r\n                  value={emailTemplate.template?.body || ''}\r\n                  readOnly\r\n                  rows={15}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-800 font-mono text-sm\"\r\n                />\r\n              </div>\r\n\r\n              {/* Etiquette Tips */}\r\n              {emailTemplate.etiquetteTips && emailTemplate.etiquetteTips.length > 0 && (\r\n                <div className=\"mb-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200\">\r\n                  <h4 className=\"text-sm font-semibold text-yellow-800 mb-2\">≡ƒÆí Etiquette Tips:</h4>\r\n                  <ul className=\"space-y-1\">\r\n                    {emailTemplate.etiquetteTips.map((tip, index) => (\r\n                      <li key={index} className=\"text-sm text-yellow-800 flex items-start gap-2\">\r\n                        <span className={tip.importance === 'critical' ? 'text-red-500' : tip.importance === 'important' ? 'text-yellow-500' : 'text-green-500'}>\r\n                          {tip.importance === 'critical' ? 'ΓÜá∩╕Å' : tip.importance === 'important' ? '≡ƒôî' : '≡ƒÆÜ'}\r\n                        </span>\r\n                        <span>{tip.tip}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              {/* Suggested Actions */}\r\n              {emailTemplate.suggestedActions && emailTemplate.suggestedActions.length > 0 && (\r\n                <div className=\"mb-4 p-4 bg-green-50 rounded-lg border border-green-200\">\r\n                  <h4 className=\"text-sm font-semibold text-green-800 mb-2\">Γ£à Before Sending:</h4>\r\n                  <ul className=\"space-y-1\">\r\n                    {emailTemplate.suggestedActions.map((action, index) => (\r\n                      <li key={index} className=\"text-sm text-green-800\">\r\n                        ΓÇó {action}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              {/* Actions */}\r\n              <div className=\"flex gap-3 pt-4 border-t\">\r\n                <button\r\n                  onClick={() => {\r\n                    navigator.clipboard.writeText(\r\n                      `Subject: ${emailTemplate.template?.subject}\\n\\n${emailTemplate.template?.body}`\r\n                    );\r\n                    alert('Email template copied to clipboard!');\r\n                  }}\r\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition\"\r\n                >\r\n                  ≡ƒôï Copy to Clipboard\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowEmailTemplate(false)}\r\n                  className=\"px-4 py-2 bg-gray-200 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-300 transition\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\FollowUpTemplates.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'loadFollowUps' and 'loadStatistics'. Either include them or remove the dependency array.","line":126,"column":6,"nodeType":"ArrayExpression","endLine":126,"endColumn":11,"suggestions":[{"desc":"Update the dependencies array to be: [job, loadFollowUps, loadStatistics]","fix":{"range":[6037,6042],"text":"[job, loadFollowUps, loadStatistics]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":305,"column":9,"nodeType":"JSXOpeningElement","endLine":305,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":336,"column":11,"nodeType":"JSXOpeningElement","endLine":336,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":351,"column":11,"nodeType":"JSXOpeningElement","endLine":351,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":371,"column":11,"nodeType":"JSXOpeningElement","endLine":371,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":385,"column":11,"nodeType":"JSXOpeningElement","endLine":385,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":422,"column":11,"nodeType":"JSXOpeningElement","endLine":422,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":459,"column":11,"nodeType":"JSXOpeningElement","endLine":459,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":479,"column":11,"nodeType":"JSXOpeningElement","endLine":479,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":490,"column":11,"nodeType":"JSXOpeningElement","endLine":490,"endColumn":75},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":523,"column":15,"nodeType":"JSXOpeningElement","endLine":527,"endColumn":16},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":523,"column":15,"nodeType":"JSXOpeningElement","endLine":527,"endColumn":16}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport { useAuth, useUser } from \"@clerk/clerk-react\";\r\nimport api, { setAuthToken } from \"../api/axios\";\r\n\r\nconst TEMPLATE_TYPES = {\r\n  THANK_YOU: \"thank-you\",\r\n  STATUS_INQUIRY: \"status-inquiry\",\r\n  FEEDBACK_REQUEST: \"feedback-request\",\r\n  NETWORKING: \"networking\",\r\n};\r\n\r\nconst TIMING_SUGGESTIONS = {\r\n  \"thank-you\": { hours: 24, description: \"Send within 24 hours after interview\" },\r\n  \"status-inquiry\": { days: 7, description: \"Wait 7-10 days after interview before status check\" },\r\n  \"feedback-request\": { days: 14, description: \"Request feedback 2 weeks after final decision\" },\r\n  \"networking\": { days: 3, description: \"Reach out within 3-5 days after rejection\" },\r\n};\r\n\r\nfunction generateTemplate(type, job, interviewDetails = {}, userName = \"[Your Name]\") {\r\n  const { \r\n    interviewer = {}, \r\n    interviewDate = null, \r\n    specificTopics = [], \r\n    companyProjects = [],\r\n    interviewNotes = \"\"\r\n  } = interviewDetails;\r\n\r\n  const interviewerName = interviewer.name || \"Hiring Manager\";\r\n  const company = job.company || \"the company\";\r\n  const role = job.title || \"the position\";\r\n  \r\n  const templates = {\r\n    \"thank-you\": {\r\n      subject: `Thank You - ${role} Interview`,\r\n      body: `Dear ${interviewerName},\r\n\r\nThank you for taking the time to speak with me ${interviewDate ? `on ${new Date(interviewDate + 'T12:00:00').toLocaleDateString()}` : 'recently'} about the ${role} position at ${company}. I truly enjoyed our conversation and learning more about ${companyProjects.length > 0 ? companyProjects[0] : 'the team\\'s work'}.\r\n\r\n${specificTopics.length > 0 ? `I was particularly excited to discuss ${specificTopics.join(', ')}. ${specificTopics.length === 1 ? 'This aligns' : 'These align'} perfectly with my experience and passion.` : 'Our discussion about the role\\'s challenges and opportunities reinforced my enthusiasm for this position.'}\r\n\r\n${interviewNotes ? `\\n${interviewNotes}\\n` : ''}\r\nI'm very interested in contributing to ${company}'s mission and believe my skills would be a strong fit for your team. Please let me know if you need any additional information from me.\r\n\r\nThank you again for your time and consideration. I look forward to hearing from you.\r\n\r\nBest regards,\r\n${userName}`,\r\n    },\r\n    \"status-inquiry\": {\r\n      subject: `Follow-up Regarding ${role} Application`,\r\n      body: `Dear ${interviewerName},\r\n\r\nI hope this email finds you well. I wanted to follow up on my application for the ${role} position at ${company}${interviewDate ? `, which we discussed on ${new Date(interviewDate).toLocaleDateString()}` : ''}.\r\n\r\nI remain very interested in this opportunity and am excited about the possibility of joining your team. ${specificTopics.length > 0 ? `Our conversation about ${specificTopics[0]} particularly resonated with me.` : ''}\r\n\r\nI understand that hiring processes take time, and I wanted to check if there are any updates on the position or if you need any additional information from me.\r\n\r\nThank you for your time and consideration. I look forward to hearing from you.\r\n\r\nBest regards,\r\n${userName}`,\r\n    },\r\n    \"feedback-request\": {\r\n      subject: `Interview Feedback Request - ${role}`,\r\n      body: `Dear ${interviewerName},\r\n\r\nThank you again for the opportunity to interview for the ${role} position at ${company}. While I'm disappointed not to be moving forward, I greatly appreciated the experience.\r\n\r\nI'm committed to continuous improvement in my career, and I would be very grateful if you could share any feedback from the interview process. Understanding areas where I could strengthen my skills or presentation would be invaluable for my professional development.\r\n\r\nI recognize that providing feedback takes time, so I appreciate any insights you're able to share. Even high-level comments would be helpful.\r\n\r\nThank you again for your time and consideration.\r\n\r\nBest regards,\r\n${userName}`,\r\n    },\r\n    \"networking\": {\r\n      subject: `Staying Connected - ${company}`,\r\n      body: `Dear ${interviewerName},\r\n\r\nThank you for taking the time to speak with me about the ${role} position at ${company}. While I understand the position has moved in a different direction, I truly valued our conversation${specificTopics.length > 0 ? `, especially discussing ${specificTopics[0]}` : ''}.\r\n\r\nI'm very impressed by ${company}'s work and mission, and I'd love to stay connected for potential future opportunities. I'm also happy to be a resource if I can ever be helpful to you or your team.\r\n\r\nWould you be open to connecting on LinkedIn? I'd enjoy staying in touch and following ${company}'s continued success.\r\n\r\nThank you again for your time and consideration.\r\n\r\nBest regards,\r\n${userName}`,\r\n    },\r\n  };\r\n\r\n  return templates[type] || templates[\"thank-you\"];\r\n}\r\n\r\nexport default function FollowUpTemplates({ job, onClose }) {\r\n  const { getToken } = useAuth();\r\n  const { user } = useUser();\r\n  const userName = user ? `${user.firstName || ''} ${user.lastName || ''}`.trim() || user.fullName || '[Your Name]' : '[Your Name]';\r\n  const [templateType, setTemplateType] = useState(TEMPLATE_TYPES.THANK_YOU);\r\n  const [template, setTemplate] = useState({ subject: \"\", body: \"\" });\r\n  const [interviewDetails, setInterviewDetails] = useState({\r\n    interviewer: { name: \"\" },\r\n    interviewDate: \"\",\r\n    specificTopics: [],\r\n    companyProjects: [],\r\n    interviewNotes: job?.interviewNotes || \"\",\r\n  });\r\n  const [topicInput, setTopicInput] = useState(\"\");\r\n  const [projectInput, setProjectInput] = useState(\"\");\r\n  const [followUps, setFollowUps] = useState([]);\r\n  const [statistics, setStatistics] = useState({ sent: 0, responded: 0, responseRate: 0 });\r\n  const [loading, setLoading] = useState(false);\r\n  const [copySuccess, setCopySuccess] = useState(false);\r\n  const [sendSuccess, setSendSuccess] = useState(false);\r\n  const [expandedFollowUp, setExpandedFollowUp] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (job) {\r\n      loadFollowUps();\r\n      loadStatistics();\r\n    }\r\n  }, [job]);\r\n\r\n  useEffect(() => {\r\n    const generated = generateTemplate(templateType, job, interviewDetails, userName);\r\n    setTemplate(generated);\r\n  }, [templateType, job, interviewDetails, userName]);\r\n\r\n  const loadFollowUps = async () => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await api.get(`/api/follow-ups/${job._id}`);\r\n      setFollowUps(response.data.data || []);\r\n    } catch (error) {\r\n      console.error(\"Failed to load follow-ups:\", error);\r\n    }\r\n  };\r\n\r\n  const loadStatistics = async () => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await api.get(`/api/follow-ups/stats/${job._id}`);\r\n      setStatistics(response.data.data || { sent: 0, responded: 0, responseRate: 0 });\r\n    } catch (error) {\r\n      console.error(\"Failed to load statistics:\", error);\r\n    }\r\n  };\r\n\r\n  const handleAddTopic = () => {\r\n    if (topicInput.trim()) {\r\n      setInterviewDetails(prev => ({\r\n        ...prev,\r\n        specificTopics: [...prev.specificTopics, topicInput.trim()]\r\n      }));\r\n      setTopicInput(\"\");\r\n    }\r\n  };\r\n\r\n  const handleAddProject = () => {\r\n    if (projectInput.trim()) {\r\n      setInterviewDetails(prev => ({\r\n        ...prev,\r\n        companyProjects: [...prev.companyProjects, projectInput.trim()]\r\n      }));\r\n      setProjectInput(\"\");\r\n    }\r\n  };\r\n\r\n  const handleRemoveTopic = (index) => {\r\n    setInterviewDetails(prev => ({\r\n      ...prev,\r\n      specificTopics: prev.specificTopics.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handleRemoveProject = (index) => {\r\n    setInterviewDetails(prev => ({\r\n      ...prev,\r\n      companyProjects: prev.companyProjects.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handleCopyToClipboard = async () => {\r\n    try {\r\n      const fullText = `Subject: ${template.subject}\\n\\n${template.body}`;\r\n      await navigator.clipboard.writeText(fullText);\r\n      setCopySuccess(true);\r\n      setTimeout(() => setCopySuccess(false), 2000);\r\n    } catch (error) {\r\n      console.error(\"Failed to copy:\", error);\r\n      alert(\"Failed to copy to clipboard\");\r\n    }\r\n  };\r\n\r\n  const handleSendFollowUp = async () => {\r\n    // Check if interviewer email is provided\r\n    if (!interviewDetails.interviewer?.email) {\r\n      const proceed = window.confirm(\r\n        \"No interviewer email address provided. The follow-up will be recorded but no email will be sent.\\n\\n\" +\r\n        \"Would you like to continue? You can still copy the template and send it manually.\"\r\n      );\r\n      if (!proceed) return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      \r\n      const response = await api.post(\"/api/follow-ups\", {\r\n        jobId: job._id,\r\n        templateType,\r\n        subject: template.subject,\r\n        body: template.body,\r\n        interviewDetails,\r\n      });\r\n\r\n      const emailSent = response.data?.data?.emailSent;\r\n      const emailError = response.data?.data?.emailError;\r\n      \r\n      if (emailSent) {\r\n        setSendSuccess(true);\r\n        setTimeout(() => setSendSuccess(false), 5000);\r\n      } else if (emailError) {\r\n        alert(`Follow-up recorded but email failed to send: ${emailError}\\n\\nYou can copy the template and send it manually.`);\r\n      } else if (!interviewDetails.interviewer?.email) {\r\n        alert(\"Follow-up recorded. No email was sent because no interviewer email was provided.\\n\\nYou can copy the template and send it manually.\");\r\n      } else {\r\n        alert(\"Follow-up recorded. Email sending is not configured.\\n\\nYou can copy the template and send it manually.\");\r\n      }\r\n\r\n      await loadFollowUps();\r\n      await loadStatistics();\r\n    } catch (error) {\r\n      console.error(\"Failed to send follow-up:\", error);\r\n      alert(error.response?.data?.message || \"Failed to send follow-up\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleMarkResponse = async (followUpId, received) => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await api.put(`/api/follow-ups/${followUpId}/response`, { received });\r\n      await loadFollowUps();\r\n      await loadStatistics();\r\n    } catch (error) {\r\n      console.error(\"Failed to update response:\", error);\r\n      alert(\"Failed to update response status\");\r\n    }\r\n  };\r\n\r\n  const timingSuggestion = TIMING_SUGGESTIONS[templateType];\r\n\r\n  return (\r\n    <div className=\"follow-up-templates\">\r\n      {/* Header - matches Add Job modal style */}\r\n      <div className=\"bg-gray-50 border-b px-6 py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h3 className=\"text-lg font-heading font-semibold text-gray-900\">Interview Follow-Up Templates</h3>\r\n            <p className=\"text-sm text-gray-600 mt-1\">{job.title} at {job.company}{job.location && ` ΓÇó ${job.location}`}</p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition\"\r\n            aria-label=\"Close\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content area with padding */}\r\n      <div className=\"p-6\">\r\n\r\n      {/* Statistics */}\r\n      <div className=\"bg-gray-50 rounded-lg p-4 mb-6 grid grid-cols-3 gap-4 border border-gray-200\">\r\n        <div className=\"text-center\">\r\n          <div className=\"text-2xl font-bold text-gray-800\">{statistics.sent}</div>\r\n          <div className=\"text-sm text-gray-600\">Sent</div>\r\n        </div>\r\n        <div className=\"text-center border-l border-r border-gray-200\">\r\n          <div className=\"text-2xl font-bold text-gray-800\">{statistics.responded}</div>\r\n          <div className=\"text-sm text-gray-600\">Responded</div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <div className=\"text-2xl font-bold text-gray-800\">{statistics.responseRate}%</div>\r\n          <div className=\"text-sm text-gray-600\">Response Rate</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Template Type Selection */}\r\n      <div className=\"mb-6\">\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Template Type</label>\r\n        <select\r\n          value={templateType}\r\n          onChange={(e) => setTemplateType(e.target.value)}\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n        >\r\n          <option value={TEMPLATE_TYPES.THANK_YOU}>Thank You Email</option>\r\n          <option value={TEMPLATE_TYPES.STATUS_INQUIRY}>Status Inquiry</option>\r\n          <option value={TEMPLATE_TYPES.FEEDBACK_REQUEST}>Feedback Request</option>\r\n          {job.status === 'Rejected' && (\r\n            <option value={TEMPLATE_TYPES.NETWORKING}>Networking Follow-Up</option>\r\n          )}\r\n        </select>\r\n        \r\n        {/* Timing Suggestion */}\r\n        {timingSuggestion && (\r\n          <div className=\"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg flex items-start\">\r\n            <span className=\"text-gray-600 mr-2\">ΓÅ░</span>\r\n            <div className=\"text-sm text-gray-700\">\r\n              <strong>Timing Suggestion:</strong> {timingSuggestion.description}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Interview Details */}\r\n      <div className=\"mb-6 space-y-4\">\r\n        <h3 className=\"text-sm font-medium text-gray-800\">Personalization Details</h3>\r\n        \r\n        {/* Interviewer Name */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Interviewer Name</label>\r\n          <input\r\n            type=\"text\"\r\n            value={interviewDetails.interviewer.name}\r\n            onChange={(e) => setInterviewDetails(prev => ({\r\n              ...prev,\r\n              interviewer: { ...prev.interviewer, name: e.target.value }\r\n            }))}\r\n            placeholder=\"e.g., Sarah Johnson\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n\r\n        {/* Interviewer Email */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Interviewer Email <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            value={interviewDetails.interviewer.email || ''}\r\n            onChange={(e) => setInterviewDetails(prev => ({\r\n              ...prev,\r\n              interviewer: { ...prev.interviewer, email: e.target.value }\r\n            }))}\r\n            placeholder=\"e.g., sarah.johnson@company.com\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n          <p className=\"text-xs text-gray-500 mt-1\">\r\n            Required to send email. For demo purposes, you can use a test email address.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Interview Date */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Interview Date</label>\r\n          <input\r\n            type=\"date\"\r\n            value={interviewDetails.interviewDate}\r\n            onChange={(e) => setInterviewDetails(prev => ({\r\n              ...prev,\r\n              interviewDate: e.target.value\r\n            }))}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n\r\n        {/* Specific Topics */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Specific Topics Discussed</label>\r\n          <div className=\"flex gap-2 mb-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={topicInput}\r\n              onChange={(e) => setTopicInput(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleAddTopic()}\r\n              placeholder=\"e.g., microservices architecture\"\r\n              className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n            <button\r\n              onClick={handleAddTopic}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\"\r\n            >\r\n              Add\r\n            </button>\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {interviewDetails.specificTopics.map((topic, index) => (\r\n              <span\r\n                key={index}\r\n                className=\"inline-flex items-center px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm border border-gray-200\"\r\n              >\r\n                {topic}\r\n                <button\r\n                  onClick={() => handleRemoveTopic(index)}\r\n                  className=\"ml-2 text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  ├ù\r\n                </button>\r\n              </span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Company Projects */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Company Projects Mentioned</label>\r\n          <div className=\"flex gap-2 mb-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={projectInput}\r\n              onChange={(e) => setProjectInput(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleAddProject()}\r\n              placeholder=\"e.g., new payment system\"\r\n              className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n            <button\r\n              onClick={handleAddProject}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\"\r\n            >\r\n              Add\r\n            </button>\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {interviewDetails.companyProjects.map((project, index) => (\r\n              <span\r\n                key={index}\r\n                className=\"inline-flex items-center px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm border border-gray-200\"\r\n              >\r\n                {project}\r\n                <button\r\n                  onClick={() => handleRemoveProject(index)}\r\n                  className=\"ml-2 text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  ├ù\r\n                </button>\r\n              </span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Additional Notes */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Additional Notes (Optional)</label>\r\n          <textarea\r\n            value={interviewDetails.interviewNotes}\r\n            onChange={(e) => setInterviewDetails(prev => ({\r\n              ...prev,\r\n              interviewNotes: e.target.value\r\n            }))}\r\n            placeholder=\"Add any additional context or points you want to include...\"\r\n            rows=\"3\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Generated Template */}\r\n      <div className=\"mb-6\">\r\n        <h3 className=\"text-sm font-medium text-gray-800 mb-3\">Generated Template</h3>\r\n        \r\n        {/* Subject */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Subject</label>\r\n          <input\r\n            type=\"text\"\r\n            value={template.subject}\r\n            onChange={(e) => setTemplate(prev => ({ ...prev, subject: e.target.value }))}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n\r\n        {/* Body */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Body</label>\r\n          <textarea\r\n            value={template.body}\r\n            onChange={(e) => setTemplate(prev => ({ ...prev, body: e.target.value }))}\r\n            rows=\"12\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className=\"flex gap-3 mb-6 pt-4 border-t border-gray-200\">\r\n        <button\r\n          onClick={handleCopyToClipboard}\r\n          className=\"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium transition border border-gray-300\"\r\n        >\r\n          {copySuccess ? \"Γ£ô Copied!\" : \"Copy to Clipboard\"}\r\n        </button>\r\n        <button\r\n          onClick={handleSendFollowUp}\r\n          disabled={loading}\r\n          className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition disabled:opacity-50\"\r\n        >\r\n          {loading ? \"Sending...\" : sendSuccess ? \"Γ£ô Email Sent!\" : \"Send Follow-Up Email\"}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Follow-Up History */}\r\n      {followUps.length > 0 && (\r\n        <div className=\"pt-4 border-t border-gray-200\">\r\n          <h3 className=\"text-sm font-medium text-gray-800 mb-3\">Follow-Up History</h3>\r\n          <div className=\"space-y-3\">\r\n            {followUps.map((followUp) => (\r\n              <div\r\n                key={followUp._id}\r\n                className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer\"\r\n                onClick={() => setExpandedFollowUp(expandedFollowUp === followUp._id ? null : followUp._id)}\r\n              >\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"font-medium text-gray-800\">{followUp.subject}</div>\r\n                    <div className=\"text-sm text-gray-500\">\r\n                      {new Date(followUp.sentAt).toLocaleDateString()} at{\" \"}\r\n                      {new Date(followUp.sentAt).toLocaleTimeString()}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {followUp.emailSent !== undefined && (\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                        followUp.emailSent\r\n                          ? \"bg-blue-100 text-blue-800\"\r\n                          : \"bg-gray-100 text-gray-800\"\r\n                      }`} title={followUp.emailError ? `Email error: ${followUp.emailError}` : ''}>\r\n                        {followUp.emailSent ? \"≡ƒôº Sent\" : \"≡ƒô¥ Recorded\"}\r\n                      </span>\r\n                    )}\r\n                    <span className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                      followUp.responseReceived\r\n                        ? \"bg-green-100 text-green-800\"\r\n                        : \"bg-yellow-100 text-yellow-800\"\r\n                    }`}>\r\n                      {followUp.responseReceived ? \"Responded\" : \"Pending\"}\r\n                    </span>\r\n                    <span className=\"text-gray-400\">\r\n                      {expandedFollowUp === followUp._id ? \"Γû╝\" : \"Γû╢\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-sm text-gray-600 mb-2\">\r\n                  Type: <span className=\"font-medium capitalize\">{followUp.templateType.replace('-', ' ')}</span>\r\n                </div>\r\n                \r\n                {/* Expanded content */}\r\n                {expandedFollowUp === followUp._id && (\r\n                  <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                      <div className=\"text-sm font-medium text-gray-700 mb-2\">Subject:</div>\r\n                      <div className=\"text-sm text-gray-900 mb-4\">{followUp.subject}</div>\r\n                      \r\n                      <div className=\"text-sm font-medium text-gray-700 mb-2\">Message:</div>\r\n                      <div className=\"text-sm text-gray-900 whitespace-pre-wrap\">{followUp.body}</div>\r\n                      \r\n                      {followUp.interviewDetails?.interviewer?.name && (\r\n                        <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                          <div className=\"text-sm font-medium text-gray-700 mb-2\">Interview Details:</div>\r\n                          <div className=\"text-sm text-gray-600\">\r\n                            <div>Interviewer: {followUp.interviewDetails.interviewer.name}</div>\r\n                            {followUp.interviewDetails.interviewer.email && (\r\n                              <div>Email: {followUp.interviewDetails.interviewer.email}</div>\r\n                            )}\r\n                            {followUp.interviewDetails.interviewDate && (\r\n                              <div>Date: {new Date(followUp.interviewDetails.interviewDate).toLocaleDateString()}</div>\r\n                            )}\r\n                            {followUp.interviewDetails.specificTopics?.length > 0 && (\r\n                              <div>Topics: {followUp.interviewDetails.specificTopics.join(', ')}</div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {followUp.emailError && (\r\n                        <div className=\"mt-4 pt-4 border-t border-red-200\">\r\n                          <div className=\"text-sm font-medium text-red-700 mb-2\">ΓÜá∩╕Å Email Error:</div>\r\n                          <div className=\"text-sm text-red-600 bg-red-50 p-2 rounded\">\r\n                            {followUp.emailError}\r\n                          </div>\r\n                          <div className=\"text-xs text-gray-500 mt-2\">\r\n                            The follow-up was recorded but the email could not be sent. You can copy the template above and send it manually.\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {followUp.emailSent === false && !followUp.emailError && (\r\n                        <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                          <div className=\"text-xs text-gray-500\">\r\n                            Γä╣∩╕Å Email was not sent (SMTP not configured or no interviewer email provided). You can copy the template above and send it manually.\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                <div className=\"mt-3\">\r\n                  {!followUp.responseReceived ? (\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        handleMarkResponse(followUp._id, true);\r\n                      }}\r\n                      className=\"text-sm text-blue-600 hover:text-blue-800 font-medium\"\r\n                    >\r\n                      Mark as Responded\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        handleMarkResponse(followUp._id, false);\r\n                      }}\r\n                      className=\"text-sm text-gray-600 hover:text-gray-800 font-medium\"\r\n                    >\r\n                      Mark as Not Responded\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\GitHubShowcase.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchGitHubProfile' and 'fetchUserSkills'. Either include them or remove the dependency array.","line":36,"column":6,"nodeType":"ArrayExpression","endLine":36,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchGitHubProfile, fetchUserSkills]","fix":{"range":[1345,1347],"text":"[fetchGitHubProfile, fetchUserSkills]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'repo' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":178,"column":15,"nodeType":"Identifier","messageId":"unusedVar","endLine":178,"endColumn":19,"suggestions":[{"messageId":"removeVar","data":{"varName":"repo"},"fix":{"range":[5364,5431],"text":""},"desc":"Remove unused variable 'repo'."}]},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":337,"column":15,"nodeType":"JSXAttribute","endLine":337,"endColumn":102},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":338,"column":15,"nodeType":"JSXAttribute","endLine":338,"endColumn":101},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":346,"column":15,"nodeType":"JSXAttribute","endLine":346,"endColumn":85},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":347,"column":15,"nodeType":"JSXAttribute","endLine":347,"endColumn":84},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":426,"column":13,"nodeType":"JSXAttribute","endLine":426,"endColumn":83},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":427,"column":13,"nodeType":"JSXAttribute","endLine":427,"endColumn":82},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":471,"column":27,"nodeType":"JSXOpeningElement","endLine":471,"endColumn":91},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":531,"column":17,"nodeType":"JSXAttribute","endLine":531,"endColumn":87},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":532,"column":17,"nodeType":"JSXAttribute","endLine":532,"endColumn":83},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":541,"column":17,"nodeType":"JSXAttribute","endLine":541,"endColumn":108},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":542,"column":17,"nodeType":"JSXAttribute","endLine":542,"endColumn":107}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"@clerk/clerk-react\";\r\nimport api, { setAuthToken } from \"../api/axios\";\r\nimport Card from \"./Card\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\nimport ErrorMessage from \"./ErrorMessage\";\r\n\r\nexport default function GitHubShowcase() {\r\n  const { getToken } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  \r\n  // GitHub profile state\r\n  const [githubProfile, setGithubProfile] = useState(null);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  \r\n  // Connection form state\r\n  const [username, setUsername] = useState(\"\");\r\n  const [personalAccessToken, setPersonalAccessToken] = useState(\"\");\r\n  const [isConnecting, setIsConnecting] = useState(false);\r\n  \r\n  // Featured repos state\r\n  const [showRepoSelector, setShowRepoSelector] = useState(false);\r\n  const [selectedRepos, setSelectedRepos] = useState([]);\r\n  const [repoSkills, setRepoSkills] = useState({});\r\n  const [isSavingFeatured, setIsSavingFeatured] = useState(false);\r\n  const [userSkills, setUserSkills] = useState([]);\r\n  \r\n  // Refresh state\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchGitHubProfile();\r\n    fetchUserSkills();\r\n  }, []);\r\n\r\n  const fetchUserSkills = async () => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await api.get(\"/api/users/me\");\r\n      if (response.data.data && response.data.data.skills) {\r\n        setUserSkills(response.data.data.skills);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch user skills\", err);\r\n    }\r\n  };\r\n\r\n  const fetchGitHubProfile = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      \r\n      const response = await api.get(\"/api/github\");\r\n      setGithubProfile(response.data.profile);\r\n      setIsConnected(true);\r\n      \r\n      // Initialize selected repos from featured repos\r\n      if (response.data.profile.featuredRepos) {\r\n        setSelectedRepos(response.data.profile.featuredRepos.map(r => r.id));\r\n        const skills = {};\r\n        response.data.profile.featuredRepos.forEach(repo => {\r\n          skills[repo.id] = repo.linkedSkills || [];\r\n        });\r\n        setRepoSkills(skills);\r\n      }\r\n      \r\n      setError(null);\r\n    } catch (err) {\r\n      if (err.response?.status === 404) {\r\n        setIsConnected(false);\r\n      } else {\r\n        setError(err.response?.data?.error || \"Failed to load GitHub profile\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleConnect = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!username.trim()) {\r\n      setError(\"Please enter a GitHub username\");\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setIsConnecting(true);\r\n      setError(null);\r\n      \r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      \r\n      const response = await api.post(\"/api/github/connect\", {\r\n        username: username.trim(),\r\n        personalAccessToken: personalAccessToken.trim() || undefined\r\n      });\r\n      \r\n      setGithubProfile(response.data.profile);\r\n      setIsConnected(true);\r\n      setSuccess(\"GitHub account connected successfully!\");\r\n      setUsername(\"\");\r\n      setPersonalAccessToken(\"\");\r\n      \r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || err.response?.data?.details || \"Failed to connect GitHub account\");\r\n    } finally {\r\n      setIsConnecting(false);\r\n    }\r\n  };\r\n\r\n  const handleRefresh = async () => {\r\n    try {\r\n      setIsRefreshing(true);\r\n      setError(null);\r\n      \r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      \r\n      const response = await api.post(\"/api/github/refresh\", {\r\n        personalAccessToken: personalAccessToken.trim() || undefined\r\n      });\r\n      \r\n      setGithubProfile(response.data.profile);\r\n      setSuccess(\"GitHub data refreshed successfully!\");\r\n      \r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || \"Failed to refresh GitHub data\");\r\n    } finally {\r\n      setIsRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleRepo = (repoId) => {\r\n    setSelectedRepos(prev => {\r\n      if (prev.includes(repoId)) {\r\n        return prev.filter(id => id !== repoId);\r\n      } else {\r\n        return [...prev, repoId];\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleAddSkill = (repoId, skillName) => {\r\n    if (!skillName) return;\r\n    setRepoSkills(prev => {\r\n      const currentSkills = prev[repoId] || [];\r\n      if (currentSkills.includes(skillName)) return prev;\r\n      return {\r\n        ...prev,\r\n        [repoId]: [...currentSkills, skillName]\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleRemoveSkill = (repoId, skillName) => {\r\n    setRepoSkills(prev => ({\r\n      ...prev,\r\n      [repoId]: (prev[repoId] || []).filter(s => s !== skillName)\r\n    }));\r\n  };\r\n\r\n  const handleSaveFeatured = async () => {\r\n    try {\r\n      setIsSavingFeatured(true);\r\n      setError(null);\r\n      \r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      \r\n      const featuredRepos = selectedRepos.map((repoId, index) => {\r\n        const repo = githubProfile.repositories.find(r => r.id === repoId);\r\n        return {\r\n          id: repoId,\r\n          linkedSkills: repoSkills[repoId] || [],\r\n          displayOrder: index\r\n        };\r\n      });\r\n      \r\n      const response = await api.put(\"/api/github/featured\", {\r\n        featuredRepos\r\n      });\r\n      \r\n      // Update local state\r\n      setGithubProfile(prev => ({\r\n        ...prev,\r\n        featuredRepos: response.data.featuredRepos\r\n      }));\r\n      \r\n      setShowRepoSelector(false);\r\n      setSuccess(\"Featured repositories updated successfully!\");\r\n      \r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || \"Failed to update featured repositories\");\r\n    } finally {\r\n      setIsSavingFeatured(false);\r\n    }\r\n  };\r\n\r\n  const handleDisconnect = async () => {\r\n    if (!confirm(\"Are you sure you want to disconnect your GitHub account?\")) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      \r\n      await api.delete(\"/api/github/disconnect\");\r\n      \r\n      setGithubProfile(null);\r\n      setIsConnected(false);\r\n      setSelectedRepos([]);\r\n      setRepoSkills({});\r\n      setSuccess(\"GitHub account disconnected successfully!\");\r\n      \r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || \"Failed to disconnect GitHub account\");\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return \"N/A\";\r\n    return new Date(dateString).toLocaleDateString();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card>\r\n        <LoadingSpinner />\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Connection Form\r\n  if (!isConnected) {\r\n    return (\r\n      <Card>\r\n        <h2 className=\"text-2xl font-bold mb-4\">Connect GitHub Account</h2>\r\n        <p className=\"text-gray-600 mb-6\">\r\n          Showcase your GitHub projects on your profile to demonstrate your technical skills to employers.\r\n        </p>\r\n        \r\n        {error && <ErrorMessage message={error} onClose={() => setError(null)} />}\r\n        {success && (\r\n          <div className=\"mb-4 p-3 bg-green-100 text-green-800 rounded\">\r\n            {success}\r\n          </div>\r\n        )}\r\n        \r\n        <form onSubmit={handleConnect} className=\"space-y-4\">\r\n          <div>\r\n            <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              GitHub Username *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              placeholder=\"e.g., octocat\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div>\r\n            <label htmlFor=\"pat\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Personal Access Token (Optional)\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"pat\"\r\n              value={personalAccessToken}\r\n              onChange={(e) => setPersonalAccessToken(e.target.value)}\r\n              placeholder=\"Leave blank for public data only\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              Optional: Increases API rate limits. Only needs public repository access.\r\n            </p>\r\n          </div>\r\n          \r\n          <button\r\n            type=\"submit\"\r\n            disabled={isConnecting}\r\n            className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n          >\r\n            {isConnecting ? \"Connecting...\" : \"Connect GitHub\"}\r\n          </button>\r\n        </form>\r\n        \r\n        <div className=\"mt-6 p-4 bg-blue-50 rounded-md\">\r\n          <h3 className=\"font-semibold text-blue-900 mb-2\">How to create a Personal Access Token (Optional):</h3>\r\n          <ol className=\"text-sm text-blue-800 space-y-1 list-decimal list-inside\">\r\n            <li>Go to GitHub Settings ΓåÆ Developer settings ΓåÆ Personal access tokens ΓåÆ Tokens (classic)</li>\r\n            <li>Click \"Generate new token (classic)\"</li>\r\n            <li>Give it a name and select only \"public_repo\" scope</li>\r\n            <li>Click \"Generate token\" and copy it</li>\r\n          </ol>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Main Dashboard View\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header Card */}\r\n      <Card>\r\n        <div className=\"flex justify-between items-start mb-4\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold mb-2\">GitHub Profile</h2>\r\n            <p className=\"text-gray-600\">\r\n              Connected as <a href={githubProfile.profileData.htmlUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600 hover:underline\">@{githubProfile.username}</a>\r\n            </p>\r\n            {githubProfile.lastSynced && (\r\n              <p className=\"text-sm text-gray-500 mt-1\">\r\n                Last synced: {formatDate(githubProfile.lastSynced)}\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={handleRefresh}\r\n              disabled={isRefreshing}\r\n              className=\"px-6 py-2 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              style={{ backgroundColor: '#777C6D', marginRight: '0.5rem' }}\r\n              onMouseOver={e => !isRefreshing && (e.currentTarget.style.backgroundColor = '#656A5C')}\r\n              onMouseOut={e => !isRefreshing && (e.currentTarget.style.backgroundColor = '#777C6D')}\r\n            >\r\n              {isRefreshing ? \"Refreshing...\" : \"Refresh Data\"}\r\n            </button>\r\n            <button\r\n              onClick={handleDisconnect}\r\n              className=\"px-6 py-2 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              style={{ backgroundColor: '#B91C1C' }}\r\n              onMouseOver={e => (e.currentTarget.style.backgroundColor = '#991B1B')}\r\n              onMouseOut={e => (e.currentTarget.style.backgroundColor = '#B91C1C')}\r\n            >\r\n              Disconnect\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        {error && <ErrorMessage message={error} onClose={() => setError(null)} />}\r\n        {success && (\r\n          <div className=\"mb-4 p-3 bg-green-100 text-green-800 rounded\">\r\n            {success}\r\n          </div>\r\n        )}\r\n        \r\n        {/* Stats */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6\">\r\n          <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\r\n            <div className=\"text-2xl font-bold text-gray-800\">{githubProfile.profileData.publicRepos}</div>\r\n            <div className=\"text-sm text-gray-600\">Repositories</div>\r\n          </div>\r\n          <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\r\n            <div className=\"text-2xl font-bold text-gray-800\">{githubProfile.contributionStats.totalStars}</div>\r\n            <div className=\"text-sm text-gray-600\">Total Stars</div>\r\n          </div>\r\n          <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\r\n            <div className=\"text-2xl font-bold text-gray-800\">{githubProfile.profileData.followers}</div>\r\n            <div className=\"text-sm text-gray-600\">Followers</div>\r\n          </div>\r\n          <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\r\n            <div className=\"text-2xl font-bold text-gray-800\">{githubProfile.contributionStats.languages.length}</div>\r\n            <div className=\"text-sm text-gray-600\">Languages</div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Contribution Activity */}\r\n        <div className=\"mt-6\">\r\n          <h3 className=\"font-semibold text-gray-800 mb-3\">Contribution Activity</h3>\r\n          <div className=\"grid grid-cols-3 gap-4\">\r\n            <div className=\"text-center p-3 bg-blue-50 rounded-lg\">\r\n              <div className=\"text-xl font-bold text-blue-800\">{githubProfile.contributionStats.totalCommits || 0}</div>\r\n              <div className=\"text-xs text-blue-600\">Commits</div>\r\n            </div>\r\n            <div className=\"text-center p-3 bg-green-50 rounded-lg\">\r\n              <div className=\"text-xl font-bold text-green-800\">{githubProfile.contributionStats.totalPRs || 0}</div>\r\n              <div className=\"text-xs text-green-600\">Pull Requests</div>\r\n            </div>\r\n            <div className=\"text-center p-3 bg-purple-50 rounded-lg\">\r\n              <div className=\"text-xl font-bold text-purple-800\">{githubProfile.contributionStats.totalIssues || 0}</div>\r\n              <div className=\"text-xs text-purple-600\">Issues</div>\r\n            </div>\r\n          </div>\r\n          <p className=\"text-xs text-gray-500 mt-2\">\r\n            Recent activity from top repositories and public events\r\n          </p>\r\n        </div>\r\n        \r\n        {/* Top Languages */}\r\n        {githubProfile.contributionStats.languages.length > 0 && (\r\n          <div className=\"mt-6\">\r\n            <h3 className=\"font-semibold text-gray-800 mb-3\">Top Languages</h3>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {githubProfile.contributionStats.languages.slice(0, 5).map((lang) => (\r\n                <span key={lang.name} className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm\">\r\n                  {lang.name} ({lang.count})\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Featured Repositories */}\r\n      <Card>\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-xl font-bold\">Featured Repositories</h3>\r\n          <button\r\n            onClick={() => setShowRepoSelector(!showRepoSelector)}\r\n            className=\"px-6 py-2 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            style={{ backgroundColor: '#777C6D' }}\r\n            onMouseOver={e => (e.currentTarget.style.backgroundColor = '#656A5C')}\r\n            onMouseOut={e => (e.currentTarget.style.backgroundColor = '#777C6D')}\r\n          >\r\n            {showRepoSelector ? \"Cancel\" : \"Edit Featured\"}\r\n          </button>\r\n        </div>\r\n        \r\n        {showRepoSelector ? (\r\n          // Repository Selector\r\n          <div className=\"space-y-4\">\r\n            <p className=\"text-gray-600 text-sm\">\r\n              Select up to 6 repositories to showcase on your profile. You can also tag them with relevant skills.\r\n            </p>\r\n            \r\n            <div className=\"max-h-96 overflow-y-auto space-y-3\">\r\n              {githubProfile.repositories.map((repo) => (\r\n                <div key={repo.id} className=\"border rounded-lg p-4 hover:bg-gray-50\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedRepos.includes(repo.id)}\r\n                      onChange={() => handleToggleRepo(repo.id)}\r\n                      disabled={!selectedRepos.includes(repo.id) && selectedRepos.length >= 6}\r\n                      className=\"mt-1\"\r\n                    />\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <a href={repo.htmlUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"font-semibold text-blue-600 hover:underline\">\r\n                          {repo.name}\r\n                        </a>\r\n                        {repo.language && (\r\n                          <span className=\"text-xs px-2 py-0.5 bg-gray-200 rounded\">{repo.language}</span>\r\n                        )}\r\n                      </div>\r\n                      {repo.description && (\r\n                        <p className=\"text-sm text-gray-600 mb-2\">{repo.description}</p>\r\n                      )}\r\n                      <div className=\"flex gap-4 text-xs text-gray-500\">\r\n                        <span>Γ¡É {repo.stargazersCount}</span>\r\n                        <span>≡ƒöù {repo.forksCount} forks</span>\r\n                        <span>Updated {formatDate(repo.updatedAt)}</span>\r\n                      </div>\r\n                      \r\n                      {selectedRepos.includes(repo.id) && (\r\n                        <div className=\"mt-3\">\r\n                          <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                            Linked Skills\r\n                          </label>\r\n                          <div className=\"flex flex-wrap gap-1 mb-2\">\r\n                            {(repoSkills[repo.id] || []).map(skill => (\r\n                              <span key={skill} className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800\">\r\n                                {skill}\r\n                                <button\r\n                                  type=\"button\"\r\n                                  onClick={() => handleRemoveSkill(repo.id, skill)}\r\n                                  className=\"ml-1 text-blue-600 hover:text-blue-800 focus:outline-none font-bold\"\r\n                                >\r\n                                  ├ù\r\n                                </button>\r\n                              </span>\r\n                            ))}\r\n                          </div>\r\n                          <div style={{ maxHeight: '120px', overflowY: 'auto', border: '1px solid #d1d5db', borderRadius: '0.375rem', padding: '0.5rem', background: '#f9fafb' }}>\r\n                            {userSkills.length === 0 ? (\r\n                              <p className=\"text-xs text-gray-500 mt-1\">\r\n                                No skills found in your profile. Add skills to your profile to link them here.\r\n                              </p>\r\n                            ) : (\r\n                              userSkills.map(skill => (\r\n                                <label key={skill._id || skill.name} className=\"flex items-center gap-2 text-sm mb-1 cursor-pointer\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    checked={(repoSkills[repo.id] || []).includes(skill.name)}\r\n                                    onChange={e => {\r\n                                      if (e.target.checked) {\r\n                                        handleAddSkill(repo.id, skill.name);\r\n                                      } else {\r\n                                        handleRemoveSkill(repo.id, skill.name);\r\n                                      }\r\n                                    }}\r\n                                    className=\"accent-blue-600\"\r\n                                  />\r\n                                  {skill.name}\r\n                                </label>\r\n                              ))\r\n                            )}\r\n                          </div>\r\n                          {userSkills.length === 0 && (\r\n                            <p className=\"text-xs text-gray-500 mt-1\">\r\n                              No skills found in your profile. Add skills to your profile to link them here.\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"flex justify-end gap-2 pt-4 border-t\">\r\n              <button\r\n                onClick={() => setShowRepoSelector(false)}\r\n                className=\"px-6 py-2 border rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                style={{ borderColor: '#D1D5DB', color: '#374151', backgroundColor: '#fff', marginRight: '0.5rem' }}\r\n                onMouseOver={e => (e.currentTarget.style.backgroundColor = '#F9FAFB')}\r\n                onMouseOut={e => (e.currentTarget.style.backgroundColor = '#fff')}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleSaveFeatured}\r\n                disabled={isSavingFeatured || selectedRepos.length === 0}\r\n                className=\"px-6 py-2 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                style={{ backgroundColor: '#777C6D' }}\r\n                onMouseOver={e => !isSavingFeatured && (e.currentTarget.style.backgroundColor = '#656A5C')}\r\n                onMouseOut={e => !isSavingFeatured && (e.currentTarget.style.backgroundColor = '#777C6D')}\r\n              >\r\n                {isSavingFeatured ? \"Saving...\" : `Save Featured (${selectedRepos.length})`}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          // Display Featured Repos\r\n          <div>\r\n            {githubProfile.featuredRepos.length === 0 ? (\r\n              <p className=\"text-gray-500 text-center py-8\">\r\n                No featured repositories yet. Click \"Edit Featured\" to select your best projects.\r\n              </p>\r\n            ) : (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {githubProfile.featuredRepos.map((repo) => (\r\n                  <div key={repo.id} className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\r\n                    <div className=\"flex items-center gap-2 mb-2\">\r\n                      <a href={repo.htmlUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"font-semibold text-lg text-blue-600 hover:underline\">\r\n                        {repo.name}\r\n                      </a>\r\n                      {repo.language && (\r\n                        <span className=\"text-xs px-2 py-0.5 bg-gray-200 rounded\">{repo.language}</span>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    {repo.description && (\r\n                      <p className=\"text-sm text-gray-600 mb-3\">{repo.description}</p>\r\n                    )}\r\n                    \r\n                    <div className=\"flex gap-4 text-sm text-gray-500 mb-3\">\r\n                      <span>Γ¡É {repo.stargazersCount}</span>\r\n                      <span>≡ƒöù {repo.forksCount} forks</span>\r\n                    </div>\r\n                    \r\n                    {repo.linkedSkills && repo.linkedSkills.length > 0 && (\r\n                      <div className=\"flex flex-wrap gap-1\">\r\n                        {repo.linkedSkills.map((skill, idx) => (\r\n                          <span key={idx} className=\"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full\">\r\n                            {skill}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                    \r\n                    <div className=\"mt-3 text-xs text-gray-400\">\r\n                      Last updated: {formatDate(repo.updatedAt)}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\GoalDashboard.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadDashboard'. Either include it or remove the dependency array.","line":43,"column":6,"nodeType":"ArrayExpression","endLine":43,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [loadDashboard]","fix":{"range":[1285,1287],"text":"[loadDashboard]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { setAuthToken } from '../api/axios';\r\nimport {\r\n  getDashboardSummary,\r\n  getGoalRecommendations,\r\n  getSuccessPatterns,\r\n  formatGoalStatus,\r\n  calculateDaysRemaining\r\n} from '../api/goals';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport toast from 'react-hot-toast';\r\nimport {\r\n  Target,\r\n  TrendingUp,\r\n  Award,\r\n  AlertCircle,\r\n  Calendar,\r\n  CheckCircle,\r\n  Sparkles,\r\n  BarChart3,\r\n  Trophy,\r\n  Lightbulb\r\n} from 'lucide-react';\r\n\r\nconst GoalDashboard = () => {\r\n  const { getToken } = useAuth();\r\n  const [dashboard, setDashboard] = useState(null);\r\n  const [recommendations, setRecommendations] = useState(null);\r\n  const [patterns, setPatterns] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [loadingRecommendations, setLoadingRecommendations] = useState(false);\r\n  const [loadingPatterns, setLoadingPatterns] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadDashboard();\r\n  }, []);\r\n\r\n  const loadDashboard = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await getDashboardSummary();\r\n      setDashboard(response.dashboard);\r\n    } catch (err) {\r\n      console.error('Load Dashboard Error:', err);\r\n      setError(err.message || 'Failed to load dashboard');\r\n      toast.error('Failed to load goal dashboard');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadRecommendations = async () => {\r\n    try {\r\n      setLoadingRecommendations(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await getGoalRecommendations();\r\n      setRecommendations(response.recommendations);\r\n      toast.success('Goal recommendations generated!');\r\n    } catch (err) {\r\n      console.error('Load Recommendations Error:', err);\r\n      toast.error('Failed to generate recommendations');\r\n    } finally {\r\n      setLoadingRecommendations(false);\r\n    }\r\n  };\r\n\r\n  const loadPatterns = async () => {\r\n    try {\r\n      setLoadingPatterns(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await getSuccessPatterns();\r\n      setPatterns(response.patterns);\r\n      toast.success('Success patterns identified!');\r\n    } catch (err) {\r\n      console.error('Load Patterns Error:', err);\r\n      toast.error(err.message || 'Failed to identify patterns');\r\n    } finally {\r\n      setLoadingPatterns(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-[400px]\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorMessage message={error} />;\r\n  }\r\n\r\n  if (!dashboard) {\r\n    return <ErrorMessage message=\"No dashboard data available\" />;\r\n  }\r\n\r\n  const { stats, activeGoals, recentCompletions, atRiskGoals, upcomingMilestones, totalImpact } = dashboard;\r\n\r\n  // Empty state - no goals yet\r\n  if (!stats || stats.total === 0) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900 flex items-center gap-2\">\r\n              <Target className=\"w-8 h-8 text-primary-600\" />\r\n              Career Goals\r\n            </h1>\r\n            <p className=\"text-gray-600 mt-1\">Track your progress and achieve your career objectives</p>\r\n          </div>\r\n          <Link to=\"/goals/new\">\r\n            <Button variant=\"primary\" size=\"md\">\r\n              <Target className=\"w-5 h-5 mr-2\" />\r\n              Create Your First Goal\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Empty State */}\r\n        <Card className=\"text-center py-12\">\r\n          <div className=\"flex flex-col items-center space-y-4\">\r\n            <div className=\"w-24 h-24 bg-primary-100 rounded-full flex items-center justify-center\">\r\n              <Target className=\"w-12 h-12 text-primary-600\" />\r\n            </div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Set Your First Career Goal</h2>\r\n            <p className=\"text-gray-600 max-w-md\">\r\n              Start your journey to career success by creating SMART goals. Track your progress, \r\n              get AI-powered recommendations, and achieve your objectives.\r\n            </p>\r\n            <div className=\"flex flex-col sm:flex-row gap-4 mt-4\">\r\n              <Link to=\"/goals/new\">\r\n                <Button variant=\"primary\" size=\"lg\">\r\n                  <Target className=\"w-5 h-5 mr-2\" />\r\n                  Create Goal\r\n                </Button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Features Overview */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <Card>\r\n            <div className=\"text-center\">\r\n              <div className=\"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-3\">\r\n                <Sparkles className=\"w-6 h-6 text-primary-600\" />\r\n              </div>\r\n              <h3 className=\"font-semibold text-gray-900 mb-2\">AI Recommendations</h3>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Get personalized goal suggestions based on your profile and career path\r\n              </p>\r\n            </div>\r\n          </Card>\r\n          <Card>\r\n            <div className=\"text-center\">\r\n              <div className=\"w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center mx-auto mb-3\">\r\n                <BarChart3 className=\"w-6 h-6 text-success-600\" />\r\n              </div>\r\n              <h3 className=\"font-semibold text-gray-900 mb-2\">Progress Tracking</h3>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Monitor your progress with milestones, metrics, and visual insights\r\n              </p>\r\n            </div>\r\n          </Card>\r\n          <Card>\r\n            <div className=\"text-center\">\r\n              <div className=\"w-12 h-12 bg-accent-100 rounded-lg flex items-center justify-center mx-auto mb-3\">\r\n                <Award className=\"w-6 h-6 text-accent-600\" />\r\n              </div>\r\n              <h3 className=\"font-semibold text-gray-900 mb-2\">Achievement Celebration</h3>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Celebrate your successes and learn from your achievement patterns\r\n              </p>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n        <div className=\"flex flex-col gap-2 md:flex-row md:items-center md:gap-6 w-full justify-between\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900 flex items-center gap-2\">\r\n              <Target className=\"w-8 h-8 text-primary-600\" />\r\n              Career Goals\r\n            </h1>\r\n            <p className=\"text-gray-600 mt-1\">Track your progress and achieve your career objectives</p>\r\n          </div>\r\n          <Link to=\"/goals/new\" className=\"self-start md:self-center\">\r\n            <Button variant=\"success\" size=\"large\" className=\"px-6 py-3 text-lg rounded-xl shadow-md w-full md:w-auto block mx-auto text-center\">\r\n              Create New Goal\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <Card className=\"bg-linear-to-br from-primary-50 to-primary-100 border-primary-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"min-w-0 flex-1\">\r\n              <p className=\"text-sm font-medium text-primary-700\">Total Goals</p>\r\n              <p className=\"text-3xl font-bold text-primary-900 mt-1\">{stats.total}</p>\r\n            </div>\r\n            <Target className=\"w-10 h-10 text-primary-600 opacity-50 shrink-0 ml-2\" />\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"bg-linear-to-br from-success-50 to-success-100 border-success-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"min-w-0 flex-1\">\r\n              <p className=\"text-sm font-medium text-success-700\">Completed</p>\r\n              <p className=\"text-3xl font-bold text-success-900 mt-1\">{stats.completed}</p>\r\n              <p className=\"text-xs text-success-600 mt-1\">{stats.completionRate}% success rate</p>\r\n            </div>\r\n            <CheckCircle className=\"w-10 h-10 text-success-600 opacity-50 shrink-0 ml-2\" />\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"bg-linear-to-br from-accent-50 to-accent-100 border-accent-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"min-w-0 flex-1\">\r\n              <p className=\"text-sm font-medium text-accent-700\">In Progress</p>\r\n              <p className=\"text-3xl font-bold text-accent-900 mt-1\">{stats.inProgress}</p>\r\n            </div>\r\n            <TrendingUp className=\"w-10 h-10 text-accent-600 opacity-50 shrink-0 ml-2\" />\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"bg-linear-to-br from-error-50 to-error-100 border-error-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"min-w-0 flex-1\">\r\n              <p className=\"text-sm font-medium text-error-700\">At Risk</p>\r\n              <p className=\"text-3xl font-bold text-error-900 mt-1\">{stats.atRisk}</p>\r\n            </div>\r\n            <AlertCircle className=\"w-10 h-10 text-error-600 opacity-50 shrink-0 ml-2\" />\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Impact Metrics */}\r\n      {totalImpact && (\r\n        <Card>\r\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\r\n            <Trophy className=\"w-6 h-6 text-accent-600\" />\r\n            Total Career Impact\r\n          </h2>\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4\">\r\n            <div className=\"text-center p-2\">\r\n              <p className=\"text-2xl font-bold text-primary-600\">{totalImpact.jobApplications}</p>\r\n              <p className=\"text-sm text-gray-600\">Applications</p>\r\n            </div>\r\n            <div className=\"text-center p-2\">\r\n              <p className=\"text-2xl font-bold text-primary-700\">{totalImpact.interviewsSecured}</p>\r\n              <p className=\"text-sm text-gray-600\">Interviews</p>\r\n            </div>\r\n            <div className=\"text-center p-2\">\r\n              <p className=\"text-2xl font-bold text-success-600\">{totalImpact.offersReceived}</p>\r\n              <p className=\"text-sm text-gray-600\">Offers</p>\r\n            </div>\r\n            <div className=\"text-center p-2\">\r\n              <p className=\"text-2xl font-bold text-accent-600\">{totalImpact.skillsAcquired}</p>\r\n              <p className=\"text-sm text-gray-600\">Skills</p>\r\n            </div>\r\n            <div className=\"text-center p-2\">\r\n              <p className=\"text-2xl font-bold text-primary-500\">{totalImpact.connectionsGained}</p>\r\n              <p className=\"text-sm text-gray-600\">Connections</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Tabs */}\r\n      <div className=\"border-b border-gray-200\">\r\n        <nav className=\"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\">\r\n          {['overview', 'active', 'completed', 'recommendations', 'insights'].map((tab) => (\r\n            <button\r\n              key={tab}\r\n              onClick={() => setActiveTab(tab)}\r\n              className={`${\r\n                activeTab === tab\r\n                  ? 'border-primary-600 text-primary-700'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm capitalize transition-colors shrink-0`}\r\n            >\r\n              {tab}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <div className=\"mt-6\">\r\n        {/* Overview Tab */}\r\n        {activeTab === 'overview' && (\r\n          <div className=\"space-y-6\">\r\n            {/* At Risk Goals */}\r\n            {atRiskGoals && atRiskGoals.length > 0 && (\r\n              <Card className=\"border-red-200 bg-red-50\">\r\n                <h2 className=\"text-lg font-bold text-red-900 mb-4 flex items-center gap-2\">\r\n                  <AlertCircle className=\"w-5 h-5\" />\r\n                  Goals At Risk ({atRiskGoals.length})\r\n                </h2>\r\n                <div className=\"space-y-3\">\r\n                  {atRiskGoals.map((goal) => (\r\n                    <Link key={goal._id} to={`/goals/${goal._id}`}>\r\n                      <div className=\"bg-white p-4 rounded-lg border border-red-200 hover:border-red-400 transition-colors\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <h3 className=\"font-semibold text-gray-900\">{goal.title}</h3>\r\n                            <p className=\"text-sm text-gray-600 mt-1\">{goal.category}</p>\r\n                          </div>\r\n                          <div className=\"text-right\">\r\n                            <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n                              {goal.progressPercentage}% Complete\r\n                            </span>\r\n                            <p className=\"text-xs text-gray-500 mt-1\">\r\n                              {calculateDaysRemaining(goal.timeBound?.targetDate)} days left\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </Link>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Upcoming Milestones */}\r\n            {upcomingMilestones && upcomingMilestones.length > 0 && (\r\n              <Card>\r\n                <h2 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\r\n                  <Calendar className=\"w-5 h-5 text-primary-600\" />\r\n                  Upcoming Milestones\r\n                </h2>\r\n                <div className=\"space-y-3\">\r\n                  {upcomingMilestones.slice(0, 5).map((milestone, index) => (\r\n                    <Link key={`${milestone.goalId}-${index}`} to={`/goals/${milestone.goalId}`}>\r\n                      <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">{milestone.milestoneTitle}</p>\r\n                          <p className=\"text-sm text-gray-600\">Goal: {milestone.goalTitle}</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <p className=\"text-sm font-medium text-gray-900\">\r\n                            {new Date(milestone.targetDate).toLocaleDateString()}\r\n                          </p>\r\n                          <p className=\"text-xs text-gray-500\">\r\n                            {calculateDaysRemaining(milestone.targetDate)} days\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </Link>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Recent Completions */}\r\n            {recentCompletions && recentCompletions.length > 0 && (\r\n              <Card className=\"border-green-200 bg-green-50\">\r\n                <h2 className=\"text-lg font-bold text-green-900 mb-4 flex items-center gap-2\">\r\n                  <Award className=\"w-5 h-5\" />\r\n                  Recent Achievements\r\n                </h2>\r\n                <div className=\"space-y-3\">\r\n                  {recentCompletions.map((goal) => (\r\n                    <Link key={goal._id} to={`/goals/${goal._id}`}>\r\n                      <div className=\"bg-white p-4 rounded-lg border border-green-200 hover:border-green-400 transition-colors\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <h3 className=\"font-semibold text-gray-900 flex items-center gap-2\">\r\n                              {goal.title}\r\n                              {!goal.celebrated && (\r\n                                <span className=\"text-xs bg-warning-100 text-warning-800 px-2 py-0.5 rounded-full font-medium\">\r\n                                  Celebrate!\r\n                                </span>\r\n                              )}\r\n                            </h3>\r\n                            <p className=\"text-sm text-gray-600 mt-1\">{goal.category}</p>\r\n                          </div>\r\n                          <p className=\"text-sm text-gray-500\">\r\n                            {new Date(goal.timeBound?.completedDate).toLocaleDateString()}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </Link>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Active Goals Tab */}\r\n        {activeTab === 'active' && (\r\n          <div className=\"flex flex-col gap-8\">\r\n            {activeGoals && activeGoals.length > 0 ? (\r\n              activeGoals.map((goal) => {\r\n                const statusInfo = formatGoalStatus(goal.status);\r\n                const daysLeft = calculateDaysRemaining(goal.timeBound?.targetDate);\r\n                return (\r\n                  <Link key={goal._id} to={`/goals/${goal._id}`}>\r\n                    <Card className=\"hover:shadow-lg transition-shadow\">\r\n                      <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 mb-2\">\r\n                            <h3 className=\"text-lg font-bold text-gray-900\">{goal.title}</h3>\r\n                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium whitespace-nowrap shrink-0 ${\r\n                              goal.status === 'At Risk' ? 'bg-error-100 text-error-800' :\r\n                              goal.status === 'On Track' ? 'bg-success-100 text-success-800' :\r\n                              'bg-primary-100 text-primary-800'\r\n                            }`}>\r\n                              {statusInfo.icon} {statusInfo.text}\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"text-sm text-gray-600 mb-3 line-clamp-2\">{goal.description}</p>\r\n                          <div className=\"flex flex-wrap items-center gap-2 text-sm text-gray-500\">\r\n                            <span>{goal.category}</span>\r\n                            <span>ΓÇó</span>\r\n                            <span>{goal.type}</span>\r\n                            <span>ΓÇó</span>\r\n                            <span className=\"font-medium\">{goal.priority} Priority</span>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"text-left sm:text-right shrink-0\">\r\n                          <div className=\"mb-2\">\r\n                            <div className=\"text-2xl font-bold text-primary-600\">{goal.progressPercentage}%</div>\r\n                            <div className=\"text-xs text-gray-500\">Complete</div>\r\n                          </div>\r\n                          {daysLeft !== null && (\r\n                            <div className={`text-sm ${daysLeft < 7 ? 'text-error-600 font-medium' : 'text-gray-600'}`}>\r\n                              {daysLeft > 0 ? `${daysLeft} days left` : 'Overdue'}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      {/* Progress Bar */}\r\n                      <div className=\"mt-4\">\r\n                        <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                          <div\r\n                            className={`h-2 rounded-full ${\r\n                              goal.status === 'At Risk' ? 'bg-error-600' : 'bg-primary-600'\r\n                            }`}\r\n                            style={{ width: `${goal.progressPercentage}%` }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      {/* Milestones Summary */}\r\n                      {goal.milestones && goal.milestones.length > 0 && (\r\n                        <div className=\"mt-3 flex items-center gap-2 text-sm text-gray-600\">\r\n                          <CheckCircle className=\"w-4 h-4\" />\r\n                          <span>\r\n                            {goal.milestones.filter(m => m.completed).length} / {goal.milestones.length} milestones completed\r\n                          </span>\r\n                        </div>\r\n                      )}\r\n                    </Card>\r\n                  </Link>\r\n                );\r\n              })\r\n            ) : (\r\n              <Card className=\"text-center py-12\">\r\n                <Target className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Active Goals</h3>\r\n                <p className=\"text-gray-600 mb-6\">Start achieving your career objectives by creating your first goal</p>\r\n                <Link to=\"/goals/new\">\r\n                  <Button variant=\"success\">Create Your First Goal</Button>\r\n                </Link>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Completed Goals Tab */}\r\n        {activeTab === 'completed' && (\r\n          <div className=\"flex flex-col gap-8\">\r\n            {recentCompletions && recentCompletions.length > 0 ? (\r\n              recentCompletions.map((goal) => (\r\n                <Link key={goal._id} to={`/goals/${goal._id}`}>\r\n                  <Card className=\"hover:shadow-lg transition-shadow border-green-200\">\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                          <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                          <h3 className=\"text-lg font-bold text-gray-900\">{goal.title}</h3>\r\n                          {!goal.celebrated && (\r\n                            <span className=\"text-xs bg-warning-100 text-warning-800 px-2 py-0.5 rounded-full font-medium\">\r\n                              Celebrate!\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 mb-3\">{goal.description}</p>\r\n                        <div className=\"flex items-center gap-4 text-sm text-gray-500\">\r\n                          <span>{goal.category}</span>\r\n                          <span>ΓÇó</span>\r\n                          <span>Completed {new Date(goal.timeBound?.completedDate).toLocaleDateString()}</span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <Award className=\"w-12 h-12 text-warning-500 mx-auto\" />\r\n                      </div>\r\n                    </div>\r\n                  </Card>\r\n                </Link>\r\n              ))\r\n            ) : (\r\n              <Card className=\"text-center py-12\">\r\n                <Award className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Completed Goals Yet</h3>\r\n                <p className=\"text-gray-600\">Keep working on your goals to see your achievements here</p>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Recommendations Tab */}\r\n        {activeTab === 'recommendations' && (\r\n          <div className=\"space-y-4\">\r\n            {!recommendations ? (\r\n              <Card className=\"text-center py-12\">\r\n                <Sparkles className=\"w-16 h-16 text-primary-500 mx-auto mb-4\" />\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">AI-Powered Goal Recommendations</h3>\r\n                <p className=\"text-gray-600 mb-6\">\r\n                  Get personalized career goal suggestions based on your profile and current progress\r\n                </p>\r\n                <Button\r\n                  variant=\"success\"\r\n                  size=\"large\"\r\n                  className=\"w-full max-w-xs mx-auto px-6 py-3 text-lg rounded-xl shadow-md block text-center\"\r\n                  onClick={loadRecommendations}\r\n                  disabled={loadingRecommendations}\r\n                >\r\n                  {loadingRecommendations ? (\r\n                    <>\r\n                      <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                      Generating...\r\n                    </>\r\n                  ) : (\r\n                    <>Generate Recommendations</> \r\n                  )}\r\n                </Button>\r\n              </Card>\r\n            ) : (\r\n              <>\r\n                {recommendations.overallStrategy && (\r\n                  <Card className=\"bg-primary-50 border-primary-200\">\r\n                    <h3 className=\"font-bold text-primary-900 mb-2\">Strategic Overview</h3>\r\n                    <p className=\"text-gray-700\">{recommendations.overview}</p>\r\n                  </Card>\r\n                )}\r\n                \r\n                {recommendations.priorityActions && recommendations.priorityActions.length > 0 && (\r\n                  <Card className=\"bg-warning-50 border-warning-200\">\r\n                    <h3 className=\"font-bold text-warning-900 mb-2 flex items-center gap-2\">\r\n                      <Sparkles className=\"w-5 h-5\" />\r\n                      Top Priority Actions\r\n                    </h3>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-gray-700\">\r\n                      {recommendations.priorityActions.map((action, index) => (\r\n                        <li key={index}>{action}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </Card>\r\n                )}\r\n\r\n                <div className=\"grid gap-4\">\r\n                  {recommendations.recommendations?.map((rec, index) => (\r\n                    <Card key={index} className=\"hover:shadow-lg transition-shadow\">\r\n                      <div className=\"flex items-start justify-between mb-3\">\r\n                        <h3 className=\"text-lg font-bold text-gray-900\">{rec.title}</h3>\r\n                        <span className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                          rec.priority === 'Critical' ? 'bg-red-100 text-red-800' :\r\n                          rec.priority === 'High' ? 'bg-orange-100 text-orange-800' :\r\n                          rec.priority === 'Medium' ? 'bg-warning-100 text-warning-800' :\r\n                          'bg-gray-100 text-gray-800'\r\n                        }`}>\r\n                          {rec.priority} Priority\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"space-y-3 text-sm\">\r\n                        <div>\r\n                          <span className=\"font-medium text-gray-700\">Category:</span>\r\n                          <span className=\"text-gray-600 ml-2\">{rec.category} ΓÇó {rec.type}</span>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"font-medium text-gray-700\">Goal:</span>\r\n                          <p className=\"text-gray-600 mt-1\">{rec.specific}</p>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"font-medium text-gray-700\">Target:</span>\r\n                          <span className=\"text-gray-600 ml-2\">\r\n                            {rec.measurable?.targetValue} {rec.measurable?.unit} in {rec.timeline} days\r\n                          </span>\r\n                        </div>\r\n                        {rec.milestones && rec.milestones.length > 0 && (\r\n                          <div>\r\n                            <span className=\"font-medium text-gray-700\">Key Milestones:</span>\r\n                            <ul className=\"list-disc list-inside mt-1 space-y-1 text-gray-600\">\r\n                              {rec.milestones.map((milestone, idx) => (\r\n                                <li key={idx}>{milestone}</li>\r\n                              ))}\r\n                            </ul>\r\n                          </div>\r\n                        )}\r\n                        {rec.impact && (\r\n                          <div className=\"bg-primary-50 p-3 rounded-lg\">\r\n                            <span className=\"font-medium text-primary-900\">Why It Matters:</span>\r\n                            <p className=\"text-primary-800 mt-1\">{rec.impact}</p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                        <Link to={`/goals/new?recommendation=${index}`} state={{ recommendation: rec }}>\r\n                          <Button variant=\"outline\" size=\"sm\" className=\"w-full\">\r\n                            Create This Goal\r\n                          </Button>\r\n                        </Link>\r\n                      </div>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Insights Tab */}\r\n        {activeTab === 'insights' && (\r\n          <div className=\"space-y-4\">\r\n            {!patterns ? (\r\n              <Card className=\"text-center py-12\">\r\n                <BarChart3 className=\"w-16 h-16 text-primary-500 mx-auto mb-4\" />\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Success Pattern Analysis</h3>\r\n                <p className=\"text-gray-600 mb-6\">\r\n                  Discover what works best for you and optimize your goal-setting strategy\r\n                </p>\r\n                <Button\r\n                  variant=\"success\"\r\n                  size=\"large\"\r\n                  className=\"w-full max-w-xs mx-auto px-6 py-3 text-lg rounded-xl shadow-md block text-center\"\r\n                  onClick={loadPatterns}\r\n                  disabled={loadingPatterns || (stats.total < 3)}\r\n                >\r\n                  {loadingPatterns ? (\r\n                    <>\r\n                      <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                      Analyzing...\r\n                    </>\r\n                  ) : (\r\n                    <>Analyze Patterns</>\r\n                  )}\r\n                </Button>\r\n                {stats.total < 3 && (\r\n                  <p className=\"text-sm text-gray-500 mt-3\">\r\n                    Create at least 3 goals to unlock pattern analysis\r\n                  </p>\r\n                )}\r\n              </Card>\r\n            ) : (\r\n              <div className=\"space-y-6\">\r\n                {/* Success Patterns */}\r\n                {patterns.successPatterns && patterns.successPatterns.length > 0 && (\r\n                  <Card className=\"border-green-200 bg-green-50\">\r\n                    <h3 className=\"text-lg font-bold text-green-900 mb-4 flex items-center gap-2\">\r\n                      <CheckCircle className=\"w-5 h-5\" />\r\n                      Success Patterns\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                      {patterns.successPatterns.map((pattern, index) => (\r\n                        <div key={index} className=\"bg-white p-4 rounded-lg\">\r\n                          <div className=\"flex items-start justify-between mb-2\">\r\n                            <h4 className=\"font-semibold text-gray-900\">{pattern.pattern}</h4>\r\n                            <span className=\"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800\">\r\n                              {pattern.frequency} Frequency\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"text-sm text-gray-700 mb-2\">{pattern.recommendation}</p>\r\n                          {pattern.examples && pattern.examples.length > 0 && (\r\n                            <div className=\"text-xs text-gray-600\">\r\n                              Examples: {pattern.examples.join(', ')}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </Card>\r\n                )}\r\n\r\n                {/* Personalized Strategy */}\r\n                {patterns.personalizedStrategy && (\r\n                  <Card className=\"border-primary-200 bg-primary-50\">\r\n                    <h3 className=\"text-lg font-bold text-primary-900 mb-4\">Your Personalized Strategy</h3>\r\n                    <div className=\"space-y-4\">\r\n                      {patterns.personalizedStrategy.strengths && (\r\n                        <div>\r\n                          <h4 className=\"font-semibold text-primary-800 mb-2\">Strengths</h4>\r\n                          <ul className=\"list-disc list-inside space-y-1 text-gray-700\">\r\n                            {patterns.personalizedStrategy.strengths.map((strength, idx) => (\r\n                              <li key={idx}>{strength}</li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                      {patterns.personalizedStrategy.recommendations && (\r\n                        <div>\r\n                          <h4 className=\"font-semibold text-primary-800 mb-2\">Recommendations</h4>\r\n                          <ul className=\"list-disc list-inside space-y-1 text-gray-700\">\r\n                            {patterns.personalizedStrategy.recommendations.map((rec, idx) => (\r\n                              <li key={idx}>{rec}</li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </Card>\r\n                )}\r\n\r\n                {/* Optimal Characteristics */}\r\n                {patterns.optimalCharacteristics && (\r\n                  <Card>\r\n                    <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Optimal Goal Characteristics</h3>\r\n                    <div className=\"grid md:grid-cols-2 gap-4 text-sm\">\r\n                      {patterns.optimalCharacteristics.timeline && (\r\n                        <div>\r\n                          <span className=\"font-medium text-gray-700\">Best Timeline:</span>\r\n                          <p className=\"text-gray-600 mt-1\">{patterns.optimalCharacteristics.timeline}</p>\r\n                        </div>\r\n                      )}\r\n                      {patterns.optimalCharacteristics.priorityBalance && (\r\n                        <div>\r\n                          <span className=\"font-medium text-gray-700\">Priority Balance:</span>\r\n                          <p className=\"text-gray-600 mt-1\">{patterns.optimalCharacteristics.priorityBalance}</p>\r\n                        </div>\r\n                      )}\r\n                      {patterns.optimalCharacteristics.categoryFocus && (\r\n                        <div>\r\n                          <span className=\"font-medium text-gray-700\">Category Focus:</span>\r\n                          <p className=\"text-gray-600 mt-1\">{patterns.optimalCharacteristics.categoryFocus}</p>\r\n                        </div>\r\n                      )}\r\n                      {patterns.optimalCharacteristics.milestoneStrategy && (\r\n                        <div>\r\n                          <span className=\"font-medium text-gray-700\">Milestone Strategy:</span>\r\n                          <p className=\"text-gray-600 mt-1\">{patterns.optimalCharacteristics.milestoneStrategy}</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </Card>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoalDashboard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\GoalDetail.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'updateImpactMetrics' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":12,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":22,"suggestions":[{"messageId":"removeVar","data":{"varName":"updateImpactMetrics"},"fix":{"range":[283,307],"text":""},"desc":"Remove unused variable 'updateImpactMetrics'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadGoal'. Either include it or remove the dependency array.","line":54,"column":6,"nodeType":"ArrayExpression","endLine":54,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [id, loadGoal]","fix":{"range":[1487,1491],"text":"[id, loadGoal]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":542,"column":17,"nodeType":"JSXOpeningElement","endLine":542,"endColumn":81}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate, Link } from 'react-router-dom';\r\nimport {\r\n  getGoalById,\r\n  addProgressUpdate,\r\n  completeMilestone,\r\n  analyzeGoal,\r\n  celebrateGoal,\r\n  deleteGoal,\r\n  formatGoalStatus,\r\n  calculateDaysRemaining,\r\n  updateImpactMetrics\r\n} from '../api/goals';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport toast from 'react-hot-toast';\r\nimport {\r\n  Target,\r\n  TrendingUp,\r\n  Calendar,\r\n  CheckCircle,\r\n  Edit,\r\n  Trash2,\r\n  Sparkles,\r\n  Trophy,\r\n  ArrowLeft,\r\n  AlertCircle,\r\n  BarChart3,\r\n  Award,\r\n  PartyPopper\r\n} from 'lucide-react';\r\n\r\nconst GoalDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  \r\n  const [goal, setGoal] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [analysis, setAnalysis] = useState(null);\r\n  const [celebration, setCelebration] = useState(null);\r\n  \r\n  const [progressValue, setProgressValue] = useState('');\r\n  const [progressNotes, setProgressNotes] = useState('');\r\n  const [updatingProgress, setUpdatingProgress] = useState(false);\r\n  const [analyzing, setAnalyzing] = useState(false);\r\n  const [celebrating, setCelebrating] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadGoal();\r\n  }, [id]);\r\n\r\n  const loadGoal = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await getGoalById(id);\r\n      setGoal(response.goal);\r\n      setProgressValue(response.goal.measurable?.currentValue || 0);\r\n    } catch (err) {\r\n      console.error('Load Goal Error:', err);\r\n      setError(err.message || 'Failed to load goal');\r\n      toast.error('Failed to load goal');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleProgressUpdate = async (e) => {\r\n    e.preventDefault();\r\n    const numValue = parseFloat(progressValue);\r\n    if (!progressValue || numValue < 0) {\r\n      toast.error('Please enter a valid progress value');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setUpdatingProgress(true);\r\n      const response = await addProgressUpdate(id, numValue, progressNotes);\r\n      const updatedGoal = response.goal;\r\n      \r\n      // Ensure progressPercentage is recalculated if not present in response\r\n      if (!updatedGoal.progressPercentage && updatedGoal.measurable && updatedGoal.measurable.targetValue) {\r\n        updatedGoal.progressPercentage = Math.round((updatedGoal.measurable.currentValue / updatedGoal.measurable.targetValue) * 100);\r\n      }\r\n      \r\n      // Force a re-render by creating a new object\r\n      setGoal({ ...updatedGoal });\r\n      setProgressValue(updatedGoal.measurable?.currentValue || 0);\r\n      setProgressNotes('');\r\n      toast.success('Progress updated successfully!');\r\n    } catch (err) {\r\n      console.error('Update Progress Error:', err);\r\n      toast.error('Failed to update progress');\r\n    } finally {\r\n      setUpdatingProgress(false);\r\n    }\r\n  };\r\n\r\n  const handleMilestoneComplete = async (milestoneId) => {\r\n    try {\r\n      const response = await completeMilestone(id, milestoneId);\r\n      setGoal(response.goal);\r\n      toast.success('Milestone completed!');\r\n    } catch (err) {\r\n      console.error('Complete Milestone Error:', err);\r\n      toast.error('Failed to complete milestone');\r\n    }\r\n  };\r\n\r\n  const handleAnalyze = async () => {\r\n    try {\r\n      setAnalyzing(true);\r\n      const response = await analyzeGoal(id);\r\n      setAnalysis(response.analysis);\r\n      setGoal(response.goal);\r\n      toast.success('Goal analyzed successfully!');\r\n    } catch (err) {\r\n      console.error('Analyze Goal Error:', err);\r\n      toast.error('Failed to analyze goal');\r\n    } finally {\r\n      setAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const handleCelebrate = async () => {\r\n    try {\r\n      setCelebrating(true);\r\n      const response = await celebrateGoal(id);\r\n      setCelebration(response.celebration);\r\n      setGoal(response.goal);\r\n      toast.success('Congratulations on your achievement!');\r\n    } catch (err) {\r\n      console.error('Celebrate Goal Error:', err);\r\n      toast.error('Failed to generate celebration');\r\n    } finally {\r\n      setCelebrating(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await deleteGoal(id);\r\n      toast.success('Goal deleted successfully');\r\n      navigate('/goals');\r\n    } catch (err) {\r\n      console.error('Delete Goal Error:', err);\r\n      toast.error('Failed to delete goal');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-[400px]\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !goal) {\r\n    return <ErrorMessage message={error || 'Goal not found'} />;\r\n  }\r\n\r\n  const statusInfo = formatGoalStatus(goal.status);\r\n  const daysLeft = calculateDaysRemaining(goal.timeBound?.targetDate);\r\n  const progressPercentage = goal.progressPercentage || 0;\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <Link to=\"/goals\" className=\"text-primary-600 hover:text-primary-800 flex items-center gap-2\">\r\n          <ArrowLeft className=\"w-5 h-5\" />\r\n          Back to Goals\r\n        </Link>\r\n        <div className=\"flex gap-2\">\r\n          <Link to={`/goals/${id}/edit`}>\r\n            <Button variant=\"primary\" size=\"large\" className=\"px-6 py-3 text-lg rounded-xl\">\r\n              Edit\r\n            </Button>\r\n          </Link>\r\n          <Button\r\n            variant=\"danger\"\r\n            size=\"large\"\r\n            onClick={() => setShowDeleteConfirm(true)}\r\n            className=\"px-6 py-3 text-lg rounded-xl\"\r\n          >\r\n            Delete\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {showDeleteConfirm && (\r\n        <div className=\"fixed inset-0 bg-white/30 backdrop-blur-sm flex items-center justify-center z-50 w-screen h-screen\">\r\n          <Card className=\"max-w-md\">\r\n            <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Delete Goal?</h3>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              Are you sure you want to delete this goal? This action cannot be undone.\r\n            </p>\r\n            <div className=\"flex gap-4\">\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={handleDelete}\r\n                className=\"flex-1 bg-red-600 hover:bg-red-700\"\r\n              >\r\n                Delete\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => setShowDeleteConfirm(false)}\r\n                className=\"flex-1\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Goal Overview */}\r\n      <Card>\r\n        <div className=\"flex items-start justify-between mb-4\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <Target className=\"w-6 h-6 text-primary-600\" />\r\n              <h1 className=\"text-2xl font-bold text-gray-900\">{goal.title}</h1>\r\n            </div>\r\n            <p className=\"text-gray-600 mb-4\">{goal.description}</p>\r\n            <div className=\"flex flex-wrap gap-2 mb-4\">\r\n              <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-${statusInfo.color}-100 text-${statusInfo.color}-800`}>\r\n                {statusInfo.icon} {statusInfo.text}\r\n              </span>\r\n              <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800\">\r\n                {goal.category}\r\n              </span>\r\n              <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800\">\r\n                {goal.type}\r\n              </span>\r\n              <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${\r\n                goal.priority === 'Critical' ? 'bg-red-100 text-red-800' :\r\n                goal.priority === 'High' ? 'bg-orange-100 text-orange-800' :\r\n                goal.priority === 'Medium' ? 'bg-warning-100 text-warning-800' :\r\n                'bg-gray-100 text-gray-800'\r\n              }`}>\r\n                {goal.priority} Priority\r\n              </span>\r\n            </div>\r\n            {goal.tags && goal.tags.length > 0 && (\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {goal.tags.map((tag, index) => (\r\n                  <span key={index} className=\"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded\">\r\n                    #{tag}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"text-right ml-4\">\r\n            <div className=\"text-4xl font-bold text-primary-600\">{progressPercentage}%</div>\r\n            <div className=\"text-sm text-gray-600\">Complete</div>\r\n            {daysLeft !== null && (\r\n              <div className={`text-sm font-medium mt-2 ${\r\n                daysLeft < 0 ? 'text-red-600' :\r\n                daysLeft < 7 ? 'text-orange-600' :\r\n                'text-gray-600'\r\n              }`}>\r\n                {daysLeft < 0 ? 'Overdue' : daysLeft === 0 ? 'Due today' : `${daysLeft} days left`}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Progress Bar */}\r\n        <div className=\"mb-4\">\r\n          <div className=\"w-full bg-gray-200 rounded-full h-4\">\r\n            <div\r\n              className={`h-4 rounded-full transition-all ${\r\n                goal.status === 'At Risk' ? 'bg-red-600' :\r\n                goal.status === 'Completed' ? 'bg-green-600' :\r\n                'bg-primary-600'\r\n              }`}\r\n              style={{ width: `${progressPercentage}%` }}\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n            <span>{goal.measurable?.currentValue} {goal.measurable?.unit}</span>\r\n            <span>{goal.measurable?.targetValue} {goal.measurable?.unit}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        {goal.status === 'Completed' && !goal.celebrated && (\r\n          <Button\r\n            variant=\"success\"\r\n            onClick={handleCelebrate}\r\n            disabled={celebrating}\r\n            className=\"w-full bg-success-600 hover:bg-success-700 text-white shadow-md rounded-xl\"\r\n          >\r\n            {celebrating ? (\r\n              <>\r\n                <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                Celebrating...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <PartyPopper className=\"w-5 h-5 mr-2 text-success-200\" />\r\n                Celebrate Achievement!\r\n              </>\r\n            )}\r\n          </Button>\r\n        )}\r\n\r\n        {goal.status !== 'Completed' && (\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={handleAnalyze}\r\n            disabled={analyzing}\r\n            className=\"w-full\"\r\n          >\r\n            {analyzing ? (\r\n              <>\r\n                <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                Analyzing...\r\n              </>\r\n            ) : (\r\n              <>Analyze Progress with AI</>\r\n            )}\r\n          </Button>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Celebration */}\r\n      {celebration && (\r\n        <Card className=\"border-success-200 bg-linear-to-br from-success-50 to-success-100\">\r\n          <div className=\"text-center mb-4\">\r\n            <Trophy className=\"w-16 h-16 text-success-600 mx-auto mb-4\" />\r\n            <h2 className=\"text-2xl font-bold text-success-900 mb-2\">Congratulations!</h2>\r\n          </div>\r\n          <div className=\"prose prose-sm max-w-none\">\r\n            <p className=\"text-success-700 whitespace-pre-line\">{celebration.celebrationMessage}</p>\r\n          </div>\r\n          \r\n          {celebration.achievementHighlights && celebration.achievementHighlights.length > 0 && (\r\n            <div className=\"mt-6\">\r\n              <h3 className=\"font-bold text-success-900 mb-3\">Achievement Highlights</h3>\r\n              <ul className=\"space-y-2\">\r\n                {celebration.achievementHighlights.map((highlight, index) => (\r\n                  <li key={index} className=\"flex items-start gap-2\">\r\n                    <Award className=\"w-5 h-5 text-success-600 shrink-0 mt-0.5\" />\r\n                    <span className=\"text-success-700\">{highlight}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {celebration.shareableMessage && (\r\n            <div className=\"mt-6 p-4 bg-success-50 rounded-lg border border-success-200\">\r\n              <p className=\"text-sm font-medium text-success-700 mb-2\">Share Your Success:</p>\r\n              <p className=\"text-success-600 italic\">{celebration.shareableMessage}</p>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      )}\r\n\r\n      {/* Analysis Results */}\r\n      {analysis && (\r\n        <Card>\r\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\r\n            <BarChart3 className=\"w-6 h-6 text-primary-600\" />\r\n            AI Progress Analysis\r\n          </h2>\r\n\r\n          <div className=\"space-y-4\">\r\n            {/* Progress Assessment */}\r\n            {analysis.progressAssessment && (\r\n              <div className=\"p-4 bg-primary-50 rounded-lg\">\r\n                <h3 className=\"font-semibold text-primary-900 mb-2\">Progress Assessment</h3>\r\n                <p className=\"text-sm text-primary-800 mb-2\">{analysis.progressAssessment.summary}</p>\r\n                <div className=\"flex gap-4 text-xs text-primary-700\">\r\n                  <span>Status: {analysis.progressAssessment.overallStatus}</span>\r\n                  <span>ΓÇó</span>\r\n                  <span>Velocity: {analysis.progressAssessment.velocityTrend}</span>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Risk Analysis */}\r\n            {analysis.riskAnalysis && (\r\n              <div className={`p-4 rounded-lg ${\r\n                analysis.riskAnalysis.riskLevel === 'High' || analysis.riskAnalysis.riskLevel === 'Critical'\r\n                  ? 'bg-red-50'\r\n                  : analysis.riskAnalysis.riskLevel === 'Medium'\r\n                  ? 'bg-warning-50'\r\n                  : 'bg-green-50'\r\n              }`}>\r\n                <h3 className=\"font-semibold text-gray-900 mb-2 flex items-center gap-2\">\r\n                  <AlertCircle className=\"w-5 h-5\" />\r\n                  Risk Analysis - {analysis.riskAnalysis.riskLevel} Risk\r\n                </h3>\r\n                {analysis.riskAnalysis.identifiedRisks && analysis.riskAnalysis.identifiedRisks.length > 0 && (\r\n                  <div className=\"mb-2\">\r\n                    <p className=\"text-sm font-medium text-gray-700\">Identified Risks:</p>\r\n                    <ul className=\"list-disc list-inside text-sm text-gray-600\">\r\n                      {analysis.riskAnalysis.identifiedRisks.map((risk, index) => (\r\n                        <li key={index}>{risk}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n                {analysis.riskAnalysis.mitigationStrategies && (\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-700\">Mitigation Strategies:</p>\r\n                    <ul className=\"list-disc list-inside text-sm text-gray-600\">\r\n                      {analysis.riskAnalysis.mitigationStrategies.map((strategy, index) => (\r\n                        <li key={index}>{strategy}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Next Steps */}\r\n            {analysis.nextSteps && analysis.nextSteps.length > 0 && (\r\n              <div className=\"p-4 bg-green-50 rounded-lg\">\r\n                <h3 className=\"font-semibold text-green-900 mb-2\">Recommended Next Steps</h3>\r\n                <ol className=\"list-decimal list-inside space-y-1 text-sm text-green-800\">\r\n                  {analysis.nextSteps.map((step, index) => (\r\n                    <li key={index}>{step}</li>\r\n                  ))}\r\n                </ol>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* SMART Criteria */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <Card>\r\n          <h2 className=\"text-lg font-bold text-gray-900 mb-4\">SMART Criteria</h2>\r\n          <div className=\"space-y-3 text-sm\">\r\n            <div>\r\n              <span className=\"font-medium text-primary-600\">Specific:</span>\r\n              <p className=\"text-gray-700 mt-1\">{goal.specific}</p>\r\n            </div>\r\n            <div>\r\n              <span className=\"font-medium text-primary-600\">Measurable:</span>\r\n              <p className=\"text-gray-700 mt-1\">\r\n                {goal.measurable?.metric}: {goal.measurable?.currentValue} / {goal.measurable?.targetValue} {goal.measurable?.unit}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <span className=\"font-medium text-primary-600\">Achievable:</span>\r\n              <p className=\"text-gray-700 mt-1\">{goal.achievable}</p>\r\n            </div>\r\n            <div>\r\n              <span className=\"font-medium text-primary-600\">Relevant:</span>\r\n              <p className=\"text-gray-700 mt-1\">{goal.relevant}</p>\r\n            </div>\r\n            <div>\r\n              <span className=\"font-medium text-primary-600\">Time-bound:</span>\r\n              <p className=\"text-gray-700 mt-1\">\r\n                {new Date(goal.timeBound?.startDate).toLocaleDateString()} ΓåÆ {new Date(goal.timeBound?.targetDate).toLocaleDateString()}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Timeline */}\r\n        <Card>\r\n          <h2 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\r\n            <Calendar className=\"w-5 h-5 text-primary-600\" />\r\n            Timeline\r\n          </h2>\r\n          <div className=\"space-y-3 text-sm\">\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-600\">Start Date:</span>\r\n              <span className=\"font-medium text-gray-900\">\r\n                {new Date(goal.timeBound?.startDate).toLocaleDateString()}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-600\">Target Date:</span>\r\n              <span className=\"font-medium text-gray-900\">\r\n                {new Date(goal.timeBound?.targetDate).toLocaleDateString()}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-600\">Duration:</span>\r\n              <span className=\"font-medium text-gray-900\">{goal.duration} days</span>\r\n            </div>\r\n            {daysLeft !== null && (\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Days Remaining:</span>\r\n                <span className={`font-medium ${daysLeft < 0 ? 'text-red-600' : 'text-gray-900'}`}>\r\n                  {daysLeft < 0 ? `${Math.abs(daysLeft)} days overdue` : `${daysLeft} days`}\r\n                </span>\r\n              </div>\r\n            )}\r\n            {goal.status === 'Completed' && goal.timeBound?.completedDate && (\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Completed On:</span>\r\n                <span className=\"font-medium text-green-600\">\r\n                  {new Date(goal.timeBound.completedDate).toLocaleDateString()}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Progress Update Form */}\r\n      {goal.status !== 'Completed' && goal.status !== 'Abandoned' && (\r\n        <Card>\r\n          <h2 className=\"text-lg font-bold text-gray-900 mb-4\">\r\n            Update Progress\r\n          </h2>\r\n          <form onSubmit={handleProgressUpdate} className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Current Value ({goal.measurable?.unit})\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={progressValue}\r\n                  onChange={(e) => setProgressValue(e.target.value)}\r\n                  min=\"0\"\r\n                  max={goal.measurable?.targetValue}\r\n                  step=\"any\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Notes (Optional)\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={progressNotes}\r\n                  onChange={(e) => setProgressNotes(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  placeholder=\"What did you accomplish?\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <Button type=\"submit\" variant=\"primary\" disabled={updatingProgress}>\r\n              {updatingProgress ? (\r\n                <>\r\n                  <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                  Updating...\r\n                </>\r\n              ) : (\r\n                <>Update Progress</>\r\n              )}\r\n            </Button>\r\n          </form>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Milestones */}\r\n      {goal.milestones && goal.milestones.length > 0 && (\r\n        <Card>\r\n          <h2 className=\"text-lg font-bold text-gray-900 mb-4\">Milestones</h2>\r\n          <div className=\"space-y-3\">\r\n            {goal.milestones.map((milestone) => (\r\n              <div\r\n                key={milestone._id}\r\n                className={`p-4 rounded-lg border ${\r\n                  milestone.completed\r\n                    ? 'bg-green-50 border-green-200'\r\n                    : 'bg-gray-50 border-gray-200'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {milestone.completed ? (\r\n                        <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                      ) : (\r\n                        <div className=\"w-5 h-5 rounded-full border-2 border-gray-300\" />\r\n                      )}\r\n                      <h3 className={`font-semibold ${\r\n                        milestone.completed ? 'text-green-900 line-through' : 'text-gray-900'\r\n                      }`}>\r\n                        {milestone.title}\r\n                      </h3>\r\n                    </div>\r\n                    {milestone.description && (\r\n                      <p className=\"text-sm text-gray-600 mt-1 ml-7\">{milestone.description}</p>\r\n                    )}\r\n                    <p className=\"text-xs text-gray-500 mt-1 ml-7\">\r\n                      Target: {new Date(milestone.targetDate).toLocaleDateString()}\r\n                    </p>\r\n                  </div>\r\n                  {!milestone.completed && goal.status !== 'Completed' && (\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"md\"\r\n                      className=\"px-6\"\r\n                      onClick={() => handleMilestoneComplete(milestone._id)}\r\n                    >\r\n                      Complete\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"mt-4 text-sm text-gray-600\">\r\n            {goal.milestones.filter(m => m.completed).length} of {goal.milestones.length} milestones completed\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Progress History */}\r\n      {goal.progressUpdates && goal.progressUpdates.length > 0 && (\r\n        <Card>\r\n          <h2 className=\"text-lg font-bold text-gray-900 mb-4\">Progress History</h2>\r\n          <div className=\"space-y-2\">\r\n            {goal.progressUpdates.slice().reverse().slice(0, 10).map((update, index) => (\r\n              <div key={index} className=\"flex items-start justify-between p-3 bg-gray-50 rounded-lg\">\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className=\"font-medium text-gray-900\">\r\n                      {update.value} {goal.measurable?.unit}\r\n                    </span>\r\n                    <span className=\"text-xs text-gray-500\">\r\n                      {new Date(update.date).toLocaleDateString()}\r\n                    </span>\r\n                  </div>\r\n                  {update.notes && (\r\n                    <p className=\"text-sm text-gray-600 mt-1\">{update.notes}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoalDetail;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\GoalForm.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'i' is defined but never used.","line":76,"column":60,"nodeType":"Identifier","messageId":"unusedVar","endLine":76,"endColumn":61,"suggestions":[{"messageId":"removeVar","data":{"varName":"i"},"fix":{"range":[2801,2804],"text":""},"desc":"Remove unused variable 'i'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'formData'. Either include it or remove the dependency array. You can also do a functional update 'setFormData(f => ...)' if you only need 'formData' in the 'setFormData' call.","line":83,"column":6,"nodeType":"ArrayExpression","endLine":83,"endColumn":32,"suggestions":[{"desc":"Update the dependencies array to be: [formData, goal, recommendationData]","fix":{"range":[2930,2956],"text":"[formData, goal, recommendationData]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { createGoal, updateGoal, validateSmartGoal } from '../api/goals';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport toast from 'react-hot-toast';\r\nimport { Target, Calendar, TrendingUp, CheckCircle, Plus, X } from 'lucide-react';\r\n\r\nconst GoalForm = ({ goal, isEdit = false }) => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const recommendationData = location.state?.recommendation;\r\n\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    specific: '',\r\n    measurable: {\r\n      metric: '',\r\n      currentValue: 0,\r\n      targetValue: 0,\r\n      unit: ''\r\n    },\r\n    achievable: '',\r\n    relevant: '',\r\n    timeBound: {\r\n      startDate: new Date().toISOString().split('T')[0],\r\n      targetDate: ''\r\n    },\r\n    category: 'Job Search',\r\n    type: 'Short-term',\r\n    priority: 'Medium',\r\n    milestones: [],\r\n    tags: []\r\n  });\r\n\r\n  const [errors, setErrors] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [newMilestone, setNewMilestone] = useState({ title: '', description: '', targetDate: '' });\r\n  const [newTag, setNewTag] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (goal) {\r\n      setFormData({\r\n        ...goal,\r\n        timeBound: {\r\n          startDate: goal.timeBound?.startDate ? new Date(goal.timeBound.startDate).toISOString().split('T')[0] : '',\r\n          targetDate: goal.timeBound?.targetDate ? new Date(goal.timeBound.targetDate).toISOString().split('T')[0] : ''\r\n        }\r\n      });\r\n    } else if (recommendationData) {\r\n      // Pre-fill from recommendation\r\n      const targetDate = new Date();\r\n      targetDate.setDate(targetDate.getDate() + (recommendationData.timeline || 30));\r\n      \r\n      setFormData({\r\n        ...formData,\r\n        title: recommendationData.title || '',\r\n        description: recommendationData.specific || '',\r\n        specific: recommendationData.specific || '',\r\n        measurable: {\r\n          metric: recommendationData.measurable?.metric || '',\r\n          currentValue: 0,\r\n          targetValue: recommendationData.measurable?.targetValue || 0,\r\n          unit: recommendationData.measurable?.unit || ''\r\n        },\r\n        category: recommendationData.category || 'Job Search',\r\n        type: recommendationData.type || 'Short-term',\r\n        priority: recommendationData.priority || 'Medium',\r\n        timeBound: {\r\n          startDate: new Date().toISOString().split('T')[0],\r\n          targetDate: targetDate.toISOString().split('T')[0]\r\n        },\r\n        milestones: recommendationData.milestones?.map((m, i) => ({\r\n          title: m,\r\n          description: '',\r\n          targetDate: ''\r\n        })) || []\r\n      });\r\n    }\r\n  }, [goal, recommendationData]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name.includes('.')) {\r\n      const [parent, child] = name.split('.');\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [parent]: {\r\n          ...prev[parent],\r\n          [child]: value\r\n        }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({ ...prev, [name]: value }));\r\n    }\r\n  };\r\n\r\n  const addMilestone = () => {\r\n    if (!newMilestone.title.trim()) {\r\n      toast.error('Milestone title is required');\r\n      return;\r\n    }\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      milestones: [...prev.milestones, { ...newMilestone, completed: false }]\r\n    }));\r\n    setNewMilestone({ title: '', description: '', targetDate: '' });\r\n    toast.success('Milestone added');\r\n  };\r\n\r\n  const removeMilestone = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      milestones: prev.milestones.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const addTag = () => {\r\n    if (!newTag.trim()) return;\r\n    if (formData.tags.includes(newTag.trim())) {\r\n      toast.error('Tag already exists');\r\n      return;\r\n    }\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      tags: [...prev.tags, newTag.trim()]\r\n    }));\r\n    setNewTag('');\r\n  };\r\n\r\n  const removeTag = (tag) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      tags: prev.tags.filter(t => t !== tag)\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Validate\r\n    const validation = validateSmartGoal(formData);\r\n    if (!validation.isValid) {\r\n      setErrors(validation.errors);\r\n      toast.error('Please fix the errors in the form');\r\n      return;\r\n    }\r\n\r\n    setErrors([]);\r\n    setLoading(true);\r\n\r\n    try {\r\n      if (isEdit) {\r\n        await updateGoal(goal._id, formData);\r\n        toast.success('Goal updated successfully!');\r\n      } else {\r\n        await createGoal(formData);\r\n        toast.success('Goal created successfully!');\r\n      }\r\n      navigate('/goals');\r\n    } catch (error) {\r\n      console.error('Submit Goal Error:', error);\r\n      toast.error(error.message || 'Failed to save goal');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const categories = [\r\n    'Job Search',\r\n    'Skill Development',\r\n    'Networking',\r\n    'Career Advancement',\r\n    'Salary Negotiation',\r\n    'Work-Life Balance',\r\n    'Professional Certification',\r\n    'Industry Knowledge',\r\n    'Leadership',\r\n    'Custom'\r\n  ];\r\n\r\n  const units = ['applications', 'interviews', 'offers', 'skills', 'connections', 'hours', 'days', 'projects', 'certifications', 'custom'];\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 flex items-center gap-2\">\r\n          <Target className=\"w-8 h-8 text-primary-600\" />\r\n          {isEdit ? 'Edit Goal' : 'Create New Goal'}\r\n        </h1>\r\n        <p className=\"text-gray-600 mt-2\">\r\n          Set a SMART goal to advance your career objectives\r\n        </p>\r\n      </div>\r\n\r\n      {errors.length > 0 && (\r\n        <Card className=\"bg-red-50 border-red-200 mb-6\">\r\n          <h3 className=\"font-bold text-red-900 mb-2\">Please fix the following errors:</h3>\r\n          <ul className=\"list-disc list-inside space-y-1 text-red-800 text-sm\">\r\n            {errors.map((error, index) => (\r\n              <li key={index}>{error}</li>\r\n            ))}\r\n          </ul>\r\n        </Card>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Basic Information */}\r\n        <Card>\r\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Basic Information</h2>\r\n          \r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label htmlFor=\"goal-title\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Goal Title *\r\n              </label>\r\n              <input\r\n                id=\"goal-title\"\r\n                type=\"text\"\r\n                name=\"title\"\r\n                value={formData.title}\r\n                onChange={handleChange}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"e.g., Apply to 20 software engineering positions\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"goal-description\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Description *\r\n              </label>\r\n              <textarea\r\n                id=\"goal-description\"\r\n                name=\"description\"\r\n                value={formData.description}\r\n                onChange={handleChange}\r\n                rows={3}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Describe your goal in detail...\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label htmlFor=\"goal-category\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Category *\r\n                </label>\r\n                <select\r\n                  id=\"goal-category\"\r\n                  name=\"category\"\r\n                  value={formData.category}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                >\r\n                  {categories.map(cat => (\r\n                    <option key={cat} value={cat}>{cat}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"goal-type\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Type *\r\n                </label>\r\n                <select\r\n                  id=\"goal-type\"\r\n                  name=\"type\"\r\n                  value={formData.type}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                >\r\n                  <option value=\"Short-term\">Short-term (0-3 months)</option>\r\n                  <option value=\"Long-term\">Long-term (3+ months)</option>\r\n                  <option value=\"Milestone\">Milestone</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"goal-priority\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Priority *\r\n                </label>\r\n                <select\r\n                  id=\"goal-priority\"\r\n                  name=\"priority\"\r\n                  value={formData.priority}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                >\r\n                  <option value=\"Low\">Low</option>\r\n                  <option value=\"Medium\">Medium</option>\r\n                  <option value=\"High\">High</option>\r\n                  <option value=\"Critical\">Critical</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* SMART Criteria */}\r\n        <Card>\r\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\r\n            <CheckCircle className=\"w-6 h-6 text-green-600\" />\r\n            SMART Criteria\r\n          </h2>\r\n\r\n          <div className=\"space-y-4\">\r\n            {/* Specific */}\r\n            <div>\r\n              <label htmlFor=\"goal-specific\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                <span className=\"text-primary-600 font-bold\">S</span>pecific: What exactly do you want to accomplish? *\r\n              </label>\r\n              <textarea\r\n                id=\"goal-specific\"\r\n                name=\"specific\"\r\n                value={formData.specific}\r\n                onChange={handleChange}\r\n                rows={2}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Be specific about what you want to achieve...\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Measurable */}\r\n            <div>\r\n              <label htmlFor=\"goal-measurable-metric\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                <span className=\"text-primary-600 font-bold\">M</span>easurable: How will you measure progress? *\r\n              </label>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                <div>\r\n                  <input\r\n                    id=\"goal-measurable-metric\"\r\n                    type=\"text\"\r\n                    name=\"measurable.metric\"\r\n                    value={formData.measurable.metric}\r\n                    onChange={handleChange}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                    placeholder=\"Metric name\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"measurable.currentValue\"\r\n                    value={formData.measurable.currentValue}\r\n                    onChange={handleChange}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                    placeholder=\"Current value\"\r\n                    min=\"0\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"measurable.targetValue\"\r\n                    value={formData.measurable.targetValue}\r\n                    onChange={handleChange}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                    placeholder=\"Target value\"\r\n                    min=\"0\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <select\r\n                    name=\"measurable.unit\"\r\n                    value={formData.measurable.unit}\r\n                    onChange={handleChange}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                    required\r\n                  >\r\n                    <option value=\"\">Select unit</option>\r\n                    {units.map(unit => (\r\n                      <option key={unit} value={unit}>{unit}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Achievable */}\r\n            <div>\r\n              <label htmlFor=\"goal-achievable\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                <span className=\"text-primary-600 font-bold\">A</span>chievable: Why is this goal realistic? *\r\n              </label>\r\n              <textarea\r\n                id=\"goal-achievable\"\r\n                name=\"achievable\"\r\n                value={formData.achievable}\r\n                onChange={handleChange}\r\n                rows={2}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Explain why this goal is achievable given your resources and constraints...\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Relevant */}\r\n            <div>\r\n              <label htmlFor=\"goal-relevant\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                <span className=\"text-primary-600 font-bold\">R</span>elevant: Why is this goal important? *\r\n              </label>\r\n              <textarea\r\n                id=\"goal-relevant\"\r\n                name=\"relevant\"\r\n                value={formData.relevant}\r\n                onChange={handleChange}\r\n                rows={2}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Explain how this goal aligns with your career objectives...\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Time-bound */}\r\n            <div>\r\n              <span className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                <span className=\"text-primary-600 font-bold\">T</span>ime-bound: When will you achieve this? *\r\n              </span>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label htmlFor=\"goal-start-date\" className=\"block text-xs text-gray-600 mb-1\">Start Date</label>\r\n                  <input\r\n                    id=\"goal-start-date\"\r\n                    type=\"date\"\r\n                    name=\"timeBound.startDate\"\r\n                    value={formData.timeBound.startDate}\r\n                    onChange={handleChange}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"goal-target-date\" className=\"block text-xs text-gray-600 mb-1\">Target Completion Date</label>\r\n                  <input\r\n                    id=\"goal-target-date\"\r\n                    type=\"date\"\r\n                    name=\"timeBound.targetDate\"\r\n                    value={formData.timeBound.targetDate}\r\n                    onChange={handleChange}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                    min={formData.timeBound.startDate}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Milestones */}\r\n        <Card>\r\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\r\n            <TrendingUp className=\"w-6 h-6 text-primary-600\" />\r\n            Milestones (Optional)\r\n          </h2>\r\n\r\n          {formData.milestones.length > 0 && (\r\n            <div className=\"space-y-2 mb-4\">\r\n              {formData.milestones.map((milestone, index) => (\r\n                <div key={index} className=\"flex items-center gap-2 p-3 bg-gray-50 rounded-lg\">\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"font-medium text-gray-900\">{milestone.title}</p>\r\n                    {milestone.targetDate && (\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Due: {new Date(milestone.targetDate).toLocaleDateString()}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => removeMilestone(index)}\r\n                    className=\"text-red-600 hover:text-red-800\"\r\n                  >\r\n                    <X className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <div className=\"md:col-span-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={newMilestone.title}\r\n                onChange={(e) => setNewMilestone({ ...newMilestone, title: e.target.value })}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Milestone title\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <input\r\n                type=\"date\"\r\n                value={newMilestone.targetDate}\r\n                onChange={(e) => setNewMilestone({ ...newMilestone, targetDate: e.target.value })}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                min={formData.timeBound.startDate}\r\n                max={formData.timeBound.targetDate}\r\n              />\r\n            </div>\r\n            <div>\r\n              <Button type=\"button\" variant=\"primary\" onClick={addMilestone} className=\"w-full px-6 py-3 text-base rounded-xl\">\r\n                Add\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Tags */}\r\n        <Card>\r\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Tags (Optional)</h2>\r\n\r\n          {formData.tags.length > 0 && (\r\n            <div className=\"flex flex-wrap gap-2 mb-4\">\r\n              {formData.tags.map((tag, index) => (\r\n                <span\r\n                  key={index}\r\n                  className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800\"\r\n                >\r\n                  {tag}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => removeTag(tag)}\r\n                    className=\"ml-2 text-primary-600 hover:text-primary-800\"\r\n                  >\r\n                    <X className=\"w-3 h-3\" />\r\n                  </button>\r\n                </span>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={newTag}\r\n              onChange={(e) => setNewTag(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addTag())}\r\n              className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n              placeholder=\"Add a tag (press Enter)\"\r\n            />\r\n            <Button type=\"button\" variant=\"outline\" onClick={addTag}>\r\n              <Plus className=\"w-4 h-4\" />\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex gap-4\">\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"primary\"\r\n            size=\"large\"\r\n            disabled={loading}\r\n            className=\"flex-1 px-6 py-3 text-lg rounded-xl\"\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                Saving...\r\n              </>\r\n            ) : (\r\n              <>\r\n                {isEdit ? 'Update Goal' : 'Create Goal'}\r\n              </>\r\n            )}\r\n          </Button>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"outline\"\r\n            size=\"large\"\r\n            onClick={() => navigate('/goals')}\r\n            disabled={loading}\r\n            className=\"px-6 py-3 text-lg rounded-xl min-w-[100px]\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoalForm;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\InformationalInterviewCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\InputField.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\InsightsPanel.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":63,"column":5,"nodeType":"JSXOpeningElement","endLine":67,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":63,"column":5,"nodeType":"JSXOpeningElement","endLine":67,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":68,"column":7,"nodeType":"JSXOpeningElement","endLine":68,"endColumn":135},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":68,"column":7,"nodeType":"JSXOpeningElement","endLine":68,"endColumn":135}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { generateInsights } from '../api/informationalInterviews';\r\nimport { setAuthToken } from '../api/axios';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport Card from './Card';\r\n\r\n// Helper function to safely extract text from string or object\r\nconst getTextContent = (item) => {\r\n  if (typeof item === 'string') return item;\r\n  if (typeof item === 'object' && item !== null) {\r\n    // Try common keys that might contain the text\r\n    return item.text || item.content || item.description || item.value || \r\n           item.trend || item.pattern || item.path || item.recommendation || \r\n           item.opportunity || item.skill || item.name || item.tip ||\r\n           JSON.stringify(item);\r\n  }\r\n  return String(item);\r\n};\r\n\r\nexport default function InsightsPanel({ isOpen, onClose }) {\r\n  const { getToken } = useAuth();\r\n  const [insights, setInsights] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const loadInsights = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    setMessage(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await generateInsights();\r\n      setInsights(response.data.data.insights);\r\n      setMessage(response.data.data.message || null);\r\n    } catch (err) {\r\n      console.error('Failed to load insights:', err);\r\n      setError('Failed to generate insights. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [getToken]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      loadInsights();\r\n    }\r\n  }, [isOpen, loadInsights]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  // Handler for clicking the backdrop\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\" onClick={e => e.stopPropagation()}>\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">≡ƒÆí Industry Insights</h2>\r\n            <p className=\"text-gray-500 text-sm\">\r\n              AI-generated intelligence from your completed informational interviews\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition\"\r\n            aria-label=\"Close\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-180px)]\">\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\r\n              <p className=\"text-red-800 text-sm\">{error}</p>\r\n              <button\r\n                onClick={loadInsights}\r\n                className=\"mt-2 text-sm text-red-600 hover:text-red-800\"\r\n              >\r\n                Try Again\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {loading && (\r\n            <div className=\"py-12 text-center\">\r\n              <LoadingSpinner text=\"Analyzing your interviews...\" />\r\n            </div>\r\n          )}\r\n\r\n          {!loading && !insights && !error && (\r\n            <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\r\n              <p className=\"text-gray-600 mb-4\">\r\n                {message || 'Complete some informational interviews and record outcomes to generate insights'}\r\n              </p>\r\n              <p className=\"text-sm text-gray-500\">\r\n                To get insights, mark interviews as \"Completed\" and fill in the outcomes section with key learnings.\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {!loading && insights && (\r\n            <div className=\"space-y-6\">\r\n              {/* Summary */}\r\n              <div className=\"bg-[#E4E6E0] rounded-lg p-4 border border-[#d4d6d0]\">\r\n                <p className=\"text-[#4F5348] text-sm\">\r\n                  Γ£¿ Insights based on <strong>{insights.basedOnInterviews || 0}</strong> completed interviews\r\n                  {insights.generatedAt && (\r\n                    <span className=\"ml-2 text-[#656A5C]\">\r\n                      (Generated: {new Date(insights.generatedAt).toLocaleDateString()})\r\n                    </span>\r\n                  )}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Industry Trends */}\r\n              {insights.industryTrends?.length > 0 && (\r\n                <Card variant=\"elevated\">\r\n                  <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center\">\r\n                    <span className=\"text-xl mr-2\">≡ƒôê</span> Industry Trends\r\n                  </h3>\r\n                  <ul className=\"space-y-2\">\r\n                    {insights.industryTrends.map((trend, idx) => (\r\n                      <li key={idx} className=\"flex items-start\">\r\n                        <span className=\"text-amber-500 mr-2\">ΓÇó</span>\r\n                        <span className=\"text-gray-700\">{getTextContent(trend)}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Skill Priorities */}\r\n              {insights.skillPriorities?.length > 0 && (\r\n                <Card variant=\"elevated\">\r\n                  <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center\">\r\n                    <span className=\"text-xl mr-2\">≡ƒÄ»</span> Skills in Demand\r\n                  </h3>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {insights.skillPriorities.map((skill, idx) => (\r\n                      <span\r\n                        key={idx}\r\n                        className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\"\r\n                      >\r\n                        {getTextContent(skill)}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Cultural Patterns */}\r\n              {insights.culturalPatterns?.length > 0 && (\r\n                <Card variant=\"elevated\">\r\n                  <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center\">\r\n                    <span className=\"text-xl mr-2\">≡ƒÅó</span> Company Culture Insights\r\n                  </h3>\r\n                  <ul className=\"space-y-2\">\r\n                    {insights.culturalPatterns.map((pattern, idx) => (\r\n                      <li key={idx} className=\"flex items-start\">\r\n                        <span className=\"text-purple-500 mr-2\">ΓÇó</span>\r\n                        <span className=\"text-gray-700\">{getTextContent(pattern)}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Career Paths */}\r\n              {insights.careerPaths?.length > 0 && (\r\n                <Card variant=\"elevated\">\r\n                  <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center\">\r\n                    <span className=\"text-xl mr-2\">≡ƒ¢ñ∩╕Å</span> Career Path Insights\r\n                  </h3>\r\n                  <ul className=\"space-y-2\">\r\n                    {insights.careerPaths.map((path, idx) => (\r\n                      <li key={idx} className=\"flex items-start\">\r\n                        <span className=\"text-green-500 mr-2\">ΓÇó</span>\r\n                        <span className=\"text-gray-700\">{getTextContent(path)}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Recommendations */}\r\n              {insights.recommendations?.length > 0 && (\r\n                <Card variant=\"elevated\" className=\"bg-gradient-to-br from-green-50 to-emerald-50\">\r\n                  <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center\">\r\n                    <span className=\"text-xl mr-2\">Γ£à</span> Recommended Actions\r\n                  </h3>\r\n                  <ol className=\"space-y-3 list-decimal list-inside\">\r\n                    {insights.recommendations.map((rec, idx) => (\r\n                      <li key={idx} className=\"text-gray-700\">\r\n                        {getTextContent(rec)}\r\n                      </li>\r\n                    ))}\r\n                  </ol>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Networking Opportunities */}\r\n              {insights.networkingOpportunities?.length > 0 && (\r\n                <Card variant=\"elevated\">\r\n                  <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center\">\r\n                    <span className=\"text-xl mr-2\">≡ƒñ¥</span> Networking Opportunities\r\n                  </h3>\r\n                  <ul className=\"space-y-2\">\r\n                    {insights.networkingOpportunities.map((opp, idx) => (\r\n                      <li key={idx} className=\"flex items-start\">\r\n                        <span className=\"text-indigo-500 mr-2\">ΓåÆ</span>\r\n                        <span className=\"text-gray-700\">{getTextContent(opp)}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Refresh Button */}\r\n              <div className=\"text-center pt-4\">\r\n                <button\r\n                  onClick={loadInsights}\r\n                  className=\"px-4 py-2 text-[#656A5C] hover:text-[#4F5348] font-medium\"\r\n                >\r\n                  ≡ƒöä Regenerate Insights\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"bg-gray-50 border-t border-gray-200 p-4 flex justify-end\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\InterviewCard.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'rescheduleInterview' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":8,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":22,"suggestions":[{"messageId":"removeVar","data":{"varName":"rescheduleInterview"},"fix":{"range":[248,268],"text":""},"desc":"Remove unused variable 'rescheduleInterview'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'updateInterview' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":13,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":18,"suggestions":[{"messageId":"removeVar","data":{"varName":"updateInterview"},"fix":{"range":[354,374],"text":""},"desc":"Remove unused variable 'updateInterview'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":363,"column":15,"nodeType":"JSXOpeningElement","endLine":363,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":380,"column":15,"nodeType":"JSXOpeningElement","endLine":380,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":393,"column":15,"nodeType":"JSXOpeningElement","endLine":393,"endColumn":79},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":459,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":459,"endColumn":29},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":526,"column":21,"nodeType":"JSXOpeningElement","endLine":530,"endColumn":22},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":526,"column":21,"nodeType":"JSXOpeningElement","endLine":530,"endColumn":22},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":531,"column":23,"nodeType":"JSXOpeningElement","endLine":531,"endColumn":182},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":531,"column":23,"nodeType":"JSXOpeningElement","endLine":531,"endColumn":182},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":568,"column":17,"nodeType":"JSXOpeningElement","endLine":568,"endColumn":81}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Card from \"./Card\";\r\nimport Button from \"./Button\";\r\nimport FollowUpTemplates from \"./FollowUpTemplates\";\r\nimport { \r\n  rescheduleInterview, \r\n  cancelInterview, \r\n  confirmInterview,\r\n  recordOutcome,\r\n  updatePreparationTask,\r\n  updateInterview,\r\n  downloadInterviewICS,\r\n  syncInterviewToCalendar,\r\n} from \"../api/interviews\";\r\n\r\nconst STATUS_COLORS = {\r\n  Scheduled: \"bg-blue-100 text-blue-800\",\r\n  Confirmed: \"bg-green-100 text-green-800\",\r\n  Rescheduled: \"bg-yellow-100 text-yellow-800\",\r\n  Cancelled: \"bg-red-100 text-red-800\",\r\n  Completed: \"bg-gray-100 text-gray-800\",\r\n  \"No-Show\": \"bg-red-100 text-red-800\",\r\n};\r\n\r\nconst TYPE_ICONS = {\r\n  \"Phone Screen\": \"≡ƒô₧\",\r\n  \"Video Call\": \"≡ƒÄÑ\",\r\n  \"In-Person\": \"≡ƒÅó\",\r\n  Technical: \"≡ƒÆ╗\",\r\n  \"Final Round\": \"≡ƒÄ»\",\r\n  Other: \"≡ƒôï\",\r\n  // Legacy support for old interview types\r\n  Phone: \"≡ƒô₧\",\r\n  Video: \"≡ƒÄÑ\",\r\n  Behavioral: \"≡ƒùú∩╕Å\",\r\n  Panel: \"≡ƒæÑ\",\r\n  Group: \"≡ƒæ¿ΓÇì≡ƒæ⌐ΓÇì≡ƒæºΓÇì≡ƒæª\",\r\n  \"Case Study\": \"≡ƒôè\",\r\n};\r\n\r\nexport default function InterviewCard({ interview, onUpdate, onEdit, onDelete, onOpenInterviewChecklist, compact = false }) {\r\n  const navigate = useNavigate();\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [syncing, setSyncing] = useState(false);\r\n  const [showOutcomeForm, setShowOutcomeForm] = useState(false);\r\n  const [showCancelModal, setShowCancelModal] = useState(false);\r\n  const [cancelReason, setCancelReason] = useState(\"\");\r\n  const [outcomeData, setOutcomeData] = useState({\r\n    result: \"Pending\",\r\n    notes: \"\",\r\n    feedback: \"\",\r\n    rating: 3,\r\n  });\r\n  // Follow-Up modal state\r\n  const [showFollowUpModal, setShowFollowUpModal] = useState(false);\r\n\r\n  const interviewDate = new Date(interview.scheduledDate);\r\n  const now = new Date();\r\n  const isPast = interviewDate < now;\r\n  const hoursUntil = Math.floor((interviewDate - now) / (1000 * 60 * 60));\r\n  const daysUntil = Math.floor(hoursUntil / 24);\r\n  \r\n  const timeUntilText = isPast \r\n    ? \"Past\" \r\n    : daysUntil > 0 \r\n    ? `${daysUntil} day${daysUntil !== 1 ? 's' : ''}`\r\n    : hoursUntil > 0\r\n    ? `${hoursUntil} hour${hoursUntil !== 1 ? 's' : ''}`\r\n    : \"Soon\";\r\n\r\n  const handleConfirm = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await confirmInterview(interview._id);\r\n      if (response.data?.success) {\r\n        onUpdate(response.data.data.interview);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error confirming interview:\", err);\r\n      alert(err.response?.data?.message || \"Failed to confirm interview\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelClick = () => {\r\n    setShowCancelModal(true);\r\n  };\r\n\r\n  const handleCancelConfirm = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await cancelInterview(interview._id, cancelReason || \"No reason provided\");\r\n      if (response.data?.success) {\r\n        setShowCancelModal(false);\r\n        setCancelReason(\"\");\r\n        // Call onDelete to remove from UI since cancelled interviews are filtered out\r\n        if (onDelete) {\r\n          onDelete();\r\n        } else {\r\n          onUpdate(response.data.data.interview);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error cancelling interview:\", err);\r\n      alert(\"Failed to cancel interview. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRecordOutcome = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const response = await recordOutcome(interview._id, outcomeData);\r\n      if (response.data?.success) {\r\n        onUpdate(response.data.data.interview);\r\n        setShowOutcomeForm(false);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error recording outcome:\", err);\r\n      alert(err.response?.data?.message || \"Failed to record outcome\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleTaskToggle = async (taskId, completed) => {\r\n    try {\r\n      const response = await updatePreparationTask(interview._id, taskId, { completed });\r\n      if (response.data?.success) {\r\n        onUpdate(response.data.data.interview);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error updating task:\", err);\r\n    }\r\n  };\r\n\r\n  const incompleteTasks = interview.preparationTasks?.filter(t => !t.completed).length || 0;\r\n  const totalTasks = interview.preparationTasks?.length || 0;\r\n  const completionPct = totalTasks === 0 ? 0 : Math.round(((totalTasks - incompleteTasks) / totalTasks) * 100);\r\n\r\n  const handleDownloadICS = async () => {\r\n    try {\r\n      await downloadInterviewICS(interview._id);\r\n    } catch (err) {\r\n      console.error('ICS download failed', err);\r\n      alert('Failed to download calendar file.');\r\n    }\r\n  };\r\n\r\n  const handleSyncToCalendar = async () => {\r\n    try {\r\n      setSyncing(true);\r\n      const response = await syncInterviewToCalendar(interview._id);\r\n      if (response.data?.success) {\r\n        onUpdate(response.data.data.interview);\r\n        alert(`Γ£à ${response.data.message}`);\r\n      }\r\n    } catch (err) {\r\n      console.error('Calendar sync failed', err);\r\n      const errorMsg = err.response?.data?.message || 'Failed to sync to calendar. Make sure you have connected a calendar in Settings.';\r\n      alert(errorMsg);\r\n    } finally {\r\n      setSyncing(false);\r\n    }\r\n  };\r\n\r\n  if (compact && !showDetails) {\r\n    return (\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <span className=\"text-2xl\">{TYPE_ICONS[interview.interviewType]}</span>\r\n              <div>\r\n                <h3 className=\"font-semibold text-gray-900\">{interview.title}</h3>\r\n                <p className=\"text-sm text-gray-600\">{interview.company}</p>\r\n              </div>\r\n            </div>\r\n            <p className=\"text-sm text-gray-500\">\r\n              {interviewDate.toLocaleDateString()} at {interviewDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n            </p>\r\n            {!isPast && (\r\n              <p className=\"text-xs text-blue-600 mt-1\">In {timeUntilText}</p>\r\n            )}\r\n          </div>\r\n          <span className={`px-2 py-1 rounded text-xs font-medium ${STATUS_COLORS[interview.status]}`}>\r\n            {interview.status}\r\n          </span>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowDetails(true)}\r\n          className=\"text-sm text-primary hover:underline mt-2\"\r\n        >\r\n          View Details ΓåÆ\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className=\"hover:shadow-lg transition-shadow\">\r\n      <div className=\"space-y-4\">\r\n        {/* Header */}\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex items-start space-x-3\">\r\n            <span className=\"text-3xl\">{TYPE_ICONS[interview.interviewType]}</span>\r\n            <div>\r\n              <h3 className=\"text-xl font-bold text-gray-900\">{interview.title}</h3>\r\n              <p className=\"text-gray-600\">{interview.company}</p>\r\n              <p className=\"text-sm text-gray-500\">{interview.interviewType} Interview</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-col items-end space-y-2\">\r\n            <span className={`px-3 py-1 rounded-full text-sm font-medium ${STATUS_COLORS[interview.status]}`}>\r\n              {interview.status}\r\n            </span>\r\n            {interview.conflictWarning?.hasConflict && (\r\n              <span className=\"text-xs text-yellow-600 flex items-center\">\r\n                ΓÜá∩╕Å Conflict\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Date & Time */}\r\n        <div className=\"bg-gray-50 rounded-lg p-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-500\">Date & Time</p>\r\n              <p className=\"font-semibold text-gray-900\">\r\n                {interviewDate.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\r\n              </p>\r\n              <p className=\"text-gray-700\">\r\n                {interviewDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-500\">Duration</p>\r\n              <p className=\"font-semibold text-gray-900\">{interview.duration} minutes</p>\r\n              {!isPast && (\r\n                <p className=\"text-sm text-blue-600 font-medium mt-1\">\r\n                  {timeUntilText} away\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Location/Link */}\r\n        {(interview.meetingLink || interview.location) && (\r\n          <div>\r\n            <p className=\"text-sm text-gray-500 mb-1\">\r\n              {interview.meetingLink ? \"Meeting Link\" : \"Location\"}\r\n            </p>\r\n            {interview.meetingLink ? (\r\n              <a\r\n                href={interview.meetingLink}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-primary hover:underline break-all\"\r\n              >\r\n                {interview.meetingLink}\r\n              </a>\r\n            ) : (\r\n              <p className=\"text-gray-700\">{interview.location}</p>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Interviewer */}\r\n        {interview.interviewer?.name && (\r\n          <div>\r\n            <p className=\"text-sm text-gray-500 mb-1\">Interviewer</p>\r\n            <p className=\"font-medium text-gray-900\">{interview.interviewer.name}</p>\r\n            {interview.interviewer.title && (\r\n              <p className=\"text-sm text-gray-600\">{interview.interviewer.title}</p>\r\n            )}\r\n            {interview.interviewer.email && (\r\n              <a href={`mailto:${interview.interviewer.email}`} className=\"text-sm text-primary hover:underline\">\r\n                {interview.interviewer.email}\r\n              </a>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Preparation Tasks */}\r\n        {totalTasks > 0 && (\r\n          <div>\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"text-sm font-medium text-gray-700\">\r\n                Preparation Tasks ({totalTasks - incompleteTasks}/{totalTasks} complete)\r\n              </p>\r\n              <span className=\"text-xs text-gray-500\">{completionPct}%</span>\r\n            </div>\r\n            <div className=\"h-2 w-full bg-gray-200 rounded overflow-hidden mb-3\">\r\n              <div\r\n                className={`h-full transition-all duration-300 ${completionPct === 100 ? 'bg-green-500' : 'bg-primary'}`}\r\n                style={{ width: `${completionPct}%` }}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              {interview.preparationTasks.slice(0, showDetails ? undefined : 3).map((task) => (\r\n                <label key={task._id} className=\"flex items-start space-x-2 cursor-pointer\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={task.completed}\r\n                    onChange={(e) => handleTaskToggle(task._id, e.target.checked)}\r\n                    className=\"mt-1 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\r\n                  />\r\n                  <span className={`text-sm ${task.completed ? 'line-through text-gray-500' : 'text-gray-700'}`}>\r\n                    {task.title}\r\n                  </span>\r\n                </label>\r\n              ))}\r\n              {!showDetails && totalTasks > 3 && (\r\n                <button\r\n                  onClick={() => setShowDetails(true)}\r\n                  className=\"text-sm text-primary hover:underline\"\r\n                >\r\n                  Show {totalTasks - 3} more tasks\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Notes */}\r\n        {showDetails && interview.notes && (\r\n          <div>\r\n            <p className=\"text-sm text-gray-500 mb-1\">Notes</p>\r\n            <p className=\"text-gray-700 text-sm whitespace-pre-wrap\">{interview.notes}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Outcome */}\r\n        {interview.outcome?.result && interview.outcome.result !== \"Pending\" && (\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n            <p className=\"text-sm font-medium text-blue-900 mb-1\">Outcome</p>\r\n            <p className=\"font-semibold text-blue-900\">{interview.outcome.result}</p>\r\n            {interview.outcome.notes && (\r\n              <p className=\"text-sm text-blue-800 mt-2\">{interview.outcome.notes}</p>\r\n            )}\r\n            {interview.outcome.rating && (\r\n              <p className=\"text-sm text-blue-800 mt-1\">\r\n                Rating: {\"Γ¡É\".repeat(interview.outcome.rating)}\r\n              </p>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Outcome Form */}\r\n        {showOutcomeForm && (\r\n          <form onSubmit={handleRecordOutcome} className=\"bg-gray-50 rounded-lg p-4 space-y-3\">\r\n            <h4 className=\"font-semibold text-gray-900\">Record Outcome</h4>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Result</label>\r\n              <select\r\n                value={outcomeData.result}\r\n                onChange={(e) => setOutcomeData({ ...outcomeData, result: e.target.value })}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                required\r\n              >\r\n                <option value=\"Pending\">Pending</option>\r\n                <option value=\"Passed\">Passed</option>\r\n                <option value=\"Failed\">Failed</option>\r\n                <option value=\"Moved to Next Round\">Moved to Next Round</option>\r\n                <option value=\"Waiting for Feedback\">Waiting for Feedback</option>\r\n                <option value=\"Offer Extended\">Offer Extended</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Rating</label>\r\n              <select\r\n                value={outcomeData.rating}\r\n                onChange={(e) => setOutcomeData({ ...outcomeData, rating: parseInt(e.target.value) })}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n              >\r\n                {[1, 2, 3, 4, 5].map(n => (\r\n                  <option key={n} value={n}>{\"Γ¡É\".repeat(n)}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Notes</label>\r\n              <textarea\r\n                value={outcomeData.notes}\r\n                onChange={(e) => setOutcomeData({ ...outcomeData, notes: e.target.value })}\r\n                rows=\"3\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                placeholder=\"How did it go?\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex space-x-2\">\r\n              <Button type=\"submit\" disabled={loading}>\r\n                {loading ? \"Saving...\" : \"Save Outcome\"}\r\n              </Button>\r\n              <Button type=\"button\" variant=\"secondary\" onClick={() => setShowOutcomeForm(false)}>\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        )}\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex flex-wrap gap-2 pt-4 border-t items-center\">\r\n          {/* Calendar sync status - only show for meaningful states */}\r\n          {interview.calendarSyncStatus && interview.calendarSyncStatus !== 'not_synced' && (\r\n            <span className={`text-xs px-2 py-1 rounded border whitespace-nowrap flex items-center gap-1 ${\r\n              interview.calendarSyncStatus === 'synced' ? 'bg-green-50 border-green-300 text-green-700' :\r\n              interview.calendarSyncStatus === 'failed' ? 'bg-red-50 border-red-300 text-red-700' :\r\n              interview.calendarSyncStatus === 'pending' ? 'bg-yellow-50 border-yellow-300 text-yellow-700' : 'bg-gray-50 border-gray-300 text-gray-600'\r\n            }`}>\r\n              {interview.calendarSyncStatus === 'synced' && '≡ƒôà '}\r\n              {interview.calendarSyncStatus === 'pending' && 'ΓÅ│ '}\r\n              {interview.calendarSyncStatus === 'failed' && 'ΓÜá∩╕Å '}\r\n              {interview.calendarSyncStatus === 'synced' ? 'Calendar synced' :\r\n               interview.calendarSyncStatus === 'pending' ? 'Syncing...' :\r\n               interview.calendarSyncStatus === 'failed' ? 'Sync failed' : interview.calendarSyncStatus}\r\n            </span>\r\n          )}\r\n          {(interview.googleCalendarEventId || interview.outlookCalendarEventId) && (\r\n            <Button onClick={handleDownloadICS} variant=\"secondary\" size=\"sm\" title=\"Download .ics calendar file\">\r\n              ≡ƒôÑ ICS\r\n            </Button>\r\n          )}\r\n          {/* Sync to Calendar Button - show if not synced or if sync failed */}\r\n          {(!interview.calendarSyncStatus || interview.calendarSyncStatus === 'not_synced' || interview.calendarSyncStatus === 'failed') && (\r\n            <Button \r\n              onClick={handleSyncToCalendar} \r\n              disabled={syncing}\r\n              variant=\"secondary\" \r\n              size=\"sm\" \r\n              title=\"Sync this interview to your connected calendar (Google/Outlook)\"\r\n              className=\"whitespace-nowrap\"\r\n            >\r\n              {syncing ? 'ΓÅ│ Syncing...' : '≡ƒôà Sync to Calendar'}\r\n            </Button>\r\n          )}\r\n          {/* Interview Prep Button: Only show if interview has a jobId */}\r\n          {interview.jobId && (\r\n            <Button\r\n              onClick={() => {\r\n                const raw = interview.jobId;\r\n                const id = typeof raw === 'object' ? (raw._id || raw.id) : raw;\r\n                if (id) {\r\n                  try {\r\n                    window.localStorage.setItem('activeJobId', id);\r\n                    window.sessionStorage.setItem('activeJobId', id);\r\n                  } catch (e) { /* ignore storage errors */ }\r\n                  navigate(`/jobs/${id}/interview-prep`);\r\n                }\r\n              }}\r\n              size=\"sm\"\r\n              className=\"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap\"\r\n              title=\"Go to Interview Prep for this job\"\r\n            >\r\n              ≡ƒÄñ Prep\r\n            </Button>\r\n          )}\r\n          {/* Interview Checklist Button */}\r\n          {onOpenInterviewChecklist && (\r\n            <Button\r\n              onClick={() => onOpenInterviewChecklist(interview)}\r\n              size=\"sm\"\r\n              className=\"bg-green-600 hover:bg-green-700 text-white whitespace-nowrap\"\r\n              title=\"Open interview preparation checklist\"\r\n            >\r\n              Γ£à Checklist\r\n            </Button>\r\n          )}\r\n          {/* Company Research Button */}\r\n          <Button\r\n            onClick={() => navigate(`/interviews/${interview._id}/company-research`)}\r\n            size=\"sm\"\r\n            className=\"bg-purple-600 hover:bg-purple-700 text-white whitespace-nowrap\"\r\n            title=\"View company research for this interview\"\r\n          >\r\n            ≡ƒöì Research\r\n          </Button>\r\n          {interview.status === \"Scheduled\" && (\r\n            <Button onClick={handleConfirm} disabled={loading} size=\"sm\">\r\n              Confirm\r\n            </Button>\r\n          )}\r\n          \r\n          {[\"Scheduled\", \"Confirmed\", \"Rescheduled\"].includes(interview.status) && (\r\n            <>\r\n              <Button onClick={() => onEdit(interview)} variant=\"secondary\" size=\"sm\">\r\n                Reschedule\r\n              </Button>\r\n              <Button onClick={handleCancelClick} variant=\"secondary\" size=\"sm\" disabled={loading}>\r\n                Cancel\r\n              </Button>\r\n            </>\r\n          )}\r\n          \r\n          {interview.status === \"Completed\" && !interview.outcome?.result && (\r\n            <Button onClick={() => setShowOutcomeForm(true)} size=\"sm\" className=\"whitespace-nowrap\">\r\n              Outcome\r\n            </Button>\r\n          )}\r\n\r\n          {interview.status === \"Completed\" && (\r\n            <Button\r\n              onClick={() => setShowFollowUpModal(true)}\r\n              variant=\"secondary\"\r\n              size=\"sm\"\r\n              className=\"whitespace-nowrap\"\r\n              title=\"Send interview follow-up\"\r\n            >\r\n              Γ£ë∩╕Å Follow-Up\r\n            </Button>\r\n          )}\r\n                  {/* Follow-Up Modal */}\r\n                  {showFollowUpModal && interview.jobId && (\r\n                    <div\r\n                      className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n                      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n                      onClick={() => setShowFollowUpModal(false)}\r\n                    >\r\n                      <div className=\"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 shadow-2xl mx-4\" onClick={(e) => e.stopPropagation()}>\r\n                        <FollowUpTemplates\r\n                          job={typeof interview.jobId === 'object' ? interview.jobId : { _id: interview.jobId, title: interview.title, company: interview.company, location: interview.location }}\r\n                          onClose={() => setShowFollowUpModal(false)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n          \r\n          {interview.status !== \"Completed\" && !showOutcomeForm && (\r\n            <Button onClick={() => setShowOutcomeForm(true)} variant=\"secondary\" size=\"sm\" className=\"whitespace-nowrap\">\r\n              Complete\r\n            </Button>\r\n          )}\r\n          \r\n          {!showDetails && (\r\n            <Button onClick={() => setShowDetails(true)} variant=\"secondary\" size=\"sm\">\r\n              Show More\r\n            </Button>\r\n          )}\r\n          \r\n          {showDetails && (\r\n            <Button onClick={() => setShowDetails(false)} variant=\"secondary\" size=\"sm\">\r\n              Show Less\r\n            </Button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Cancel Confirmation Modal */}\r\n        {showCancelModal && (\r\n          <div className=\"fixed inset-0 backdrop-blur-md flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-lg max-w-md w-full p-6 shadow-xl\">\r\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Cancel Interview</h3>\r\n              <p className=\"text-gray-700 mb-4\">\r\n                Are you sure you want to cancel this interview? This action cannot be undone.\r\n              </p>\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Reason for cancellation (optional)\r\n                </label>\r\n                <textarea\r\n                  value={cancelReason}\r\n                  onChange={(e) => setCancelReason(e.target.value)}\r\n                  rows=\"3\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500\"\r\n                  placeholder=\"e.g., Accepted another offer, Schedule conflict, etc.\"\r\n                />\r\n              </div>\r\n              <div className=\"flex justify-end space-x-3\">\r\n                <Button\r\n                  onClick={() => {\r\n                    setShowCancelModal(false);\r\n                    setCancelReason(\"\");\r\n                  }}\r\n                  variant=\"secondary\"\r\n                  disabled={loading}\r\n                >\r\n                  Keep Interview\r\n                </Button>\r\n                <Button\r\n                  onClick={handleCancelConfirm}\r\n                  disabled={loading}\r\n                  className=\"bg-red-600 hover:bg-red-700 text-white\"\r\n                >\r\n                  {loading ? \"Cancelling...\" : \"Yes, Cancel Interview\"}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nInterviewCard.propTypes = {\r\n  interview: PropTypes.object.isRequired,\r\n  onUpdate: PropTypes.func.isRequired,\r\n  onEdit: PropTypes.func.isRequired,\r\n  onDelete: PropTypes.func,\r\n  onOpenInterviewChecklist: PropTypes.func,\r\n  compact: PropTypes.bool,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\InterviewChecklist.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":171,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":171,"endColumn":15},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":182,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":182,"endColumn":15},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":182,"column":17,"nodeType":"BlockStatement","messageId":"unexpected","endLine":182,"endColumn":19,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[10957,10957],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":191,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":191,"endColumn":15},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":191,"column":17,"nodeType":"BlockStatement","messageId":"unexpected","endLine":191,"endColumn":19,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[11283,11283],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":206,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":206,"endColumn":15},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'generate'. Either include it or remove the dependency array.","line":209,"column":6,"nodeType":"ArrayExpression","endLine":209,"endColumn":31,"suggestions":[{"desc":"Update the dependencies array to be: [key, job, autoGenerated, generate]","fix":{"range":[11712,11737],"text":"[key, job, autoGenerated, generate]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":224,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":224,"endColumn":15},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":224,"column":17,"nodeType":"BlockStatement","messageId":"unexpected","endLine":224,"endColumn":19,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[12093,12093],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":232,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":232,"endColumn":15},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":232,"column":17,"nodeType":"BlockStatement","messageId":"unexpected","endLine":232,"endColumn":19,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[12333,12333],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":243,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":243,"endColumn":15},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":243,"column":17,"nodeType":"BlockStatement","messageId":"unexpected","endLine":243,"endColumn":19,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[12572,12572],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":303,"column":13,"nodeType":"JSXOpeningElement","endLine":303,"endColumn":20},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":305,"column":13,"nodeType":"JSXOpeningElement","endLine":305,"endColumn":20},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":317,"column":13,"nodeType":"JSXOpeningElement","endLine":317,"endColumn":20},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":319,"column":13,"nodeType":"JSXOpeningElement","endLine":319,"endColumn":20},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":331,"column":9,"nodeType":"JSXOpeningElement","endLine":331,"endColumn":16},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":340,"column":9,"nodeType":"JSXOpeningElement","endLine":340,"endColumn":16},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":368,"column":13,"nodeType":"JSXOpeningElement","endLine":373,"endColumn":14},{"ruleId":"jsx-a11y/interactive-supports-focus","severity":1,"message":"Elements with the 'button' interactive role must be focusable.","line":368,"column":13,"nodeType":"JSXOpeningElement","endLine":373,"endColumn":14}],"suppressedMessages":[],"errorCount":18,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useMemo, useState } from \"react\";\r\nimport \"./InterviewChecklist.css\";\r\n\r\nfunction generateTasks({ role, seniority, company, culture, jobTitle, jobDescription = \"\" }) {\r\n  const roleLower = (role || jobTitle || \"\").toLowerCase();\r\n  const desc = (jobDescription || \"\").toLowerCase();\r\n\r\n  // Simple extractor for technologies / skills mentioned in the job description\r\n  const extractTechs = (text) => {\r\n    const techTerms = [\r\n      \"react\", \"vue\", \"angular\", \"javascript\", \"typescript\", \"node\", \"express\",\r\n      \"python\", \"java\", \"c++\", \"c#\", \"golang\", \"go\", \"ruby\", \"rails\",\r\n      \"aws\", \"gcp\", \"azure\", \"docker\", \"kubernetes\", \"sql\", \"postgresql\", \"mysql\",\r\n      \"mongodb\", \"redis\", \"graphql\", \"rest\", \"api\", \"html\", \"css\", \"sass\",\r\n      \"tensorflow\", \"pytorch\", \"machine learning\", \"ml\", \"nlp\", \"data structures\", \"algorithms\",\r\n      \"system design\", \"distributed\", \"scalability\", \"performance\"\r\n    ];\r\n    const found = new Set();\r\n    techTerms.forEach((t) => { if (text.includes(t)) found.add(t); });\r\n    return Array.from(found);\r\n  };\r\n\r\n  const extractResponsibilities = (text) => {\r\n    const resp = [];\r\n    if (text.includes(\"lead\") || text.includes(\"manage\") || text.includes(\"manager\") || text.includes(\"leadership\")) resp.push(\"leadership\");\r\n    if (text.includes(\"product\") || text.includes(\"metrics\") || text.includes(\"roadmap\")) resp.push(\"product-sense\");\r\n    if (text.includes(\"customer\") || text.includes(\"stakeholder\")) resp.push(\"stakeholder-engagement\");\r\n    if (text.includes(\"design\") || text.includes(\"architecture\") || text.includes(\"system design\")) resp.push(\"system-design\");\r\n    return resp;\r\n  };\r\n\r\n  const detectedTechs = extractTechs(desc);\r\n  const detectedResps = extractResponsibilities(desc);\r\n  const baseTasks = [];\r\n\r\n  // Role-specific suggestions (simple heuristics)\r\n  if (roleLower.includes(\"engineer\") || roleLower.includes(\"developer\") || roleLower.includes(\"software\")) {\r\n    baseTasks.push({\r\n      id: \"tech-review\",\r\n      title: \"Review core technical topics and system design\",\r\n      detail: `Algorithms, data structures, and system design questions relevant to ${seniority || \"role\"}`,\r\n    });\r\n    baseTasks.push({ id: \"coding-practice\", title: \"Do timed coding problems (2-3) on your preferred platform\", detail: \"Focus on common interview patterns\" });\r\n    baseTasks.push({ id: \"repo-walkthrough\", title: \"Prepare to walk through a code sample or project\", detail: \"Pick 1-2 representative commits or PRs\" });\r\n    // Add detected responsibilities for engineers\r\n    if (detectedResps.includes(\"system-design\") || detectedTechs.some(t => t === \"system design\")) {\r\n      baseTasks.unshift({ id: \"focus-system-design\", title: \"Deep-dive system design prep\", detail: \"Sketch architecture, scalability and trade-offs for system components mentioned in job description\" });\r\n    }\r\n  } else if (roleLower.includes(\"product\")) {\r\n    baseTasks.push({ id: \"pm-sense\", title: \"Prepare product sense examples\", detail: \"Prioritize product tradeoffs, metrics, and roadmap thinking\" });\r\n    baseTasks.push({ id: \"case-study\", title: \"Practice a product case study\", detail: \"Structure frameworks and clarify assumptions\" });\r\n  } else if (roleLower.includes(\"design\") || roleLower.includes(\"ux\")) {\r\n    baseTasks.push({ id: \"portfolio-review\", title: \"Prepare portfolio case studies\", detail: \"Include problem, approach, and impact for 2-3 projects\" });\r\n    baseTasks.push({ id: \"design-exercises\", title: \"Sketch a design exercise\", detail: \"Practice thinking aloud and tradeoffs\" });\r\n  } else {\r\n    baseTasks.push({ id: \"role-overview\", title: \"Prepare examples that match the role description\", detail: \"Map your experience to the job posting bullets\" });\r\n  }\r\n\r\n  // Create technology-specific tasks from the job description (e.g., React, Python, AWS)\r\n  const techTasks = detectedTechs.map((tech) => ({\r\n    id: `tech:${tech}`,\r\n    title: `Review ${tech.replace(/\\b(machine learning|ml)\\b/, 'ML').toUpperCase()}`,\r\n    detail: `Refresh core concepts and prepare examples where you used ${tech}`,\r\n  }));\r\n\r\n  // Responsibility-driven tasks (leadership, product-sense, stakeholder-engagement)\r\n  const respTasks = detectedResps.map((r) => {\r\n    if (r === \"leadership\") return { id: \"resp:leadership\", title: \"Prepare leadership examples\", detail: \"STAR stories about taking ownership, mentoring, and driving outcomes\" };\r\n    if (r === \"product-sense\") return { id: \"resp:product\", title: \"Prepare product-sense examples\", detail: \"Discuss metrics, roadmaps, and tradeoffs relevant to the role\" };\r\n    if (r === \"stakeholder-engagement\") return { id: \"resp:stakeholder\", title: \"Prepare stakeholder communication examples\", detail: \"Examples of working cross-functionally and handling stakeholder needs\" };\r\n    if (r === \"system-design\") return { id: \"resp:system-design\", title: \"Prepare system design examples\", detail: \"Design discussions and decisions around architecture and tradeoffs\" };\r\n    return null;\r\n  }).filter(Boolean);\r\n\r\n  // Prepend tech & responsibility tasks so they appear first in role-specific group\r\n  const dynamicRoleItems = [...techTasks, ...respTasks];\r\n  if (dynamicRoleItems.length) {\r\n    // ensure no duplicates by id\r\n    const ids = new Set(baseTasks.map(b => b.id));\r\n    dynamicRoleItems.forEach(it => { if (!ids.has(it.id)) baseTasks.unshift(it); });\r\n  }\r\n\r\n  // Company research items\r\n  const companyResearch = [\r\n    { id: \"company-mission\", title: \"Verify company mission and product lines\", detail: `Know what ${company || \"the company\"} builds and why` },\r\n    { id: \"recent-news\", title: \"Find recent news or press mentions\", detail: \"Read 1-3 recent articles or blog posts\" },\r\n    { id: \"values-culture\", title: \"Confirm company values and culture\", detail: \"Look for diversity, remote policies, and interview tone\" },\r\n    { id: \"interviewer-research\", title: \"Research interviewers (LinkedIn) if available\", detail: \"Prepare 1-2 personalized prompts or connections\" },\r\n  ];\r\n\r\n  // Thoughtful questions reminder\r\n  const thoughtfulQuestions = [\r\n    { id: \"questions-list\", title: \"Prepare 6+ thoughtful questions for the interviewer\", detail: \"Cover role expectations, success metrics, team structure, and next steps\" },\r\n  ];\r\n\r\n  // Attire suggestions\r\n  const attire = (() => {\r\n    const c = (culture || \"\").toLowerCase();\r\n    if (c.includes(\"startup\") || c.includes(\"casual\")) return { title: \"Business casual (neat) recommended\", detail: \"Smart casual: tidy shirt, blazer optional\" };\r\n    if (c.includes(\"corporate\") || c.includes(\"formal\")) return { title: \"Business formal recommended\", detail: \"Suit or equivalent professional attire\" };\r\n    return { title: \"Smart casual\", detail: \"When in doubt, opt for neat + professional\" };\r\n  })();\r\n\r\n  // Logistics\r\n  const logistics = [\r\n    { id: \"confirm-time\", title: \"Confirm interview time and timezone\", detail: \"Double-check calendar invite and adjust for zones\" },\r\n    { id: \"location\", title: \"Verify location / meeting link\", detail: \"Directions, parking, or video link and passcodes\" },\r\n    { id: \"tech-check\", title: \"Test technology setup (camera/mic/screen share)\", detail: \"Run a test call and check internet stability\" },\r\n    { id: \"backup-plan\", title: \"Plan backup contact method\", detail: \"Have phone number or alternate email ready\" },\r\n  ];\r\n\r\n  // Confidence-building\r\n  const confidence = [\r\n    { id: \"mock-interview\", title: \"Do a mock interview or practice talk\", detail: \"Record or ask a friend to simulate questions\" },\r\n    { id: \"breathing\", title: \"Breathing/visualization exercise\", detail: \"5-10 min breathing and mental walkthrough before interview\" },\r\n    { id: \"review-scripts\", title: \"Run through 3 STAR stories\", detail: \"Behavioral examples for teamwork, conflict, impact\" },\r\n  ];\r\n\r\n  // Portfolio/work samples\r\n  const portfolio = [\r\n    { id: \"sample-select\", title: \"Select 2-4 best work samples\", detail: \"Tailor to role; ensure links open and run\" },\r\n    { id: \"one-pager\", title: \"Prepare a one-page summary for each sample\", detail: \"Problem, approach, technologies, impact\" },\r\n  ];\r\n\r\n  // Post-interview\r\n  const postInterview = [\r\n    { id: \"thank-you\", title: \"Send a thank-you email within 24 hours\", detail: \"Personalize to conversation and next steps\" },\r\n    { id: \"follow-up\", title: \"Record notes and action items\", detail: \"What went well, what to improve for next time\" },\r\n    { id: \"linkedin\", title: \"Optional: connect with interviewer on LinkedIn\", detail: \"Include a short note referencing the interview\" },\r\n  ];\r\n\r\n  // Merge into grouped checklist\r\n  const groups = [\r\n    { key: \"role\", title: \"Role-specific\", items: baseTasks },\r\n    { key: \"company\", title: \"Company Research\", items: companyResearch },\r\n    { key: \"questions\", title: \"Questions to Ask\", items: thoughtfulQuestions },\r\n    { key: \"attire\", title: \"Attire Suggestion\", items: [{ id: \"attire\", title: attire.title, detail: attire.detail }] },\r\n    { key: \"logistics\", title: \"Logistics\", items: logistics },\r\n    { key: \"confidence\", title: \"Confidence-Building\", items: confidence },\r\n    { key: \"portfolio\", title: \"Portfolio / Work Samples\", items: portfolio },\r\n    { key: \"post\", title: \"Post-Interview\", items: postInterview },\r\n  ];\r\n\r\n  // Flatten all items with default completed:false\r\n  const allItems = [];\r\n  groups.forEach((g) => g.items.forEach((it) => allItems.push({ ...it, group: g.title, completed: false })));\r\n\r\n  return { groups, allItems };\r\n}\r\n\r\nexport default function InterviewChecklist({ job = null, onClose = null }) {\r\n  const [role, setRole] = useState(job?.title || \"\");\r\n  const [company, setCompany] = useState(job?.company || \"\");\r\n  const [seniority, setSeniority] = useState(\"\");\r\n  const [culture, setCulture] = useState(\"\");\r\n  const [items, setItems] = useState([]);\r\n  const [autoGenerated, setAutoGenerated] = useState(false);\r\n\r\n  const key = useMemo(() => `interviewChecklist:${job?._id || `${role}:${company}`}`, [job, role, company]);\r\n  const settingsKey = useMemo(() => `interviewChecklistSettings:${job?._id || `${role}:${company}`}`, [job, role, company]);\r\n\r\n  // Load saved seniority and culture from localStorage\r\n  useEffect(() => {\r\n    try {\r\n      const savedSettings = localStorage.getItem(settingsKey);\r\n      if (savedSettings) {\r\n        const { seniority: savedSeniority, culture: savedCulture } = JSON.parse(savedSettings);\r\n        if (savedSeniority) setSeniority(savedSeniority);\r\n        if (savedCulture) setCulture(savedCulture);\r\n      }\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n  }, [settingsKey]);\r\n\r\n  // Save seniority to localStorage when it changes\r\n  const handleSeniorityChange = (value) => {\r\n    setSeniority(value);\r\n    try {\r\n      const current = JSON.parse(localStorage.getItem(settingsKey) || '{}');\r\n      localStorage.setItem(settingsKey, JSON.stringify({ ...current, seniority: value }));\r\n    } catch (e) {}\r\n  };\r\n\r\n  // Save culture to localStorage when it changes\r\n  const handleCultureChange = (value) => {\r\n    setCulture(value);\r\n    try {\r\n      const current = JSON.parse(localStorage.getItem(settingsKey) || '{}');\r\n      localStorage.setItem(settingsKey, JSON.stringify({ ...current, culture: value }));\r\n    } catch (e) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    // load saved state if exists\r\n    try {\r\n      const raw = localStorage.getItem(key);\r\n      if (raw) {\r\n        setItems(JSON.parse(raw));\r\n        setAutoGenerated(true);\r\n      } else if (job && !autoGenerated) {\r\n        // Auto-generate checklist for job if not already done\r\n        generate();\r\n        setAutoGenerated(true);\r\n      }\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n  }, [key, job, autoGenerated]);\r\n\r\n  const generate = () => {\r\n    const { allItems } = generateTasks({ \r\n      role, \r\n      seniority, \r\n      company, \r\n      culture,\r\n      jobTitle: job?.title,\r\n      jobDescription: job?.description || \"\"\r\n    });\r\n    setItems(allItems);\r\n    // persist\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(allItems));\r\n    } catch (e) {}\r\n  };\r\n\r\n  const toggle = (id) => {\r\n    const next = items.map((it) => (it.id === id ? { ...it, completed: !it.completed } : it));\r\n    setItems(next);\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(next));\r\n    } catch (e) {}\r\n  };\r\n\r\n  const clear = () => {\r\n    setItems([]);\r\n    setSeniority(\"\");\r\n    setCulture(\"\");\r\n    setAutoGenerated(false);\r\n    try {\r\n      localStorage.removeItem(key);\r\n      localStorage.removeItem(settingsKey);\r\n    } catch (e) {}\r\n  };\r\n\r\n  const progress = items.length ? Math.round((items.filter((i) => i.completed).length / items.length) * 100) : 0;\r\n\r\n  const grouped = useMemo(() => {\r\n    const map = {};\r\n    items.forEach((it) => {\r\n      map[it.group] = map[it.group] || [];\r\n      map[it.group].push(it);\r\n    });\r\n    return map;\r\n  }, [items]);\r\n\r\n  // Track which groups are expanded (collapsible sections)\r\n  const [expandedGroups, setExpandedGroups] = useState({});\r\n\r\n  useEffect(() => {\r\n    // Ensure every group has a default expanded state (default: expanded)\r\n    setExpandedGroups((prev) => {\r\n      const next = { ...prev };\r\n      Object.keys(grouped).forEach((k) => {\r\n        if (!(k in next)) next[k] = true;\r\n      });\r\n      // remove any stale keys that no longer exist\r\n      Object.keys(next).forEach((k) => { if (!Object.prototype.hasOwnProperty.call(grouped, k)) delete next[k]; });\r\n      return next;\r\n    });\r\n  }, [grouped]);\r\n\r\n  const toggleGroup = (name) => {\r\n    setExpandedGroups((prev) => ({ ...prev, [name]: !prev[name] }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"interview-checklist container\">\r\n      {onClose && (\r\n        <div className=\"sticky top-0 bg-white z-20 py-4 -mx-6 px-6 border-b border-gray-100 flex justify-between items-center\">\r\n          <h2 className=\"text-2xl font-bold\">Interview Preparation Checklist</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 text-2xl leading-none\"\r\n          >\r\n            ├ù\r\n          </button>\r\n        </div>\r\n      )}\r\n      {!onClose && <h2>Interview Preparation Checklist</h2>}\r\n\r\n      {job && (\r\n        <div className=\"job-info-banner\">\r\n          <div className=\"job-title\">{job.title}</div>\r\n          <div className=\"job-company\">{job.company}</div>\r\n          {job.location && <div className=\"job-location\">≡ƒôì {job.location}</div>}\r\n        </div>\r\n      )}\r\n\r\n      {!job && (\r\n        <>\r\n          <div className=\"form-row\">\r\n            <label>Role</label>\r\n            <input value={role} onChange={(e) => setRole(e.target.value)} placeholder=\"e.g. Software Engineer\" />\r\n            <label>Seniority</label>\r\n            <select value={seniority} onChange={(e) => handleSeniorityChange(e.target.value)}>\r\n              <option value=\"\">Select</option>\r\n              <option>Intern</option>\r\n              <option>Junior</option>\r\n              <option>Mid</option>\r\n              <option>Senior</option>\r\n              <option>Staff/Principal</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-row\">\r\n            <label>Company</label>\r\n            <input value={company} onChange={(e) => setCompany(e.target.value)} placeholder=\"e.g. Acme Corp\" />\r\n            <label>Company Culture</label>\r\n            <select value={culture} onChange={(e) => handleCultureChange(e.target.value)}>\r\n              <option value=\"\">Choose</option>\r\n              <option>Startup / Casual</option>\r\n              <option>Corporate / Formal</option>\r\n              <option>Hybrid / Mixed</option>\r\n            </select>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      <div className=\"form-row\">\r\n        <label>Seniority</label>\r\n        <select value={seniority} onChange={(e) => handleSeniorityChange(e.target.value)}>\r\n          <option value=\"\">Select</option>\r\n          <option>Intern</option>\r\n          <option>Junior</option>\r\n          <option>Mid</option>\r\n          <option>Senior</option>\r\n          <option>Staff/Principal</option>\r\n        </select>\r\n        <label>Company Culture</label>\r\n        <select value={culture} onChange={(e) => handleCultureChange(e.target.value)}>\r\n          <option value=\"\">Choose</option>\r\n          <option>Startup / Casual</option>\r\n          <option>Corporate / Formal</option>\r\n          <option>Hybrid / Mixed</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"actions\">\r\n        <button className=\"btn-primary\" onClick={generate}>\r\n          {items.length > 0 ? \"Regenerate Checklist\" : \"Generate Checklist\"}\r\n        </button>\r\n        {items.length > 0 && (\r\n          <button onClick={clear} className=\"btn-link\">Clear</button>\r\n        )}\r\n        <div className=\"progress\">Progress: {progress}%</div>\r\n      </div>\r\n\r\n      {items.length === 0 ? (\r\n        <div className=\"empty\">\r\n          {job \r\n            ? \"Click 'Generate Checklist' to create your interview preparation plan.\"\r\n            : \"No checklist generated yet. Enter role & company and click Generate.\"}\r\n        </div>\r\n      ) : (\r\n        Object.keys(grouped).map((groupName) => (\r\n          <section key={groupName} className=\"group\">\r\n            <div\r\n              className=\"group-header flex items-center justify-between cursor-pointer\"\r\n              onClick={() => toggleGroup(groupName)}\r\n              role=\"button\"\r\n              aria-expanded={!!expandedGroups[groupName]}\r\n            >\r\n              <h3 className=\"flex-1\">{groupName}</h3>\r\n              <button\r\n                onClick={(e) => { e.stopPropagation(); toggleGroup(groupName); }}\r\n                aria-label={expandedGroups[groupName] ? `Collapse ${groupName}` : `Expand ${groupName}`}\r\n                className=\"ml-4 text-gray-500 hover:text-gray-700\"\r\n              >\r\n                {expandedGroups[groupName] ? \"Γû╛\" : \"Γû╕\"}\r\n              </button>\r\n            </div>\r\n\r\n            {expandedGroups[groupName] && (\r\n              <ul>\r\n                {grouped[groupName].map((it) => (\r\n                  <li key={it.id} className={it.completed ? \"completed\" : \"\"}>\r\n                    <label>\r\n                      <input type=\"checkbox\" checked={!!it.completed} onChange={() => toggle(it.id)} />\r\n                      <span className=\"title\">{it.title}</span>\r\n                    </label>\r\n                    <div className=\"detail\">{it.detail}</div>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </section>\r\n        ))\r\n      )}\r\n\r\n      <div className=\"footer-note\">\r\n        ≡ƒÆí Tip: Your checklist is automatically saved. Complete tasks as you prepare for your interview!\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\InterviewInsights.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchInsights'. Either include it or remove the dependency array.","line":17,"column":6,"nodeType":"ArrayExpression","endLine":17,"endColumn":13,"suggestions":[{"desc":"Update the dependencies array to be: [fetchInsights, jobId]","fix":{"range":[635,642],"text":"[fetchInsights, jobId]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":745,"column":19,"nodeType":"JSXOpeningElement","endLine":749,"endColumn":20},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":745,"column":19,"nodeType":"JSXOpeningElement","endLine":749,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getInterviewInsights } from \"../api/jobs\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\nimport Button from \"./Button\";\r\nimport Card from \"./Card\";\r\n\r\nexport default function InterviewInsights({ jobId, company, onClose }) {\r\n  const [insights, setInsights] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState(\"overview\");\r\n  const [checklistState, setChecklistState] = useState({});\r\n\r\n  useEffect(() => {\r\n    fetchInsights();\r\n  }, [jobId]);\r\n\r\n  const fetchInsights = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await getInterviewInsights(jobId);\r\n      setInsights(response.data.data.insights);\r\n      \r\n      // Initialize checklist state\r\n      const initialChecklistState = {};\r\n      if (response.data.data.insights.checklist) {\r\n        // Try to load saved checklist from localStorage\r\n        const savedChecklist = localStorage.getItem(`checklist_${jobId}`);\r\n        if (savedChecklist) {\r\n          try {\r\n            setChecklistState(JSON.parse(savedChecklist));\r\n          } catch (e) {\r\n            console.error(\"Error parsing saved checklist:\", e);\r\n            // If parsing fails, use fresh checklist\r\n            Object.keys(response.data.data.insights.checklist).forEach(phase => {\r\n              initialChecklistState[phase] = response.data.data.insights.checklist[phase].map(\r\n                item => ({ ...item })\r\n              );\r\n            });\r\n            setChecklistState(initialChecklistState);\r\n          }\r\n        } else {\r\n          // No saved checklist, use fresh from API\r\n          Object.keys(response.data.data.insights.checklist).forEach(phase => {\r\n            initialChecklistState[phase] = response.data.data.insights.checklist[phase].map(\r\n              item => ({ ...item })\r\n            );\r\n          });\r\n          setChecklistState(initialChecklistState);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching interview insights:\", err);\r\n      setError(err.response?.data?.message || \"Failed to load interview insights\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleChecklistItem = (phase, index) => {\r\n    setChecklistState(prev => {\r\n      const newState = {\r\n        ...prev,\r\n        [phase]: prev[phase].map((item, i) => \r\n          i === index ? { ...item, completed: !item.completed } : item\r\n        )\r\n      };\r\n      \r\n      // Save to localStorage\r\n      localStorage.setItem(`checklist_${jobId}`, JSON.stringify(newState));\r\n      \r\n      return newState;\r\n    });\r\n  };\r\n\r\n  const calculateChecklistProgress = () => {\r\n    if (!checklistState || Object.keys(checklistState).length === 0) return 0;\r\n    \r\n    let total = 0;\r\n    let completed = 0;\r\n    \r\n    Object.values(checklistState).forEach(phase => {\r\n      phase.forEach(item => {\r\n        total++;\r\n        if (item.completed) completed++;\r\n      });\r\n    });\r\n    \r\n    return total > 0 ? Math.round((completed / total) * 100) : 0;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n  <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\r\n        <Card className=\"w-full max-w-6xl mx-4 p-8\">\r\n          <LoadingSpinner />\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n  <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\r\n        <Card className=\"w-full max-w-6xl mx-4 p-8\">\r\n          <div className=\"text-center\">\r\n            <p className=\"text-red-600 mb-4\">{error}</p>\r\n            <Button onClick={onClose} variant=\"secondary\">Close</Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!insights) return null;\r\n\r\n  const tabs = [\r\n    { id: \"overview\", label: \"Overview\", icon: \"≡ƒôè\" },\r\n    { id: \"process\", label: \"Interview Process\", icon: \"≡ƒöä\" },\r\n    { id: \"questions\", label: \"Common Questions\", icon: \"Γ¥ô\" },\r\n    { id: \"preparation\", label: \"Preparation\", icon: \"≡ƒôÜ\" },\r\n    { id: \"tips\", label: \"Success Tips\", icon: \"Γ¡É\" },\r\n    { id: \"checklist\", label: \"Checklist\", icon: \"Γ£à\" }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"w-full max-w-6xl my-8 h-[90vh] flex flex-col bg-white rounded-2xl shadow-lg overflow-hidden\">\r\n        {/* Header - Fixed */}\r\n        <div className=\"bg-white border-b border-gray-200 px-6 py-4 shrink-0\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">Interview Insights</h2>\r\n              <p className=\"text-gray-600 mt-1\">\r\n                {company} - {insights.jobTitle}\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Data Source Info */}\r\n          <div className={`text-sm px-3 py-2 rounded-lg ${\r\n            insights.dataSource.basedOnRealData \r\n              ? 'bg-green-50 text-green-700' \r\n              : 'bg-yellow-50 text-yellow-700'\r\n          }`}>\r\n            <p className=\"font-medium\">{insights.dataSource.note}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs - Fixed */}\r\n        <div className=\"bg-white border-b border-gray-200 px-6 shrink-0\">\r\n          <div className=\"flex space-x-1 overflow-x-auto\">\r\n            {tabs.map(tab => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${\r\n                  activeTab === tab.id\r\n                    ? 'border-b-2 border-blue-500 text-blue-600'\r\n                    : 'text-gray-600 hover:text-gray-900'\r\n                }`}\r\n              >\r\n                <span className=\"mr-2\">{tab.icon}</span>\r\n                {tab.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content - Scrollable */}\r\n        <div className=\"px-6 py-6 overflow-y-auto flex-1\">\r\n          {activeTab === \"overview\" && (\r\n            <OverviewTab insights={insights} />\r\n          )}\r\n          \r\n          {activeTab === \"process\" && (\r\n            <ProcessTab insights={insights} />\r\n          )}\r\n          \r\n          {activeTab === \"questions\" && (\r\n            <QuestionsTab insights={insights} />\r\n          )}\r\n          \r\n          {activeTab === \"preparation\" && (\r\n            <PreparationTab insights={insights} />\r\n          )}\r\n          \r\n          {activeTab === \"tips\" && (\r\n            <TipsTab insights={insights} />\r\n          )}\r\n          \r\n          {activeTab === \"checklist\" && (\r\n            <ChecklistTab \r\n              checklist={checklistState} \r\n              onToggle={toggleChecklistItem}\r\n              progress={calculateChecklistProgress()}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer - Fixed */}\r\n        <div className=\"bg-gray-50 border-t border-gray-200 px-6 py-4 shrink-0\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <p className=\"text-sm text-gray-600\">\r\n              Last updated: {new Date(insights.generatedAt).toLocaleString()}\r\n            </p>\r\n            <Button onClick={onClose}>Close</Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nInterviewInsights.propTypes = {\r\n  jobId: PropTypes.string.isRequired,\r\n  company: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired\r\n};\r\n\r\n// Overview Tab Component\r\nfunction OverviewTab({ insights }) {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">Interview Overview</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <Card className=\"p-4 bg-blue-50 border-blue-200\">\r\n            <h4 className=\"font-semibold text-blue-900 mb-2\">Process Type</h4>\r\n            <p className=\"text-blue-700\">{insights.processStages.processType}</p>\r\n          </Card>\r\n          <Card className=\"p-4 bg-green-50 border-green-200\">\r\n            <h4 className=\"font-semibold text-green-900 mb-2\">Total Duration</h4>\r\n            <p className=\"text-green-700\">{insights.timeline.totalProcessDuration}</p>\r\n          </Card>\r\n          <Card className=\"p-4 bg-purple-50 border-purple-200\">\r\n            <h4 className=\"font-semibold text-purple-900 mb-2\">Interview Stages</h4>\r\n            <p className=\"text-purple-700\">{insights.processStages.totalStages}</p>\r\n          </Card>\r\n          <Card className=\"p-4 bg-yellow-50 border-yellow-200\">\r\n            <h4 className=\"font-semibold text-yellow-900 mb-2\">Competitiveness</h4>\r\n            <p className=\"text-yellow-700\">{insights.successMetrics.competitiveness}</p>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">Success Metrics</h3>\r\n        <Card className=\"p-4\">\r\n          <div className=\"grid grid-cols-3 gap-4 text-center\">\r\n            <div>\r\n              <p className=\"text-2xl font-bold text-blue-600\">{insights.successMetrics.phoneScreenRate}</p>\r\n              <p className=\"text-sm text-gray-600\">Phone Screen Rate</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-2xl font-bold text-green-600\">{insights.successMetrics.interviewRate}</p>\r\n              <p className=\"text-sm text-gray-600\">Interview Rate</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-2xl font-bold text-purple-600\">{insights.successMetrics.offerRate}</p>\r\n              <p className=\"text-sm text-gray-600\">Offer Rate</p>\r\n            </div>\r\n          </div>\r\n          <p className=\"text-xs text-gray-500 mt-4 text-center\">{insights.successMetrics.note}</p>\r\n        </Card>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">Timeline Expectations</h3>\r\n        <Card className=\"p-4\">\r\n          <div className=\"space-y-3\">\r\n            <TimelineItem label=\"Application to First Response\" duration={insights.timeline.applicationToFirstResponse} />\r\n            <TimelineItem label=\"First Response to Phone Screen\" duration={insights.timeline.firstResponseToPhoneScreen} />\r\n            <TimelineItem label=\"Phone Screen to Technical\" duration={insights.timeline.phoneScreenToTechnical} />\r\n            <TimelineItem label=\"Technical to Onsite\" duration={insights.timeline.technicalToOnsite} />\r\n            <TimelineItem label=\"Onsite to Final Decision\" duration={insights.timeline.onsiteToFinalDecision} />\r\n          </div>\r\n          <p className=\"text-xs text-gray-500 mt-4 italic\">{insights.timeline.note}</p>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nOverviewTab.propTypes = {\r\n  insights: PropTypes.object.isRequired\r\n};\r\n\r\nfunction TimelineItem({ label, duration }) {\r\n  return (\r\n    <div className=\"flex items-center justify-between py-2 border-b border-gray-100 last:border-0\">\r\n      <span className=\"text-gray-700\">{label}</span>\r\n      <span className=\"font-semibold text-blue-600\">{duration}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\n// ...existing code...\r\n\r\n// Process Tab Component\r\nfunction ProcessTab({ insights }) {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">Interview Stages</h3>\r\n        <div className=\"space-y-4\">\r\n          {insights.processStages.stages.map((stage, index) => (\r\n            <Card key={index} className=\"p-4 hover:shadow-lg transition-shadow\">\r\n              <div className=\"flex items-start\">\r\n                <div className=\"shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center font-bold text-blue-600 mr-4\">\r\n                  {stage.order}\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <h4 className=\"font-semibold text-lg text-gray-900 mb-1\">{stage.name}</h4>\r\n                  <p className=\"text-gray-600 mb-3\">{stage.description}</p>\r\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"text-gray-500\">Frequency:</span>\r\n                      <span className=\"ml-2 font-medium text-green-600\">{stage.frequency}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-gray-500\">Duration:</span>\r\n                      <span className=\"ml-2 font-medium text-blue-600\">{stage.avgDuration}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">Interview Formats</h3>\r\n        <div className=\"space-y-3\">\r\n          {insights.interviewFormats.commonFormats.map((format, index) => (\r\n            <Card key={index} className=\"p-4\">\r\n              <div className=\"flex items-start justify-between mb-2\">\r\n                <h4 className=\"font-semibold text-gray-900\">{format.format}</h4>\r\n                <span className={`px-2 py-1 rounded text-xs font-medium ${\r\n                  format.frequency === 'Very Common' ? 'bg-green-100 text-green-700' :\r\n                  format.frequency === 'Common' ? 'bg-blue-100 text-blue-700' :\r\n                  'bg-gray-100 text-gray-700'\r\n                }`}>\r\n                  {format.frequency}\r\n                </span>\r\n              </div>\r\n              <p className=\"text-gray-600 text-sm mb-2\">{format.description}</p>\r\n              <p className=\"text-blue-600 text-sm\">\r\n                <strong>Duration:</strong> {format.duration}\r\n              </p>\r\n              <p className=\"text-gray-700 text-sm mt-2\">\r\n                <strong>Preparation:</strong> {format.preparation}\r\n              </p>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">Typical Interviewers</h3>\r\n        <div className=\"space-y-3\">\r\n          {insights.interviewerInfo.typicalInterviewers.map((interviewer, index) => (\r\n            <Card key={index} className=\"p-4 bg-gray-50\">\r\n              <div className=\"flex items-start justify-between mb-2\">\r\n                <h4 className=\"font-semibold text-gray-900\">{interviewer.role}</h4>\r\n                <span className=\"text-sm text-gray-600 italic\">{interviewer.stage}</span>\r\n              </div>\r\n              <p className=\"text-gray-700 text-sm mb-2\">\r\n                <strong>Focus:</strong> {interviewer.focus}\r\n              </p>\r\n              <p className=\"text-blue-600 text-sm\">\r\n                <strong>Tips:</strong> {interviewer.tips}\r\n              </p>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nProcessTab.propTypes = {\r\n  insights: PropTypes.object.isRequired\r\n};\r\n\r\n// Questions Tab Component\r\nfunction QuestionsTab({ insights }) {\r\n  const { commonQuestions } = insights;\r\n  \r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4 flex items-center\">\r\n          <span className=\"mr-2\">≡ƒùú∩╕Å</span>\r\n          Behavioral Questions\r\n        </h3>\r\n        <Card className=\"p-4\">\r\n          <ul className=\"space-y-2\">\r\n            {commonQuestions.behavioral.map((question, index) => (\r\n              <li key={index} className=\"flex items-start\">\r\n                <span className=\"text-blue-500 mr-3 mt-1\">ΓÇó</span>\r\n                <span className=\"text-gray-700\">{question}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </Card>\r\n      </div>\r\n\r\n      {commonQuestions.technical && commonQuestions.technical.length > 0 && (\r\n        <div>\r\n          <h3 className=\"text-xl font-semibold mb-4 flex items-center\">\r\n            <span className=\"mr-2\">≡ƒÆ╗</span>\r\n            Technical Questions\r\n          </h3>\r\n          <Card className=\"p-4\">\r\n            <ul className=\"space-y-2\">\r\n              {commonQuestions.technical.map((question, index) => (\r\n                <li key={index} className=\"flex items-start\">\r\n                  <span className=\"text-green-500 mr-3 mt-1\">ΓÇó</span>\r\n                  <span className=\"text-gray-700\">{question}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {commonQuestions.roleSpecific && commonQuestions.roleSpecific.length > 0 && (\r\n        <div>\r\n          <h3 className=\"text-xl font-semibold mb-4 flex items-center\">\r\n            <span className=\"mr-2\">≡ƒÄ»</span>\r\n            Role-Specific Questions\r\n          </h3>\r\n          <Card className=\"p-4\">\r\n            <ul className=\"space-y-2\">\r\n              {commonQuestions.roleSpecific.map((question, index) => (\r\n                <li key={index} className=\"flex items-start\">\r\n                  <span className=\"text-purple-500 mr-3 mt-1\">ΓÇó</span>\r\n                  <span className=\"text-gray-700\">{question}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {commonQuestions.industrySpecific && commonQuestions.industrySpecific.length > 0 && (\r\n        <div>\r\n          <h3 className=\"text-xl font-semibold mb-4 flex items-center\">\r\n            <span className=\"mr-2\">≡ƒÅó</span>\r\n            Industry-Specific Questions\r\n          </h3>\r\n          <Card className=\"p-4\">\r\n            <ul className=\"space-y-2\">\r\n              {commonQuestions.industrySpecific.map((question, index) => (\r\n                <li key={index} className=\"flex items-start\">\r\n                  <span className=\"text-yellow-500 mr-3 mt-1\">ΓÇó</span>\r\n                  <span className=\"text-gray-700\">{question}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      <Card className=\"p-4 bg-blue-50 border-blue-200\">\r\n        <h4 className=\"font-semibold text-blue-900 mb-2\">≡ƒÆí Pro Tip: STAR Method</h4>\r\n        <p className=\"text-blue-700 text-sm mb-2\">\r\n          Structure your answers using the STAR method:\r\n        </p>\r\n        <ul className=\"space-y-1 text-sm text-blue-700\">\r\n          <li><strong>S</strong>ituation - Set the context</li>\r\n          <li><strong>T</strong>ask - Describe your responsibility</li>\r\n          <li><strong>A</strong>ction - Explain what you did</li>\r\n          <li><strong>R</strong>esult - Share the outcome with metrics</li>\r\n        </ul>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nQuestionsTab.propTypes = {\r\n  insights: PropTypes.object.isRequired\r\n};\r\n\r\n// Preparation Tab Component\r\nfunction PreparationTab({ insights }) {\r\n  const { preparationRecs } = insights;\r\n  \r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">General Preparation</h3>\r\n        <div className=\"space-y-4\">\r\n          {preparationRecs.general.map((category, index) => (\r\n            <Card key={index} className=\"p-4\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h4 className=\"font-semibold text-lg text-gray-900\">{category.category}</h4>\r\n                <span className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                  category.priority === 'High' ? 'bg-red-100 text-red-700' :\r\n                  category.priority === 'Medium' ? 'bg-yellow-100 text-yellow-700' :\r\n                  'bg-green-100 text-green-700'\r\n                }`}>\r\n                  {category.priority} Priority\r\n                </span>\r\n              </div>\r\n              <ul className=\"space-y-2\">\r\n                {category.tasks.map((task, taskIndex) => (\r\n                  <li key={taskIndex} className=\"flex items-start\">\r\n                    <span className=\"text-blue-500 mr-3 mt-1\">Γ£ô</span>\r\n                    <span className=\"text-gray-700\">{task}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {preparationRecs.roleSpecific && preparationRecs.roleSpecific.length > 0 && (\r\n        <div>\r\n          <h3 className=\"text-xl font-semibold mb-4\">Role-Specific Preparation</h3>\r\n          <div className=\"space-y-4\">\r\n            {preparationRecs.roleSpecific.map((category, index) => (\r\n              <Card key={index} className=\"p-4 bg-purple-50 border-purple-200\">\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <h4 className=\"font-semibold text-lg text-purple-900\">{category.category}</h4>\r\n                  <span className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                    category.priority === 'High' ? 'bg-red-100 text-red-700' :\r\n                    'bg-yellow-100 text-yellow-700'\r\n                  }`}>\r\n                    {category.priority} Priority\r\n                  </span>\r\n                </div>\r\n                <ul className=\"space-y-2\">\r\n                  {category.tasks.map((task, taskIndex) => (\r\n                    <li key={taskIndex} className=\"flex items-start\">\r\n                      <span className=\"text-purple-600 mr-3 mt-1\">Γ£ô</span>\r\n                      <span className=\"text-gray-700\">{task}</span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <Card className=\"p-4 bg-green-50 border-green-200\">\r\n        <h4 className=\"font-semibold text-green-900 mb-3\">≡ƒÄ» Research Tips</h4>\r\n        <ul className=\"space-y-2\">\r\n          {insights.interviewerInfo.researchTips.map((tip, index) => (\r\n            <li key={index} className=\"flex items-start\">\r\n              <span className=\"text-green-600 mr-3 mt-1\">ΓÇó</span>\r\n              <span className=\"text-green-800\">{tip}</span>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nPreparationTab.propTypes = {\r\n  insights: PropTypes.object.isRequired\r\n};\r\n\r\n// Tips Tab Component\r\nfunction TipsTab({ insights }) {\r\n  const { successTips } = insights;\r\n  \r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">Before the Interview</h3>\r\n        <div className=\"grid gap-3\">\r\n          {successTips.beforeInterview.map((tip, index) => (\r\n            <Card key={index} className=\"p-4 hover:shadow-md transition-shadow\">\r\n              <div className=\"flex items-start justify-between mb-2\">\r\n                <h4 className=\"font-semibold text-gray-900\">{tip.tip}</h4>\r\n                <span className={`px-2 py-1 rounded text-xs font-medium whitespace-nowrap ml-2 ${\r\n                  tip.importance === 'Critical' ? 'bg-red-100 text-red-700' :\r\n                  tip.importance === 'High' ? 'bg-orange-100 text-orange-700' :\r\n                  'bg-blue-100 text-blue-700'\r\n                }`}>\r\n                  {tip.importance}\r\n                </span>\r\n              </div>\r\n              <p className=\"text-gray-600 text-sm\">{tip.details}</p>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">During the Interview</h3>\r\n        <div className=\"grid gap-3\">\r\n          {successTips.duringInterview.map((tip, index) => (\r\n            <Card key={index} className=\"p-4 hover:shadow-md transition-shadow\">\r\n              <div className=\"flex items-start justify-between mb-2\">\r\n                <h4 className=\"font-semibold text-gray-900\">{tip.tip}</h4>\r\n                <span className={`px-2 py-1 rounded text-xs font-medium whitespace-nowrap ml-2 ${\r\n                  tip.importance === 'Critical' ? 'bg-red-100 text-red-700' :\r\n                  tip.importance === 'High' ? 'bg-orange-100 text-orange-700' :\r\n                  'bg-blue-100 text-blue-700'\r\n                }`}>\r\n                  {tip.importance}\r\n                </span>\r\n              </div>\r\n              <p className=\"text-gray-600 text-sm\">{tip.details}</p>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">After the Interview</h3>\r\n        <div className=\"grid gap-3\">\r\n          {successTips.afterInterview.map((tip, index) => (\r\n            <Card key={index} className=\"p-4 hover:shadow-md transition-shadow\">\r\n              <div className=\"flex items-start justify-between mb-2\">\r\n                <h4 className=\"font-semibold text-gray-900\">{tip.tip}</h4>\r\n                <span className={`px-2 py-1 rounded text-xs font-medium whitespace-nowrap ml-2 ${\r\n                  tip.importance === 'Critical' ? 'bg-red-100 text-red-700' :\r\n                  tip.importance === 'High' ? 'bg-orange-100 text-orange-700' :\r\n                  'bg-blue-100 text-blue-700'\r\n                }`}>\r\n                  {tip.importance}\r\n                </span>\r\n              </div>\r\n              <p className=\"text-gray-600 text-sm\">{tip.details}</p>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-xl font-semibold mb-4\">Common Mistakes to Avoid</h3>\r\n        <Card className=\"p-4 bg-red-50 border-red-200\">\r\n          <ul className=\"space-y-2\">\r\n            {successTips.commonMistakes.map((mistake, index) => (\r\n              <li key={index} className=\"flex items-start\">\r\n                <span className=\"text-red-500 mr-3 mt-1\">Γ£ù</span>\r\n                <span className=\"text-red-800\">{mistake}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </Card>\r\n      </div>\r\n\r\n      {successTips.dataInsights && successTips.dataInsights.length > 0 && (\r\n        <div>\r\n          <h3 className=\"text-xl font-semibold mb-4\">Data-Driven Insights</h3>\r\n          <Card className=\"p-4 bg-blue-50 border-blue-200\">\r\n            <ul className=\"space-y-2\">\r\n              {successTips.dataInsights.map((insight, index) => (\r\n                <li key={index} className=\"flex items-start\">\r\n                  <span className=\"text-blue-600 mr-3 mt-1\">≡ƒôè</span>\r\n                  <span className=\"text-blue-800\">{insight}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTipsTab.propTypes = {\r\n  insights: PropTypes.object.isRequired\r\n};\r\n\r\n// Checklist Tab Component\r\nfunction ChecklistTab({ checklist, onToggle, progress }) {\r\n  const phases = [\r\n    { id: 'oneWeekBefore', label: 'One Week Before', icon: '≡ƒôà' },\r\n    { id: 'threeDaysBefore', label: 'Three Days Before', icon: '≡ƒôï' },\r\n    { id: 'oneDayBefore', label: 'One Day Before', icon: 'ΓÅ░' },\r\n    { id: 'dayOf', label: 'Day Of Interview', icon: '≡ƒÄ»' },\r\n    { id: 'afterInterview', label: 'After Interview', icon: 'Γ£ë∩╕Å' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Progress Bar */}\r\n      <Card className=\"p-4 bg-linear-to-r from-blue-50 to-purple-50\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">Preparation Progress</h3>\r\n          <span className=\"text-2xl font-bold text-blue-600\">{progress}%</span>\r\n        </div>\r\n        <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n          <div \r\n            className=\"bg-linear-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500\"\r\n            style={{ width: `${progress}%` }}\r\n          />\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Checklist Phases */}\r\n      {phases.map(phase => {\r\n        const items = checklist[phase.id] || [];\r\n        const completedCount = items.filter(item => item.completed).length;\r\n        const phaseProgress = items.length > 0 \r\n          ? Math.round((completedCount / items.length) * 100) \r\n          : 0;\r\n\r\n        return (\r\n          <div key={phase.id}>\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                <span className=\"mr-2\">{phase.icon}</span>\r\n                {phase.label}\r\n              </h3>\r\n              <span className=\"text-sm text-gray-600\">\r\n                {completedCount} / {items.length} completed\r\n              </span>\r\n            </div>\r\n            \r\n            <Card className=\"p-4\">\r\n              {/* Phase Progress */}\r\n              <div className=\"mb-4\">\r\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                  <div \r\n                    className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\r\n                    style={{ width: `${phaseProgress}%` }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Checklist Items */}\r\n              <div className=\"space-y-2\">\r\n                {items.map((item, index) => (\r\n                  <div \r\n                    key={index}\r\n                    className=\"flex items-start p-2 rounded hover:bg-gray-50 cursor-pointer transition-colors\"\r\n                    onClick={() => onToggle(phase.id, index)}\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={item.completed}\r\n                      onChange={() => onToggle(phase.id, index)}\r\n                      className=\"mt-1 mr-3 h-5 w-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer\"\r\n                    />\r\n                    <span className={`flex-1 ${\r\n                      item.completed \r\n                        ? 'text-gray-500 line-through' \r\n                        : 'text-gray-900'\r\n                    }`}>\r\n                      {item.task}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </Card>\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      <Card className=\"p-4 bg-green-50 border-green-200\">\r\n        <p className=\"text-green-800 text-sm\">\r\n          <strong>≡ƒÆí Tip:</strong> Check off items as you complete them to track your preparation progress. \r\n          Being well-prepared significantly increases your chances of interview success!\r\n        </p>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nChecklistTab.propTypes = {\r\n  checklist: PropTypes.object.isRequired,\r\n  onToggle: PropTypes.func.isRequired,\r\n  progress: PropTypes.number.isRequired\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\InterviewInsightsSummary.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\InterviewPrepWorkspace.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":113,"column":17,"nodeType":"JSXOpeningElement","endLine":113,"endColumn":81}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { Lightbulb, BookOpen, Loader2, Save, CheckCircle } from 'lucide-react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { generatePrepQuestions, logMeetingNotes } from '../api/informationalInterview';\r\nimport { setAuthToken } from '../api/axios';\r\nimport Button from './Button';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst InterviewPrepWorkspace = ({ interview, onUpdate }) => {\r\n  const { getToken } = useAuth();\r\n  const [specificGoal, setSpecificGoal] = useState('');\r\n  const [questions, setQuestions] = useState(null);\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [meetingNotes, setMeetingNotes] = useState(interview?.meetingNotes || '');\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [lastSaved, setLastSaved] = useState(null);\r\n\r\n  const refreshToken = async () => {\r\n    const token = await getToken();\r\n    setAuthToken(token);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (interview?.preparation?.questions?.length > 0) {\r\n      // Reconstruct TIARA structure from flat questions array\r\n      const prepQuestions = interview.preparation.questions;\r\n      setQuestions({\r\n        icebreaker: prepQuestions[0] || '',\r\n        trends: prepQuestions.slice(1, 2),\r\n        insights: prepQuestions.slice(2, 4),\r\n        advice: prepQuestions.slice(4, 6),\r\n        resources: prepQuestions.slice(6, 7),\r\n        assignments: prepQuestions.slice(7, 8),\r\n        closer: prepQuestions[prepQuestions.length - 1] || ''\r\n      });\r\n    }\r\n    setMeetingNotes(interview?.meetingNotes || '');\r\n  }, [interview]);\r\n\r\n  const handleGenerateQuestions = async () => {\r\n    if (!specificGoal) {\r\n      toast.error('Please enter your specific goal');\r\n      return;\r\n    }\r\n\r\n    setIsGenerating(true);\r\n    try {\r\n      await refreshToken();\r\n      const response = await generatePrepQuestions(interview._id, specificGoal);\r\n      setQuestions(response.data?.questions || response.questions);\r\n      toast.success('Questions generated!');\r\n      onUpdate?.();\r\n    } catch (error) {\r\n      console.error('Error generating questions:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to generate questions');\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveNotes = async () => {\r\n    setIsSaving(true);\r\n    try {\r\n      await refreshToken();\r\n      await logMeetingNotes(interview._id, {\r\n        meetingNotes,\r\n        status: interview.status === 'Scheduled' ? 'Completed' : interview.status\r\n      });\r\n      setLastSaved(new Date());\r\n      toast.success('Notes saved!');\r\n      onUpdate?.();\r\n    } catch (error) {\r\n      console.error('Error saving notes:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to save notes');\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n      {/* Left Panel: Framework & Questions */}\r\n      <div className=\"space-y-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <BookOpen className=\"w-5 h-5 text-indigo-600\" />\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">TIARA Framework</h3>\r\n          </div>\r\n          <div className=\"space-y-3 text-sm text-gray-700\">\r\n            <div>\r\n              <span className=\"font-semibold text-indigo-600\">T</span>rends: Industry and role trends, future outlook\r\n            </div>\r\n            <div>\r\n              <span className=\"font-semibold text-indigo-600\">I</span>nsights: Day-to-day realities and insider knowledge\r\n            </div>\r\n            <div>\r\n              <span className=\"font-semibold text-indigo-600\">A</span>dvice: Career guidance and recommendations\r\n            </div>\r\n            <div>\r\n              <span className=\"font-semibold text-indigo-600\">R</span>esources: Books, courses, people to follow\r\n            </div>\r\n            <div>\r\n              <span className=\"font-semibold text-indigo-600\">A</span>ssignments: Next steps and actionable items\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {!questions ? (\r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Generate Questions</h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  What do you want to learn?\r\n                </label>\r\n                <textarea\r\n                  value={specificGoal}\r\n                  onChange={(e) => setSpecificGoal(e.target.value)}\r\n                  placeholder=\"E.g., 'Understand what skills are most valuable for product managers in fintech'\"\r\n                  rows={3}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none\"\r\n                />\r\n              </div>\r\n              <Button\r\n                onClick={handleGenerateQuestions}\r\n                disabled={isGenerating || !specificGoal}\r\n                className=\"w-full\"\r\n              >\r\n                {isGenerating ? (\r\n                  <>\r\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                    Generating...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Lightbulb className=\"w-4 h-4 mr-2\" />\r\n                    Generate Strategic Questions\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Your Questions</h3>\r\n              <button\r\n                onClick={() => setQuestions(null)}\r\n                className=\"text-sm text-indigo-600 hover:text-indigo-700\"\r\n              >\r\n                Regenerate\r\n              </button>\r\n            </div>\r\n            <div className=\"space-y-4\">\r\n              {/* Icebreaker */}\r\n              {questions.icebreaker && (\r\n                <div className=\"p-3 bg-blue-50 rounded-lg\">\r\n                  <p className=\"text-xs font-semibold text-blue-700 uppercase mb-1\">Icebreaker</p>\r\n                  <p className=\"text-sm text-gray-800\">{questions.icebreaker}</p>\r\n                </div>\r\n              )}\r\n\r\n              {/* Trends */}\r\n              {questions.trends?.map((q, idx) => (\r\n                <div key={`trend-${idx}`} className=\"p-3 bg-purple-50 rounded-lg\">\r\n                  <p className=\"text-xs font-semibold text-purple-700 uppercase mb-1\">Trends</p>\r\n                  <p className=\"text-sm text-gray-800\">{q}</p>\r\n                </div>\r\n              ))}\r\n\r\n              {/* Insights */}\r\n              {questions.insights?.map((q, idx) => (\r\n                <div key={`insight-${idx}`} className=\"p-3 bg-indigo-50 rounded-lg\">\r\n                  <p className=\"text-xs font-semibold text-indigo-700 uppercase mb-1\">Insights</p>\r\n                  <p className=\"text-sm text-gray-800\">{q}</p>\r\n                </div>\r\n              ))}\r\n\r\n              {/* Advice */}\r\n              {questions.advice?.map((q, idx) => (\r\n                <div key={`advice-${idx}`} className=\"p-3 bg-green-50 rounded-lg\">\r\n                  <p className=\"text-xs font-semibold text-green-700 uppercase mb-1\">Advice</p>\r\n                  <p className=\"text-sm text-gray-800\">{q}</p>\r\n                </div>\r\n              ))}\r\n\r\n              {/* Resources */}\r\n              {questions.resources?.map((q, idx) => (\r\n                <div key={`resource-${idx}`} className=\"p-3 bg-yellow-50 rounded-lg\">\r\n                  <p className=\"text-xs font-semibold text-yellow-700 uppercase mb-1\">Resources</p>\r\n                  <p className=\"text-sm text-gray-800\">{q}</p>\r\n                </div>\r\n              ))}\r\n\r\n              {/* Assignments */}\r\n              {questions.assignments?.map((q, idx) => (\r\n                <div key={`assignment-${idx}`} className=\"p-3 bg-orange-50 rounded-lg\">\r\n                  <p className=\"text-xs font-semibold text-orange-700 uppercase mb-1\">Next Steps</p>\r\n                  <p className=\"text-sm text-gray-800\">{q}</p>\r\n                </div>\r\n              ))}\r\n\r\n              {/* Closer */}\r\n              {questions.closer && (\r\n                <div className=\"p-3 bg-pink-50 rounded-lg\">\r\n                  <p className=\"text-xs font-semibold text-pink-700 uppercase mb-1\">Closing</p>\r\n                  <p className=\"text-sm text-gray-800\">{questions.closer}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Right Panel: Active Notes */}\r\n      <div className=\"space-y-4\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Meeting Notes</h3>\r\n            {lastSaved && (\r\n              <div className=\"flex items-center gap-1 text-xs text-green-600\">\r\n                <CheckCircle className=\"w-3 h-3\" />\r\n                Saved {lastSaved.toLocaleTimeString()}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <textarea\r\n            value={meetingNotes}\r\n            onChange={(e) => setMeetingNotes(e.target.value)}\r\n            placeholder=\"Take notes during your conversation...\r\n\r\nSome tips:\r\nΓÇó Capture specific examples and stories\r\nΓÇó Note any job opportunities or leads mentioned\r\nΓÇó Record recommended resources (books, people, tools)\r\nΓÇó Write down follow-up action items\r\nΓÇó Track any referrals or introductions offered\"\r\n            rows={20}\r\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none font-mono text-sm\"\r\n          />\r\n          <Button\r\n            onClick={handleSaveNotes}\r\n            disabled={isSaving}\r\n            className=\"w-full mt-4\"\r\n          >\r\n            {isSaving ? (\r\n              <>\r\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                Saving...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Save className=\"w-4 h-4 mr-2\" />\r\n                Save Notes\r\n              </>\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InterviewPrepWorkspace;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\InterviewPreparationView.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useCallback' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":1,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":42,"suggestions":[{"messageId":"removeVar","data":{"varName":"useCallback"},"fix":{"range":[28,41],"text":""},"desc":"Remove unused variable 'useCallback'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { updateInformationalInterview, generatePreparationFramework } from '../api/informationalInterviews';\r\nimport { setAuthToken } from '../api/axios';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\nexport default function InterviewPreparationView({ isOpen, interview, onClose }) {\r\n  const { getToken } = useAuth();\r\n  const [preparation, setPreparation] = useState({\r\n    questions: [],\r\n    researchTopics: [],\r\n    conversationTips: []\r\n  });\r\n  const [userNotes, setUserNotes] = useState(interview.preparationNotes?.userNotes || '');\r\n  const [generating, setGenerating] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (interview.preparationNotes?.questions?.length > 0) {\r\n      setPreparation({\r\n        questions: interview.preparationNotes.questions || [],\r\n        researchTopics: interview.preparationNotes.researchTopics || [],\r\n        conversationTips: interview.preparationNotes.conversationTips || []\r\n      });\r\n    }\r\n  }, [interview]);\r\n\r\n  const handleGeneratePreparation = async () => {\r\n    setGenerating(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await generatePreparationFramework({\r\n        targetRole: interview.targetRole,\r\n        targetCompany: interview.targetCompany,\r\n        candidateName: interview.candidateName\r\n      });\r\n\r\n      const prepData = response.data.data.preparation;\r\n      setPreparation(prepData);\r\n    } catch (err) {\r\n      console.error('Failed to generate preparation:', err);\r\n      setError('Failed to generate preparation framework. Please try again.');\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await updateInformationalInterview(interview._id, {\r\n        preparationNotes: {\r\n          questions: preparation.questions,\r\n          researchTopics: preparation.researchTopics,\r\n          conversationTips: preparation.conversationTips,\r\n          userNotes\r\n        }\r\n      });\r\n      onClose();\r\n    } catch (err) {\r\n      console.error('Failed to save preparation:', err);\r\n      setError('Failed to save preparation notes. Please try again.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\r\n        {/* Header */}\r\n        <div className=\"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold mb-1\">Interview Preparation</h2>\r\n              <p className=\"text-blue-100 text-sm\">\r\n                {interview.candidateName} - {interview.targetRole} at {interview.targetCompany}\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-white hover:text-gray-200 transition\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-180px)]\">\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\r\n              <p className=\"text-red-800 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Generate Button */}\r\n          {preparation.questions.length === 0 && (\r\n            <div className=\"mb-6 text-center py-8 bg-blue-50 rounded-lg\">\r\n              <p className=\"text-gray-600 mb-4\">\r\n                Generate an AI-powered preparation framework with strategic questions and research topics\r\n              </p>\r\n              <button\r\n                onClick={handleGeneratePreparation}\r\n                disabled={generating}\r\n                className=\"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center\"\r\n              >\r\n                {generating ? (\r\n                  <>\r\n                    <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                    Generating...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    Γ£¿ Generate Preparation Framework\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Strategic Questions */}\r\n          {preparation.questions.length > 0 && (\r\n            <div className=\"mb-6\">\r\n              <div className=\"flex justify-between items-center mb-3\">\r\n                <h3 className=\"font-semibold text-gray-900\">≡ƒô¥ Strategic Questions to Ask</h3>\r\n                <button\r\n                  onClick={handleGeneratePreparation}\r\n                  disabled={generating}\r\n                  className=\"text-sm text-indigo-600 hover:text-indigo-800 disabled:opacity-50\"\r\n                >\r\n                  {generating ? 'Regenerating...' : '≡ƒöä Regenerate'}\r\n                </button>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                {preparation.questions.map((question, idx) => {\r\n                  const questionText = typeof question === 'string' ? question : (question.question || question.text || JSON.stringify(question));\r\n                  const category = typeof question === 'object' ? question.category : null;\r\n                  return (\r\n                    <div key={idx} className=\"bg-gray-50 rounded-lg p-3 border border-gray-200\">\r\n                      <div className=\"flex items-start\">\r\n                        <span className=\"text-indigo-600 font-bold mr-2\">{idx + 1}.</span>\r\n                        <div>\r\n                          {category && <span className=\"text-xs text-indigo-500 font-medium\">[{category}] </span>}\r\n                          <p className=\"text-gray-800 inline\">{questionText}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Research Checklist */}\r\n          {preparation.researchTopics.length > 0 && (\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-3\">≡ƒöì Research Checklist</h3>\r\n              <div className=\"space-y-2\">\r\n                {preparation.researchTopics.map((topic, idx) => {\r\n                  const topicText = typeof topic === 'string' ? topic : (topic.topic || topic.text || topic.item || JSON.stringify(topic));\r\n                  return (\r\n                    <div key={idx} className=\"flex items-start bg-yellow-50 rounded-lg p-3 border border-yellow-200\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        className=\"mt-1 mr-3 h-4 w-4 text-indigo-600 rounded\"\r\n                      />\r\n                      <p className=\"text-gray-800\">{topicText}</p>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Conversation Tips */}\r\n          {preparation.conversationTips && preparation.conversationTips.length > 0 && (\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-3\">≡ƒÆí Conversation Tips</h3>\r\n              <div className=\"space-y-2\">\r\n                {preparation.conversationTips.map((tip, idx) => {\r\n                  const tipText = typeof tip === 'string' ? tip : (tip.tip || tip.text || tip.advice || JSON.stringify(tip));\r\n                  return (\r\n                    <div key={idx} className=\"bg-green-50 rounded-lg p-3 border border-green-200\">\r\n                      <p className=\"text-gray-800\">{tipText}</p>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* User Notes */}\r\n          <div>\r\n            <h3 className=\"font-semibold text-gray-900 mb-3\">≡ƒôï Your Notes</h3>\r\n            <textarea\r\n              value={userNotes}\r\n              onChange={(e) => setUserNotes(e.target.value)}\r\n              rows={8}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n              placeholder=\"Take notes during or after the interview...&#10;&#10;Key takeaways:&#10;- ...&#10;&#10;Action items:&#10;- ...\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"bg-gray-50 border-t border-gray-200 p-4 flex justify-end space-x-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={saving}\r\n            className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {saving ? 'Saving...' : 'Save Preparation'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\InterviewScheduler.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'showRequirements' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":52,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":52,"endColumn":26,"suggestions":[{"messageId":"removeVar","data":{"varName":"showRequirements"},"fix":{"range":[1988,2004],"text":""},"desc":"Remove unused variable 'showRequirements'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'setShowRequirements' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":52,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":52,"endColumn":47,"suggestions":[{"messageId":"removeVar","data":{"varName":"setShowRequirements"},"fix":{"range":[2004,2025],"text":""},"desc":"Remove unused variable 'setShowRequirements'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'checkForConflicts'. Either include it or remove the dependency array.","line":97,"column":6,"nodeType":"ArrayExpression","endLine":97,"endColumn":49,"suggestions":[{"desc":"Update the dependencies array to be: [formData.scheduledDate, formData.duration, checkForConflicts]","fix":{"range":[3706,3749],"text":"[formData.scheduledDate, formData.duration, checkForConflicts]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":201,"column":5,"nodeType":"JSXOpeningElement","endLine":205,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":201,"column":5,"nodeType":"JSXOpeningElement","endLine":205,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":206,"column":7,"nodeType":"JSXOpeningElement","endLine":206,"endColumn":161},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":206,"column":7,"nodeType":"JSXOpeningElement","endLine":206,"endColumn":161},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":268,"column":17,"nodeType":"JSXOpeningElement","endLine":268,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":287,"column":17,"nodeType":"JSXOpeningElement","endLine":287,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":310,"column":17,"nodeType":"JSXOpeningElement","endLine":310,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":404,"column":17,"nodeType":"JSXOpeningElement","endLine":404,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":495,"column":13,"nodeType":"JSXOpeningElement","endLine":495,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":518,"column":15,"nodeType":"JSXOpeningElement","endLine":518,"endColumn":61}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"./Button\";\r\nimport InputField from \"./InputField\";\r\nimport { scheduleInterview, updateInterview, checkConflicts } from \"../api/interviews\";\r\n\r\nconst INTERVIEW_TYPES = [\r\n  \"Phone Screen\",\r\n  \"Video Call\", \r\n  \"In-Person\",\r\n  \"Technical\",\r\n  \"Final Round\",\r\n  \"Other\"\r\n];\r\n\r\nexport default function InterviewScheduler({ job, interview, onClose, onSuccess }) {\r\n  const isEdit = !!interview;\r\n  \r\n  const [formData, setFormData] = useState({\r\n    jobId: job?._id || interview?.jobId || \"\",\r\n    title: interview?.title || `${job?.status || \"Interview\"} - ${job?.title || \"\"}`,\r\n    company: interview?.company || job?.company || \"\",\r\n    interviewType: interview?.interviewType || \"Video Call\",\r\n    scheduledDate: interview?.scheduledDate \r\n      ? new Date(interview.scheduledDate).toISOString().slice(0, 16) \r\n      : \"\",\r\n    duration: interview?.duration || 60,\r\n    location: interview?.location || \"\",\r\n    meetingLink: interview?.meetingLink || \"\",\r\n    interviewer: {\r\n      name: interview?.interviewer?.name || \"\",\r\n      email: interview?.interviewer?.email || \"\",\r\n      phone: interview?.interviewer?.phone || \"\",\r\n      title: interview?.interviewer?.title || \"\",\r\n      notes: interview?.interviewer?.notes || \"\",\r\n    },\r\n    notes: interview?.notes || \"\",\r\n    questions: interview?.questions || [],\r\n    requirements: {\r\n      dressCode: interview?.requirements?.dressCode || \"\",\r\n      documentsNeeded: interview?.requirements?.documentsNeeded || [],\r\n      preparation: interview?.requirements?.preparation || [],\r\n    },\r\n    generateTasks: !isEdit,\r\n  });\r\n  \r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [conflicts, setConflicts] = useState([]);\r\n  const [checkingConflicts, setCheckingConflicts] = useState(false);\r\n  const [showInterviewerDetails, setShowInterviewerDetails] = useState(false);\r\n  const [showRequirements, setShowRequirements] = useState(false);\r\n\r\n  // Update form data when interview prop changes (for editing)\r\n  useEffect(() => {\r\n    if (interview) {\r\n      // interview.jobId might be populated with job object or just ID\r\n      const jobIdString = typeof interview.jobId === 'object' \r\n        ? interview.jobId._id \r\n        : interview.jobId;\r\n      \r\n      setFormData({\r\n        jobId: jobIdString || job?._id || \"\",\r\n        title: interview.title || \"\",\r\n        company: interview.company || \"\",\r\n        interviewType: interview.interviewType || \"Video Call\",\r\n        scheduledDate: interview.scheduledDate \r\n          ? new Date(interview.scheduledDate).toISOString().slice(0, 16) \r\n          : \"\",\r\n        duration: interview.duration || 60,\r\n        location: interview.location || \"\",\r\n        meetingLink: interview.meetingLink || \"\",\r\n        interviewer: {\r\n          name: interview.interviewer?.name || \"\",\r\n          email: interview.interviewer?.email || \"\",\r\n          phone: interview.interviewer?.phone || \"\",\r\n          title: interview.interviewer?.title || \"\",\r\n          notes: interview.interviewer?.notes || \"\",\r\n        },\r\n        notes: interview.notes || \"\",\r\n        questions: interview.questions || [],\r\n        requirements: {\r\n          dressCode: interview.requirements?.dressCode || \"\",\r\n          documentsNeeded: interview.requirements?.documentsNeeded || [],\r\n          preparation: interview.requirements?.preparation || [],\r\n        },\r\n        generateTasks: false,\r\n      });\r\n    }\r\n  }, [interview, job]);\r\n\r\n  // Check for conflicts when date changes\r\n  useEffect(() => {\r\n    if (formData.scheduledDate) {\r\n      checkForConflicts();\r\n    }\r\n  }, [formData.scheduledDate, formData.duration]);\r\n\r\n  const checkForConflicts = async () => {\r\n    if (!formData.scheduledDate) return;\r\n    \r\n    setCheckingConflicts(true);\r\n    try {\r\n      const response = await checkConflicts(\r\n        formData.scheduledDate,\r\n        formData.duration,\r\n        interview?._id\r\n      );\r\n      \r\n      if (response.data?.data?.hasConflicts) {\r\n        setConflicts(response.data.data.conflicts);\r\n      } else {\r\n        setConflicts([]);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error checking conflicts:\", err);\r\n    } finally {\r\n      setCheckingConflicts(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    \r\n    if (name.startsWith(\"interviewer.\")) {\r\n      const field = name.split(\".\")[1];\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        interviewer: {\r\n          ...prev.interviewer,\r\n          [field]: value,\r\n        },\r\n      }));\r\n    } else if (name.startsWith(\"requirements.\")) {\r\n      const field = name.split(\".\")[1];\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        requirements: {\r\n          ...prev.requirements,\r\n          [field]: value,\r\n        },\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: type === \"checkbox\" ? checked : value,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Validation\r\n      if (!formData.title.trim()) {\r\n        throw new Error(\"Interview title is required\");\r\n      }\r\n      if (!formData.company.trim()) {\r\n        throw new Error(\"Company name is required\");\r\n      }\r\n      if (!formData.scheduledDate) {\r\n        throw new Error(\"Interview date and time is required\");\r\n      }\r\n      if (!formData.interviewType) {\r\n        throw new Error(\"Interview type is required\");\r\n      }\r\n\r\n      // Check if date is in the past\r\n      const selectedDate = new Date(formData.scheduledDate);\r\n      if (selectedDate < new Date()) {\r\n        throw new Error(\"Interview date cannot be in the past\");\r\n      }\r\n\r\n      const submitData = {\r\n        ...formData,\r\n        scheduledDate: new Date(formData.scheduledDate).toISOString(),\r\n      };\r\n\r\n      let response;\r\n      if (isEdit) {\r\n        response = await updateInterview(interview._id, submitData);\r\n      } else {\r\n        response = await scheduleInterview(submitData);\r\n      }\r\n\r\n      if (response.data?.success) {\r\n        onSuccess(response.data.data.interview);\r\n        onClose();\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || err.message || \"Failed to schedule interview\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 shadow-2xl\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"bg-gray-50 border-b px-6 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className=\"text-lg font-heading font-semibold text-gray-900\">\r\n              {isEdit ? \"Edit Interview\" : \"Schedule Interview\"}\r\n            </h3>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600 transition\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {conflicts.length > 0 && (\r\n            <div className=\"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded\">\r\n              <strong>ΓÜá∩╕Å Scheduling Conflict:</strong> You have {conflicts.length} other interview(s) scheduled around this time.\r\n              <ul className=\"mt-2 list-disc list-inside\">\r\n                {conflicts.map(c => (\r\n                  <li key={c._id} className=\"text-sm\">\r\n                    {c.title} at {new Date(c.scheduledDate).toLocaleString()}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {/* Basic Information */}\r\n          <div className=\"space-y-4\">\r\n            <InputField\r\n              label=\"Interview Title *\"\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={formData.title}\r\n              onChange={handleChange}\r\n              placeholder=\"e.g., Technical Interview - Software Engineer\"\r\n              required\r\n            />\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <InputField\r\n                label=\"Company *\"\r\n                type=\"text\"\r\n                name=\"company\"\r\n                value={formData.company}\r\n                onChange={handleChange}\r\n                placeholder=\"Company name\"\r\n                required\r\n              />\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Interview Type *\r\n                </label>\r\n                <select\r\n                  name=\"interviewType\"\r\n                  value={formData.interviewType}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                  required\r\n                >\r\n                  {INTERVIEW_TYPES.map(type => (\r\n                    <option key={type} value={type}>{type}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Interview Date *\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"interviewDate\"\r\n                  value={formData.scheduledDate ? formData.scheduledDate.slice(0, 10) : \"\"}\r\n                  onChange={(e) => {\r\n                    const date = e.target.value;\r\n                    const existingTime = formData.scheduledDate ? formData.scheduledDate.slice(11, 16) : \"09:00\";\r\n                    setFormData(prev => ({\r\n                      ...prev,\r\n                      scheduledDate: date ? `${date}T${existingTime}` : \"\"\r\n                    }));\r\n                  }}\r\n                  min={new Date().toISOString().slice(0, 10)}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-base cursor-pointer\"\r\n                  required\r\n                  style={{ colorScheme: 'light' }}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Interview Time *\r\n                </label>\r\n                <div className=\"flex space-x-2\">\r\n                  <select\r\n                    value={(() => {\r\n                      if (!formData.scheduledDate) return \"09\";\r\n                      const time = formData.scheduledDate.slice(11, 16);\r\n                      let hour = parseInt(time.split(':')[0]);\r\n                      if (hour === 0) return \"12\";\r\n                      if (hour > 12) return String(hour - 12).padStart(2, '0');\r\n                      return String(hour).padStart(2, '0');\r\n                    })()}\r\n                    onChange={(e) => {\r\n                      const date = formData.scheduledDate ? formData.scheduledDate.slice(0, 10) : new Date().toISOString().slice(0, 10);\r\n                      const minute = formData.scheduledDate ? formData.scheduledDate.slice(14, 16) : \"00\";\r\n                      const existingTime = formData.scheduledDate ? formData.scheduledDate.slice(11, 16) : \"09:00\";\r\n                      const existingHour = parseInt(existingTime.split(':')[0]);\r\n                      const isPM = existingHour >= 12;\r\n                      \r\n                      let hour = parseInt(e.target.value);\r\n                      if (isPM && hour !== 12) hour += 12;\r\n                      if (!isPM && hour === 12) hour = 0;\r\n                      \r\n                      setFormData(prev => ({\r\n                        ...prev,\r\n                        scheduledDate: `${date}T${String(hour).padStart(2, '0')}:${minute}`\r\n                      }));\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                    required\r\n                  >\r\n                    {Array.from({ length: 12 }, (_, i) => i + 1).map(h => (\r\n                      <option key={h} value={String(h).padStart(2, '0')}>\r\n                        {String(h).padStart(2, '0')}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  \r\n                  <select\r\n                    value={formData.scheduledDate ? formData.scheduledDate.slice(14, 16) : \"00\"}\r\n                    onChange={(e) => {\r\n                      const date = formData.scheduledDate ? formData.scheduledDate.slice(0, 10) : new Date().toISOString().slice(0, 10);\r\n                      const hour = formData.scheduledDate ? formData.scheduledDate.slice(11, 13) : \"09\";\r\n                      setFormData(prev => ({\r\n                        ...prev,\r\n                        scheduledDate: `${date}T${hour}:${e.target.value}`\r\n                      }));\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                    required\r\n                  >\r\n                    {Array.from({ length: 60 }, (_, i) => i).map(m => (\r\n                      <option key={m} value={String(m).padStart(2, '0')}>\r\n                        {String(m).padStart(2, '0')}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  \r\n                  <select\r\n                    value={(() => {\r\n                      if (!formData.scheduledDate) return \"AM\";\r\n                      const hour = parseInt(formData.scheduledDate.slice(11, 13));\r\n                      return hour >= 12 ? \"PM\" : \"AM\";\r\n                    })()}\r\n                    onChange={(e) => {\r\n                      const date = formData.scheduledDate ? formData.scheduledDate.slice(0, 10) : new Date().toISOString().slice(0, 10);\r\n                      const minute = formData.scheduledDate ? formData.scheduledDate.slice(14, 16) : \"00\";\r\n                      const existingTime = formData.scheduledDate ? formData.scheduledDate.slice(11, 16) : \"09:00\";\r\n                      let hour = parseInt(existingTime.split(':')[0]);\r\n                      \r\n                      if (e.target.value === \"PM\") {\r\n                        if (hour < 12) hour += 12;\r\n                      } else {\r\n                        if (hour >= 12) hour -= 12;\r\n                      }\r\n                      \r\n                      setFormData(prev => ({\r\n                        ...prev,\r\n                        scheduledDate: `${date}T${String(hour).padStart(2, '0')}:${minute}`\r\n                      }));\r\n                    }}\r\n                    className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                    required\r\n                  >\r\n                    <option value=\"AM\">AM</option>\r\n                    <option value=\"PM\">PM</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Duration (minutes)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"duration\"\r\n                  value={formData.duration}\r\n                  onChange={handleChange}\r\n                  min=\"15\"\r\n                  max=\"480\"\r\n                  step=\"15\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Location/Link - Show both fields */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <InputField\r\n              label=\"Meeting Link (Optional)\"\r\n              type=\"url\"\r\n              name=\"meetingLink\"\r\n              value={formData.meetingLink}\r\n              onChange={handleChange}\r\n              placeholder=\"https://zoom.us/j/... or Google Meet link\"\r\n            />\r\n            <InputField\r\n              label=\"Location (Optional)\"\r\n              type=\"text\"\r\n              name=\"location\"\r\n              value={formData.location}\r\n              onChange={handleChange}\r\n              placeholder=\"Office address or building/room\"\r\n            />\r\n          </div>\r\n\r\n          {/* Interviewer Details (Collapsible) */}\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowInterviewerDetails(!showInterviewerDetails)}\r\n              className=\"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900\"\r\n            >\r\n              <span className=\"mr-2\">{showInterviewerDetails ? \"Γû╝\" : \"Γû╢\"}</span>\r\n              Interviewer Details (Optional)\r\n            </button>\r\n            \r\n            {showInterviewerDetails && (\r\n              <div className=\"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4 pl-6\">\r\n                <InputField\r\n                  label=\"Interviewer Name\"\r\n                  type=\"text\"\r\n                  name=\"interviewer.name\"\r\n                  value={formData.interviewer.name}\r\n                  onChange={handleChange}\r\n                  placeholder=\"John Doe\"\r\n                />\r\n                \r\n                <InputField\r\n                  label=\"Interviewer Title\"\r\n                  type=\"text\"\r\n                  name=\"interviewer.title\"\r\n                  value={formData.interviewer.title}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Senior Engineer\"\r\n                />\r\n                \r\n                <InputField\r\n                  label=\"Email\"\r\n                  type=\"email\"\r\n                  name=\"interviewer.email\"\r\n                  value={formData.interviewer.email}\r\n                  onChange={handleChange}\r\n                  placeholder=\"john@company.com\"\r\n                />\r\n                \r\n                <InputField\r\n                  label=\"Phone\"\r\n                  type=\"tel\"\r\n                  name=\"interviewer.phone\"\r\n                  value={formData.interviewer.phone}\r\n                  onChange={handleChange}\r\n                  placeholder=\"+1 (555) 123-4567\"\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Notes */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Notes\r\n            </label>\r\n            <textarea\r\n              name=\"notes\"\r\n              value={formData.notes}\r\n              onChange={handleChange}\r\n              rows=\"3\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n              placeholder=\"Any additional notes about this interview...\"\r\n            />\r\n          </div>\r\n\r\n          {/* Generate Tasks Option (only for new interviews) */}\r\n          {!isEdit && (\r\n            <div className=\"flex items-center\">\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"generateTasks\"\r\n                checked={formData.generateTasks}\r\n                onChange={handleChange}\r\n                className=\"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\r\n              />\r\n              <label className=\"ml-2 text-sm text-gray-700\">\r\n                Automatically generate preparation tasks for this interview\r\n              </label>\r\n            </div>\r\n          )}\r\n\r\n          {/* Calendar Sync Info */}\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\r\n            <p className=\"text-sm text-blue-800\">\r\n              <span className=\"font-medium\">≡ƒôà Calendar Sync:</span> Interviews automatically sync to your connected calendars (Google/Outlook).{\" \"}\r\n              <a href=\"/settings/calendar\" className=\"underline hover:text-blue-900\">\r\n                Manage calendar settings\r\n              </a>\r\n            </p>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n            <Button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              variant=\"secondary\"\r\n              disabled={loading}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={loading || checkingConflicts}\r\n            >\r\n              {loading ? \"Saving...\" : (isEdit ? \"Update Interview\" : \"Schedule Interview\")}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nInterviewScheduler.propTypes = {\r\n  job: PropTypes.object,\r\n  interview: PropTypes.object,\r\n  onClose: PropTypes.func.isRequired,\r\n  onSuccess: PropTypes.func.isRequired,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\JobCard.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'onSimulateCareer' is defined but never used.","line":34,"column":348,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":364,"suggestions":[{"messageId":"removeVar","data":{"varName":"onSimulateCareer"},"fix":{"range":[1844,1862],"text":""},"desc":"Remove unused variable 'onSimulateCareer'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":120,"column":5,"nodeType":"JSXOpeningElement","endLine":134,"endColumn":6},{"ruleId":"jsx-a11y/no-noninteractive-element-interactions","severity":1,"message":"Non-interactive elements should not be assigned mouse or keyboard event listeners.","line":120,"column":5,"nodeType":"JSXOpeningElement","endLine":134,"endColumn":6},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":129,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":129,"endColumn":19},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":475,"column":15,"nodeType":"JSXAttribute","endLine":478,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":479,"column":15,"nodeType":"JSXAttribute","endLine":482,"endColumn":17}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// Stage color mapping for visual clarity\r\nconst STAGE_COLORS = {\r\n  \"Interested\": \"bg-gray-100 border-gray-300\",\r\n  \"Applied\": \"bg-blue-50 border-blue-300\",\r\n  \"Phone Screen\": \"bg-yellow-50 border-yellow-300\",\r\n  \"Interview\": \"bg-purple-50 border-purple-300\",\r\n  \"Offer\": \"bg-green-50 border-green-300\",\r\n  \"Rejected\": \"bg-red-50 border-red-300\",\r\n};\r\n\r\nconst PRIORITY_COLORS = {\r\n  \"Low\": \"text-gray-500\",\r\n  \"Medium\": \"text-yellow-600\",\r\n  \"High\": \"text-red-600\",\r\n};\r\n\r\n// UC-125: Platform icon mapping for multi-platform tracker\r\nconst PLATFORM_CONFIG = {\r\n  \"LinkedIn\": { icon: \"≡ƒöù\", color: \"bg-blue-100 text-blue-800\", label: \"LinkedIn\" },\r\n  \"Indeed\": { icon: \"≡ƒôï\", color: \"bg-purple-100 text-purple-800\", label: \"Indeed\" },\r\n  \"Glassdoor\": { icon: \"≡ƒÜ¬\", color: \"bg-green-100 text-green-800\", label: \"Glassdoor\" },\r\n  \"Company Website\": { icon: \"≡ƒÅó\", color: \"bg-gray-100 text-gray-800\", label: \"Company\" },\r\n  \"ZipRecruiter\": { icon: \"ΓÜí\", color: \"bg-orange-100 text-orange-800\", label: \"ZipRecruiter\" },\r\n  \"Monster\": { icon: \"≡ƒæ╛\", color: \"bg-indigo-100 text-indigo-800\", label: \"Monster\" },\r\n  \"CareerBuilder\": { icon: \"≡ƒ¢á∩╕Å\", color: \"bg-yellow-100 text-yellow-800\", label: \"CareerBuilder\" },\r\n  \"AngelList\": { icon: \"≡ƒÿç\", color: \"bg-pink-100 text-pink-800\", label: \"AngelList\" },\r\n  \"Other\": { icon: \"≡ƒôä\", color: \"bg-gray-100 text-gray-700\", label: \"Other\" },\r\n};\r\n\r\nexport default function JobCard({ job, onEdit, onDelete, onView, onStatusChange, isDragging, highlightTerms, isSelected, onToggleSelect, onArchive, onRestore, onScheduleInterview, onViewMatchScore, onOpenStatusModal, onOpenTimeline, onOpenEmailDetector, applicationStatus, onGenerateCoverLetter, onOpenInterviewChecklist, onOpenFollowUpTemplates, onSimulateCareer, onOpenTimingOptimizer }) {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return \"N/A\";\r\n    return new Date(date).toLocaleDateString();\r\n  };\r\n\r\n  const formatSalary = (salary) => {\r\n    if (!salary || (!salary.min && !salary.max)) return null;\r\n\r\n    const format = (num) => {\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: salary.currency || 'USD',\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 0,\r\n      }).format(num);\r\n    };\r\n\r\n    if (salary.min && salary.max) {\r\n      return `${format(salary.min)} - ${format(salary.max)}`;\r\n    } else if (salary.min) {\r\n      return `${format(salary.min)}+`;\r\n    } else if (salary.max) {\r\n      return `Up to ${format(salary.max)}`;\r\n    }\r\n  };\r\n\r\n  const daysUntil = (date) => {\r\n    if (!date) return null;\r\n    const end = new Date(date);\r\n    // zero out times for accurate day diff\r\n    const start = new Date();\r\n    start.setHours(0, 0, 0, 0);\r\n    end.setHours(0, 0, 0, 0);\r\n    const diffMs = end - start;\r\n    return Math.round(diffMs / (1000 * 60 * 60 * 24));\r\n  };\r\n\r\n  const deadlineDays = daysUntil(job.deadline);\r\n  const deadlineColor = (() => {\r\n    if (deadlineDays == null) return null;\r\n    if (deadlineDays <= 0) return \"text-red-700 bg-red-100\";\r\n    if (deadlineDays <= 7) return \"text-yellow-700 bg-yellow-100\";\r\n    return \"text-green-700 bg-green-100\";\r\n  })();\r\n\r\n  const highlightText = (text, highlights) => {\r\n    if (!text) return text;\r\n    const list = Array.isArray(highlights) ? highlights : [highlights];\r\n    const terms = Array.from(\r\n      new Set(\r\n        list\r\n          .filter(Boolean)\r\n          .map((t) => `${t}`.trim())\r\n          .filter((t) => t.length > 0)\r\n      )\r\n    );\r\n    if (terms.length === 0) return text;\r\n\r\n    // Escape regex special chars and sort by length desc to prefer longer matches first\r\n    const escaped = terms\r\n      .map((t) => t.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\"))\r\n      .sort((a, b) => b.length - a.length);\r\n    const re = new RegExp(`(${escaped.join(\"|\")})`, \"gi\");\r\n    const lowerSet = new Set(terms.map((t) => t.toLowerCase()));\r\n\r\n    const parts = `${text}`.split(re);\r\n    return (\r\n      <>\r\n        {parts.map((part, index) =>\r\n          lowerSet.has(part.toLowerCase()) ? (\r\n            <mark key={index} className=\"bg-yellow-200 px-1 rounded\">{part}</mark>\r\n          ) : (\r\n            <span key={index}>{part}</span>\r\n          )\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const cardColorClass = STAGE_COLORS[job.status] || \"bg-white border-gray-200\";\r\n\r\n  return (\r\n    <div\r\n      className={`relative rounded-lg border-2 p-4 mb-3 transition-all ${cardColorClass} ${isDragging ? \"opacity-50 rotate-2 shadow-lg\" : \"hover:shadow-md\"\r\n        } ${isSelected ? 'ring-2 ring-blue-400' : ''}`}\r\n      onClick={() => {\r\n        try {\r\n          if (job?._id) {\r\n            window.localStorage.setItem('activeJobId', job._id);\r\n            window.sessionStorage.setItem('activeJobId', job._id);\r\n          }\r\n        } catch (e) { /* ignore storage errors */ }\r\n      }}\r\n      role=\"group\"\r\n      aria-label={`Job card for ${job.title} at ${job.company}`}\r\n      title=\"Click to set active job for Interview Prep\"\r\n    >\r\n      {/* Header */}\r\n      <div className=\"flex items-start justify-between mb-2\">\r\n        <div className=\"flex items-start gap-2 flex-1 min-w-0\">\r\n          {onToggleSelect && (\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={!!isSelected}\r\n              onChange={onToggleSelect}\r\n              onClick={(e) => e.stopPropagation()}\r\n              onMouseDown={(e) => e.stopPropagation()}\r\n              className=\"mt-1\"\r\n              title=\"Select for bulk actions\"\r\n            />\r\n          )}\r\n          <div className=\"min-w-0 flex-1\">\r\n            <h3 className=\"font-semibold text-lg text-gray-900 truncate\">\r\n              {highlightText(job.title, highlightTerms)}\r\n            </h3>\r\n            <p className=\"text-sm text-gray-600 truncate\">\r\n              {highlightText(job.company, highlightTerms)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {deadlineDays != null && (\r\n          <span className={`ml-2 text-xs font-medium px-2 py-1 rounded ${deadlineColor}`} title={new Date(job.deadline).toLocaleDateString()}>\r\n            {deadlineDays < 0 ? `Overdue ${Math.abs(deadlineDays)}d` : deadlineDays === 0 ? \"Due today\" : `${deadlineDays}d left`}\r\n          </span>\r\n        )}\r\n        {job.priority && (\r\n          <span className={`text-xs font-medium ml-2 ${PRIORITY_COLORS[job.priority]}`}>\r\n            {job.priority === \"High\" && \"≡ƒö┤\"}\r\n            {job.priority === \"Medium\" && \"≡ƒƒí\"}\r\n            {job.priority === \"Low\" && \"ΓÜ¬\"}\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Application Status Badge */}\r\n      {applicationStatus && (\r\n        <div className=\"mb-2\">\r\n          {(() => {\r\n            const getStatusBadge = (status) => {\r\n              const statusMap = {\r\n                'Not Applied': { label: 'Γ¡ò Not Applied', color: 'bg-gray-100 text-gray-700' },\r\n                'Applied': { label: '≡ƒôñ Applied', color: 'bg-blue-100 text-blue-700' },\r\n                'Under Review': { label: '≡ƒæÇ Under Review', color: 'bg-indigo-100 text-indigo-700' },\r\n                'Phone Screen': { label: '≡ƒô₧ Phone Screen', color: 'bg-yellow-100 text-yellow-700' },\r\n                'Technical Interview': { label: '≡ƒÆ╗ Technical', color: 'bg-purple-100 text-purple-700' },\r\n                'Onsite Interview': { label: '≡ƒÅó Onsite', color: 'bg-orange-100 text-orange-700' },\r\n                'Final Interview': { label: '≡ƒÄ» Final Round', color: 'bg-pink-100 text-pink-700' },\r\n                'Offer Extended': { label: '≡ƒÄë Offer', color: 'bg-green-100 text-green-700' },\r\n                'Offer Accepted': { label: 'Γ£à Accepted', color: 'bg-green-200 text-green-800' },\r\n                'Offer Declined': { label: 'Γ¥î Declined', color: 'bg-gray-200 text-gray-700' },\r\n                'Rejected': { label: 'Γ¢ö Rejected', color: 'bg-red-100 text-red-700' },\r\n                'Withdrawn': { label: 'Γå⌐∩╕Å Withdrawn', color: 'bg-gray-200 text-gray-700' },\r\n                'Ghosted': { label: '≡ƒæ╗ Ghosted', color: 'bg-gray-300 text-gray-800' }\r\n              };\r\n              return statusMap[status] || { label: status, color: 'bg-gray-100 text-gray-700' };\r\n            };\r\n\r\n            const badge = getStatusBadge(applicationStatus.currentStatus);\r\n            const daysSinceUpdate = Math.floor((new Date() - new Date(applicationStatus.lastStatusChange)) / (1000 * 60 * 60 * 24));\r\n\r\n            return (\r\n              <div className=\"flex items-center gap-2 text-xs\">\r\n                <span className={`px-2 py-1 rounded-full font-medium ${badge.color}`}>\r\n                  {badge.label}\r\n                </span>\r\n                <span className=\"text-gray-500\">\r\n                  {daysSinceUpdate === 0 ? 'Updated today' : `${daysSinceUpdate}d ago`}\r\n                </span>\r\n                {applicationStatus.nextAction && (\r\n                  <span className=\"text-indigo-600 truncate max-w-[150px]\" title={applicationStatus.nextAction}>\r\n                    ΓåÆ {applicationStatus.nextAction}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            );\r\n          })()}\r\n        </div>\r\n      )}\r\n\r\n      {/* Key Info */}\r\n      <div className=\"space-y-1 text-sm text-gray-700 mb-3\">\r\n        {job.location && (\r\n          <p className=\"flex items-center gap-1\">\r\n            <span className=\"text-gray-500\">≡ƒôì</span>\r\n            <span className=\"truncate\">{highlightText(job.location, highlightTerms)}</span>\r\n          </p>\r\n        )}\r\n        {job.industry && (\r\n          <p className=\"flex items-center gap-1\">\r\n            <span className=\"text-gray-500\">≡ƒÅó</span>\r\n            <span>{job.industry}</span>\r\n          </p>\r\n        )}\r\n        {formatSalary(job.salary) && (\r\n          <p className=\"flex items-center gap-1\">\r\n            <span className=\"text-gray-500\">≡ƒÆ░</span>\r\n            <span>{formatSalary(job.salary)}</span>\r\n          </p>\r\n        )}\r\n        {job.workMode && (\r\n          <p className=\"flex items-center gap-1\">\r\n            <span className=\"text-gray-500\">≡ƒÆ╝</span>\r\n            <span>{job.workMode}</span>\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Days in Stage */}\r\n      <div className=\"flex items-center justify-between text-xs text-gray-500 mb-3\">\r\n        <span>{job.daysInStage || 0} days in stage</span>\r\n        {job.applicationDate && <span>Applied: {formatDate(job.applicationDate)}</span>}\r\n      </div>\r\n\r\n      {/* Tags */}\r\n      {job.tags && job.tags.length > 0 && (\r\n        <div className=\"flex flex-wrap gap-1 mb-3\">\r\n          {job.tags.slice(0, 3).map((tag, idx) => (\r\n            <span\r\n              key={idx}\r\n              className=\"px-2 py-0.5 text-xs rounded-full bg-gray-200 text-gray-700\"\r\n            >\r\n              {highlightText(tag, highlightTerms)}\r\n            </span>\r\n          ))}\r\n          {job.tags.length > 3 && (\r\n            <span className=\"text-xs text-gray-500\">+{job.tags.length - 3} more</span>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* UC-125: Multi-Platform Badges */}\r\n      {(job.applicationPlatforms && job.applicationPlatforms.length > 0) || job.primaryPlatform ? (\r\n        <div className=\"flex flex-wrap gap-1 mb-3\">\r\n          {job.applicationPlatforms && job.applicationPlatforms.length > 0 ? (\r\n            job.applicationPlatforms.map((platform, idx) => {\r\n              const config = PLATFORM_CONFIG[platform.name] || PLATFORM_CONFIG[\"Other\"];\r\n              return (\r\n                <span\r\n                  key={idx}\r\n                  className={`px-2 py-0.5 text-xs rounded-full font-medium ${config.color}`}\r\n                  title={`Applied via ${platform.name}${platform.dateApplied ? ` on ${formatDate(platform.dateApplied)}` : ''}`}\r\n                >\r\n                  {config.icon} {config.label}\r\n                </span>\r\n              );\r\n            })\r\n          ) : job.primaryPlatform ? (\r\n            <span\r\n              className={`px-2 py-0.5 text-xs rounded-full font-medium ${(PLATFORM_CONFIG[job.primaryPlatform] || PLATFORM_CONFIG[\"Other\"]).color}`}\r\n              title={`Applied via ${job.primaryPlatform}`}\r\n            >\r\n              {(PLATFORM_CONFIG[job.primaryPlatform] || PLATFORM_CONFIG[\"Other\"]).icon} {(PLATFORM_CONFIG[job.primaryPlatform] || PLATFORM_CONFIG[\"Other\"]).label}\r\n            </span>\r\n          ) : null}\r\n        </div>\r\n      ) : null}\r\n\r\n      {/* Actions */}\r\n      <div className=\"flex flex-col gap-2 pt-2 border-t border-gray-200\">\r\n        <div className=\"flex flex-wrap items-center gap-2\">\r\n          {/* Interview Prep Button removed as requested */}\r\n          <button\r\n            onClick={() => setShowDetails(!showDetails)}\r\n            className=\"text-xs text-blue-600 hover:text-blue-800\"\r\n          >\r\n            {showDetails ? \"Hide\" : \"Quick View\"}\r\n          </button>\r\n          {onView && (\r\n            <button\r\n              onClick={() => onView(job)}\r\n              className=\"text-xs text-green-600 hover:text-green-800 font-medium\"\r\n            >\r\n              Full Details\r\n            </button>\r\n          )}\r\n          {job.deadline && job._id && typeof window !== 'undefined' && (\r\n            <button\r\n              onClick={() => onStatusChange && onStatusChange(job._id, undefined, { extendDeadlineDays: 7 })}\r\n              className=\"text-xs text-purple-700 hover:text-purple-900\"\r\n              title=\"Extend deadline by 7 days\"\r\n            >\r\n              +7d\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"flex flex-wrap items-center gap-2\">\r\n          {onEdit && (\r\n            <button\r\n              onClick={() => onEdit(job)}\r\n              className=\"text-xs px-2 py-1 rounded bg-gray-200 hover:bg-gray-300 text-gray-700\"\r\n            >\r\n              Edit\r\n            </button>\r\n          )}\r\n          {/* UC-042: View Materials button */}\r\n          {!job.archived && (\r\n            <button\r\n              onClick={() => navigate(`/jobs/${job._id}/materials`)}\r\n              className=\"text-xs px-2 py-1 rounded bg-amber-100 hover:bg-amber-200 text-amber-700 font-medium\"\r\n              title=\"View and link resumes and cover letters for this job\"\r\n            >\r\n              ≡ƒôü View Materials\r\n            </button>\r\n          )}\r\n          {/* UC-124: Application Timing Optimizer */}\r\n          {onOpenTimingOptimizer && !job.archived && (\r\n            <button\r\n              onClick={() => onOpenTimingOptimizer(job)}\r\n              className=\"text-xs px-2 py-1 rounded bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-medium\"\r\n              title=\"Get optimal timing recommendation for application submission\"\r\n            >\r\n              ΓÅ░ Timing Optimizer\r\n            </button>\r\n          )}\r\n          {onScheduleInterview && !job.archived && (job.status === \"Interview\" || job.status === \"Phone Screen\") && (\r\n            <button\r\n              onClick={() => onScheduleInterview(job)}\r\n              className=\"text-xs px-2 py-1 rounded bg-purple-100 hover:bg-purple-200 text-purple-700 font-medium\"\r\n            >\r\n              ≡ƒôà Schedule Interview\r\n            </button>\r\n          )}\r\n          {/* Interview Checklist - Only for Interview stage */}\r\n          {onOpenInterviewChecklist && !job.archived && job.status === \"Interview\" && (\r\n            <button\r\n              onClick={() => onOpenInterviewChecklist(job)}\r\n              className=\"text-xs px-2 py-1 rounded bg-green-100 hover:bg-green-200 text-green-700 font-medium\"\r\n              title=\"Open interview preparation checklist\"\r\n            >\r\n              Γ£à Interview Checklist\r\n            </button>\r\n          )}\r\n          {/* Follow-Up Templates - For Interview, Phone Screen, Offer, and Rejected stages */}\r\n          {onOpenFollowUpTemplates && !job.archived && [\"Interview\", \"Phone Screen\", \"Offer\", \"Rejected\"].includes(job.status) && (\r\n            <button\r\n              onClick={() => onOpenFollowUpTemplates(job)}\r\n              className=\"text-xs px-2 py-1 rounded bg-teal-100 hover:bg-teal-200 text-teal-700 font-medium\"\r\n              title=\"Generate follow-up email templates\"\r\n            >\r\n              ≡ƒôº Follow-Up Templates\r\n            </button>\r\n          )}\r\n          {/* Generate Cover Letter */}\r\n          {onGenerateCoverLetter && !job.archived && (\r\n            <button\r\n              onClick={() => onGenerateCoverLetter(job)}\r\n              className=\"text-xs px-2 py-1 rounded bg-linear-to-r from-blue-100 to-purple-100 hover:from-blue-200 hover:to-purple-200 text-blue-700 font-medium\"\r\n              title=\"Generate AI-powered cover letter with experience highlighting\"\r\n            >\r\n              Γ£¿ Generate Cover Letter\r\n            </button>\r\n          )}\r\n          {/* Status Tracking Actions */}\r\n          {onOpenStatusModal && !job.archived && (\r\n            <button\r\n              onClick={() => onOpenStatusModal(job)}\r\n              className=\"text-xs px-2 py-1 rounded bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-medium\"\r\n              title=\"Update application status\"\r\n            >\r\n              ≡ƒô¥ Update Status\r\n            </button>\r\n          )}\r\n          {onOpenTimeline && !job.archived && applicationStatus && (\r\n            <button\r\n              onClick={() => onOpenTimeline(job)}\r\n              className=\"text-xs px-2 py-1 rounded bg-blue-100 hover:bg-blue-200 text-blue-700 font-medium\"\r\n              title=\"View status timeline\"\r\n            >\r\n              ≡ƒôè Timeline\r\n            </button>\r\n          )}\r\n          {onOpenEmailDetector && !job.archived && (\r\n            <button\r\n              onClick={() => onOpenEmailDetector(job)}\r\n              className=\"text-xs px-2 py-1 rounded bg-purple-100 hover:bg-purple-200 text-purple-700 font-medium\"\r\n              title=\"Detect status from email\"\r\n            >\r\n              Γ£¿ Detect from Email\r\n            </button>\r\n          )}\r\n          {/* UC-067: Salary Research button */}\r\n          {!job.archived && (\r\n            <button\r\n              onClick={() => navigate(`/salary-research/${job._id}`)}\r\n              className=\"text-xs px-2 py-1 rounded bg-blue-100 hover:bg-blue-200 text-blue-700 font-medium\"\r\n              title=\"View salary research and benchmarks\"\r\n            >\r\n              ≡ƒÆ░ Salary Research\r\n            </button>\r\n          )}\r\n          {/* Skill Gap Analysis button */}\r\n          {!job.archived && (\r\n            <button\r\n              onClick={() => navigate(`/skill-gap-analysis/${job._id}`)}\r\n              className=\"text-xs px-2 py-1 rounded bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-medium\"\r\n              title=\"Analyze skill gaps for this job\"\r\n            >\r\n              ≡ƒÄ» Skill Gaps\r\n            </button>\r\n          )}\r\n          {/* UC-063: Job Match Score button */}\r\n          {!job.archived && onViewMatchScore && (\r\n            <button\r\n              onClick={() => onViewMatchScore(job)}\r\n              className=\"text-xs px-2 py-1 rounded bg-green-100 hover:bg-green-200 text-green-700 font-medium\"\r\n              title=\"View match score and analysis\"\r\n            >\r\n              Γ£¿ Match Score\r\n            </button>\r\n          )}\r\n          {job.archived ? (\r\n            onRestore && (\r\n              <button\r\n                onClick={() => onRestore(job._id)}\r\n                className=\"text-xs px-2 py-1 rounded bg-green-100 hover:bg-green-200 text-green-700 font-medium\"\r\n              >\r\n                Γå⌐∩╕Å Restore\r\n              </button>\r\n            )\r\n          ) : (\r\n            onArchive && (\r\n              <button\r\n                onClick={() => onArchive(job)}\r\n                className=\"text-xs px-2 py-1 rounded bg-blue-100 hover:bg-blue-200 text-blue-700 font-medium\"\r\n              >\r\n                ≡ƒôª Archive\r\n              </button>\r\n            )\r\n          )}\r\n          {/* Delete action rendered as a bottom-right trash icon to match project style */}\r\n          {onDelete && (\r\n            <button\r\n              onClick={(e) => { e.stopPropagation(); onDelete(job._id); }}\r\n              aria-label={`Delete ${job.title}`}\r\n              title={`Delete ${job.title}`}\r\n              className=\"absolute right-3 bottom-3 p-1 rounded-lg transition shrink-0 flex items-center justify-center\"\r\n              style={{ color: '#6B7280' }}\r\n              onMouseOver={(e) => {\r\n                e.currentTarget.style.color = '#B91C1C';\r\n                e.currentTarget.style.backgroundColor = '#FEE2E2';\r\n              }}\r\n              onMouseOut={(e) => {\r\n                e.currentTarget.style.color = '#6B7280';\r\n                e.currentTarget.style.backgroundColor = 'transparent';\r\n              }}\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n              </svg>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Expanded Details */}\r\n      {showDetails && (\r\n        <div className=\"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm\">\r\n          {job.description && (\r\n            <div>\r\n              <p className=\"font-medium text-gray-700\">Description:</p>\r\n              <p className=\"text-gray-600 text-xs whitespace-pre-wrap\">{job.description}</p>\r\n            </div>\r\n          )}\r\n\r\n          {job.requirements && job.requirements.length > 0 && (\r\n            <div>\r\n              <p className=\"font-medium text-gray-700\">Requirements:</p>\r\n              <ul className=\"list-disc list-inside text-xs text-gray-600\">\r\n                {job.requirements.slice(0, 5).map((req, idx) => (\r\n                  <li key={idx}>{req}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {job.notes && (\r\n            <div>\r\n              <p className=\"font-medium text-gray-700\">Notes:</p>\r\n              <p className=\"text-gray-600 text-xs whitespace-pre-wrap\">{job.notes}</p>\r\n            </div>\r\n          )}\r\n\r\n          {job.url && (\r\n            <div>\r\n              <a\r\n                href={job.url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-blue-600 hover:underline text-xs\"\r\n              >\r\n                View Job Posting ΓåÆ\r\n              </a>\r\n            </div>\r\n          )}\r\n\r\n          {job.contacts && job.contacts.length > 0 && (\r\n            <div>\r\n              <p className=\"font-medium text-gray-700\">Contacts:</p>\r\n              {job.contacts.map((contact, idx) => (\r\n                <div key={idx} className=\"text-xs text-gray-600 ml-2\">\r\n                  <span className=\"font-medium\">{contact.name}</span>\r\n                  {contact.role && ` - ${contact.role}`}\r\n                  {contact.email && ` (${contact.email})`}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {job.deadline && (\r\n            <div className=\"text-xs\">\r\n              <span className=\"font-medium text-gray-700\">Deadline: </span>\r\n              <span className={`${new Date(job.deadline) < new Date() ? \"text-red-600 font-semibold\" : \"text-gray-600\"}`}>\r\n                {formatDate(job.deadline)}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nJobCard.propTypes = {\r\n  job: PropTypes.shape({\r\n    _id: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    company: PropTypes.string.isRequired,\r\n    status: PropTypes.string.isRequired,\r\n    location: PropTypes.string,\r\n    salary: PropTypes.shape({\r\n      min: PropTypes.number,\r\n      max: PropTypes.number,\r\n      currency: PropTypes.string,\r\n    }),\r\n    workMode: PropTypes.string,\r\n    jobType: PropTypes.string,\r\n    industry: PropTypes.string,\r\n    description: PropTypes.string,\r\n    requirements: PropTypes.arrayOf(PropTypes.string),\r\n    applicationDate: PropTypes.string,\r\n    deadline: PropTypes.string,\r\n    url: PropTypes.string,\r\n    notes: PropTypes.string,\r\n    contacts: PropTypes.arrayOf(PropTypes.object),\r\n    tags: PropTypes.arrayOf(PropTypes.string),\r\n    priority: PropTypes.string,\r\n    daysInStage: PropTypes.number,\r\n    archived: PropTypes.bool,\r\n    archiveReason: PropTypes.string,\r\n    archivedAt: PropTypes.string,\r\n    // UC-125: Multi-Platform Application Tracker fields\r\n    primaryPlatform: PropTypes.string,\r\n    applicationPlatforms: PropTypes.arrayOf(PropTypes.shape({\r\n      name: PropTypes.string,\r\n      status: PropTypes.string,\r\n      url: PropTypes.string,\r\n      externalId: PropTypes.string,\r\n      dateApplied: PropTypes.string,\r\n      dateImported: PropTypes.string,\r\n      notes: PropTypes.string,\r\n    })),\r\n  }).isRequired,\r\n  onEdit: PropTypes.func,\r\n  onDelete: PropTypes.func,\r\n  onView: PropTypes.func,\r\n  onStatusChange: PropTypes.func,\r\n  isDragging: PropTypes.bool,\r\n  highlightTerms: PropTypes.arrayOf(PropTypes.string),\r\n  isSelected: PropTypes.bool,\r\n  onToggleSelect: PropTypes.func,\r\n  onArchive: PropTypes.func,\r\n  onRestore: PropTypes.func,\r\n  onScheduleInterview: PropTypes.func,\r\n  onViewMatchScore: PropTypes.func,\r\n  onOpenStatusModal: PropTypes.func,\r\n  onOpenTimeline: PropTypes.func,\r\n  onOpenEmailDetector: PropTypes.func,\r\n  applicationStatus: PropTypes.object,\r\n  onGenerateCoverLetter: PropTypes.func,\r\n  onOpenInterviewChecklist: PropTypes.func,\r\n  onOpenFollowUpTemplates: PropTypes.func,\r\n  onSimulateCareer: PropTypes.func,\r\n  onOpenTimingOptimizer: PropTypes.func,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\JobCompetitiveAnalysis.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadAnalysis'. Either include it or remove the dependency array.","line":24,"column":8,"nodeType":"ArrayExpression","endLine":24,"endColumn":18,"suggestions":[{"desc":"Update the dependencies array to be: [job?._id, loadAnalysis]","fix":{"range":[871,881],"text":"[job?._id, loadAnalysis]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"@clerk/clerk-react\";\r\nimport Card from \"./Card\";\r\nimport Button from \"./Button\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\nimport { getJobCompetitiveAnalysis } from \"../api/jobCompetitiveAnalysis\";\r\nimport { setAuthToken } from \"../api/axios\";\r\n\r\n/**\r\n * UC-123: Job Competitive Analysis Component\r\n * Displays comprehensive competitive analysis for a specific job posting\r\n */\r\nexport default function JobCompetitiveAnalysis({ job, onClose }) {\r\n    const { getToken } = useAuth();\r\n    const [loading, setLoading] = useState(true);\r\n    const [analysis, setAnalysis] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const [activeTab, setActiveTab] = useState(\"overview\");\r\n\r\n    useEffect(() => {\r\n        if (job?._id) {\r\n            loadAnalysis();\r\n        }\r\n    }, [job?._id]);\r\n\r\n    const loadAnalysis = async () => {\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n            const data = await getJobCompetitiveAnalysis(job._id);\r\n            setAnalysis(data.data);\r\n        } catch (err) {\r\n            console.error(\"Failed to load competitive analysis:\", err);\r\n            setError(err.response?.data?.message || \"Failed to load analysis\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"p-8 text-center\">\r\n                <LoadingSpinner size=\"lg\" />\r\n                <p className=\"mt-4 text-gray-600\">Analyzing your competitiveness...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"p-6 bg-red-50 rounded-lg border border-red-200\">\r\n                <p className=\"text-red-600 mb-4\">{error}</p>\r\n                <Button onClick={loadAnalysis} variant=\"secondary\">Retry</Button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!analysis) return null;\r\n\r\n    const tabs = [\r\n        { id: \"overview\", label: \"Overview\", icon: \"≡ƒôè\" },\r\n        { id: \"advantages\", label: \"Advantages\", icon: \"≡ƒÆ¬\" },\r\n        { id: \"strategies\", label: \"Strategies\", icon: \"≡ƒÄ»\" },\r\n        { id: \"comparison\", label: \"Profile Match\", icon: \"≡ƒæñ\" },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header with Summary */}\r\n            <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white\">\r\n                <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-bold mb-2\">\r\n                            {analysis.summary?.headline || \"Competitive Analysis\"}\r\n                        </h2>\r\n                        <p className=\"text-white/80 text-sm\">\r\n                            Analysis for: {analysis.jobTitle} at {analysis.company}\r\n                        </p>\r\n                    </div>\r\n                    {onClose && (\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"text-white/80 hover:text-white\"\r\n                        >\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Quick Stats */}\r\n                <div className=\"grid grid-cols-3 gap-4 mt-6\">\r\n                    <div className=\"bg-white/10 rounded-lg p-4 text-center\">\r\n                        <div className=\"text-3xl font-bold\">{analysis.competitiveScore?.overall || 0}</div>\r\n                        <div className=\"text-sm text-white/80\">Competitive Score</div>\r\n                    </div>\r\n                    <div className=\"bg-white/10 rounded-lg p-4 text-center\">\r\n                        <div className=\"text-3xl font-bold capitalize\">\r\n                            {analysis.interviewLikelihood?.likelihood || \"N/A\"}\r\n                        </div>\r\n                        <div className=\"text-sm text-white/80\">Interview Chance</div>\r\n                    </div>\r\n                    <div className=\"bg-white/10 rounded-lg p-4 text-center\">\r\n                        <div className=\"text-3xl font-bold\">\r\n                            {analysis.applicantEstimate?.estimated || \"~100\"}\r\n                        </div>\r\n                        <div className=\"text-sm text-white/80\">Est. Applicants</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tab Navigation */}\r\n            <div className=\"flex flex-wrap gap-2 border-b border-gray-200 pb-3\">\r\n                {tabs.map((tab) => (\r\n                    <button\r\n                        key={tab.id}\r\n                        onClick={() => setActiveTab(tab.id)}\r\n                        className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                            activeTab === tab.id\r\n                                ? \"bg-indigo-600 text-white\"\r\n                                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                        }`}\r\n                    >\r\n                        {tab.icon} {tab.label}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Tab Content */}\r\n            {activeTab === \"overview\" && <OverviewTab analysis={analysis} />}\r\n            {activeTab === \"advantages\" && <AdvantagesTab analysis={analysis} />}\r\n            {activeTab === \"strategies\" && <StrategiesTab analysis={analysis} />}\r\n            {activeTab === \"comparison\" && <ComparisonTab analysis={analysis} />}\r\n\r\n            {/* Action Recommendation */}\r\n            <Card className=\"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200\">\r\n                <div className=\"flex items-start gap-4\">\r\n                    <div className=\"text-3xl\">\r\n                        {analysis.applicationPriority?.priority?.level === \"Top Priority\" ? \"≡ƒÜÇ\" :\r\n                         analysis.applicationPriority?.priority?.level === \"High Priority\" ? \"Γ¡É\" :\r\n                         analysis.applicationPriority?.priority?.level === \"Medium Priority\" ? \"≡ƒôï\" : \"≡ƒô¥\"}\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-semibold text-green-800 text-lg\">\r\n                            {analysis.applicationPriority?.priority?.level}: {analysis.applicationPriority?.priority?.action}\r\n                        </h3>\r\n                        <p className=\"text-green-700 mt-1\">\r\n                            {analysis.applicationPriority?.recommendation}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Overview Tab Component\r\nfunction OverviewTab({ analysis }) {\r\n    const { competitiveScore, applicantEstimate, interviewLikelihood } = analysis;\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Competitive Score Breakdown */}\r\n            <Card>\r\n                <h3 className=\"text-lg font-semibold mb-4\">≡ƒôè Score Breakdown</h3>\r\n                <div className=\"space-y-4\">\r\n                    {competitiveScore?.breakdown && Object.entries(competitiveScore.breakdown).map(([key, data]) => (\r\n                        <div key={key}>\r\n                            <div className=\"flex justify-between items-center mb-1\">\r\n                                <span className=\"text-gray-700 capitalize\">{key.replace(/_/g, ' ')}</span>\r\n                                <span className=\"text-gray-900 font-medium\">{data.score}/{data.maxScore}</span>\r\n                            </div>\r\n                            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                <div\r\n                                    className={`h-2 rounded-full ${\r\n                                        data.score / data.maxScore >= 0.7 ? 'bg-green-500' :\r\n                                        data.score / data.maxScore >= 0.4 ? 'bg-yellow-500' : 'bg-red-500'\r\n                                    }`}\r\n                                    style={{ width: `${(data.score / data.maxScore) * 100}%` }}\r\n                                ></div>\r\n                            </div>\r\n                            {data.details && typeof data.details === 'string' && (\r\n                                <p className=\"text-xs text-gray-500 mt-1\">{data.details}</p>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </Card>\r\n\r\n            {/* Applicant Estimate */}\r\n            <Card>\r\n                <h3 className=\"text-lg font-semibold mb-4\">≡ƒæÑ Competition Landscape</h3>\r\n                <div className=\"grid md:grid-cols-2 gap-4\">\r\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                        <p className=\"text-sm text-gray-500\">Estimated Total Applicants</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">\r\n                            {applicantEstimate?.range?.min} - {applicantEstimate?.range?.max}\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">\r\n                            Competitive pool: ~{applicantEstimate?.competitivePool} qualified candidates\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                        <p className=\"text-sm text-gray-500\">Posting Status</p>\r\n                        <p className=\"text-xl font-bold text-gray-900\">\r\n                            {applicantEstimate?.factors?.postingAge || \"Active\"}\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">\r\n                            {applicantEstimate?.daysSincePosted} days since posted\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <p className=\"mt-4 text-sm text-gray-700 bg-blue-50 p-3 rounded-lg\">\r\n                    ≡ƒÆí {applicantEstimate?.insight}\r\n                </p>\r\n            </Card>\r\n\r\n            {/* Interview Likelihood */}\r\n            <Card>\r\n                <h3 className=\"text-lg font-semibold mb-4\">≡ƒÄ» Interview Likelihood</h3>\r\n                <div className=\"flex items-center gap-6\">\r\n                    <div className={`text-center p-4 rounded-xl ${\r\n                        interviewLikelihood?.likelihood === 'high' ? 'bg-green-100' :\r\n                        interviewLikelihood?.likelihood === 'medium' ? 'bg-yellow-100' : 'bg-red-100'\r\n                    }`}>\r\n                        <p className={`text-3xl font-bold ${\r\n                            interviewLikelihood?.likelihood === 'high' ? 'text-green-700' :\r\n                            interviewLikelihood?.likelihood === 'medium' ? 'text-yellow-700' : 'text-red-700'\r\n                        }`}>\r\n                            {interviewLikelihood?.confidencePercentage}%\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600 capitalize\">\r\n                            {interviewLikelihood?.likelihood} Likelihood\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                        <p className=\"text-gray-700\">{interviewLikelihood?.explanation}</p>\r\n                        <div className=\"flex flex-wrap gap-2 mt-3\">\r\n                            {interviewLikelihood?.factors?.map((factor, idx) => (\r\n                                <span\r\n                                    key={idx}\r\n                                    className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                                        factor.impact === 'positive' ? 'bg-green-100 text-green-700' :\r\n                                        factor.impact === 'negative' ? 'bg-red-100 text-red-700' :\r\n                                        'bg-gray-100 text-gray-700'\r\n                                    }`}\r\n                                >\r\n                                    {factor.name}: {factor.impact === 'positive' ? 'Γ£ô' : factor.impact === 'negative' ? 'Γ£ù' : 'Γùï'}\r\n                                </span>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Advantages Tab Component\r\nfunction AdvantagesTab({ analysis }) {\r\n    const { competitiveAdvantages, competitiveDisadvantages } = analysis;\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Competitive Advantages */}\r\n            <Card>\r\n                <h3 className=\"text-lg font-semibold text-green-700 mb-4\">≡ƒÆ¬ Your Competitive Advantages</h3>\r\n                {competitiveAdvantages?.length > 0 ? (\r\n                    <div className=\"space-y-4\">\r\n                        {competitiveAdvantages.map((advantage, idx) => (\r\n                            <div key={idx} className=\"p-4 bg-green-50 rounded-lg border border-green-100\">\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <span className=\"text-green-500 text-xl\">Γ£ô</span>\r\n                                    <div>\r\n                                        <h4 className=\"font-semibold text-green-800\">{advantage.title}</h4>\r\n                                        <p className=\"text-green-700 text-sm mt-1\">{advantage.description}</p>\r\n                                        {advantage.skills && (\r\n                                            <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                                                {advantage.skills.map((skill, i) => (\r\n                                                    <span key={i} className=\"px-2 py-0.5 bg-green-200 text-green-800 rounded text-xs\">\r\n                                                        {skill}\r\n                                                    </span>\r\n                                                ))}\r\n                                            </div>\r\n                                        )}\r\n                                        <span className={`mt-2 inline-block px-2 py-0.5 rounded text-xs ${\r\n                                            advantage.impact === 'high' ? 'bg-green-200 text-green-800' :\r\n                                            advantage.impact === 'medium' ? 'bg-yellow-200 text-yellow-800' :\r\n                                            'bg-gray-200 text-gray-800'\r\n                                        }`}>\r\n                                            {advantage.impact?.toUpperCase()} IMPACT\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <p className=\"text-gray-500 italic\">\r\n                        Complete your profile to identify your competitive advantages for this role.\r\n                    </p>\r\n                )}\r\n            </Card>\r\n\r\n            {/* Areas to Improve */}\r\n            <Card>\r\n                <h3 className=\"text-lg font-semibold text-orange-700 mb-4\">≡ƒôê Areas to Improve</h3>\r\n                {competitiveDisadvantages?.length > 0 ? (\r\n                    <div className=\"space-y-4\">\r\n                        {competitiveDisadvantages.map((disadvantage, idx) => (\r\n                            <div key={idx} className=\"p-4 bg-orange-50 rounded-lg border border-orange-100\">\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <span className=\"text-orange-500 text-xl\">!</span>\r\n                                    <div className=\"flex-1\">\r\n                                        <h4 className=\"font-semibold text-orange-800\">{disadvantage.title}</h4>\r\n                                        <p className=\"text-orange-700 text-sm mt-1\">{disadvantage.description}</p>\r\n                                        \r\n                                        {disadvantage.missingSkills && disadvantage.missingSkills.length > 0 && (\r\n                                            <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                                                {disadvantage.missingSkills.map((skill, i) => (\r\n                                                    <span key={i} className=\"px-2 py-0.5 bg-orange-200 text-orange-800 rounded text-xs\">\r\n                                                        {skill}\r\n                                                    </span>\r\n                                                ))}\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        {/* Mitigation Strategies */}\r\n                                        {disadvantage.mitigation && (\r\n                                            <div className=\"mt-3 p-3 bg-white rounded border border-orange-200\">\r\n                                                <p className=\"text-xs font-medium text-gray-600 mb-2\">≡ƒÆí How to address this:</p>\r\n                                                <ul className=\"space-y-1\">\r\n                                                    {disadvantage.mitigation.map((strategy, i) => (\r\n                                                        <li key={i} className=\"text-sm text-gray-700 flex items-start gap-2\">\r\n                                                            <span className=\"text-orange-400\">ΓåÆ</span>\r\n                                                            {strategy}\r\n                                                        </li>\r\n                                                    ))}\r\n                                                </ul>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <p className=\"text-gray-500 italic\">\r\n                        No significant gaps identified for this role. Great job!\r\n                    </p>\r\n                )}\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Strategies Tab Component\r\nfunction StrategiesTab({ analysis }) {\r\n    const { differentiationStrategies } = analysis;\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <Card>\r\n                <h3 className=\"text-lg font-semibold mb-4\">≡ƒÄ» Differentiation Strategies</h3>\r\n                <p className=\"text-gray-600 mb-6\">\r\n                    Stand out from other applicants with these targeted strategies:\r\n                </p>\r\n                <div className=\"space-y-6\">\r\n                    {differentiationStrategies?.map((strategy, idx) => (\r\n                        <div \r\n                            key={idx} \r\n                            className={`p-5 rounded-xl border ${\r\n                                strategy.priority === 'high' ? 'bg-purple-50 border-purple-200' :\r\n                                strategy.priority === 'medium' ? 'bg-blue-50 border-blue-200' :\r\n                                'bg-gray-50 border-gray-200'\r\n                            }`}\r\n                        >\r\n                            <div className=\"flex items-center gap-3 mb-3\">\r\n                                <span className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                                    strategy.priority === 'high' ? 'bg-purple-200 text-purple-800' :\r\n                                    strategy.priority === 'medium' ? 'bg-blue-200 text-blue-800' :\r\n                                    'bg-gray-200 text-gray-800'\r\n                                }`}>\r\n                                    {strategy.priority?.toUpperCase()} PRIORITY\r\n                                </span>\r\n                                <span className=\"text-lg font-semibold text-gray-800\">\r\n                                    {strategy.category}\r\n                                </span>\r\n                            </div>\r\n                            \r\n                            <p className=\"text-gray-700 font-medium mb-3\">{strategy.strategy}</p>\r\n                            \r\n                            {strategy.tactics && (\r\n                                <div className=\"bg-white rounded-lg p-4 border border-gray-100\">\r\n                                    <p className=\"text-xs font-medium text-gray-500 mb-2\">Action Items:</p>\r\n                                    <ul className=\"space-y-2\">\r\n                                        {strategy.tactics.map((tactic, i) => (\r\n                                            <li key={i} className=\"flex items-start gap-2 text-sm text-gray-700\">\r\n                                                <span className=\"text-indigo-500 mt-0.5\">ΓÿÉ</span>\r\n                                                {tactic}\r\n                                            </li>\r\n                                        ))}\r\n                                    </ul>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Profile Comparison Tab Component\r\nfunction ComparisonTab({ analysis }) {\r\n    const { typicalHiredProfile } = analysis;\r\n\r\n    if (!typicalHiredProfile) {\r\n        return (\r\n            <Card>\r\n                <p className=\"text-gray-500 text-center py-8\">\r\n                    Profile comparison data not available for this role.\r\n                </p>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    const getStatusIcon = (status) => {\r\n        return status === 'meets' ? 'Γ£à' : 'ΓÜá∩╕Å';\r\n    };\r\n\r\n    const getStatusColor = (status) => {\r\n        return status === 'meets' ? 'text-green-600' : 'text-orange-600';\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Overall Match */}\r\n            <Card className={`${\r\n                typicalHiredProfile.overallMatch === 'Strong Match' ? 'bg-green-50 border-green-200' :\r\n                typicalHiredProfile.overallMatch === 'Partial Match' ? 'bg-yellow-50 border-yellow-200' :\r\n                'bg-orange-50 border-orange-200'\r\n            }`}>\r\n                <div className=\"text-center py-4\">\r\n                    <h3 className=\"text-2xl font-bold text-gray-800\">\r\n                        {typicalHiredProfile.overallMatch}\r\n                    </h3>\r\n                    <p className=\"text-gray-600 mt-1\">\r\n                        You meet {typicalHiredProfile.meetsCount} of {typicalHiredProfile.totalCriteria} typical criteria for {typicalHiredProfile.expectedLevel}-level candidates\r\n                    </p>\r\n                </div>\r\n            </Card>\r\n\r\n            {/* Detailed Comparison */}\r\n            <Card>\r\n                <h3 className=\"text-lg font-semibold mb-4\">≡ƒæñ Profile Comparison to Typical Hired Candidate</h3>\r\n                <div className=\"space-y-4\">\r\n                    {typicalHiredProfile.comparison && Object.entries(typicalHiredProfile.comparison).map(([key, data]) => (\r\n                        <div key={key} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\r\n                            <div>\r\n                                <p className=\"font-medium text-gray-800 capitalize\">{key}</p>\r\n                                <p className=\"text-sm text-gray-500\">Typical: {data.typical}</p>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <p className={`font-semibold ${getStatusColor(data.status)}`}>\r\n                                    {getStatusIcon(data.status)} {data.yours}\r\n                                </p>\r\n                                <p className=\"text-xs text-gray-500\">\r\n                                    {data.status === 'meets' ? 'Meets expectations' : 'Room to grow'}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </Card>\r\n\r\n            {/* Key Attributes */}\r\n            <Card>\r\n                <h3 className=\"text-lg font-semibold mb-4\">≡ƒîƒ Key Attributes Employers Look For</h3>\r\n                <p className=\"text-gray-600 mb-4\">\r\n                    For {typicalHiredProfile.expectedLevel}-level roles, hiring managers typically prioritize:\r\n                </p>\r\n                <ul className=\"space-y-2\">\r\n                    {typicalHiredProfile.profile?.keyAttributes?.map((attr, idx) => (\r\n                        <li key={idx} className=\"flex items-center gap-3 p-3 bg-indigo-50 rounded-lg\">\r\n                            <span className=\"text-indigo-500\">Γÿà</span>\r\n                            <span className=\"text-gray-700\">{attr}</span>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\JobMatchComparison.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'comparison' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":16,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":22,"suggestions":[{"messageId":"removeVar","data":{"varName":"comparison"},"fix":{"range":[564,574],"text":""},"desc":"Remove unused variable 'comparison'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchMatches'. Either include it or remove the dependency array.","line":22,"column":8,"nodeType":"ArrayExpression","endLine":22,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMatches, jobs]","fix":{"range":[783,789],"text":"[fetchMatches, jobs]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'compareSelectedJobs' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":58,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":58,"endColumn":30,"suggestions":[{"messageId":"removeVar","data":{"varName":"compareSelectedJobs"},"fix":{"range":[1811,2254],"text":""},"desc":"Remove unused variable 'compareSelectedJobs'."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport api, { setAuthToken } from '../api/axios';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\n/**\r\n * UC-063: Job Match Comparison Component\r\n * Compare match scores across multiple jobs\r\n */\r\nexport default function JobMatchComparison({ jobs }) {\r\n    const { getToken } = useAuth();\r\n    const [matches, setMatches] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [comparison, setComparison] = useState(null);\r\n    const [sortBy, setSortBy] = useState('overallScore');\r\n    const [sortOrder, setSortOrder] = useState('desc');\r\n\r\n    useEffect(() => {\r\n        fetchMatches();\r\n    }, [jobs]);\r\n\r\n    const fetchMatches = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n\r\n            const response = await api.get(`/api/job-matches?sortBy=${sortBy}&order=${sortOrder}`);\r\n\r\n            if (response.data?.success) {\r\n                setMatches(response.data.data.matches || []);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error fetching matches:', err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const calculateAllMatches = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n\r\n            const response = await api.post('/api/job-matches/calculate-all');\r\n\r\n            if (response.data?.success) {\r\n                await fetchMatches();\r\n            }\r\n        } catch (err) {\r\n            console.error('Error calculating matches:', err);\r\n        }\r\n    };\r\n\r\n    const compareSelectedJobs = async (jobIds) => {\r\n        try {\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n\r\n            const response = await api.post('/api/job-matches/compare', { jobIds });\r\n\r\n            if (response.data?.success) {\r\n                setComparison(response.data.data);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error comparing jobs:', err);\r\n        }\r\n    };\r\n\r\n    const getScoreColor = (score) => {\r\n        if (score >= 85) return 'text-green-600';\r\n        if (score >= 70) return 'text-blue-600';\r\n        if (score >= 55) return 'text-yellow-600';\r\n        return 'text-red-600';\r\n    };\r\n\r\n    const getScoreBgColor = (score) => {\r\n        if (score >= 85) return 'bg-green-50';\r\n        if (score >= 70) return 'bg-blue-50';\r\n        if (score >= 55) return 'bg-yellow-50';\r\n        return 'bg-red-50';\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center py-12\">\r\n                <LoadingSpinner />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (matches.length === 0) {\r\n        return (\r\n            <Card title=\"Job Match Comparison\" variant=\"elevated\">\r\n                <div className=\"text-center py-8\">\r\n                    <svg className=\"w-16 h-16 mx-auto text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n                    </svg>\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No Match Scores Yet</h3>\r\n                    <p className=\"text-gray-600 mb-6\">Calculate match scores for all your jobs to see how well they align with your profile.</p>\r\n                    <Button onClick={calculateAllMatches}>\r\n                        Calculate All Match Scores\r\n                    </Button>\r\n                </div>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Summary Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                <Card variant=\"elevated\" className=\"text-center\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">Total Jobs</div>\r\n                    <div className=\"text-3xl font-bold text-gray-900\">{matches.length}</div>\r\n                </Card>\r\n                <Card variant=\"elevated\" className=\"text-center\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">Best Match</div>\r\n                    <div className={`text-3xl font-bold ${getScoreColor(matches[0]?.overallScore || 0)}`}>\r\n                        {matches[0]?.overallScore || 0}%\r\n                    </div>\r\n                </Card>\r\n                <Card variant=\"elevated\" className=\"text-center\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">Average Match</div>\r\n                    <div className=\"text-3xl font-bold text-blue-600\">\r\n                        {Math.round(matches.reduce((sum, m) => sum + m.overallScore, 0) / matches.length)}%\r\n                    </div>\r\n                </Card>\r\n                <Card variant=\"elevated\" className=\"text-center\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">Good Matches</div>\r\n                    <div className=\"text-3xl font-bold text-green-600\">\r\n                        {matches.filter(m => m.overallScore >= 70).length}\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Sort Controls */}\r\n            <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-bold text-gray-900\">All Job Matches</h2>\r\n                <div className=\"flex items-center gap-3\">\r\n                    <select\r\n                        value={sortBy}\r\n                        onChange={(e) => {\r\n                            setSortBy(e.target.value);\r\n                            fetchMatches();\r\n                        }}\r\n                        className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n                    >\r\n                        <option value=\"overallScore\">Overall Score</option>\r\n                        <option value=\"createdAt\">Date Calculated</option>\r\n                        <option value=\"metadata.company\">Company</option>\r\n                    </select>\r\n                    <button\r\n                        onClick={() => {\r\n                            setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n                            fetchMatches();\r\n                        }}\r\n                        className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50\"\r\n                    >\r\n                        {sortOrder === 'asc' ? 'Γåæ Ascending' : 'Γåô Descending'}\r\n                    </button>\r\n                    <Button size=\"small\" onClick={calculateAllMatches}>\r\n                        Recalculate All\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Match List */}\r\n            <div className=\"space-y-3\">\r\n                {matches.map((match, idx) => (\r\n                    <Card key={match._id} variant=\"elevated\" className=\"hover:shadow-lg transition-shadow\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                            {/* Rank */}\r\n                            <div className=\"text-center min-w-[50px]\">\r\n                                <div className=\"text-2xl font-bold text-gray-400\">#{idx + 1}</div>\r\n                            </div>\r\n\r\n                            {/* Job Info */}\r\n                            <div className=\"flex-1\">\r\n                                <h3 className=\"font-semibold text-gray-900 text-lg\">\r\n                                    {match.metadata.jobTitle}\r\n                                </h3>\r\n                                <p className=\"text-gray-600 text-sm\">{match.metadata.company}</p>\r\n                            </div>\r\n\r\n                            {/* Score */}\r\n                            <div className={`text-center px-6 py-4 rounded-lg ${getScoreBgColor(match.overallScore)}`}>\r\n                                <div className={`text-3xl font-bold ${getScoreColor(match.overallScore)}`}>\r\n                                    {match.overallScore}%\r\n                                </div>\r\n                                <div className=\"text-xs text-gray-600 mt-1\">{match.matchGrade}</div>\r\n                            </div>\r\n\r\n                            {/* Category Mini-Breakdown */}\r\n                            <div className=\"grid grid-cols-2 gap-3 min-w-[200px]\">\r\n                                <div>\r\n                                    <div className=\"text-xs text-gray-600\">Skills</div>\r\n                                    <div className=\"font-semibold text-sm\">{match.categoryScores.skills.score}%</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-xs text-gray-600\">Experience</div>\r\n                                    <div className=\"font-semibold text-sm\">{match.categoryScores.experience.score}%</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-xs text-gray-600\">Education</div>\r\n                                    <div className=\"font-semibold text-sm\">{match.categoryScores.education.score}%</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-xs text-gray-600\">Additional</div>\r\n                                    <div className=\"font-semibold text-sm\">{match.categoryScores.additional.score}%</div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Actions */}\r\n                            <div className=\"flex gap-2\">\r\n                                <button\r\n                                    onClick={() => window.open(`/jobs?viewMatch=${match.jobId}`, '_blank')}\r\n                                    className=\"px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                                >\r\n                                    View Details\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Quick Stats */}\r\n                        <div className=\"mt-4 pt-4 border-t border-gray-200 flex items-center gap-6 text-sm\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <svg className=\"w-4 h-4 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                                </svg>\r\n                                <span className=\"text-gray-600\">{match.strengths.length} strengths</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <svg className=\"w-4 h-4 text-yellow-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                    <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                                </svg>\r\n                                <span className=\"text-gray-600\">{match.gaps.length} gaps</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <svg className=\"w-4 h-4 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                    <path d=\"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z\" />\r\n                                    <path d=\"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z\" />\r\n                                </svg>\r\n                                <span className=\"text-gray-600\">{match.suggestions.length} suggestions</span>\r\n                            </div>\r\n                            <div className=\"ml-auto text-gray-500 text-xs\">\r\n                                Calculated {new Date(match.createdAt).toLocaleDateString()}\r\n                            </div>\r\n                        </div>\r\n                    </Card>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\JobMatchScore.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchMatch'. Either include it or remove the dependency array.","line":22,"column":8,"nodeType":"ArrayExpression","endLine":22,"endColumn":15,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMatch, jobId]","fix":{"range":[786,793],"text":"[fetchMatch, jobId]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport api, { setAuthToken } from '../api/axios';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\n/**\r\n * UC-063: Job Match Score Component\r\n * Displays match score breakdown and analysis for a job\r\n */\r\nexport default function JobMatchScore({ jobId, onClose }) {\r\n    const { getToken } = useAuth();\r\n    const [match, setMatch] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [calculating, setCalculating] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('overview');\r\n\r\n    useEffect(() => {\r\n        fetchMatch();\r\n    }, [jobId]);\r\n\r\n    const fetchMatch = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n\r\n            // Try to get existing match\r\n            const response = await api.get(`/api/job-matches/${jobId}`);\r\n\r\n            if (response.data?.success) {\r\n                setMatch(response.data.data);\r\n            } else {\r\n                // Match doesn't exist, need to calculate\r\n                setMatch(null);\r\n            }\r\n        } catch (err) {\r\n            // 404 is expected when match hasn't been calculated yet\r\n            if (err.response?.status === 404) {\r\n                console.log('[JobMatchScore] No existing match found - will show calculate button');\r\n                setMatch(null);\r\n            } else {\r\n                console.error('Error fetching match:', err);\r\n            }\r\n            setError(null); // Don't show error, just show calculate button\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const calculateMatch = async () => {\r\n        try {\r\n            setCalculating(true);\r\n            setError(null);\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n\r\n            const response = await api.post(`/api/job-matches/calculate/${jobId}`);\r\n\r\n            if (response.data?.success) {\r\n                setMatch(response.data.data);\r\n            } else {\r\n                throw new Error(response.data?.message || 'Failed to calculate match');\r\n            }\r\n        } catch (err) {\r\n            console.error('Error calculating match:', err);\r\n            setError(err.response?.data?.message || err.message || 'Failed to calculate match score. Please try again.');\r\n        } finally {\r\n            setCalculating(false);\r\n        }\r\n    };\r\n\r\n    const getScoreColor = (score) => {\r\n        if (score >= 85) return 'text-green-600';\r\n        if (score >= 70) return 'text-blue-600';\r\n        if (score >= 55) return 'text-yellow-600';\r\n        return 'text-red-600';\r\n    };\r\n\r\n    const getScoreGrade = (score) => {\r\n        if (score >= 85) return 'Excellent';\r\n        if (score >= 70) return 'Good';\r\n        if (score >= 55) return 'Fair';\r\n        return 'Poor';\r\n    };\r\n\r\n    const getSeverityColor = (severity) => {\r\n        if (severity === 'critical') return 'text-red-600 bg-red-50';\r\n        if (severity === 'important') return 'text-orange-600 bg-orange-50';\r\n        return 'text-yellow-600 bg-yellow-50';\r\n    };\r\n\r\n    const getPriorityColor = (priority) => {\r\n        if (priority === 'high') return 'text-red-600 bg-red-50';\r\n        if (priority === 'medium') return 'text-blue-600 bg-blue-50';\r\n        return 'text-gray-600 bg-gray-50';\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center py-12\">\r\n                <LoadingSpinner />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!match) {\r\n        return (\r\n            <Card title=\"Job Match Analysis\" variant=\"elevated\">\r\n                <div className=\"text-center py-8\">\r\n                    <div className=\"mb-4\">\r\n                        <svg className=\"w-16 h-16 mx-auto text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n                        </svg>\r\n                    </div>\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                        No Match Score Yet\r\n                    </h3>\r\n                    <p className=\"text-gray-600 mb-6\">\r\n                        Calculate how well you match this job opportunity based on your skills, experience, and education.\r\n                    </p>\r\n                    <Button\r\n                        onClick={calculateMatch}\r\n                        disabled={calculating}\r\n                        className=\"mx-auto\"\r\n                    >\r\n                        {calculating ? 'Calculating...' : 'Calculate Match Score'}\r\n                    </Button>\r\n                    {error && (\r\n                        <p className=\"text-red-600 text-sm mt-4\">{error}</p>\r\n                    )}\r\n                </div>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Overall Score */}\r\n            <Card variant=\"elevated\" className=\"bg-gradient-to-r from-blue-50 to-indigo-50\">\r\n                <div className=\"text-center py-6\">\r\n                    <div className=\"mb-2\">\r\n                        <div className={`text-6xl font-bold ${getScoreColor(match.overallScore)}`}>\r\n                            {match.overallScore}%\r\n                        </div>\r\n                        <div className=\"text-xl font-semibold text-gray-700 mt-2\">\r\n                            {getScoreGrade(match.overallScore)} Match\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"text-gray-600 mt-3\">\r\n                        Overall compatibility with {match.metadata.jobTitle}\r\n                    </p>\r\n                    <div className=\"flex justify-center gap-4 mt-4\">\r\n                        <Button\r\n                            size=\"small\"\r\n                            variant=\"secondary\"\r\n                            onClick={calculateMatch}\r\n                            disabled={calculating}\r\n                        >\r\n                            {calculating ? 'Recalculating...' : 'Recalculate'}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n\r\n            {/* Tabs */}\r\n            <div className=\"border-b border-gray-200\">\r\n                <nav className=\"flex space-x-4\">\r\n                    {['overview', 'strengths', 'gaps', 'suggestions'].map((tab) => (\r\n                        <button\r\n                            key={tab}\r\n                            onClick={() => setActiveTab(tab)}\r\n                            className={`px-4 py-2 font-medium text-sm border-b-2 transition-colors ${activeTab === tab\r\n                                    ? 'border-blue-500 text-blue-600'\r\n                                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                                }`}\r\n                        >\r\n                            {tab.charAt(0).toUpperCase() + tab.slice(1)}\r\n                        </button>\r\n                    ))}\r\n                </nav>\r\n            </div>\r\n\r\n            {/* Tab Content */}\r\n            {activeTab === 'overview' && (\r\n                <div className=\"space-y-4\">\r\n                    <Card title=\"Category Breakdown\" variant=\"elevated\">\r\n                        <div className=\"space-y-4\">\r\n                            {/* Skills */}\r\n                            <div>\r\n                                <div className=\"flex justify-between items-center mb-2\">\r\n                                    <span className=\"font-medium text-gray-700\">Skills</span>\r\n                                    <span className={`font-bold ${getScoreColor(match.categoryScores.skills.score)}`}>\r\n                                        {match.categoryScores.skills.score}%\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                                    <div\r\n                                        className=\"bg-blue-600 h-3 rounded-full transition-all\"\r\n                                        style={{ width: `${match.categoryScores.skills.score}%` }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-600 mt-1\">\r\n                                    {match.categoryScores.skills.details.matchedCount} of{' '}\r\n                                    {match.categoryScores.skills.details.totalRequired} skills matched\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Experience */}\r\n                            <div>\r\n                                <div className=\"flex justify-between items-center mb-2\">\r\n                                    <span className=\"font-medium text-gray-700\">Experience</span>\r\n                                    <span className={`font-bold ${getScoreColor(match.categoryScores.experience.score)}`}>\r\n                                        {match.categoryScores.experience.score}%\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                                    <div\r\n                                        className=\"bg-green-600 h-3 rounded-full transition-all\"\r\n                                        style={{ width: `${match.categoryScores.experience.score}%` }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-600 mt-1\">\r\n                                    {match.categoryScores.experience.details.yearsExperience} years experience\r\n                                    {match.categoryScores.experience.details.yearsRequired > 0 &&\r\n                                        ` (${match.categoryScores.experience.details.yearsRequired} required)`}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Education */}\r\n                            <div>\r\n                                <div className=\"flex justify-between items-center mb-2\">\r\n                                    <span className=\"font-medium text-gray-700\">Education</span>\r\n                                    <span className={`font-bold ${getScoreColor(match.categoryScores.education.score)}`}>\r\n                                        {match.categoryScores.education.score}%\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                                    <div\r\n                                        className=\"bg-purple-600 h-3 rounded-full transition-all\"\r\n                                        style={{ width: `${match.categoryScores.education.score}%` }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-600 mt-1\">\r\n                                    {match.categoryScores.education.details.educationLevel} level\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Additional */}\r\n                            <div>\r\n                                <div className=\"flex justify-between items-center mb-2\">\r\n                                    <span className=\"font-medium text-gray-700\">Additional Factors</span>\r\n                                    <span className={`font-bold ${getScoreColor(match.categoryScores.additional.score)}`}>\r\n                                        {match.categoryScores.additional.score}%\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                                    <div\r\n                                        className=\"bg-indigo-600 h-3 rounded-full transition-all\"\r\n                                        style={{ width: `${match.categoryScores.additional.score}%` }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-600 mt-1\">\r\n                                    {match.categoryScores.additional.details.projects} projects,{' '}\r\n                                    {match.categoryScores.additional.details.certifications} certifications\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n            )}\r\n\r\n            {activeTab === 'strengths' && (\r\n                <Card title=\"Your Strengths\" variant=\"elevated\">\r\n                    {match.strengths.length > 0 ? (\r\n                        <div className=\"space-y-3\">\r\n                            {match.strengths.map((strength, idx) => (\r\n                                <div\r\n                                    key={idx}\r\n                                    className=\"flex items-start gap-3 p-3 bg-green-50 rounded-lg border border-green-200\"\r\n                                >\r\n                                    <svg\r\n                                        className=\"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0\"\r\n                                        fill=\"currentColor\"\r\n                                        viewBox=\"0 0 20 20\"\r\n                                    >\r\n                                        <path\r\n                                            fillRule=\"evenodd\"\r\n                                            d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\r\n                                            clipRule=\"evenodd\"\r\n                                        />\r\n                                    </svg>\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <span className=\"font-medium text-gray-900\">\r\n                                                {strength.description}\r\n                                            </span>\r\n                                            <span className={`text-xs px-2 py-0.5 rounded-full ${strength.impact === 'high' ? 'bg-green-200 text-green-800' :\r\n                                                    strength.impact === 'medium' ? 'bg-blue-200 text-blue-800' :\r\n                                                        'bg-gray-200 text-gray-800'\r\n                                                }`}>\r\n                                                {strength.impact} impact\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"text-sm text-gray-600 mt-1 capitalize\">\r\n                                            {strength.category}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : (\r\n                        <p className=\"text-gray-500 text-center py-8\">No specific strengths identified</p>\r\n                    )}\r\n                </Card>\r\n            )}\r\n\r\n            {activeTab === 'gaps' && (\r\n                <Card title=\"Areas for Improvement\" variant=\"elevated\">\r\n                    {match.gaps.length > 0 ? (\r\n                        <div className=\"space-y-3\">\r\n                            {match.gaps.map((gap, idx) => (\r\n                                <div\r\n                                    key={idx}\r\n                                    className={`p-4 rounded-lg border ${getSeverityColor(gap.severity)} border-current`}\r\n                                >\r\n                                    <div className=\"flex items-start gap-3\">\r\n                                        <svg\r\n                                            className=\"w-5 h-5 mt-0.5 flex-shrink-0\"\r\n                                            fill=\"currentColor\"\r\n                                            viewBox=\"0 0 20 20\"\r\n                                        >\r\n                                            <path\r\n                                                fillRule=\"evenodd\"\r\n                                                d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\"\r\n                                                clipRule=\"evenodd\"\r\n                                            />\r\n                                        </svg>\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"flex items-center gap-2 mb-1\">\r\n                                                <span className=\"font-medium\">{gap.description}</span>\r\n                                                <span className=\"text-xs px-2 py-0.5 rounded-full bg-white border border-current uppercase\">\r\n                                                    {gap.severity}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div className=\"text-sm mb-2 capitalize text-gray-600\">\r\n                                                Category: {gap.category}\r\n                                            </div>\r\n                                            <div className=\"text-sm bg-white bg-opacity-50 p-2 rounded border border-current border-opacity-30\">\r\n                                                ≡ƒÆí <strong>Suggestion:</strong> {gap.suggestion}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"text-center py-8\">\r\n                            <svg\r\n                                className=\"w-16 h-16 mx-auto text-green-500 mb-3\"\r\n                                fill=\"currentColor\"\r\n                                viewBox=\"0 0 20 20\"\r\n                            >\r\n                                <path\r\n                                    fillRule=\"evenodd\"\r\n                                    d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\r\n                                    clipRule=\"evenodd\"\r\n                                />\r\n                            </svg>\r\n                            <p className=\"text-gray-700 font-medium\">Great match!</p>\r\n                            <p className=\"text-gray-500 text-sm\">No significant gaps identified</p>\r\n                        </div>\r\n                    )}\r\n                </Card>\r\n            )}\r\n\r\n            {activeTab === 'suggestions' && (\r\n                <Card title=\"Improvement Suggestions\" variant=\"elevated\">\r\n                    {match.suggestions.length > 0 ? (\r\n                        <div className=\"space-y-4\">\r\n                            {match.suggestions.map((suggestion, idx) => (\r\n                                <div\r\n                                    key={idx}\r\n                                    className=\"p-4 bg-white rounded-lg border border-gray-200 hover:border-blue-300 transition-colors\"\r\n                                >\r\n                                    <div className=\"flex items-start gap-3\">\r\n                                        <div className={`px-2 py-1 rounded text-xs font-medium uppercase ${getPriorityColor(suggestion.priority)}`}>\r\n                                            {suggestion.priority}\r\n                                        </div>\r\n                                        <div className=\"flex-1\">\r\n                                            <h4 className=\"font-semibold text-gray-900 mb-1\">{suggestion.title}</h4>\r\n                                            <p className=\"text-gray-700 text-sm mb-2\">{suggestion.description}</p>\r\n                                            <div className=\"flex items-center gap-2 text-sm\">\r\n                                                <span className=\"text-green-600 font-medium\">\r\n                                                    +{suggestion.estimatedImpact} points potential impact\r\n                                                </span>\r\n                                            </div>\r\n                                            {suggestion.resources && suggestion.resources.length > 0 && (\r\n                                                <div className=\"mt-3 space-y-2\">\r\n                                                    <div className=\"text-sm font-medium text-gray-700\">Resources:</div>\r\n                                                    {suggestion.resources.map((resource, resIdx) => (\r\n                                                        <a\r\n                                                            key={resIdx}\r\n                                                            href={resource.url}\r\n                                                            target=\"_blank\"\r\n                                                            rel=\"noopener noreferrer\"\r\n                                                            className=\"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800\"\r\n                                                        >\r\n                                                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                                <path\r\n                                                                    strokeLinecap=\"round\"\r\n                                                                    strokeLinejoin=\"round\"\r\n                                                                    strokeWidth={2}\r\n                                                                    d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\r\n                                                                />\r\n                                                            </svg>\r\n                                                            {resource.title}\r\n                                                        </a>\r\n                                                    ))}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : (\r\n                        <p className=\"text-gray-500 text-center py-8\">No suggestions at this time</p>\r\n                    )}\r\n                </Card>\r\n            )}\r\n\r\n            {/* Close Button */}\r\n            {onClose && (\r\n                <div className=\"flex justify-end\">\r\n                    <Button variant=\"secondary\" onClick={onClose}>\r\n                        Close\r\n                    </Button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\JobPipeline.jsx","messages":[{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":66,"column":11,"nodeType":"JSXOpeningElement","endLine":73,"endColumn":12},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":127,"column":19,"nodeType":"JSXOpeningElement","endLine":133,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport JobCard from \"./JobCard\";\r\n\r\nconst PIPELINE_STAGES = [\r\n  { id: \"Interested\", label: \"Interested\", color: \"bg-gray-100 border-gray-300\" },\r\n  { id: \"Applied\", label: \"Applied\", color: \"bg-blue-100 border-blue-300\" },\r\n  { id: \"Phone Screen\", label: \"Phone Screen\", color: \"bg-yellow-100 border-yellow-300\" },\r\n  { id: \"Interview\", label: \"Interview\", color: \"bg-purple-100 border-purple-300\" },\r\n  { id: \"Offer\", label: \"Offer\", color: \"bg-green-100 border-green-300\" },\r\n  { id: \"Rejected\", label: \"Rejected\", color: \"bg-red-100 border-red-300\" },\r\n];\r\n\r\nexport default function JobPipeline({ jobs, onJobStatusChange, onJobEdit, onJobDelete, onJobView, highlightTerms, selectedJobs = [], onToggleSelect, onJobArchive, onJobRestore, onScheduleInterview, onViewMatchScore, onOpenStatusModal, onOpenTimeline, onOpenEmailDetector, applicationStatuses = {}, onGenerateCoverLetter, onOpenInterviewChecklist, onOpenFollowUpTemplates, onSimulateCareer, onOpenTimingOptimizer }) {\r\n  const [draggedJob, setDraggedJob] = useState(null);\r\n  const [dragOverStage, setDragOverStage] = useState(null);\r\n\r\n  // Group jobs by status\r\n  const jobsByStage = PIPELINE_STAGES.reduce((acc, stage) => {\r\n    acc[stage.id] = jobs.filter((job) => job.status === stage.id);\r\n    return acc;\r\n  }, {});\r\n\r\n  const handleDragStart = (e, job) => {\r\n    setDraggedJob(job);\r\n    e.dataTransfer.effectAllowed = \"move\";\r\n    e.dataTransfer.setData(\"text/html\", e.target);\r\n  };\r\n\r\n  const handleDragOver = (e, stageId) => {\r\n    e.preventDefault();\r\n    e.dataTransfer.dropEffect = \"move\";\r\n    setDragOverStage(stageId);\r\n  };\r\n\r\n  const handleDragLeave = () => {\r\n    setDragOverStage(null);\r\n  };\r\n\r\n  const handleDrop = async (e, newStatus) => {\r\n    e.preventDefault();\r\n    setDragOverStage(null);\r\n\r\n    if (!draggedJob || draggedJob.status === newStatus) {\r\n      setDraggedJob(null);\r\n      return;\r\n    }\r\n\r\n    // Call the status change handler\r\n    await onJobStatusChange(draggedJob._id, newStatus);\r\n    setDraggedJob(null);\r\n  };\r\n\r\n  const handleDragEnd = () => {\r\n    setDraggedJob(null);\r\n    setDragOverStage(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex gap-4 overflow-x-auto pb-4\">\r\n      {PIPELINE_STAGES.map((stage) => {\r\n        const stageJobs = jobsByStage[stage.id] || [];\r\n        const isDropTarget = dragOverStage === stage.id;\r\n\r\n        return (\r\n          <div\r\n            key={stage.id}\r\n            className={`shrink-0 w-80 rounded-lg border-2 ${stage.color} ${isDropTarget ? \"ring-4 ring-blue-400 ring-opacity-50\" : \"\"\r\n              }`}\r\n            onDragOver={(e) => handleDragOver(e, stage.id)}\r\n            onDragLeave={handleDragLeave}\r\n            onDrop={(e) => handleDrop(e, stage.id)}\r\n          >\r\n            {/* Stage Header */}\r\n            <div className=\"p-4 border-b-2 border-gray-300\">\r\n              <div className=\"flex items-center justify-between gap-2\">\r\n                <h3 className=\"font-semibold text-gray-800\">{stage.label}</h3>\r\n                <div className=\"flex items-center gap-2\">\r\n                  {Array.isArray(selectedJobs) && typeof onToggleSelect === 'function' && (\r\n                    (() => {\r\n                      const allSelected = stageJobs.length > 0 && stageJobs.every(j => selectedJobs.includes(j._id));\r\n                      const handleStageSelect = (e) => {\r\n                        e.stopPropagation();\r\n                        if (!stageJobs.length) return;\r\n                        if (allSelected) {\r\n                          // Clear all in stage\r\n                          stageJobs.forEach(j => {\r\n                            if (selectedJobs.includes(j._id)) onToggleSelect(j._id);\r\n                          });\r\n                        } else {\r\n                          // Select all in stage\r\n                          stageJobs.forEach(j => {\r\n                            if (!selectedJobs.includes(j._id)) onToggleSelect(j._id);\r\n                          });\r\n                        }\r\n                      };\r\n                      return (\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={handleStageSelect}\r\n                          className=\"text-xs px-2 py-1 rounded bg-white hover:bg-gray-100 border border-gray-300 text-gray-700\"\r\n                          title={allSelected ? 'Clear selection for this stage' : 'Select all in this stage'}\r\n                        >\r\n                          {allSelected ? 'Clear' : 'Select all'}\r\n                        </button>\r\n                      );\r\n                    })()\r\n                  )}\r\n                  <span className=\"px-2 py-1 text-xs font-semibold rounded-full bg-white text-gray-700\">\r\n                    {stageJobs.length}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Jobs in Stage */}\r\n            <div\r\n              className=\"p-4 min-h-[200px] max-h-[calc(100vh-300px)] overflow-y-auto\"\r\n              style={{ scrollbarWidth: \"thin\" }}\r\n            >\r\n              {stageJobs.length === 0 ? (\r\n                <div className=\"flex items-center justify-center h-32 text-gray-400 text-sm\">\r\n                  No jobs in this stage\r\n                </div>\r\n              ) : (\r\n                stageJobs.map((job) => (\r\n                  <div\r\n                    key={job._id}\r\n                    draggable\r\n                    onDragStart={(e) => handleDragStart(e, job)}\r\n                    onDragEnd={handleDragEnd}\r\n                    className=\"cursor-move\"\r\n                  >\r\n                    <JobCard\r\n                      job={job}\r\n                      onEdit={onJobEdit}\r\n                      onDelete={onJobDelete}\r\n                      onView={onJobView}\r\n                      onStatusChange={onJobStatusChange}\r\n                      isSelected={Array.isArray(selectedJobs) && selectedJobs.includes(job._id)}\r\n                      onToggleSelect={onToggleSelect ? () => onToggleSelect(job._id) : undefined}\r\n                      isDragging={draggedJob?._id === job._id}\r\n                      highlightTerms={highlightTerms}\r\n                      onArchive={onJobArchive}\r\n                      onRestore={onJobRestore}\r\n                      onScheduleInterview={onScheduleInterview}\r\n                      onViewMatchScore={onViewMatchScore}\r\n                      onOpenStatusModal={onOpenStatusModal}\r\n                      onOpenTimeline={onOpenTimeline}\r\n                      onOpenEmailDetector={onOpenEmailDetector}\r\n                      applicationStatus={applicationStatuses[job._id]}\r\n                      onGenerateCoverLetter={onGenerateCoverLetter}\r\n                      onOpenInterviewChecklist={onOpenInterviewChecklist}\r\n                      onOpenFollowUpTemplates={onOpenFollowUpTemplates}\r\n                      onSimulateCareer={onSimulateCareer}\r\n                      onOpenTimingOptimizer={onOpenTimingOptimizer}\r\n                    />\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nJobPipeline.propTypes = {\r\n  jobs: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      _id: PropTypes.string.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n      company: PropTypes.string.isRequired,\r\n      status: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  onJobStatusChange: PropTypes.func.isRequired,\r\n  onJobEdit: PropTypes.func,\r\n  onJobDelete: PropTypes.func,\r\n  onJobView: PropTypes.func,\r\n  highlightTerms: PropTypes.arrayOf(PropTypes.string),\r\n  selectedJobs: PropTypes.arrayOf(PropTypes.string),\r\n  onToggleSelect: PropTypes.func,\r\n  onJobArchive: PropTypes.func,\r\n  onJobRestore: PropTypes.func,\r\n  onScheduleInterview: PropTypes.func,\r\n  onViewMatchScore: PropTypes.func,\r\n  onOpenStatusModal: PropTypes.func,\r\n  onOpenTimeline: PropTypes.func,\r\n  onOpenEmailDetector: PropTypes.func,\r\n  applicationStatuses: PropTypes.object,\r\n  onGenerateCoverLetter: PropTypes.func,\r\n  onOpenInterviewChecklist: PropTypes.func,\r\n  onOpenFollowUpTemplates: PropTypes.func,\r\n  onSimulateCareer: PropTypes.func,\r\n  onOpenTimingOptimizer: PropTypes.func,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\JobStatistics.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAnalytics'. Either include it or remove the dependency array.","line":17,"column":6,"nodeType":"ArrayExpression","endLine":17,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchAnalytics]","fix":{"range":[600,602],"text":"[fetchAnalytics]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":201,"column":7,"nodeType":"JSXOpeningElement","endLine":201,"endColumn":145},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":201,"column":7,"nodeType":"JSXOpeningElement","endLine":201,"endColumn":145},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":202,"column":9,"nodeType":"JSXOpeningElement","endLine":202,"endColumn":126},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":202,"column":9,"nodeType":"JSXOpeningElement","endLine":202,"endColumn":126},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":211,"column":7,"nodeType":"JSXOpeningElement","endLine":211,"endColumn":149},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":211,"column":7,"nodeType":"JSXOpeningElement","endLine":211,"endColumn":149},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":212,"column":9,"nodeType":"JSXOpeningElement","endLine":212,"endColumn":142},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":212,"column":9,"nodeType":"JSXOpeningElement","endLine":212,"endColumn":142},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":216,"column":140,"nodeType":"JSXAttribute","endLine":216,"endColumn":210},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":216,"column":211,"nodeType":"JSXAttribute","endLine":216,"endColumn":280},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":227,"column":5,"nodeType":"JSXOpeningElement","endLine":227,"endColumn":147},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":227,"column":5,"nodeType":"JSXOpeningElement","endLine":227,"endColumn":147},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":228,"column":7,"nodeType":"JSXOpeningElement","endLine":228,"endColumn":160},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":228,"column":7,"nodeType":"JSXOpeningElement","endLine":228,"endColumn":160},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":237,"column":136,"nodeType":"JSXAttribute","endLine":237,"endColumn":206},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":237,"column":207,"nodeType":"JSXAttribute","endLine":237,"endColumn":276},{"ruleId":"no-unused-vars","severity":2,"message":"'nextStage' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":463,"column":33,"nodeType":"Identifier","messageId":"unusedVar","endLine":463,"endColumn":42,"suggestions":[{"messageId":"removeVar","data":{"varName":"nextStage"},"fix":{"range":[23279,23313],"text":""},"desc":"Remove unused variable 'nextStage'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"@clerk/clerk-react\";\r\nimport api, { setAuthToken } from \"../api/axios\";\r\nimport Card from \"./Card\";\r\nimport Button from \"./Button\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\n\r\nexport default function JobStatistics({ onClose }) {\r\n  const { getToken } = useAuth();\r\n  const [analytics, setAnalytics] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState(\"overview\");\r\n\r\n  useEffect(() => {\r\n    fetchAnalytics();\r\n  }, []);\r\n\r\n  const fetchAnalytics = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await api.get(\"/api/jobs/analytics\");\r\n      console.log('≡ƒôè Analytics Response:', response.data.data);\r\n      console.log('≡ƒöì Data Check:', {\r\n        funnelAnalytics: response.data.data.funnelAnalytics,\r\n        companyAnalytics: response.data.data.companyAnalytics,\r\n        industryAnalytics: response.data.data.industryAnalytics,\r\n        goalTracking: response.data.data.goalTracking\r\n      });\r\n      setAnalytics(response.data.data);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch analytics:\", error);\r\n      setError(error.response?.data?.message || \"Failed to load analytics\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const exportToCSV = () => {\r\n    if (!analytics) return;\r\n\r\n    const csvRows = [];\r\n    \r\n    // Header\r\n    csvRows.push(\"Job Search Analytics Report\");\r\n    csvRows.push(`Generated: ${new Date().toLocaleDateString()}`);\r\n    csvRows.push(\"\");\r\n    \r\n    // Overview Section\r\n    csvRows.push(\"OVERVIEW\");\r\n    csvRows.push(\"Metric,Value\");\r\n    csvRows.push(`Total Applications,${analytics.overview.totalApplications}`);\r\n    csvRows.push(`Active Applications,${analytics.overview.activeApplications}`);\r\n    csvRows.push(`Archived Applications,${analytics.overview.archivedApplications}`);\r\n    csvRows.push(`Response Rate,${analytics.overview.responseRate}%`);\r\n    csvRows.push(`Interview Rate,${analytics.overview.interviewRate}%`);\r\n    csvRows.push(`Offer Rate,${analytics.overview.offerRate}%`);\r\n    csvRows.push(\"\");\r\n\r\n    // Funnel Analytics\r\n    if (analytics.funnelAnalytics) {\r\n      csvRows.push(\"APPLICATION FUNNEL\");\r\n      csvRows.push(\"Stage,Count,Conversion Rate\");\r\n      csvRows.push(`Applied,${analytics.funnelAnalytics.applied},-`);\r\n  // Only show conversion rates in CSV if not 0 or 100\r\n  const conv = analytics.funnelAnalytics.conversionRates;\r\n  csvRows.push(`Phone Screen,${analytics.funnelAnalytics.phoneScreen},${(conv.applyToScreen !== 0 && conv.applyToScreen !== 100) ? conv.applyToScreen + '%' : ''}`);\r\n  csvRows.push(`Interview,${analytics.funnelAnalytics.interview},${(conv.screenToInterview !== 0 && conv.screenToInterview !== 100) ? conv.screenToInterview + '%' : ''}`);\r\n  csvRows.push(`Offer,${analytics.funnelAnalytics.offer},${(conv.interviewToOffer !== 0 && conv.interviewToOffer !== 100) ? conv.interviewToOffer + '%' : ''}`);\r\n      csvRows.push(\"\");\r\n    }\r\n\r\n    // Company Analytics\r\n    if (analytics.companyAnalytics && analytics.companyAnalytics.length > 0) {\r\n      csvRows.push(\"TOP COMPANIES\");\r\n      csvRows.push(\"Company,Applications,Avg Response Time (days),Success Rate\");\r\n      analytics.companyAnalytics.forEach(item => {\r\n        csvRows.push(`${item.company},${item.applications},${item.avgResponseTime},${item.successRate}%`);\r\n      });\r\n      csvRows.push(\"\");\r\n    }\r\n\r\n    // Industry Analytics\r\n    if (analytics.industryAnalytics && analytics.industryAnalytics.length > 0) {\r\n      csvRows.push(\"INDUSTRY ANALYTICS\");\r\n      csvRows.push(\"Industry,Applications,Avg Response Time (days),Success Rate\");\r\n      analytics.industryAnalytics.forEach(item => {\r\n        csvRows.push(`${item.industry},${item.applications},${item.avgResponseTime},${item.successRate}%`);\r\n      });\r\n      csvRows.push(\"\");\r\n    }\r\n\r\n    // Approach Analytics\r\n    if (analytics.approachAnalytics) {\r\n      csvRows.push(\"SUCCESS BY WORK MODE\");\r\n      csvRows.push(\"Work Mode,Applications,Response Rate,Interview Rate,Offer Rate\");\r\n      Object.entries(analytics.approachAnalytics).forEach(([mode, data]) => {\r\n        csvRows.push(`${mode},${data.applications},${data.responseRate}%,${data.interviewRate}%,${data.offerRate}%`);\r\n      });\r\n      csvRows.push(\"\");\r\n    }\r\n\r\n    // Status Counts\r\n    csvRows.push(\"APPLICATIONS BY STATUS\");\r\n    csvRows.push(\"Status,Count,Percentage\");\r\n    analytics.statusDistribution.forEach(item => {\r\n      csvRows.push(`${item.status},${item.count},${item.percentage}%`);\r\n    });\r\n    csvRows.push(\"\");\r\n\r\n    // Average Time by Stage\r\n    csvRows.push(\"AVERAGE TIME IN EACH STAGE\");\r\n    csvRows.push(\"Stage,Days\");\r\n    Object.entries(analytics.avgTimeByStage).forEach(([stage, days]) => {\r\n      csvRows.push(`${stage},${days}`);\r\n    });\r\n    csvRows.push(\"\");\r\n\r\n    // Weekly Trends\r\n    if (analytics.weeklyTrends && analytics.weeklyTrends.length > 0) {\r\n      csvRows.push(\"WEEKLY APPLICATION TRENDS\");\r\n      csvRows.push(\"Week,Applications,Responses\");\r\n      analytics.weeklyTrends.forEach(item => {\r\n        csvRows.push(`${item.week},${item.applications},${item.responses}`);\r\n      });\r\n      csvRows.push(\"\");\r\n    }\r\n\r\n    // Monthly Volume\r\n    csvRows.push(\"MONTHLY APPLICATION VOLUME\");\r\n    csvRows.push(\"Month,Applications\");\r\n    analytics.monthlyVolume.forEach(item => {\r\n      csvRows.push(`${item.month},${item.count}`);\r\n    });\r\n    csvRows.push(\"\");\r\n\r\n    // Deadline Tracking\r\n    csvRows.push(\"DEADLINE ADHERENCE\");\r\n    csvRows.push(\"Metric,Value\");\r\n    csvRows.push(`Total with Deadlines,${analytics.deadlineTracking.total}`);\r\n    csvRows.push(`Met Deadlines,${analytics.deadlineTracking.met}`);\r\n    csvRows.push(`Missed Deadlines,${analytics.deadlineTracking.missed}`);\r\n    csvRows.push(`Upcoming Deadlines,${analytics.deadlineTracking.upcoming}`);\r\n    csvRows.push(`Adherence Rate,${analytics.deadlineTracking.adherenceRate}%`);\r\n    csvRows.push(\"\");\r\n\r\n    // Time to Offer\r\n    csvRows.push(\"TIME TO OFFER\");\r\n    csvRows.push(\"Metric,Value\");\r\n    csvRows.push(`Average Days,${analytics.timeToOffer.average}`);\r\n    csvRows.push(`Total Offers,${analytics.timeToOffer.count}`);\r\n    csvRows.push(\"\");\r\n\r\n    // Benchmarks\r\n    if (analytics.benchmarks) {\r\n      csvRows.push(\"PERFORMANCE BENCHMARKS\");\r\n      csvRows.push(\"Metric,Your Performance,Industry Average,Status\");\r\n      csvRows.push(`Response Rate,${analytics.benchmarks.userPerformance.responseRate}%,${analytics.benchmarks.industryAverages.responseRate}%,${analytics.benchmarks.comparison.responseRate}`);\r\n      csvRows.push(`Interview Rate,${analytics.benchmarks.userPerformance.interviewRate}%,${analytics.benchmarks.industryAverages.interviewRate}%,${analytics.benchmarks.comparison.interviewRate}`);\r\n      csvRows.push(`Offer Rate,${analytics.benchmarks.userPerformance.offerRate}%,${analytics.benchmarks.industryAverages.offerRate}%,${analytics.benchmarks.comparison.offerRate}`);\r\n      csvRows.push(\"\");\r\n    }\r\n\r\n    // Goal Tracking\r\n    if (analytics.goalTracking) {\r\n      csvRows.push(\"MONTHLY GOALS\");\r\n      csvRows.push(\"Category,Goal,Current,Progress\");\r\n      csvRows.push(`Applications,${analytics.goalTracking.applications.goal},${analytics.goalTracking.applications.current},${analytics.goalTracking.applications.percentage}%`);\r\n      csvRows.push(`Interviews,${analytics.goalTracking.interviews.goal},${analytics.goalTracking.interviews.current},${analytics.goalTracking.interviews.percentage}%`);\r\n      csvRows.push(`Offers,${analytics.goalTracking.offers.goal},${analytics.goalTracking.offers.current},${analytics.goalTracking.offers.percentage}%`);\r\n      csvRows.push(\"\");\r\n    }\r\n\r\n    // Recommendations\r\n    if (analytics.recommendations && analytics.recommendations.length > 0) {\r\n      csvRows.push(\"OPTIMIZATION RECOMMENDATIONS\");\r\n      csvRows.push(\"Type,Category,Message,Action\");\r\n      analytics.recommendations.forEach(rec => {\r\n        csvRows.push(`${rec.type},${rec.category},\"${rec.message}\",\"${rec.action}\"`);\r\n      });\r\n    }\r\n\r\n    // Create CSV blob and download\r\n    const csvContent = csvRows.join(\"\\n\");\r\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\r\n    const link = document.createElement(\"a\");\r\n    const url = URL.createObjectURL(blob);\r\n    link.setAttribute(\"href\", url);\r\n    link.setAttribute(\"download\", `job-analytics-complete-${new Date().toISOString().split('T')[0]}.csv`);\r\n    link.style.visibility = \"hidden\";\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"fixed inset-0 flex items-center justify-center z-50\" style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }} onClick={onClose}>\r\n        <div className=\"bg-white rounded-lg p-8 border border-gray-200 shadow-2xl mx-4\" onClick={(e) => e.stopPropagation()}>\r\n          <LoadingSpinner size=\"lg\" text=\"Loading analytics...\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"fixed inset-0 flex items-center justify-center z-50 p-4\" style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }} onClick={onClose}>\r\n        <div className=\"bg-white rounded-lg max-w-md w-full p-6 border border-gray-200 shadow-2xl mx-4\" onClick={(e) => e.stopPropagation()}>\r\n          <h2 className=\"text-xl font-bold text-red-600 mb-4\">Error Loading Analytics</h2>\r\n          <p className=\"text-gray-700 mb-4\">{error}</p>\r\n          <div className=\"flex gap-3\">\r\n            <button onClick={fetchAnalytics} className=\"px-4 py-2 text-white rounded-lg transition\" style={{ backgroundColor: '#777C6D' }} onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'} onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}>Retry</button>\r\n            <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\">Close</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!analytics) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center z-50 p-4\" style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }} onClick={onClose}>\r\n      <div className=\"bg-white rounded-lg max-w-7xl w-full h-[90vh] flex flex-col border border-gray-200 shadow-2xl mx-4\" onClick={(e) => e.stopPropagation()}>\r\n        {/* Header */}\r\n        <div className=\"shrink-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-lg\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900 leading-tight\">Application Analytics Dashboard</h2>\r\n              <p className=\"text-sm text-gray-600 mt-1\">Comprehensive insights to optimize your job search strategy</p>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <button onClick={exportToCSV} className=\"px-3 py-1 text-white rounded-md text-sm\" style={{ backgroundColor: '#777C6D' }} onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'} onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}>\r\n                ≡ƒôÑ Export Report\r\n              </button>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-gray-400 hover:text-gray-600 transition\"\r\n                aria-label=\"Close analytics\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Navigation Tabs */}\r\n        <div className=\"shrink-0 border-b border-gray-200 bg-gray-50 px-6\">\r\n          <nav className=\"flex space-x-1 overflow-x-auto\">\r\n            {[\r\n              { id: 'overview', label: 'Overview', icon: '≡ƒôè' },\r\n              { id: 'funnel', label: 'Funnel', icon: '≡ƒöÇ' },\r\n              { id: 'industries', label: 'Industries', icon: '≡ƒÅ¡' },\r\n              { id: 'trends', label: 'Trends', icon: '≡ƒôê' },\r\n              { id: 'goals', label: 'Goals', icon: '≡ƒÄ»' },\r\n            ].map(tab => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`px-5 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${\r\n                  activeTab === tab.id\r\n                    ? 'border-blue-600 text-blue-600 bg-blue-50'\r\n                    : 'border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300 hover:bg-gray-100'\r\n                }`}\r\n              >\r\n                <span className=\"mr-2\">{tab.icon}</span>\r\n                {tab.label}\r\n              </button>\r\n            ))}\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Content Area */}\r\n        <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\r\n          \r\n          {/* Overview Tab */}\r\n          {activeTab === 'overview' && (\r\n            <>\r\n              {/* Key Metrics Cards */}\r\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\r\n                <Card variant=\"elevated\" className=\"text-center hover:shadow-lg transition\">\r\n                  <p className=\"text-xs text-gray-600 mb-1\">Total Apps</p>\r\n                  <p className=\"text-3xl font-bold text-blue-600\">\r\n                    {analytics.overview.totalApplications}\r\n                  </p>\r\n                </Card>\r\n                <Card variant=\"elevated\" className=\"text-center hover:shadow-lg transition\">\r\n                  <p className=\"text-xs text-gray-600 mb-1\">Active</p>\r\n                  <p className=\"text-3xl font-bold text-green-600\">\r\n                    {analytics.overview.activeApplications}\r\n                  </p>\r\n                </Card>\r\n                <Card variant=\"elevated\" className=\"text-center hover:shadow-lg transition\">\r\n                  <p className=\"text-xs text-gray-600 mb-1\">Response</p>\r\n                  <p className=\"text-3xl font-bold text-purple-600\">\r\n                    {analytics.overview.responseRate}%\r\n                  </p>\r\n                </Card>\r\n                <Card variant=\"elevated\" className=\"text-center hover:shadow-lg transition\">\r\n                  <p className=\"text-xs text-gray-600 mb-1\">Interview</p>\r\n                  <p className=\"text-3xl font-bold text-yellow-600\">\r\n                    {analytics.overview.interviewRate}%\r\n                  </p>\r\n                </Card>\r\n                <Card variant=\"elevated\" className=\"text-center hover:shadow-lg transition\">\r\n                  <p className=\"text-xs text-gray-600 mb-1\">Offer</p>\r\n                  <p className=\"text-3xl font-bold text-green-600\">\r\n                    {analytics.overview.offerRate}%\r\n                  </p>\r\n                </Card>\r\n                <Card variant=\"elevated\" className=\"text-center hover:shadow-lg transition\">\r\n                  <p className=\"text-xs text-gray-600 mb-1\">Archived</p>\r\n                  <p className=\"text-3xl font-bold text-gray-600\">\r\n                    {analytics.overview.archivedApplications}\r\n                  </p>\r\n                </Card>\r\n              </div>\r\n\r\n              {/* Performance Benchmarking */}\r\n              {analytics.benchmarks && (\r\n                <Card variant=\"elevated\" title=\"≡ƒôè Performance Benchmarking\">\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                    {['responseRate', 'interviewRate', 'offerRate'].map(metric => (\r\n                      <div key={metric} className=\"text-center\">\r\n                        <p className=\"text-sm text-gray-600 mb-2 capitalize\">\r\n                          {metric.replace('Rate', ' Rate')}\r\n                        </p>\r\n                        <div className=\"flex items-end justify-center gap-4 mb-2\">\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-500\">You</p>\r\n                            <p className=\"text-2xl font-bold text-blue-600\">\r\n                              {analytics.benchmarks.userPerformance[metric]}%\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"text-2xl text-gray-400\">vs</div>\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-500\">Industry</p>\r\n                            <p className=\"text-2xl font-bold text-gray-600\">\r\n                              {analytics.benchmarks.industryAverages[metric]}%\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className={`inline-block px-3 py-1 rounded-full text-xs font-medium ${\r\n                          analytics.benchmarks.comparison[metric] === 'above' \r\n                            ? 'bg-green-100 text-green-800'\r\n                            : analytics.benchmarks.comparison[metric] === 'average'\r\n                            ? 'bg-yellow-100 text-yellow-800'\r\n                            : 'bg-red-100 text-red-800'\r\n                        }`}>\r\n                          {analytics.benchmarks.comparison[metric] === 'above' ? 'Γ£ô Above Average' :\r\n                           analytics.benchmarks.comparison[metric] === 'average' ? 'Γëê Average' :\r\n                           'ΓÜá Below Average'}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Status Distribution */}\r\n              <Card variant=\"elevated\" title=\"Applications by Status\">\r\n                <div className=\"space-y-3\">\r\n                  {analytics.statusDistribution.map((item) => (\r\n                    <div key={item.status}>\r\n                      <div className=\"flex justify-between items-center mb-1\">\r\n                        <span className=\"text-sm font-medium text-gray-700\">{item.status}</span>\r\n                        <span className=\"text-sm text-gray-600\">\r\n                          {item.count} ({item.percentage}%)\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                        <div\r\n                          className={`h-3 rounded-full transition-all ${\r\n                            item.status === \"Interested\" ? \"bg-gray-500\" :\r\n                            item.status === \"Applied\" ? \"bg-blue-500\" :\r\n                            item.status === \"Phone Screen\" ? \"bg-yellow-500\" :\r\n                            item.status === \"Interview\" ? \"bg-purple-500\" :\r\n                            item.status === \"Offer\" ? \"bg-green-500\" :\r\n                            \"bg-red-500\"\r\n                          }`}\r\n                          style={{ width: `${Math.max(item.percentage, 2)}%` }}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n\r\n              {/* Optimization Recommendations */}\r\n              {analytics.recommendations && analytics.recommendations.length > 0 && (\r\n                <Card variant=\"info\" title=\"≡ƒÆí Optimization Recommendations\">\r\n                  <div className=\"space-y-3\">\r\n                    {analytics.recommendations.map((rec, idx) => (\r\n                      <div\r\n                        key={idx}\r\n                        className={`p-4 rounded-lg border-l-4 ${\r\n                          rec.type === 'critical' ? 'bg-red-50 border-red-500' :\r\n                          rec.type === 'warning' ? 'bg-yellow-50 border-yellow-500' :\r\n                          rec.type === 'success' ? 'bg-green-50 border-green-500' :\r\n                          'bg-blue-50 border-blue-500'\r\n                        }`}\r\n                      >\r\n                        <div className=\"flex items-start gap-3\">\r\n                          <span className=\"text-2xl\">\r\n                            {rec.type === 'critical' ? '≡ƒö┤' :\r\n                             rec.type === 'warning' ? 'ΓÜá∩╕Å' :\r\n                             rec.type === 'success' ? 'Γ£à' : 'Γä╣∩╕Å'}\r\n                          </span>\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"font-semibold text-gray-900 mb-1\">{rec.category}</p>\r\n                            <p className=\"text-sm text-gray-700 mb-2\">{rec.message}</p>\r\n                            <p className=\"text-xs text-gray-600 italic\">≡ƒÆí Action: {rec.action}</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Average Time by Stage */}\r\n              <Card variant=\"elevated\" title=\"ΓÅ▒∩╕Å Average Time in Each Stage\">\r\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\r\n                  {Object.entries(analytics.avgTimeByStage).map(([stage, days]) => (\r\n                    <div key={stage} className=\"text-center p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg hover:shadow-md transition\">\r\n                      <p className=\"text-xs text-gray-600 mb-2\">{stage}</p>\r\n                      <p className=\"text-3xl font-bold text-gray-900\">{days}</p>\r\n                      <p className=\"text-xs text-gray-500 mt-1\">days</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n            </>\r\n          )}\r\n\r\n          {/* Funnel Tab */}\r\n          {activeTab === 'funnel' && (\r\n            <>\r\n              {analytics.funnelAnalytics && analytics.funnelAnalytics.applied > 0 ? (\r\n                <Card variant=\"elevated\" title=\"≡ƒöÇ Application Funnel Analytics\">\r\n                  <div className=\"space-y-0\">\r\n                    {/* Visual Funnel */}\r\n                    <div className=\"flex flex-col items-center gap-0\">\r\n                      {(() => {\r\n                        const stages = [\r\n                          { label: 'Applied', count: analytics.funnelAnalytics.applied, color: 'blue', width: 100 },\r\n                          { label: 'Phone Screen', count: analytics.funnelAnalytics.phoneScreen, color: 'yellow', width: 75 },\r\n                          { label: 'Interview', count: analytics.funnelAnalytics.interview, color: 'purple', width: 50 },\r\n                          { label: 'Offer', count: analytics.funnelAnalytics.offer, color: 'green', width: 25 },\r\n                        ];\r\n                        const conversions = [\r\n                          analytics.funnelAnalytics.conversionRates.applyToScreen,\r\n                          analytics.funnelAnalytics.conversionRates.screenToInterview,\r\n                          analytics.funnelAnalytics.conversionRates.interviewToOffer\r\n                        ];\r\n                        return stages.map((stage, idx) => {\r\n                          const nextStage = stages[idx + 1];\r\n                          const showArrow = idx < stages.length - 1; // Always show arrow between stages\r\n                          const conversion = conversions[idx];\r\n                          const showConversion = showArrow && conversion && !isNaN(Number(conversion)) && Number(conversion) > 0 && Number(conversion) < 100;\r\n                          return (\r\n                            <div key={stage.label} className=\"w-full flex flex-col items-center\">\r\n                              <div className=\"flex items-center justify-center gap-4 w-full\">\r\n                                <div\r\n                                  className={`relative h-16 bg-${stage.color}-500 rounded-lg shadow-lg flex items-center justify-center text-white font-bold transition-shadow hover:shadow-2xl`}\r\n                                  style={{ width: `${stage.width}%` }}\r\n                                >\r\n                                  <div className=\"text-center w-full\">\r\n                                    <p className=\"text-sm\">{stage.label}</p>\r\n                                    <p className=\"text-2xl\">{stage.count}</p>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              {/* Show arrow between all stages except after the last one */}\r\n                              {showArrow && (\r\n                                <div className=\"flex flex-col items-center my-3\">\r\n                                  <svg className=\"w-8 h-8 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                    <path fillRule=\"evenodd\" d=\"M10 3a.75.75 0 01.75.75v10.638l3.22-3.22a.75.75 0 111.06 1.06l-4.5 4.5a.75.75 0 01-1.06 0l-4.5-4.5a.75.75 0 111.06-1.06l3.22 3.22V3.75A.75.75 0 0110 3z\" clipRule=\"evenodd\" />\r\n                                  </svg>\r\n                                  {/* Show conversion rate if meaningful */}\r\n                                  {showConversion && (\r\n                                    <div className=\"text-xs text-gray-600 font-medium text-center mt-1\">\r\n                                      {conversion}%\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          );\r\n                        });\r\n                      })()}\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              ) : (\r\n                <Card variant=\"info\" title=\"≡ƒöÇ No Funnel Data Yet\">\r\n                  <div className=\"text-center py-8\">\r\n                    <p className=\"text-gray-600 mb-4\">\r\n                      Start tracking applications to see your funnel analytics!\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      Add jobs at different stages (Applied, Phone Screen, Interview, Offer) to visualize your application funnel.\r\n                    </p>\r\n                  </div>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Success Rate by Approach */}\r\n              {analytics.approachAnalytics && Object.keys(analytics.approachAnalytics).length > 0 && (\r\n                <Card variant=\"elevated\" title=\"≡ƒÆ╝ Success Rate by Application Approach\">\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                    {Object.entries(analytics.approachAnalytics).map(([mode, data]) => (\r\n                      <div key={mode} className=\"p-5 bg-gradient-to-br from-gray-50 to-white rounded-xl border border-gray-200 hover:shadow-lg transition\">\r\n                        <h4 className=\"text-lg font-semibold text-gray-900 mb-4\">{mode}</h4>\r\n                        <div className=\"space-y-3\">\r\n                          <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Applications</span>\r\n                            <span className=\"font-bold text-gray-900\">{data.applications}</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Response Rate</span>\r\n                            <span className=\"font-bold text-purple-600\">{data.responseRate}%</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Interview Rate</span>\r\n                            <span className=\"font-bold text-yellow-600\">{data.interviewRate}%</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">Offer Rate</span>\r\n                            <span className=\"font-bold text-green-600\">{data.offerRate}%</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </Card>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n\r\n          {/* Industries Tab */}\r\n          {activeTab === 'industries' && (\r\n            <Card variant=\"elevated\" title=\"≡ƒÅ¡ Industry Performance Analytics\">\r\n              {analytics.industryAnalytics && analytics.industryAnalytics.length > 0 ? (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                  {analytics.industryAnalytics.map((industry, idx) => (\r\n                    <div key={idx} className=\"p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl border border-gray-200 hover:shadow-lg transition\">\r\n                      <h3 className=\"text-lg font-bold text-gray-900 mb-4\">{industry.industry}</h3>\r\n                      <div className=\"space-y-3\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <span className=\"text-sm text-gray-600\">Applications</span>\r\n                          <span className=\"text-lg font-bold text-blue-600\">{industry.applications}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <span className=\"text-sm text-gray-600\">Avg Response</span>\r\n                          <span className=\"text-lg font-bold text-purple-600\">{industry.avgResponseTime} days</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <span className=\"text-sm text-gray-600\">Success Rate</span>\r\n                          <span className=\"text-lg font-bold text-green-600\">{industry.successRate}%</span>\r\n                        </div>\r\n                        <div className=\"mt-4 pt-4 border-t border-gray-300\">\r\n                          <div className={`text-center py-2 rounded-lg font-medium ${\r\n                            parseFloat(industry.successRate) >= 25 ? 'bg-green-100 text-green-800' :\r\n                            parseFloat(industry.successRate) >= 15 ? 'bg-yellow-100 text-yellow-800' :\r\n                            'bg-gray-100 text-gray-800'\r\n                          }`}>\r\n                            {parseFloat(industry.successRate) >= 25 ? '≡ƒöÑ Hot Market' :\r\n                             parseFloat(industry.successRate) >= 15 ? '≡ƒôè Average' :\r\n                             '≡ƒÄ» Keep Trying'}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-center text-gray-500 py-8\">No industry data available yet. Add industry information to your applications!</p>\r\n              )}\r\n            </Card>\r\n          )}\r\n\r\n          {/* Trends Tab */}\r\n          {activeTab === 'trends' && (\r\n            <>\r\n              {/* Weekly Trends */}\r\n              {analytics.weeklyTrends && analytics.weeklyTrends.length > 0 && (\r\n                <Card variant=\"elevated\" title=\"≡ƒôê Weekly Application Trends (Last 4 Weeks)\">\r\n                  <div className=\"space-y-4\">\r\n                    {analytics.weeklyTrends.map((week, idx) => (\r\n                      <div key={idx} className=\"flex items-center gap-4\">\r\n                        <div className=\"w-32 text-sm font-medium text-gray-700\">{week.week}</div>\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2 mb-1\">\r\n                            <span className=\"text-xs text-gray-600 w-20\">Applications:</span>\r\n                            <div className=\"flex-1 bg-blue-100 rounded-full h-6 relative\">\r\n                              <div\r\n                                className=\"bg-blue-500 h-6 rounded-full flex items-center justify-end pr-2\"\r\n                                style={{ width: `${Math.max((week.applications / 20) * 100, 5)}%` }}\r\n                              >\r\n                                <span className=\"text-xs font-bold text-white\">{week.applications}</span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span className=\"text-xs text-gray-600 w-20\">Responses:</span>\r\n                            <div className=\"flex-1 bg-green-100 rounded-full h-6 relative\">\r\n                              <div\r\n                                className=\"bg-green-500 h-6 rounded-full flex items-center justify-end pr-2\"\r\n                                style={{ width: `${Math.max((week.responses / 20) * 100, 5)}%` }}\r\n                              >\r\n                                <span className=\"text-xs font-bold text-white\">{week.responses}</span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Monthly Volume */}\r\n              <Card variant=\"elevated\" title=\"≡ƒôà Monthly Application Volume (Last 12 Months)\">\r\n                <div className=\"space-y-2\">\r\n                  {analytics.monthlyVolume.map((item) => (\r\n                    <div key={item.timestamp} className=\"flex items-center gap-3\">\r\n                      <span className=\"text-sm font-medium text-gray-700 w-28\">\r\n                        {item.month}\r\n                      </span>\r\n                      <div className=\"flex-1 bg-gray-200 rounded-full h-10 relative\">\r\n                        <div\r\n                          className=\"bg-gradient-to-r from-blue-500 to-purple-500 h-10 rounded-full flex items-center justify-end pr-4 shadow-md\"\r\n                          style={{\r\n                            width: `${Math.max((item.count / Math.max(...analytics.monthlyVolume.map(m => m.count))) * 100, 5)}%`\r\n                          }}\r\n                        >\r\n                          <span className=\"text-sm font-bold text-white\">{item.count}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n\r\n              {/* Time Metrics */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <Card variant=\"elevated\" title=\"ΓÅ░ Deadline Adherence\">\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">Total with Deadlines</span>\r\n                      <span className=\"text-lg font-bold text-gray-900\">\r\n                        {analytics.deadlineTracking.total}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">Met on Time</span>\r\n                      <span className=\"text-lg font-bold text-green-600\">\r\n                        {analytics.deadlineTracking.met}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">Missed</span>\r\n                      <span className=\"text-lg font-bold text-red-600\">\r\n                        {analytics.deadlineTracking.missed}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">Upcoming</span>\r\n                      <span className=\"text-lg font-bold text-yellow-600\">\r\n                        {analytics.deadlineTracking.upcoming}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"pt-4 border-t border-gray-200\">\r\n                      <div className=\"flex justify-between items-center mb-2\">\r\n                        <span className=\"text-sm font-medium text-gray-700\">Adherence Rate</span>\r\n                        <span className=\"text-2xl font-bold text-blue-600\">\r\n                          {analytics.deadlineTracking.adherenceRate}%\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-4\">\r\n                        <div\r\n                          className=\"bg-gradient-to-r from-blue-500 to-blue-600 h-4 rounded-full transition-all\"\r\n                          style={{ width: `${analytics.deadlineTracking.adherenceRate}%` }}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n\r\n                <Card variant=\"elevated\" title=\"≡ƒÅå Time to Offer\">\r\n                  <div className=\"text-center py-8\">\r\n                    <p className=\"text-sm text-gray-600 mb-3\">Average Time to Offer</p>\r\n                    <p className=\"text-6xl font-bold text-green-600 mb-3\">\r\n                      {analytics.timeToOffer.average}\r\n                    </p>\r\n                    <p className=\"text-xl text-gray-700 mb-6\">days</p>\r\n                    <div className=\"pt-6 border-t border-gray-200\">\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Based on <span className=\"font-bold text-gray-900\">{analytics.timeToOffer.count}</span> offer{analytics.timeToOffer.count !== 1 ? 's' : ''}\r\n                      </p>\r\n                    </div>\r\n                    {analytics.timeToOffer.count === 0 && (\r\n                      <p className=\"mt-6 text-sm text-gray-500 italic\">\r\n                        No offers received yet. Keep applying!\r\n                      </p>\r\n                    )}\r\n                    {analytics.timeToOffer.count > 0 && parseFloat(analytics.timeToOffer.average) < 30 && (\r\n                      <div className=\"mt-4 inline-block px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm font-medium\">\r\n                        ΓÜí Fast Track Success!\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </Card>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Goals Tab */}\r\n          {activeTab === 'goals' && (\r\n            <>\r\n              {analytics.goalTracking ? (\r\n                <>\r\n                  <Card variant=\"elevated\" title=\"≡ƒÄ» Monthly Goals & Progress\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                      {Object.entries(analytics.goalTracking).map(([key, data]) => (\r\n                    <div key={key} className=\"p-6 bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl border border-gray-200\">\r\n                      <h3 className=\"text-lg font-semibold text-gray-900 mb-4 capitalize\">{key}</h3>\r\n                      <div className=\"mb-4\">\r\n                        <div className=\"flex justify-between items-center mb-2\">\r\n                          <span className=\"text-sm text-gray-600\">Progress</span>\r\n                          <span className=\"text-sm font-medium text-gray-900\">\r\n                            {data.current} / {data.goal}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"w-full bg-gray-200 rounded-full h-4 overflow-hidden\">\r\n                          <div\r\n                            className={`h-4 rounded-full transition-all ${\r\n                              parseFloat(data.percentage) >= 100 ? 'bg-gradient-to-r from-green-500 to-green-600' :\r\n                              parseFloat(data.percentage) >= 75 ? 'bg-gradient-to-r from-blue-500 to-blue-600' :\r\n                              parseFloat(data.percentage) >= 50 ? 'bg-gradient-to-r from-yellow-500 to-yellow-600' :\r\n                              'bg-gradient-to-r from-red-500 to-red-600'\r\n                            }`}\r\n                            style={{ width: `${Math.min(data.percentage, 100)}%` }}\r\n                          ></div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-center\">\r\n                        <p className={`text-4xl font-bold ${\r\n                          parseFloat(data.percentage) >= 100 ? 'text-green-600' :\r\n                          parseFloat(data.percentage) >= 75 ? 'text-blue-600' :\r\n                          parseFloat(data.percentage) >= 50 ? 'text-yellow-600' :\r\n                          'text-red-600'\r\n                        }`}>\r\n                          {data.percentage}%\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-500 mt-1\">\r\n                          {parseFloat(data.percentage) >= 100 ? '≡ƒÄë Goal Achieved!' :\r\n                           parseFloat(data.percentage) >= 75 ? '≡ƒÆ¬ Almost There!' :\r\n                           parseFloat(data.percentage) >= 50 ? '≡ƒôê Good Progress' :\r\n                           '≡ƒÜÇ Keep Going!'}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n\r\n                  <Card variant=\"info\" title=\"≡ƒÆí Goal Setting Tips\">\r\n                    <ul className=\"space-y-2 text-sm text-gray-700\">\r\n                      <li>Γ£à <strong>Applications:</strong> Aim for 15-25 quality applications per month for active job search</li>\r\n                      <li>Γ£à <strong>Interviews:</strong> Target 3-5 interviews monthly - focus on conversion quality</li>\r\n                      <li>Γ£à <strong>Offers:</strong> Even 1-2 offers per month shows strong performance</li>\r\n                      <li>≡ƒÆí <strong>Tip:</strong> Quality beats quantity - tailor each application to the role</li>\r\n                      <li>≡ƒôè <strong>Strategy:</strong> Review and adjust goals quarterly based on market conditions</li>\r\n                    </ul>\r\n                  </Card>\r\n                </>\r\n              ) : (\r\n                <Card variant=\"info\" title=\"≡ƒÄ» No Goal Data Yet\">\r\n                  <div className=\"text-center py-8\">\r\n                    <p className=\"text-gray-600 mb-4\">\r\n                      Start tracking applications to see your monthly goal progress!\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      We track your progress towards monthly goals: 20 applications, 5 interviews, and 1 offer.\r\n                    </p>\r\n                  </div>\r\n                </Card>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"shrink-0 bg-gray-50 border-t border-gray-200 px-6 py-3 rounded-b-lg\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <p className=\"text-xs text-gray-600\">\r\n              ≡ƒôà Report generated on {new Date().toLocaleString()} ΓÇó Data refreshes automatically\r\n            </p>\r\n            <button onClick={onClose} className=\"px-3 py-1 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100 transition text-sm\">Close Dashboard</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\LoadingSpinner.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\Logo.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\MarketIntelligenceDashboard.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'updateRecommendation' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":32,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":32,"endColumn":23,"suggestions":[{"messageId":"removeVar","data":{"varName":"updateRecommendation"},"fix":{"range":[660,685],"text":""},"desc":"Remove unused variable 'updateRecommendation'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'intelligence' is defined but never used.","line":221,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":221,"endColumn":36,"suggestions":[{"messageId":"removeVar","data":{"varName":"intelligence"},"fix":{"range":[6988,7001],"text":""},"desc":"Remove unused variable 'intelligence'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'onUpdate' is defined but never used.","line":654,"column":48,"nodeType":"Identifier","messageId":"unusedVar","endLine":654,"endColumn":56,"suggestions":[{"messageId":"removeVar","data":{"varName":"onUpdate"},"fix":{"range":[25357,25367],"text":""},"desc":"Remove unused variable 'onUpdate'."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport MarketIntelligencePreferences from './MarketIntelligencePreferences';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  BarChart,\r\n  Bar,\r\n  AreaChart,\r\n  Area,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  PieChart,\r\n  Pie,\r\n  Cell\r\n} from 'recharts';\r\nimport {\r\n  getMarketIntelligence,\r\n  getJobMarketTrends,\r\n  getSkillDemand,\r\n  getSalaryTrends,\r\n  getCompanyGrowth,\r\n  getRecommendations,\r\n  getMarketOpportunities,\r\n  updateRecommendation\r\n} from '../api/marketIntelligence';\r\n\r\nconst COLORS = ['#6366f1', '#8b5cf6', '#ec4899', '#f59e0b', '#10b981', '#3b82f6'];\r\n\r\nexport default function MarketIntelligenceDashboard() {\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showPreferences, setShowPreferences] = useState(false);\r\n  \r\n  // Data states\r\n  const [intelligence, setIntelligence] = useState(null);\r\n  const [jobTrends, setJobTrends] = useState([]);\r\n  const [skillDemand, setSkillDemand] = useState([]);\r\n  const [salaryTrends, setSalaryTrends] = useState([]);\r\n  const [companyGrowth, setCompanyGrowth] = useState([]);\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [opportunities, setOpportunities] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadMarketData();\r\n  }, []);\r\n\r\n  const loadMarketData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const [\r\n        intelligenceRes,\r\n        jobTrendsRes,\r\n        skillDemandRes,\r\n        salaryTrendsRes,\r\n        companyGrowthRes,\r\n        recommendationsRes,\r\n        opportunitiesRes\r\n      ] = await Promise.all([\r\n        getMarketIntelligence(),\r\n        getJobMarketTrends(),\r\n        getSkillDemand(),\r\n        getSalaryTrends(),\r\n        getCompanyGrowth(),\r\n        getRecommendations(),\r\n        getMarketOpportunities()\r\n      ]);\r\n\r\n      console.log('Market Intelligence Data:', {\r\n        intelligence: intelligenceRes.data,\r\n        jobTrends: jobTrendsRes.data,\r\n        skillDemand: skillDemandRes.data,\r\n        salaryTrends: salaryTrendsRes.data,\r\n        companyGrowth: companyGrowthRes.data,\r\n        recommendations: recommendationsRes.data,\r\n        opportunities: opportunitiesRes.data\r\n      });\r\n\r\n      setIntelligence(intelligenceRes.data);\r\n      setJobTrends(jobTrendsRes.data.trends || []);\r\n      setSkillDemand(skillDemandRes.data.skills || []);\r\n      setSalaryTrends(salaryTrendsRes.data.trends || []);\r\n      setCompanyGrowth(companyGrowthRes.data.companies || []);\r\n      setRecommendations(recommendationsRes.data.recommendations || []);\r\n      setOpportunities(opportunitiesRes.data.opportunities || []);\r\n    } catch (err) {\r\n      console.error('Failed to load market data:', err);\r\n      setError('Failed to load market intelligence data. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handlePreferencesUpdate = (newPreferences) => {\r\n    setIntelligence(prev => ({\r\n      ...prev,\r\n      preferences: newPreferences\r\n    }));\r\n    loadMarketData();\r\n  };\r\n\r\n  const tabs = [\r\n    { id: 'overview', label: 'Overview' },\r\n    { id: 'jobs', label: 'Job Market' },\r\n    { id: 'skills', label: 'Skill Demand' },\r\n    { id: 'salary', label: 'Salary Trends' },\r\n    { id: 'companies', label: 'Company Growth' },\r\n    { id: 'recommendations', label: 'Recommendations' },\r\n    { id: 'opportunities', label: 'Opportunities' },\r\n  ];\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <ErrorMessage message={error} />\r\n        <Button onClick={loadMarketData} className=\"mt-4\">\r\n          Try Again\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-heading font-bold text-gray-900\">\r\n              Market Intelligence\r\n            </h1>\r\n            <p className=\"text-gray-600 mt-1\">\r\n              Track trends, analyze opportunities, and make informed career decisions\r\n            </p>\r\n          </div>\r\n          <Button\r\n            onClick={() => setShowPreferences(true)}\r\n            variant=\"outline\"\r\n            size=\"lg\"\r\n            className=\"min-w-[120px] px-6 py-3 text-lg\"\r\n          >\r\n            Preferences\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex overflow-x-auto border-b border-gray-200 gap-2\">\r\n          {tabs.map(tab => (\r\n            <Button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              size=\"lg\"\r\n              className={`min-w-[120px] px-6 py-3 text-lg font-medium whitespace-nowrap transition-colors ${\r\n                activeTab === tab.id\r\n                  ? 'text-primary-600 border-b-2 border-primary-600'\r\n                  : 'text-gray-600 hover:text-gray-900 hover:border-gray-300 border-b-2 border-transparent'\r\n              }`}\r\n              variant={activeTab === tab.id ? 'primary' : 'outline'}\r\n            >\r\n              {tab.label}\r\n            </Button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <div className=\"space-y-6\">\r\n        {activeTab === 'overview' && (\r\n          <OverviewTab\r\n            intelligence={intelligence}\r\n            jobTrends={jobTrends}\r\n            skillDemand={skillDemand}\r\n            recommendations={recommendations}\r\n            opportunities={opportunities}\r\n          />\r\n        )}\r\n        {activeTab === 'jobs' && <JobTrendsTab trends={jobTrends} />}\r\n        {activeTab === 'skills' && <SkillDemandTab skills={skillDemand} />}\r\n        {activeTab === 'salary' && <SalaryTrendsTab trends={salaryTrends} />}\r\n        {activeTab === 'companies' && <CompanyGrowthTab companies={companyGrowth} />}\r\n        {activeTab === 'recommendations' && (\r\n          <RecommendationsTab\r\n            recommendations={recommendations}\r\n            onUpdate={loadMarketData}\r\n          />\r\n        )}\r\n        {activeTab === 'opportunities' && <OpportunitiesTab opportunities={opportunities} />}\r\n      </div>\r\n\r\n      {/* Preferences Modal */}\r\n      {showPreferences && (\r\n        <MarketIntelligencePreferences\r\n          currentPreferences={intelligence?.preferences}\r\n          onClose={() => setShowPreferences(false)}\r\n          onUpdate={handlePreferencesUpdate}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Overview Tab Component\r\nfunction OverviewTab({ intelligence, jobTrends, skillDemand, recommendations, opportunities }) {\r\n  const priorityActions = recommendations.filter(r => r.priority === 'high').length;\r\n  const urgentOpportunities = opportunities.filter(o => o.urgency === 'high').length;\r\n  const trendingSkills = skillDemand.filter(s => s.trend === 'rising').length;\r\n\r\n  // Calculate data quality score based on available data\r\n  const hasJobTrends = jobTrends && jobTrends.length > 0;\r\n  const hasSkillData = skillDemand && skillDemand.length > 0;\r\n  const hasRecommendations = recommendations && recommendations.length > 0;\r\n  const hasOpportunities = opportunities && opportunities.length > 0;\r\n  \r\n  const dataPoints = [hasJobTrends, hasSkillData, hasRecommendations, hasOpportunities].filter(Boolean).length;\r\n  const dataQuality = Math.round((dataPoints / 4) * 100);\r\n\r\n  const qualityLabel = dataQuality > 80 ? 'Excellent' : dataQuality > 60 ? 'Good' : dataQuality > 40 ? 'Fair' : 'Needs Update';\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Key Metrics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <span className=\"text-gray-600 text-sm font-medium\">Priority Actions</span>\r\n          </div>\r\n          <div className=\"text-3xl font-bold text-gray-900\">{priorityActions}</div>\r\n          <p className=\"text-sm text-gray-500 mt-1\">High-priority recommendations</p>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <span className=\"text-gray-600 text-sm font-medium\">Urgent Opportunities</span>\r\n          </div>\r\n          <div className=\"text-3xl font-bold text-gray-900\">{urgentOpportunities}</div>\r\n          <p className=\"text-sm text-gray-500 mt-1\">Time-sensitive opportunities</p>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <span className=\"text-gray-600 text-sm font-medium\">Trending Skills</span>\r\n          </div>\r\n          <div className=\"text-3xl font-bold text-gray-900\">{trendingSkills}</div>\r\n          <p className=\"text-sm text-gray-500 mt-1\">Rising in demand</p>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <span className=\"text-gray-600 text-sm font-medium\">Data Quality</span>\r\n          </div>\r\n          <div className=\"text-3xl font-bold text-gray-900\">{qualityLabel}</div>\r\n          <p className=\"text-sm text-gray-500 mt-1\">{dataQuality}% current</p>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Quick Insights */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Top Growing Industries</h3>\r\n          {jobTrends.length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {jobTrends.slice(0, 5).map((trend, index) => (\r\n                <div key={index} className=\"flex items-center justify-between\">\r\n                  <span className=\"text-gray-700\">{trend.industry}</span>\r\n                  <span className={`font-medium ${trend.growthRate > 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                    {trend.growthRate > 0 ? '+' : ''}{trend.growthRate}%\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-gray-500 text-center py-4\">No industry data available</p>\r\n          )}\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Top Skills in Demand</h3>\r\n          {skillDemand.length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {skillDemand\r\n                .filter(s => s.trend === 'rising')\r\n                .slice(0, 5)\r\n                .map((skill, index) => (\r\n                  <div key={index} className=\"flex items-center justify-between\">\r\n                    <span className=\"text-gray-700\">{skill.name}</span>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"w-24 bg-gray-200 rounded-full h-2\">\r\n                        <div\r\n                          className=\"bg-primary-600 h-2 rounded-full\"\r\n                          style={{ width: `${skill.demandScore}%` }}\r\n                        />\r\n                      </div>\r\n                      <span className=\"text-sm text-gray-600\">{skill.demandScore}%</span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-gray-500 text-center py-4\">No skill data available</p>\r\n          )}\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Job Trends Tab Component\r\nfunction JobTrendsTab({ trends }) {\r\n  if (!trends || trends.length === 0) {\r\n    return (\r\n      <Card className=\"p-8\">\r\n        <div className=\"text-center text-gray-500\">\r\n          <p className=\"text-lg\">No job market trend data available</p>\r\n          <p className=\"text-sm mt-2\">Data will appear here once it's collected</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Prepare chart data\r\n  const chartData = trends.map(trend => ({\r\n    name: trend.industry,\r\n    openings: trend.openings,\r\n    growth: trend.growthRate\r\n  }));\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Job Openings by Industry</h3>\r\n        <ResponsiveContainer width=\"100%\" height={400}>\r\n          <BarChart data={chartData}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis dataKey=\"name\" angle={-45} textAnchor=\"end\" height={100} />\r\n            <YAxis />\r\n            <Tooltip />\r\n            <Legend />\r\n            <Bar dataKey=\"openings\" fill=\"#6366f1\" name=\"Job Openings\" />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </Card>\r\n\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Growth Rate by Industry</h3>\r\n        <div className=\"space-y-4\">\r\n          {trends\r\n            .sort((a, b) => b.growthRate - a.growthRate)\r\n            .map((trend, index) => (\r\n              <div key={index} className=\"border-b border-gray-200 pb-4 last:border-0\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <span className=\"font-medium text-gray-900\">{trend.industry}</span>\r\n                  <span className={`text-lg font-bold ${trend.growthRate > 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                    {trend.growthRate > 0 ? '+' : ''}{trend.growthRate}%\r\n                  </span>\r\n                </div>\r\n                <div className=\"grid grid-cols-3 gap-4 text-sm\">\r\n                  <div>\r\n                    <span className=\"text-gray-600\">Openings:</span>\r\n                    <span className=\"ml-2 font-medium\">{trend.openings.toLocaleString()}</span>\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"text-gray-600\">Avg Salary:</span>\r\n                    <span className=\"ml-2 font-medium\">\r\n                      {trend.averageSalary ? `$${trend.averageSalary.toLocaleString()}` : 'N/A'}\r\n                    </span>\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"text-gray-600\">Competition:</span>\r\n                    <span className=\"ml-2 font-medium capitalize\">{trend.competitionLevel}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Skill Demand Tab Component\r\nfunction SkillDemandTab({ skills }) {\r\n  const [filter, setFilter] = useState('all');\r\n\r\n  if (!skills || skills.length === 0) {\r\n    return (\r\n      <Card className=\"p-8\">\r\n        <div className=\"text-center text-gray-500\">\r\n          <p className=\"text-lg\">No skill demand data available</p>\r\n          <p className=\"text-sm mt-2\">Data will appear here once it's collected</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const filteredSkills = filter === 'all' \r\n    ? skills \r\n    : skills.filter(skill => skill.trend === filter);\r\n\r\n  // Group skills by category\r\n  const skillsByCategory = filteredSkills.reduce((acc, skill) => {\r\n    if (!acc[skill.category]) {\r\n      acc[skill.category] = [];\r\n    }\r\n    acc[skill.category].push(skill);\r\n    return acc;\r\n  }, {});\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Filters */}\r\n      <Card className=\"p-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <span className=\"text-gray-700 font-medium\">Filter by trend:</span>\r\n          <div className=\"flex gap-2\">\r\n            {['all', 'rising', 'stable', 'declining'].map(trend => (\r\n              <Button\r\n                key={trend}\r\n                size=\"lg\"\r\n                variant={filter === trend ? 'primary' : 'outline'}\r\n                className=\"min-w-[120px] px-6 py-3 text-lg\"\r\n                onClick={() => setFilter(trend)}\r\n              >\r\n                {trend.charAt(0).toUpperCase() + trend.slice(1)}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Skills by Category */}\r\n      {Object.keys(skillsByCategory).length > 0 ? (\r\n        Object.entries(skillsByCategory).map(([category, categorySkills]) => (\r\n          <Card key={category} className=\"p-6\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-4 capitalize\">{category}</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              {categorySkills.map((skill, index) => (\r\n                <div key={index} className=\"border border-gray-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <div>\r\n                      <h4 className=\"font-medium text-gray-900\">{skill.name}</h4>\r\n                      <p className=\"text-sm text-gray-600 mt-1\">{skill.relatedJobs.toLocaleString()} jobs</p>\r\n                    </div>\r\n                    <span className={`\r\n                      px-2 py-1 rounded text-xs font-medium\r\n                      ${skill.trend === 'rising' ? 'bg-green-100 text-green-700' : ''}\r\n                      ${skill.trend === 'stable' ? 'bg-blue-100 text-blue-700' : ''}\r\n                      ${skill.trend === 'declining' ? 'bg-red-100 text-red-700' : ''}\r\n                    `}>\r\n                      {skill.trend === 'rising' ? 'Γåæ' : skill.trend === 'declining' ? 'Γåô' : 'ΓåÆ'} {skill.trend}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <div>\r\n                      <div className=\"flex items-center justify-between text-sm mb-1\">\r\n                        <span className=\"text-gray-600\">Demand</span>\r\n                        <span className=\"font-medium\">{skill.demandScore}%</span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                        <div\r\n                          className=\"bg-primary-600 h-2 rounded-full\"\r\n                          style={{ width: `${skill.demandScore}%` }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className=\"text-gray-600\">Growth:</span>\r\n                      <span className={`font-medium ${skill.growthRate > 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                        {skill.growthRate > 0 ? '+' : ''}{skill.growthRate}%\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n        ))\r\n      ) : (\r\n        <Card className=\"p-8\">\r\n          <div className=\"text-center text-gray-500\">\r\n            <p>No skills match the selected filter</p>\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Salary Trends Tab Component\r\nfunction SalaryTrendsTab({ trends }) {\r\n  if (!trends || trends.length === 0) {\r\n    return (\r\n      <Card className=\"p-8\">\r\n        <div className=\"text-center text-gray-500\">\r\n          <p className=\"text-lg\">No salary trend data available</p>\r\n          <p className=\"text-sm mt-2\">Data will appear here once it's collected</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Prepare chart data\r\n  const chartData = trends.map(trend => ({\r\n    name: trend.role,\r\n    entry: trend.salaryRanges.entry.median,\r\n    mid: trend.salaryRanges.mid.median,\r\n    senior: trend.salaryRanges.senior.median\r\n  }));\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Salary Comparison by Role & Level</h3>\r\n        <ResponsiveContainer width=\"100%\" height={400}>\r\n          <BarChart data={chartData}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis dataKey=\"name\" angle={-45} textAnchor=\"end\" height={100} />\r\n            <YAxis tickFormatter={(value) => `$${(value / 1000).toFixed(0)}k`} />\r\n            <Tooltip formatter={(value) => `$${value.toLocaleString()}`} />\r\n            <Legend />\r\n            <Bar dataKey=\"entry\" fill=\"#6366f1\" name=\"Entry Level\" />\r\n            <Bar dataKey=\"mid\" fill=\"#8b5cf6\" name=\"Mid Level\" />\r\n            <Bar dataKey=\"senior\" fill=\"#ec4899\" name=\"Senior Level\" />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </Card>\r\n\r\n      {/* Detailed Salary Information */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {trends.map((trend, index) => (\r\n          <Card key={index} className=\"p-6\">\r\n            <h4 className=\"text-lg font-semibold text-gray-900 mb-4\">{trend.role}</h4>\r\n            <div className=\"space-y-4\">\r\n              {Object.entries(trend.salaryRanges).map(([level, range]) => (\r\n                <div key={level} className=\"border-b border-gray-200 pb-3 last:border-0\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"font-medium text-gray-700 capitalize\">{level} Level</span>\r\n                    <span className=\"text-lg font-bold text-gray-900\">\r\n                      ${range.median.toLocaleString()}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between text-sm text-gray-600\">\r\n                    <span>Range: ${range.min.toLocaleString()} - ${range.max.toLocaleString()}</span>\r\n                    <span className={`font-medium ${trend.growthRate > 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                      {trend.growthRate > 0 ? '+' : ''}{trend.growthRate}%\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n              <div className=\"text-sm text-gray-600\">\r\n                <span className=\"font-medium\">Location:</span> {trend.location}\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Company Growth Tab Component\r\nfunction CompanyGrowthTab({ companies }) {\r\n  if (!companies || companies.length === 0) {\r\n    return (\r\n      <Card className=\"p-8\">\r\n        <div className=\"text-center text-gray-500\">\r\n          <p className=\"text-lg\">No company growth data available</p>\r\n          <p className=\"text-sm mt-2\">Data will appear here once it's collected</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {companies.map((company, index) => (\r\n          <Card key={index} className=\"p-6\">\r\n            <div className=\"flex items-start justify-between mb-4\">\r\n              <div>\r\n                <h3 className=\"text-xl font-semibold text-gray-900\">{company.name}</h3>\r\n                <p className=\"text-gray-600\">{company.industry}</p>\r\n              </div>\r\n              <span className={`\r\n                px-3 py-1 rounded-full text-sm font-medium\r\n                ${company.hiringTrend === 'increasing' ? 'bg-green-100 text-green-700' : ''}\r\n                ${company.hiringTrend === 'stable' ? 'bg-blue-100 text-blue-700' : ''}\r\n                ${company.hiringTrend === 'decreasing' ? 'bg-red-100 text-red-700' : ''}\r\n              `}>\r\n                {company.hiringTrend}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">{company.openPositions}</div>\r\n                <div className=\"text-sm text-gray-600\">Open Positions</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">{company.growthRate}%</div>\r\n                <div className=\"text-sm text-gray-600\">Growth Rate</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <div>\r\n                <div className=\"text-sm font-medium text-gray-700 mb-2\">Top Hiring Roles</div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {company.topHiringRoles.map((role, i) => (\r\n                    <span key={i} className=\"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm\">\r\n                      {role}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm font-medium text-gray-700 mb-2\">Key Skills</div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {company.keySkills.map((skill, i) => (\r\n                    <span key={i} className=\"px-2 py-1 bg-primary-50 text-primary-700 rounded text-sm\">\r\n                      {skill}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Recommendations Tab Component\r\nfunction RecommendationsTab({ recommendations, onUpdate }) {\r\n  const [filter, setFilter] = useState('all');\r\n\r\n  if (!recommendations || recommendations.length === 0) {\r\n    return (\r\n      <Card className=\"p-8\">\r\n        <div className=\"text-center text-gray-500\">\r\n          <p className=\"text-lg\">No recommendations available</p>\r\n          <p className=\"text-sm mt-2\">Recommendations will appear here based on market analysis</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const filteredRecommendations = filter === 'all'\r\n    ? recommendations\r\n    : recommendations.filter(rec => rec.priority === filter);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Filters */}\r\n      <Card className=\"p-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <span className=\"text-gray-700 font-medium\">Filter by priority:</span>\r\n          <div className=\"flex gap-2\">\r\n            {['all', 'high', 'medium', 'low'].map(priority => (\r\n              <Button\r\n                key={priority}\r\n                size=\"lg\"\r\n                variant={filter === priority ? 'primary' : 'outline'}\r\n                className=\"min-w-[120px] px-6 py-3 text-lg\"\r\n                onClick={() => setFilter(priority)}\r\n              >\r\n                {priority.charAt(0).toUpperCase() + priority.slice(1)}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Recommendations List */}\r\n      <div className=\"space-y-4\">\r\n        {filteredRecommendations.length > 0 ? (\r\n          filteredRecommendations.map((rec) => (\r\n            <Card key={rec._id} className=\"p-6\">\r\n              <div className=\"flex items-start justify-between mb-3\">\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900\">{rec.title}</h3>\r\n                    <span className={`\r\n                      px-2 py-1 rounded text-xs font-medium\r\n                      ${rec.priority === 'high' ? 'bg-red-100 text-red-700' : ''}\r\n                      ${rec.priority === 'medium' ? 'bg-yellow-100 text-yellow-700' : ''}\r\n                      ${rec.priority === 'low' ? 'bg-green-100 text-green-700' : ''}\r\n                    `}>\r\n                      {rec.priority} priority\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-gray-700 mb-3\">{rec.description}</p>\r\n                  <div className=\"flex items-center gap-4 text-sm text-gray-600\">\r\n                    <span>Category: {rec.category}</span>\r\n                    <span>Impact: {rec.impact}</span>\r\n                    {rec.estimatedTimeframe && <span>Timeframe: {rec.estimatedTimeframe}</span>}\r\n                  </div>\r\n                  {rec.actionItems && rec.actionItems.length > 0 && (\r\n                    <div className=\"mt-3\">\r\n                      <div className=\"text-sm font-medium text-gray-700 mb-2\">Action Items:</div>\r\n                      <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-600\">\r\n                        {rec.actionItems.map((item, i) => (\r\n                          <li key={i}>{item}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          ))\r\n        ) : (\r\n          <Card className=\"p-8\">\r\n            <div className=\"text-center text-gray-500\">\r\n              <p>No recommendations match the selected filter</p>\r\n            </div>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Opportunities Tab Component\r\nfunction OpportunitiesTab({ opportunities }) {\r\n  if (!opportunities || opportunities.length === 0) {\r\n    return (\r\n      <Card className=\"p-8\">\r\n        <div className=\"text-center text-gray-500\">\r\n          <p className=\"text-lg\">No market opportunities available</p>\r\n          <p className=\"text-sm mt-2\">Opportunities will appear here based on market analysis</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {opportunities.map((opp, index) => (\r\n        <Card key={index} className=\"p-6\">\r\n          <div className=\"flex items-start justify-between mb-3\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-3 mb-2\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">{opp.title}</h3>\r\n                <span className={`\r\n                  px-2 py-1 rounded text-xs font-medium\r\n                  ${opp.urgency === 'high' ? 'bg-red-100 text-red-700' : ''}\r\n                  ${opp.urgency === 'medium' ? 'bg-yellow-100 text-yellow-700' : ''}\r\n                  ${opp.urgency === 'low' ? 'bg-green-100 text-green-700' : ''}\r\n                `}>\r\n                  {opp.urgency} urgency\r\n                </span>\r\n              </div>\r\n              <p className=\"text-gray-700 mb-3\">{opp.description}</p>\r\n              \r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\r\n                <div>\r\n                  <div className=\"text-sm text-gray-600\">Type</div>\r\n                  <div className=\"font-medium text-gray-900 capitalize\">{opp.type}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-sm text-gray-600\">Growth Potential</div>\r\n                  <div className=\"font-medium text-gray-900\">{opp.potentialGrowth}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-sm text-gray-600\">Market Size</div>\r\n                  <div className=\"font-medium text-gray-900\">{opp.marketSize}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-sm text-gray-600\">Competition</div>\r\n                  <div className=\"font-medium text-gray-900 capitalize\">{opp.competitionLevel}</div>\r\n                </div>\r\n              </div>\r\n\r\n              {opp.requiredSkills && opp.requiredSkills.length > 0 && (\r\n                <div className=\"mb-3\">\r\n                  <div className=\"text-sm font-medium text-gray-700 mb-2\">Required Skills:</div>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {opp.requiredSkills.map((skill, i) => (\r\n                      <span key={i} className=\"px-2 py-1 bg-primary-50 text-primary-700 rounded text-sm\">\r\n                        {skill}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {opp.timeline && (\r\n                <div className=\"text-sm text-gray-600\">\r\n                  <span className=\"font-medium\">Timeline:</span> {opp.timeline}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\MarketIntelligencePreferences.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":1,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":36,"suggestions":[{"messageId":"removeVar","data":{"varName":"useEffect"},"fix":{"range":[24,35],"text":""},"desc":"Remove unused variable 'useEffect'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'getMarketIntelligence' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":6,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":50,"suggestions":[{"messageId":"removeVar","data":{"varName":"getMarketIntelligence"},"fix":{"range":[231,254],"text":""},"desc":"Remove unused variable 'getMarketIntelligence'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":87,"column":13,"nodeType":"JSXOpeningElement","endLine":87,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":131,"column":13,"nodeType":"JSXOpeningElement","endLine":131,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":173,"column":13,"nodeType":"JSXOpeningElement","endLine":173,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":215,"column":13,"nodeType":"JSXOpeningElement","endLine":215,"endColumn":77}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport { updatePreferences, getMarketIntelligence } from '../api/marketIntelligence';\r\n\r\nexport default function MarketIntelligencePreferences({ onClose, currentPreferences, onUpdate }) {\r\n  const [preferences, setPreferences] = useState({\r\n    industries: currentPreferences?.industries || [],\r\n    locations: currentPreferences?.locations || [],\r\n    jobTitles: currentPreferences?.jobTitles || [],\r\n    skillsOfInterest: currentPreferences?.skillsOfInterest || [],\r\n  });\r\n  \r\n  const [newIndustry, setNewIndustry] = useState('');\r\n  const [newLocation, setNewLocation] = useState('');\r\n  const [newJobTitle, setNewJobTitle] = useState('');\r\n  const [newSkill, setNewSkill] = useState('');\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const industryOptions = [\r\n    'Technology', 'Healthcare', 'Finance', 'Education', \r\n    'Manufacturing', 'Retail', 'Marketing', 'Consulting', 'Other'\r\n  ];\r\n\r\n  const handleAddItem = (field, value, setter) => {\r\n    if (value.trim() && !preferences[field].includes(value.trim())) {\r\n      setPreferences(prev => ({\r\n        ...prev,\r\n        [field]: [...prev[field], value.trim()]\r\n      }));\r\n      setter('');\r\n    }\r\n  };\r\n\r\n  const handleRemoveItem = (field, index) => {\r\n    setPreferences(prev => ({\r\n      ...prev,\r\n      [field]: prev[field].filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      setSaving(true);\r\n      setError(null);\r\n      await updatePreferences(preferences);\r\n      onUpdate(preferences);\r\n      onClose();\r\n    } catch (err) {\r\n      console.error('Failed to save preferences:', err);\r\n      setError('Failed to save preferences. Please try again.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"p-6 border-b border-gray-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-2xl font-heading font-bold text-gray-900\">\r\n              Market Intelligence Preferences\r\n            </h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          <p className=\"text-gray-600 mt-2\">\r\n            Customize your market intelligence tracking preferences\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"p-6 space-y-6\">\r\n          {error && <ErrorMessage message={error} />}\r\n\r\n          {/* Industries */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Target Industries\r\n            </label>\r\n            <div className=\"flex gap-2 mb-3\">\r\n              <select\r\n                value={newIndustry}\r\n                onChange={(e) => setNewIndustry(e.target.value)}\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n              >\r\n                <option value=\"\">Select an industry</option>\r\n                {industryOptions.map(industry => (\r\n                  <option key={industry} value={industry}>{industry}</option>\r\n                ))}\r\n              </select>\r\n              <Button\r\n                onClick={() => handleAddItem('industries', newIndustry, setNewIndustry)}\r\n                disabled={!newIndustry}\r\n                size=\"sm\"\r\n              >\r\n                Add\r\n              </Button>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {preferences.industries.map((industry, index) => (\r\n                <span\r\n                  key={index}\r\n                  className=\"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm\"\r\n                >\r\n                  {industry}\r\n                  <button\r\n                    onClick={() => handleRemoveItem('industries', index)}\r\n                    className=\"hover:text-primary-900\"\r\n                  >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                    </svg>\r\n                  </button>\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Locations */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Preferred Locations\r\n            </label>\r\n            <div className=\"flex gap-2 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                value={newLocation}\r\n                onChange={(e) => setNewLocation(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && handleAddItem('locations', newLocation, setNewLocation)}\r\n                placeholder=\"e.g., Remote, New York, San Francisco\"\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n              />\r\n              <Button\r\n                onClick={() => handleAddItem('locations', newLocation, setNewLocation)}\r\n                disabled={!newLocation.trim()}\r\n                size=\"sm\"\r\n              >\r\n                Add\r\n              </Button>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {preferences.locations.map((location, index) => (\r\n                <span\r\n                  key={index}\r\n                  className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm\"\r\n                >\r\n                  {location}\r\n                  <button\r\n                    onClick={() => handleRemoveItem('locations', index)}\r\n                    className=\"hover:text-blue-900\"\r\n                  >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                    </svg>\r\n                  </button>\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Job Titles */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Target Job Titles\r\n            </label>\r\n            <div className=\"flex gap-2 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                value={newJobTitle}\r\n                onChange={(e) => setNewJobTitle(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && handleAddItem('jobTitles', newJobTitle, setNewJobTitle)}\r\n                placeholder=\"e.g., Software Engineer, Product Manager\"\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n              />\r\n              <Button\r\n                onClick={() => handleAddItem('jobTitles', newJobTitle, setNewJobTitle)}\r\n                disabled={!newJobTitle.trim()}\r\n                size=\"sm\"\r\n              >\r\n                Add\r\n              </Button>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {preferences.jobTitles.map((title, index) => (\r\n                <span\r\n                  key={index}\r\n                  className=\"inline-flex items-center gap-1 px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm\"\r\n                >\r\n                  {title}\r\n                  <button\r\n                    onClick={() => handleRemoveItem('jobTitles', index)}\r\n                    className=\"hover:text-green-900\"\r\n                  >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                    </svg>\r\n                  </button>\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Skills */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Skills of Interest\r\n            </label>\r\n            <div className=\"flex gap-2 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                value={newSkill}\r\n                onChange={(e) => setNewSkill(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && handleAddItem('skillsOfInterest', newSkill, setNewSkill)}\r\n                placeholder=\"e.g., JavaScript, React, Python\"\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n              />\r\n              <Button\r\n                onClick={() => handleAddItem('skillsOfInterest', newSkill, setNewSkill)}\r\n                disabled={!newSkill.trim()}\r\n                size=\"sm\"\r\n              >\r\n                Add\r\n              </Button>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {preferences.skillsOfInterest.map((skill, index) => (\r\n                <span\r\n                  key={index}\r\n                  className=\"inline-flex items-center gap-1 px-3 py-1 bg-purple-50 text-purple-700 rounded-full text-sm\"\r\n                >\r\n                  {skill}\r\n                  <button\r\n                    onClick={() => handleRemoveItem('skillsOfInterest', index)}\r\n                    className=\"hover:text-purple-900\"\r\n                  >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                    </svg>\r\n                  </button>\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 border-t border-gray-200 flex justify-end gap-3\">\r\n          <Button variant=\"outline\" onClick={onClose} disabled={saving}>\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleSave} disabled={saving}>\r\n            {saving ? 'Saving...' : 'Save Preferences'}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\Navbar.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useIsAdmin' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":8,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":20,"suggestions":[{"messageId":"removeVar","data":{"varName":"useIsAdmin"},"fix":{"range":[393,435],"text":""},"desc":"Remove unused variable 'useIsAdmin'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array.","line":25,"column":8,"nodeType":"ArrayExpression","endLine":25,"endColumn":18,"suggestions":[{"desc":"Update the dependencies array to be: [isLoaded, user]","fix":{"range":[1098,1108],"text":"[isLoaded, user]"}}]},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":149,"column":29,"nodeType":"JSXOpeningElement","endLine":159,"endColumn":30},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":176,"column":37,"nodeType":"JSXOpeningElement","endLine":182,"endColumn":38},{"ruleId":"no-unused-vars","severity":2,"message":"'job' is defined but never used.","line":273,"column":63,"nodeType":"Identifier","messageId":"unusedVar","endLine":273,"endColumn":66,"suggestions":[{"messageId":"removeVar","data":{"varName":"job"},"fix":{"range":[18246,18249],"text":""},"desc":"Remove unused variable 'job'."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Link, NavLink, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { SignedIn, SignedOut, useAuth } from \"@clerk/clerk-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useUser } from \"@clerk/clerk-react\";\r\nimport api, { setAuthToken } from \"../api/axios\";\r\nimport Logo from \"./Logo\";\r\nimport FollowUpReminderNotification from \"./FollowUpReminderNotification\";\r\nimport { useIsAdmin } from \"./AdminRoute\";\r\n\r\nexport default function Navbar() {\r\n    const { getToken, signOut } = useAuth();\r\n    const { user, isLoaded } = useUser();\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const [profilePicture, setProfilePicture] = useState(null);\r\n    const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n    const [careerDropdownOpen, setCareerDropdownOpen] = useState(false);\r\n    const [dropdownTimeout, setDropdownTimeout] = useState(null);\r\n\r\n    // Force reload user data on mount to get latest metadata\r\n    useEffect(() => {\r\n        if (user && isLoaded) {\r\n            user.reload().catch(console.error);\r\n        }\r\n    }, [isLoaded]);\r\n\r\n    // Check admin status directly from user metadata\r\n    const isAdmin = user?.publicMetadata?.role === \"admin\" || user?.publicMetadata?.isAdmin === true;\r\n\r\n    // Debug: Log user metadata to console\r\n    console.log(\"Navbar Debug - User:\", user?.id);\r\n    console.log(\"Navbar Debug - publicMetadata:\", JSON.stringify(user?.publicMetadata));\r\n    console.log(\"Navbar Debug - isAdmin:\", isAdmin);\r\n\r\n    // Full sign out - clears all sessions and storage\r\n    const handleFullSignOut = async () => {\r\n        try {\r\n            // Store logout message first\r\n            sessionStorage.setItem(\"logoutMessage\", \"You have been signed out successfully.\");\r\n\r\n            // Sign out from Clerk first (this needs Clerk's session data intact)\r\n            await signOut();\r\n\r\n            // Clear storage after signOut completes\r\n            localStorage.clear();\r\n            sessionStorage.setItem(\"logoutMessage\", \"You have been signed out successfully.\");\r\n\r\n            // Clear cookies\r\n            document.cookie.split(\";\").forEach((c) => {\r\n                document.cookie = c\r\n                    .replace(/^ +/, \"\")\r\n                    .replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\");\r\n            });\r\n\r\n            // Redirect to login page\r\n            window.location.href = \"/login\";\r\n        } catch (error) {\r\n            console.error(\"Sign out error:\", error);\r\n            // Force redirect even on error\r\n            sessionStorage.setItem(\"logoutMessage\", \"You have been signed out.\");\r\n            window.location.href = \"/login\";\r\n        }\r\n    };\r\n\r\n    // Fetch user's custom profile picture\r\n    useEffect(() => {\r\n        const fetchProfilePicture = async () => {\r\n            try {\r\n                const token = await getToken();\r\n                setAuthToken(token);\r\n                const response = await api.get('/api/users/me');\r\n\r\n                if (response.data.data?.picture) {\r\n                    setProfilePicture(response.data.data.picture);\r\n                } else {\r\n                    setProfilePicture(null);\r\n                }\r\n            } catch (err) {\r\n                // Silently fail - will use Clerk's default avatar\r\n                console.debug(\"Could not load custom profile picture:\", err);\r\n                setProfilePicture(null);\r\n            }\r\n        };\r\n\r\n        if (user) {\r\n            fetchProfilePicture();\r\n            // Only fetch once on mount - profile picture updates will be reflected on next page load\r\n        }\r\n    }, [getToken, user]);\r\n\r\n    // Close mobile menu when route changes\r\n    useEffect(() => {\r\n        setMobileMenuOpen(false);\r\n    }, [location]);\r\n\r\n    // NavLink active class styling\r\n    const navLinkClass = ({ isActive }) =>\r\n        `px-3 py-2 rounded-lg transition-all duration-200 font-medium focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary-700 ${isActive\r\n            ? 'bg-primary-800 text-white shadow-md'\r\n            : 'text-white hover:bg-primary-600 hover:shadow-sm active:bg-primary-900'\r\n        }`;\r\n\r\n    return (\r\n        <nav className=\"text-white shadow-md sticky top-0 z-50\" style={{ backgroundColor: '#4F5348' }} role=\"navigation\" aria-label=\"Main navigation\">\r\n            <div className=\"px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"flex justify-between items-center h-16\">\r\n                    {/* Logo/Brand */}\r\n                    <Link\r\n                        to=\"/\"\r\n                        className=\"flex items-center gap-2 hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary-700 rounded px-2 py-1\"\r\n                        aria-label=\"Nirvana Home\"\r\n                    >\r\n                        <Logo variant=\"white\" size=\"md\" />\r\n                    </Link>\r\n\r\n                    {/* Desktop Navigation */}\r\n                    <div className=\"hidden md:flex items-center space-x-2\">\r\n                        <SignedOut>\r\n                            <NavLink to=\"/register\" className={navLinkClass} aria-label=\"Register\">\r\n                                Register\r\n                            </NavLink>\r\n                            <NavLink to=\"/login\" className={navLinkClass} aria-label=\"Login\">\r\n                                Login\r\n                            </NavLink>\r\n                        </SignedOut>\r\n                        <SignedIn>\r\n                            <NavLink to=\"/dashboard\" className={navLinkClass} aria-label=\"Dashboard\">\r\n                                Dashboard\r\n                            </NavLink>\r\n                            <NavLink to=\"/profile\" className={navLinkClass} aria-label=\"Profile\">\r\n                                Profile\r\n                            </NavLink>\r\n                            <NavLink to=\"/jobs\" className={navLinkClass} aria-label=\"Jobs\">\r\n                                Jobs\r\n                            </NavLink>\r\n                            <NavLink to=\"/multi-platform-tracker\" className={navLinkClass} aria-label=\"Multi-Platform Tracker\">\r\n                                Multi-Platform Tracker\r\n                            </NavLink>\r\n                            <NavLink to=\"/skill-trends\" className={navLinkClass} aria-label=\"Skill Trends\">\r\n                                Skills\r\n                            </NavLink>\r\n                            <NavLink to=\"/salary-benchmarks\" className={navLinkClass} aria-label=\"Salary Benchmarks\">\r\n                                Salary\r\n                            </NavLink>\r\n                            <NavLink to=\"/resumes\" className={navLinkClass} aria-label=\"Resumes\">\r\n                                Resumes & Cover Letters\r\n                            </NavLink>\r\n\r\n                            <div\r\n                                className=\"relative\"\r\n                                onMouseLeave={() => {\r\n                                    const timeout = setTimeout(() => setCareerDropdownOpen(false), 300);\r\n                                    setDropdownTimeout(timeout);\r\n                                }}\r\n                                onMouseEnter={() => {\r\n                                    if (dropdownTimeout) clearTimeout(dropdownTimeout);\r\n                                    setCareerDropdownOpen(true);\r\n                                }}\r\n                            >\r\n                                <button\r\n                                    className={navLinkClass({ isActive: false })}\r\n                                    aria-label=\"Career Tools\"\r\n                                    onClick={() => setCareerDropdownOpen((open) => !open)}\r\n                                    onMouseEnter={() => {\r\n                                        if (dropdownTimeout) clearTimeout(dropdownTimeout);\r\n                                        setCareerDropdownOpen(true);\r\n                                    }}\r\n                                    tabIndex={0}\r\n                                >\r\n                                    Career Tools\r\n                                    <svg className=\"inline w-4 h-4 ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                                    </svg>\r\n                                </button>\r\n                                {careerDropdownOpen && (\r\n                                    <div\r\n                                        className=\"absolute left-0 mt-2 w-56 bg-white rounded shadow-lg z-10 max-h-96 overflow-y-auto\"\r\n                                        onMouseEnter={() => {\r\n                                            if (dropdownTimeout) clearTimeout(dropdownTimeout);\r\n                                            setCareerDropdownOpen(true);\r\n                                        }}\r\n                                    >\r\n                                        <NavLink to=\"/goals\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Career Goals\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Career Goals\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/interviews\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"My Interviews\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            My Interviews\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/interview-coaching\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Interview Coaching\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Interview Coaching\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/mock-interviews\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Mock Interview History\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Mock Interviews\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/prep\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Technical Prep\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Technical Prep\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/writing-practice\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Writing Practice\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Writing Practice\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/network\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Professional Network\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Network\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/documents\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Document Management\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Documents\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/reports\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Custom Reports\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Custom Reports\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/productivity\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Productivity Analysis\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Productivity Analysis\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/my-performance\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"My Performance\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            My Performance\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/ab-testing\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"A/B Testing\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            ≡ƒº¬ A/B Testing\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/predictive-analytics\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Predictive Analytics\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Predictive Analytics\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/competitive-analysis\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Competitive Analysis\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Competitive Analysis\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/offer-comparison\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Offer Comparison\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            ≡ƒÆ░ Offer Comparison\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/market-intelligence\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Market Intelligence\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Market Intelligence\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/mentors-advisors\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Mentors & Advisors\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Mentors & Advisors\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/peer-support\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Peer Support Groups\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            Peer Support\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/job-map\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Job Location Map\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            ≡ƒôì Job Map\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/teams\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Teams\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            ≡ƒæÑ Teams\r\n                                        </NavLink>\r\n                                        <div className=\"border-t border-gray-200 my-1\"></div>\r\n                                        <NavLink to=\"/settings/calendar\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Calendar Settings\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            ≡ƒôà Calendar Settings\r\n                                        </NavLink>\r\n                                        <NavLink to=\"/settings/linkedin\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"LinkedIn Settings\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                            ≡ƒÆ╝ LinkedIn Settings\r\n                                        </NavLink>\r\n                                        {/* Admin-only links */}\r\n                                        {isAdmin && (\r\n                                            <>\r\n                                                <div className=\"border-t border-gray-200 my-1\"></div>\r\n                                                <div className=\"px-4 py-1 text-xs font-semibold text-gray-500 uppercase\">Admin</div>\r\n                                                <NavLink to=\"/admin/api-monitoring\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"API Monitoring\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                                    ≡ƒôè API Monitoring\r\n                                                </NavLink>\r\n                                                <NavLink to=\"/admin/system-monitoring\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"System Monitoring\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                                    ≡ƒûÑ∩╕Å System Monitoring\r\n                                                </NavLink>\r\n                                                <NavLink to=\"/admin/test-errors\" className=\"block px-4 py-2 text-gray-700 hover:bg-gray-100\" aria-label=\"Test Errors\" onClick={() => setCareerDropdownOpen(false)}>\r\n                                                    ≡ƒÉ¢ Test Errors\r\n                                                </NavLink>\r\n                                            </>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"ml-3 flex items-center gap-3\">\r\n                                {/* Follow-up Reminder Notification */}\r\n                                <FollowUpReminderNotification\r\n                                    onViewAll={() => navigate('/jobs')}\r\n                                    onOpenFollowUpTemplates={(job) => navigate('/jobs')}\r\n                                />\r\n                                {/* User avatar */}\r\n                                <div className=\"w-8 h-8 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center\">\r\n                                    {profilePicture ? (\r\n                                        <img src={profilePicture} alt=\"Profile\" className=\"w-full h-full object-cover\" />\r\n                                    ) : user?.imageUrl ? (\r\n                                        <img src={user.imageUrl} alt=\"Profile\" className=\"w-full h-full object-cover\" />\r\n                                    ) : (\r\n                                        <span className=\"text-gray-500 text-sm font-medium\">\r\n                                            {user?.firstName?.[0] || user?.emailAddresses?.[0]?.emailAddress?.[0]?.toUpperCase() || '?'}\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n                                {/* Sign Out button */}\r\n                                <button\r\n                                    onClick={handleFullSignOut}\r\n                                    className=\"px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center gap-1.5\"\r\n                                    aria-label=\"Sign Out\"\r\n                                >\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n                                    </svg>\r\n                                    Sign Out\r\n                                </button>\r\n                            </div>\r\n                        </SignedIn>\r\n                    </div>\r\n\r\n                    {/* Mobile Menu Button */}\r\n                    <button\r\n                        onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n                        className=\"md:hidden p-2 rounded-lg hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-white transition-colors\"\r\n                        aria-expanded={mobileMenuOpen}\r\n                        aria-label=\"Toggle navigation menu\"\r\n                        aria-controls=\"mobile-menu\"\r\n                    >\r\n                        {mobileMenuOpen ? (\r\n                            // Close icon\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        ) : (\r\n                            // Hamburger icon\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n                            </svg>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Mobile Menu */}\r\n            <div\r\n                id=\"mobile-menu\"\r\n                className={`md:hidden border-t transition-all duration-300 ease-in-out overflow-hidden ${mobileMenuOpen ? 'max-h-96 opacity-100' : 'max-h-0 opacity-0'\r\n                    }`}\r\n                style={{ backgroundColor: '#3A3D35', borderTopColor: '#656A5C' }}\r\n                aria-hidden={!mobileMenuOpen}\r\n            >\r\n                <div className=\"px-4 py-3 space-y-2\">\r\n                    <SignedOut>\r\n                        <NavLink\r\n                            to=\"/register\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Register\"\r\n                        >\r\n                            Register\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/login\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Login\"\r\n                        >\r\n                            Login\r\n                        </NavLink>\r\n                    </SignedOut>\r\n                    <SignedIn>\r\n                        <NavLink\r\n                            to=\"/dashboard\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Dashboard\"\r\n                        >\r\n                            Dashboard\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/profile\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Profile\"\r\n                        >\r\n                            Profile\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/jobs\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Jobs\"\r\n                        >\r\n                            Jobs\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/multi-platform-tracker\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Multi-Platform Tracker\"\r\n                        >\r\n                            Multi-Platform Tracker\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/salary-benchmarks\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Salary Benchmarks\"\r\n                        >\r\n                            Salary Benchmarks\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/resumes\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Resumes\"\r\n                        >\r\n                            Resumes\r\n                        </NavLink>\r\n                        // ...existing code...\r\n                        <NavLink\r\n                            to=\"/goals\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Career Goals\"\r\n                        >\r\n                            Career Goals\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/interviews\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"My Interviews\"\r\n                        >\r\n                            My Interviews\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/interview-coaching\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Interview Coaching\"\r\n                        >\r\n                            Interview Coaching\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/prep\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Technical Prep\"\r\n                        >\r\n                            Technical Prep\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/writing-practice\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Writing Practice\"\r\n                        >\r\n                            Writing Practice\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/network\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Professional Network\"\r\n                        >\r\n                            Network\r\n                        </NavLink>\r\n\r\n                        <NavLink\r\n                            to=\"/documents\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Document Management\"\r\n                        >\r\n                            Documents\r\n                        </NavLink>\r\n\r\n                        <NavLink\r\n                            to=\"/reports\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Custom Reports\"\r\n                        >\r\n                            Custom Reports\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/productivity\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Productivity Analysis\"\r\n                        >\r\n                            Productivity Analysis\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/my-performance\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"My Performance\"\r\n                        >\r\n                            My Performance\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/ab-testing\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"A/B Testing\"\r\n                        >\r\n                            ≡ƒº¬ A/B Testing\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/predictive-analytics\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Predictive Analytics\"\r\n                        >\r\n                            Predictive Analytics\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/competitive-analysis\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Competitive Analysis\"\r\n                        >\r\n                            Competitive Analysis\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/offer-comparison\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Offer Comparison\"\r\n                        >\r\n                            ≡ƒÆ░ Offer Comparison\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/market-intelligence\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Market Intelligence\"\r\n                        >\r\n                            Market Intelligence\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/mentors-advisors\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Mentors & Advisors\"\r\n                        >\r\n                            Mentors & Advisors\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/teams\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Teams\"\r\n                        >\r\n                            ≡ƒæÑ Teams\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/peer-support\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Peer Support Groups\"\r\n                        >\r\n                            Peer Support\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/job-map\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Job Location Map\"\r\n                        >\r\n                            ≡ƒôì Job Map\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/settings/calendar\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"Calendar Settings\"\r\n                        >\r\n                            ≡ƒôà Calendar Settings\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to=\"/settings/linkedin\"\r\n                            className={({ isActive }) =>\r\n                                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                    ? 'bg-primary-900 text-white shadow-md'\r\n                                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                }`\r\n                            }\r\n                            aria-label=\"LinkedIn Settings\"\r\n                        >\r\n                            ≡ƒÆ╝ LinkedIn Settings\r\n                        </NavLink>\r\n                        {/* Admin-only links in mobile menu */}\r\n                        {isAdmin && (\r\n                            <>\r\n                                <div className=\"border-t border-primary-600 my-2 mx-4\"></div>\r\n                                <div className=\"px-4 py-1 text-xs font-semibold text-primary-300 uppercase\">Admin</div>\r\n                                <NavLink\r\n                                    to=\"/admin/api-monitoring\"\r\n                                    className={({ isActive }) =>\r\n                                        `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                            ? 'bg-primary-900 text-white shadow-md'\r\n                                            : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                        }`\r\n                                    }\r\n                                    aria-label=\"API Monitoring\"\r\n                                >\r\n                                    ≡ƒôè API Monitoring\r\n                                </NavLink>\r\n                                <NavLink\r\n                                    to=\"/admin/system-monitoring\"\r\n                                    className={({ isActive }) =>\r\n                                        `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                            ? 'bg-primary-900 text-white shadow-md'\r\n                                            : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                        }`\r\n                                    }\r\n                                    aria-label=\"System Monitoring\"\r\n                                >\r\n                                    ≡ƒûÑ∩╕Å System Monitoring\r\n                                </NavLink>\r\n                                <NavLink\r\n                                    to=\"/admin/test-errors\"\r\n                                    className={({ isActive }) =>\r\n                                        `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                                            ? 'bg-primary-900 text-white shadow-md'\r\n                                            : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                                        }`\r\n                                    }\r\n                                    aria-label=\"Test Errors\"\r\n                                >\r\n                                    ≡ƒÉ¢ Test Errors\r\n                                </NavLink>\r\n                            </>\r\n                        )}\r\n                        {/* Sign Out button for mobile */}\r\n                        <div className=\"pt-3 pb-2 px-4\">\r\n                            <button\r\n                                onClick={handleFullSignOut}\r\n                                className=\"w-full px-4 py-2.5 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded-lg transition-colors flex items-center justify-center gap-2\"\r\n                                aria-label=\"Sign Out\"\r\n                            >\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n                                </svg>\r\n                                Sign Out\r\n                            </button>\r\n                        </div>\r\n                    </SignedIn>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n// Helper functions & dynamic Interview Prep links\r\nfunction getActiveJobId() {\r\n    const keys = ['activeJobId', 'currentJobId', 'selectedJobId'];\r\n    for (const k of keys) {\r\n        const v = typeof window !== 'undefined' ? (window.localStorage.getItem(k) || window.sessionStorage.getItem(k)) : null;\r\n        if (v) return v;\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction DynamicInterviewPrepLink({ navLinkClass }) {\r\n    const jobId = typeof window !== 'undefined' ? getActiveJobId() : null;\r\n    const target = jobId ? `/jobs/${jobId}/interview-prep` : '/jobs';\r\n    return (\r\n        <NavLink\r\n            to={target}\r\n            className={navLinkClass}\r\n            aria-label=\"Interview Prep\"\r\n            title={jobId ? 'Open interview prep for active job' : 'Select a job then open Interview Prep'}\r\n        >\r\n            Interview Prep\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nfunction DynamicInterviewPrepLinkMobile() {\r\n    const jobId = typeof window !== 'undefined' ? getActiveJobId() : null;\r\n    const target = jobId ? `/jobs/${jobId}/interview-prep` : '/jobs';\r\n    return (\r\n        <NavLink\r\n            to={target}\r\n            className={({ isActive }) =>\r\n                `block px-4 py-2 rounded-lg transition-all font-medium focus:outline-none focus:ring-2 focus:ring-white ${isActive\r\n                    ? 'bg-primary-900 text-white shadow-md'\r\n                    : 'text-white hover:bg-primary-700 active:bg-primary-900'\r\n                }`\r\n            }\r\n            aria-label=\"Interview Prep\"\r\n            title={jobId ? 'Open interview prep for active job' : 'Select a job then open Interview Prep'}\r\n        >\r\n            Interview Prep\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nexport { DynamicInterviewPrepLink, DynamicInterviewPrepLinkMobile };\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\OfferComparison.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'calculateBenefitsValue' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":11,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":25,"suggestions":[{"messageId":"removeVar","data":{"varName":"calculateBenefitsValue"},"fix":{"range":[318,345],"text":""},"desc":"Remove unused variable 'calculateBenefitsValue'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'navigate' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":86,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":86,"endColumn":17,"suggestions":[{"messageId":"removeVar","data":{"varName":"navigate"},"fix":{"range":[2295,2326],"text":""},"desc":"Remove unused variable 'navigate'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchArchivedOffers'. Either include it or remove the dependency array.","line":134,"column":6,"nodeType":"ArrayExpression","endLine":134,"endColumn":17,"suggestions":[{"desc":"Update the dependencies array to be: [authReady, fetchArchivedOffers]","fix":{"range":[4145,4156],"text":"[authReady, fetchArchivedOffers]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":341,"column":11,"nodeType":"JSXOpeningElement","endLine":341,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":351,"column":11,"nodeType":"JSXOpeningElement","endLine":351,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":361,"column":11,"nodeType":"JSXOpeningElement","endLine":361,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":376,"column":11,"nodeType":"JSXOpeningElement","endLine":376,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":389,"column":11,"nodeType":"JSXOpeningElement","endLine":389,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":402,"column":11,"nodeType":"JSXOpeningElement","endLine":402,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":415,"column":11,"nodeType":"JSXOpeningElement","endLine":415,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":484,"column":15,"nodeType":"JSXOpeningElement","endLine":484,"endColumn":56},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":497,"column":13,"nodeType":"JSXOpeningElement","endLine":497,"endColumn":54},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":510,"column":13,"nodeType":"JSXOpeningElement","endLine":510,"endColumn":54},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":532,"column":13,"nodeType":"JSXOpeningElement","endLine":532,"endColumn":54},{"ruleId":"no-unused-vars","severity":2,"message":"'summary' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":815,"column":49,"nodeType":"Identifier","messageId":"unusedVar","endLine":815,"endColumn":56,"suggestions":[{"messageId":"removeVar","data":{"varName":"summary"},"fix":{"range":[32527,32536],"text":""},"desc":"Remove unused variable 'summary'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1062,"column":17,"nodeType":"JSXOpeningElement","endLine":1062,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1076,"column":17,"nodeType":"JSXOpeningElement","endLine":1076,"endColumn":81}],"suppressedMessages":[],"errorCount":16,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { setAuthToken } from '../api/axios';\r\nimport {\r\n  compareOffers,\r\n  analyzeScenarios,\r\n  getCostOfLivingComparison,\r\n  archiveDeclinedOffer,\r\n  getArchivedOffers,\r\n  calculateBenefitsValue,\r\n  DECLINE_REASONS,\r\n  DEFAULT_WEIGHTS,\r\n  REMOTE_WORK_OPTIONS,\r\n  HEALTH_INSURANCE_QUALITY\r\n} from '../api/offerComparison';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  RadarChart,\r\n  PolarGrid,\r\n  PolarAngleAxis,\r\n  PolarRadiusAxis,\r\n  Radar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  Cell\r\n} from 'recharts';\r\n\r\n/**\r\n * UC-127: Offer Evaluation & Comparison Tool Component\r\n * \r\n * Features:\r\n * - Input all offer details (salary, bonus, equity, benefits, location, remote policy)\r\n * - Calculate total compensation including benefits value\r\n * - Adjust for cost of living differences by location\r\n * - Score non-financial factors (culture fit, growth opportunities, work-life balance)\r\n * - Display side-by-side comparison matrix with weighted scores\r\n * - Provide negotiation recommendations for each offer\r\n * - Allow scenario analysis (e.g., \"What if I negotiate 10% more salary?\")\r\n * - Archive declined offers with reasons for future reference\r\n */\r\n\r\nconst CHART_COLORS = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899'];\r\n\r\n// Empty offer template\r\nconst emptyOffer = {\r\n  company: '',\r\n  title: '',\r\n  location: '',\r\n  baseSalary: '',\r\n  signingBonus: '',\r\n  performanceBonus: '',\r\n  equityValue: '',\r\n  benefits: {\r\n    healthInsurance: false,\r\n    healthInsuranceQuality: 'good',\r\n    dentalInsurance: false,\r\n    visionInsurance: false,\r\n    retirement401k: false,\r\n    retirementMatch: '',\r\n    paidTimeOff: '',\r\n    remoteWork: '',\r\n    flexibleSchedule: false,\r\n    professionalDevelopment: ''\r\n  },\r\n  nonFinancialFactors: {\r\n    cultureFit: 5,\r\n    growthOpportunities: 5,\r\n    workLifeBalance: 5,\r\n    locationDesirability: 5,\r\n    jobSecurity: 5,\r\n    companyReputation: 5\r\n  }\r\n};\r\n\r\nconst OfferComparison = () => {\r\n  const navigate = useNavigate();\r\n  const { getToken } = useAuth();\r\n  \r\n  // State for offers\r\n  const [offers, setOffers] = useState([{ ...emptyOffer }, { ...emptyOffer }]);\r\n  const [comparisonResult, setComparisonResult] = useState(null);\r\n  const [scenarioAnalysis, setScenarioAnalysis] = useState(null);\r\n  const [costOfLivingData, setCostOfLivingData] = useState(null);\r\n  const [archivedOffers, setArchivedOffers] = useState([]);\r\n  \r\n  // UI state\r\n  const [activeTab, setActiveTab] = useState('input'); // input, comparison, scenarios, archive\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [selectedOfferForScenario, setSelectedOfferForScenario] = useState(0);\r\n  const [showArchiveModal, setShowArchiveModal] = useState(false);\r\n  const [offerToArchive, setOfferToArchive] = useState(null);\r\n  const [archiveReason, setArchiveReason] = useState('');\r\n  const [archiveNotes, setArchiveNotes] = useState('');\r\n  const [futureConsideration, setFutureConsideration] = useState(false);\r\n  \r\n  // Custom weights state\r\n  const [weights, setWeights] = useState(DEFAULT_WEIGHTS);\r\n  const [showWeightsEditor, setShowWeightsEditor] = useState(false);\r\n  const [authReady, setAuthReady] = useState(false);\r\n\r\n  // Set auth token on mount\r\n  useEffect(() => {\r\n    const setupAuth = async () => {\r\n      try {\r\n        const token = await getToken();\r\n        if (token) {\r\n          setAuthToken(token);\r\n          setAuthReady(true);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error setting up authentication:', err);\r\n      }\r\n    };\r\n    setupAuth();\r\n  }, [getToken]);\r\n\r\n  // Only fetch archived offers after auth is ready\r\n  useEffect(() => {\r\n    if (authReady) {\r\n      fetchArchivedOffers();\r\n    }\r\n  }, [authReady]);\r\n\r\n  const fetchArchivedOffers = async () => {\r\n    try {\r\n      const token = await getToken();\r\n      if (token) {\r\n        setAuthToken(token);\r\n      }\r\n      const response = await getArchivedOffers();\r\n      setArchivedOffers(response.data.data.offers || []);\r\n    } catch (err) {\r\n      console.error('Error fetching archived offers:', err);\r\n    }\r\n  };\r\n\r\n  const handleOfferChange = (index, field, value) => {\r\n    setOffers(prev => {\r\n      const updated = [...prev];\r\n      if (field.includes('.')) {\r\n        const [parent, child] = field.split('.');\r\n        updated[index] = {\r\n          ...updated[index],\r\n          [parent]: {\r\n            ...updated[index][parent],\r\n            [child]: value\r\n          }\r\n        };\r\n      } else {\r\n        updated[index] = { ...updated[index], [field]: value };\r\n      }\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const addOffer = () => {\r\n    setOffers(prev => [...prev, { ...emptyOffer }]);\r\n  };\r\n\r\n  const removeOffer = (index) => {\r\n    if (offers.length <= 2) {\r\n      setError('At least 2 offers are required for comparison');\r\n      return;\r\n    }\r\n    setOffers(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleCompare = async () => {\r\n    // Validate offers\r\n    const validOffers = offers.filter(o => \r\n      o.company && o.title && o.baseSalary && parseInt(o.baseSalary) > 0\r\n    );\r\n\r\n    if (validOffers.length < 2) {\r\n      setError('Please enter at least 2 complete offers (company, title, and base salary required)');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // Ensure auth token is set\r\n      const token = await getToken();\r\n      if (token) {\r\n        setAuthToken(token);\r\n      }\r\n      \r\n      // Format offers for API\r\n      const formattedOffers = validOffers.map(offer => ({\r\n        ...offer,\r\n        baseSalary: parseInt(offer.baseSalary) || 0,\r\n        signingBonus: parseInt(offer.signingBonus) || 0,\r\n        performanceBonus: parseInt(offer.performanceBonus) || 0,\r\n        equityValue: parseInt(offer.equityValue) || 0,\r\n        benefits: {\r\n          ...offer.benefits,\r\n          paidTimeOff: parseInt(offer.benefits.paidTimeOff) || 0,\r\n          retirementMatch: offer.benefits.retirementMatch || '0'\r\n        }\r\n      }));\r\n\r\n      const response = await compareOffers(formattedOffers, weights);\r\n      setComparisonResult(response.data.data);\r\n      \r\n      // Also get cost of living data\r\n      const locations = validOffers.map(o => o.location).filter(Boolean);\r\n      if (locations.length > 0) {\r\n        const colResponse = await getCostOfLivingComparison(locations, Math.max(...validOffers.map(o => parseInt(o.baseSalary) || 0)));\r\n        setCostOfLivingData(colResponse.data.data);\r\n      }\r\n      \r\n      setActiveTab('comparison');\r\n    } catch (err) {\r\n      console.error('Error comparing offers:', err);\r\n      setError(err.response?.data?.message || 'Failed to compare offers');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleScenarioAnalysis = async () => {\r\n    const offer = offers[selectedOfferForScenario];\r\n    \r\n    if (!offer.company || !offer.baseSalary) {\r\n      setError('Please select a valid offer with company and salary');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // Ensure auth token is set\r\n      const token = await getToken();\r\n      if (token) {\r\n        setAuthToken(token);\r\n      }\r\n      \r\n      const formattedOffer = {\r\n        ...offer,\r\n        baseSalary: parseInt(offer.baseSalary) || 0,\r\n        signingBonus: parseInt(offer.signingBonus) || 0,\r\n        performanceBonus: parseInt(offer.performanceBonus) || 0,\r\n        equityValue: parseInt(offer.equityValue) || 0\r\n      };\r\n\r\n      const response = await analyzeScenarios(formattedOffer);\r\n      setScenarioAnalysis(response.data.data);\r\n      setActiveTab('scenarios');\r\n    } catch (err) {\r\n      console.error('Error analyzing scenarios:', err);\r\n      setError(err.response?.data?.message || 'Failed to analyze scenarios');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleArchiveOffer = async () => {\r\n    if (!offerToArchive || !archiveReason) {\r\n      setError('Please select an offer and provide a decline reason');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // Ensure auth token is set\r\n      const token = await getToken();\r\n      if (token) {\r\n        setAuthToken(token);\r\n      }\r\n      \r\n      await archiveDeclinedOffer(\r\n        offerToArchive,\r\n        archiveReason,\r\n        archiveNotes,\r\n        futureConsideration\r\n      );\r\n      \r\n      setSuccessMessage('Offer archived successfully');\r\n      setTimeout(() => setSuccessMessage(null), 3000);\r\n      \r\n      // Refresh archived offers\r\n      await fetchArchivedOffers();\r\n      \r\n      // Close modal and reset\r\n      setShowArchiveModal(false);\r\n      setOfferToArchive(null);\r\n      setArchiveReason('');\r\n      setArchiveNotes('');\r\n      setFutureConsideration(false);\r\n    } catch (err) {\r\n      console.error('Error archiving offer:', err);\r\n      setError(err.response?.data?.message || 'Failed to archive offer');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const openArchiveModal = (offer, index) => {\r\n    setOfferToArchive({\r\n      ...offer,\r\n      baseSalary: parseInt(offer.baseSalary) || 0,\r\n      totalCompensation: comparisonResult?.offers[index]?.totalCompensation || parseInt(offer.baseSalary) || 0\r\n    });\r\n    setShowArchiveModal(true);\r\n  };\r\n\r\n  // Render offer input form\r\n  const renderOfferForm = (offer, index) => (\r\n    <Card key={index} className=\"p-6 mb-6\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h3 className=\"text-lg font-bold text-gray-900\">Offer {index + 1}</h3>\r\n        {offers.length > 2 && (\r\n          <button\r\n            onClick={() => removeOffer(index)}\r\n            className=\"text-red-600 hover:text-red-800 text-sm\"\r\n          >\r\n            Remove\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Basic Info */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Company *</label>\r\n          <input\r\n            type=\"text\"\r\n            value={offer.company}\r\n            onChange={(e) => handleOfferChange(index, 'company', e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n            placeholder=\"e.g., Google\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Job Title *</label>\r\n          <input\r\n            type=\"text\"\r\n            value={offer.title}\r\n            onChange={(e) => handleOfferChange(index, 'title', e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n            placeholder=\"e.g., Software Engineer\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Location</label>\r\n          <input\r\n            type=\"text\"\r\n            value={offer.location}\r\n            onChange={(e) => handleOfferChange(index, 'location', e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n            placeholder=\"e.g., San Francisco, CA\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Compensation */}\r\n      <h4 className=\"font-semibold text-gray-800 mb-3\">Compensation</h4>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Base Salary *</label>\r\n          <div className=\"relative\">\r\n            <span className=\"absolute left-3 top-2 text-gray-500\">$</span>\r\n            <input\r\n              type=\"number\"\r\n              value={offer.baseSalary}\r\n              onChange={(e) => handleOfferChange(index, 'baseSalary', e.target.value)}\r\n              className=\"w-full pl-7 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              placeholder=\"100,000\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Signing Bonus</label>\r\n          <div className=\"relative\">\r\n            <span className=\"absolute left-3 top-2 text-gray-500\">$</span>\r\n            <input\r\n              type=\"number\"\r\n              value={offer.signingBonus}\r\n              onChange={(e) => handleOfferChange(index, 'signingBonus', e.target.value)}\r\n              className=\"w-full pl-7 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              placeholder=\"10,000\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Annual Bonus</label>\r\n          <div className=\"relative\">\r\n            <span className=\"absolute left-3 top-2 text-gray-500\">$</span>\r\n            <input\r\n              type=\"number\"\r\n              value={offer.performanceBonus}\r\n              onChange={(e) => handleOfferChange(index, 'performanceBonus', e.target.value)}\r\n              className=\"w-full pl-7 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              placeholder=\"15,000\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Equity/RSU Value</label>\r\n          <div className=\"relative\">\r\n            <span className=\"absolute left-3 top-2 text-gray-500\">$</span>\r\n            <input\r\n              type=\"number\"\r\n              value={offer.equityValue}\r\n              onChange={(e) => handleOfferChange(index, 'equityValue', e.target.value)}\r\n              className=\"w-full pl-7 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              placeholder=\"50,000\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Benefits */}\r\n      <h4 className=\"font-semibold text-gray-800 mb-3\">Benefits</h4>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n        <div className=\"space-y-3\">\r\n          <label className=\"flex items-center space-x-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={offer.benefits.healthInsurance}\r\n              onChange={(e) => handleOfferChange(index, 'benefits.healthInsurance', e.target.checked)}\r\n              className=\"rounded text-blue-600\"\r\n            />\r\n            <span className=\"text-sm text-gray-700\">Health Insurance</span>\r\n          </label>\r\n          {offer.benefits.healthInsurance && (\r\n            <select\r\n              value={offer.benefits.healthInsuranceQuality}\r\n              onChange={(e) => handleOfferChange(index, 'benefits.healthInsuranceQuality', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n            >\r\n              {HEALTH_INSURANCE_QUALITY.map(opt => (\r\n                <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n              ))}\r\n            </select>\r\n          )}\r\n          <label className=\"flex items-center space-x-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={offer.benefits.dentalInsurance}\r\n              onChange={(e) => handleOfferChange(index, 'benefits.dentalInsurance', e.target.checked)}\r\n              className=\"rounded text-blue-600\"\r\n            />\r\n            <span className=\"text-sm text-gray-700\">Dental Insurance</span>\r\n          </label>\r\n          <label className=\"flex items-center space-x-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={offer.benefits.visionInsurance}\r\n              onChange={(e) => handleOfferChange(index, 'benefits.visionInsurance', e.target.checked)}\r\n              className=\"rounded text-blue-600\"\r\n            />\r\n            <span className=\"text-sm text-gray-700\">Vision Insurance</span>\r\n          </label>\r\n        </div>\r\n        <div className=\"space-y-3\">\r\n          <label className=\"flex items-center space-x-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={offer.benefits.retirement401k}\r\n              onChange={(e) => handleOfferChange(index, 'benefits.retirement401k', e.target.checked)}\r\n              className=\"rounded text-blue-600\"\r\n            />\r\n            <span className=\"text-sm text-gray-700\">401(k)</span>\r\n          </label>\r\n          {offer.benefits.retirement401k && (\r\n            <div>\r\n              <label className=\"text-xs text-gray-600\">Match %</label>\r\n              <input\r\n                type=\"number\"\r\n                value={offer.benefits.retirementMatch}\r\n                onChange={(e) => handleOfferChange(index, 'benefits.retirementMatch', e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n                placeholder=\"e.g., 4\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n              />\r\n            </div>\r\n          )}\r\n          <div>\r\n            <label className=\"text-sm text-gray-700\">PTO Days</label>\r\n            <input\r\n              type=\"number\"\r\n              value={offer.benefits.paidTimeOff}\r\n              onChange={(e) => handleOfferChange(index, 'benefits.paidTimeOff', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n              placeholder=\"e.g., 15\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"space-y-3\">\r\n          <div>\r\n            <label className=\"text-sm text-gray-700\">Remote Work Policy</label>\r\n            <select\r\n              value={offer.benefits.remoteWork}\r\n              onChange={(e) => handleOfferChange(index, 'benefits.remoteWork', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n            >\r\n              <option value=\"\">Select...</option>\r\n              {REMOTE_WORK_OPTIONS.map(opt => (\r\n                <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <label className=\"flex items-center space-x-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={offer.benefits.flexibleSchedule}\r\n              onChange={(e) => handleOfferChange(index, 'benefits.flexibleSchedule', e.target.checked)}\r\n              className=\"rounded text-blue-600\"\r\n            />\r\n            <span className=\"text-sm text-gray-700\">Flexible Schedule</span>\r\n          </label>\r\n          <div>\r\n            <label className=\"text-sm text-gray-700\">Prof. Dev Budget</label>\r\n            <div className=\"relative\">\r\n              <span className=\"absolute left-3 top-2 text-gray-500\">$</span>\r\n              <input\r\n                type=\"number\"\r\n                value={offer.benefits.professionalDevelopment}\r\n                onChange={(e) => handleOfferChange(index, 'benefits.professionalDevelopment', e.target.value)}\r\n                className=\"w-full pl-7 pr-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n                placeholder=\"2,500\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Non-Financial Factors */}\r\n      <h4 className=\"font-semibold text-gray-800 mb-3\">Non-Financial Factors (Rate 1-10)</h4>\r\n      <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\r\n        {[\r\n          { key: 'cultureFit', label: 'Culture Fit' },\r\n          { key: 'growthOpportunities', label: 'Growth Opportunities' },\r\n          { key: 'workLifeBalance', label: 'Work-Life Balance' },\r\n          { key: 'locationDesirability', label: 'Location Desirability' },\r\n          { key: 'jobSecurity', label: 'Job Security' },\r\n          { key: 'companyReputation', label: 'Company Reputation' }\r\n        ].map(factor => (\r\n          <div key={factor.key}>\r\n            <label className=\"text-sm text-gray-700\">{factor.label}</label>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"range\"\r\n                min=\"1\"\r\n                max=\"10\"\r\n                value={offer.nonFinancialFactors[factor.key]}\r\n                onChange={(e) => handleOfferChange(index, `nonFinancialFactors.${factor.key}`, parseInt(e.target.value))}\r\n                className=\"flex-1\"\r\n              />\r\n              <span className=\"text-sm font-medium w-6 text-center\">{offer.nonFinancialFactors[factor.key]}</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </Card>\r\n  );\r\n\r\n  // Render comparison results\r\n  const renderComparison = () => {\r\n    if (!comparisonResult) return null;\r\n    \r\n    const { offers: scoredOffers, comparisonMatrix, winner } = comparisonResult;\r\n\r\n    // Prepare radar chart data\r\n    const radarData = scoredOffers.map(offer => ({\r\n      company: offer.company,\r\n      'Total Comp': offer.scoring.scores.totalCompensation.normalized,\r\n      'Base Salary': offer.scoring.scores.baseSalary.normalized,\r\n      'Benefits': offer.scoring.scores.benefits.normalized,\r\n      'Culture': offer.scoring.scores.cultureFit.normalized,\r\n      'Growth': offer.scoring.scores.growthOpportunities.normalized,\r\n      'Work-Life': offer.scoring.scores.workLifeBalance.normalized\r\n    }));\r\n\r\n    // Prepare bar chart data for total compensation\r\n    const compensationData = scoredOffers.map(offer => ({\r\n      company: offer.company,\r\n      baseSalary: offer.baseSalary,\r\n      bonus: offer.signingBonus + offer.performanceBonus,\r\n      equity: offer.equityValue,\r\n      benefits: offer.benefitsValue\r\n    }));\r\n\r\n    return (\r\n      <div className=\"space-y-8\">\r\n        {/* Winner Banner */}\r\n        <Card className=\"p-6 bg-linear-to-r from-green-50 to-emerald-50 border-green-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <span className=\"text-3xl\">≡ƒÅå</span>\r\n                <h2 className=\"text-2xl font-bold text-green-800\">Top Recommendation</h2>\r\n              </div>\r\n              <p className=\"text-lg text-green-700\">\r\n                <span className=\"font-semibold\">{winner.company}</span> - {winner.title}\r\n              </p>\r\n              <p className=\"text-green-600\">\r\n                Weighted Score: <span className=\"font-bold\">{winner.score}/100</span>\r\n                {winner.advantage > 0 && (\r\n                  <span className=\"ml-2\">({winner.advantage.toFixed(1)} points ahead)</span>\r\n                )}\r\n              </p>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className=\"text-sm text-green-600\">Total Compensation</p>\r\n              <p className=\"text-3xl font-bold text-green-800\">\r\n                ${winner.totalCompensation.toLocaleString()}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Side-by-Side Comparison Matrix */}\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">Side-by-Side Comparison</h2>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Category\r\n                  </th>\r\n                  {comparisonMatrix.data.map((offer, idx) => (\r\n                    <th key={idx} className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      {offer.company}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {comparisonMatrix.categories.map((category, catIdx) => (\r\n                  <tr key={catIdx} className={catIdx % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\r\n                    <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">\r\n                      {category}\r\n                    </td>\r\n                    {comparisonMatrix.data.map((offer, offerIdx) => {\r\n                      const isHighest = offer.rawValues[catIdx] === Math.max(...comparisonMatrix.data.map(o => o.rawValues[catIdx]));\r\n                      return (\r\n                        <td\r\n                          key={offerIdx}\r\n                          className={`px-4 py-3 text-sm text-center ${isHighest ? 'font-bold text-green-600 bg-green-50' : 'text-gray-600'}`}\r\n                        >\r\n                          {offer.values[catIdx]}\r\n                        </td>\r\n                      );\r\n                    })}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Compensation Breakdown Chart */}\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">Total Compensation Breakdown</h2>\r\n          <div className=\"h-80\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <BarChart data={compensationData} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"company\" />\r\n                <YAxis tickFormatter={(value) => `$${(value / 1000)}k`} />\r\n                <Tooltip formatter={(value) => `$${value.toLocaleString()}`} />\r\n                <Legend />\r\n                <Bar dataKey=\"baseSalary\" stackId=\"a\" fill=\"#3b82f6\" name=\"Base Salary\" />\r\n                <Bar dataKey=\"bonus\" stackId=\"a\" fill=\"#10b981\" name=\"Bonuses\" />\r\n                <Bar dataKey=\"equity\" stackId=\"a\" fill=\"#f59e0b\" name=\"Equity\" />\r\n                <Bar dataKey=\"benefits\" stackId=\"a\" fill=\"#8b5cf6\" name=\"Benefits Value\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Radar Chart for Factor Comparison */}\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">Multi-Factor Comparison</h2>\r\n          <div className=\"h-96\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <RadarChart data={[\r\n                { factor: 'Total Comp', ...Object.fromEntries(radarData.map(d => [d.company, d['Total Comp']])) },\r\n                { factor: 'Base Salary', ...Object.fromEntries(radarData.map(d => [d.company, d['Base Salary']])) },\r\n                { factor: 'Benefits', ...Object.fromEntries(radarData.map(d => [d.company, d['Benefits']])) },\r\n                { factor: 'Culture', ...Object.fromEntries(radarData.map(d => [d.company, d['Culture']])) },\r\n                { factor: 'Growth', ...Object.fromEntries(radarData.map(d => [d.company, d['Growth']])) },\r\n                { factor: 'Work-Life', ...Object.fromEntries(radarData.map(d => [d.company, d['Work-Life']])) }\r\n              ]}>\r\n                <PolarGrid />\r\n                <PolarAngleAxis dataKey=\"factor\" />\r\n                <PolarRadiusAxis domain={[0, 100]} />\r\n                {radarData.map((offer, idx) => (\r\n                  <Radar\r\n                    key={offer.company}\r\n                    name={offer.company}\r\n                    dataKey={offer.company}\r\n                    stroke={CHART_COLORS[idx % CHART_COLORS.length]}\r\n                    fill={CHART_COLORS[idx % CHART_COLORS.length]}\r\n                    fillOpacity={0.3}\r\n                  />\r\n                ))}\r\n                <Legend />\r\n              </RadarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Cost of Living Adjustment */}\r\n        {costOfLivingData && (\r\n          <Card className=\"p-6\">\r\n            <h2 className=\"text-xl font-bold mb-6\">Cost of Living Adjusted Comparison</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {scoredOffers.map((offer, idx) => (\r\n                <div key={idx} className=\"p-4 bg-gray-50 rounded-lg\">\r\n                  <h4 className=\"font-semibold text-gray-900\">{offer.company}</h4>\r\n                  <p className=\"text-sm text-gray-600\">{offer.location || 'Location not specified'}</p>\r\n                  <div className=\"mt-2 space-y-1\">\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-sm text-gray-500\">COL Index:</span>\r\n                      <span className=\"font-medium\">{offer.costOfLiving.index}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-sm text-gray-500\">Adjusted Value:</span>\r\n                      <span className=\"font-medium text-green-600\">\r\n                        ${offer.costOfLiving.adjustedCompensation.toLocaleString()}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-sm text-gray-500\">Adjustment:</span>\r\n                      <span className={`font-medium ${offer.costOfLiving.index > 100 ? 'text-orange-600' : 'text-green-600'}`}>\r\n                        {offer.costOfLiving.adjustment}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <p className=\"mt-4 text-sm text-gray-500\">\r\n              * COL-adjusted compensation shows equivalent purchasing power normalized to the national average (index = 100)\r\n            </p>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Negotiation Recommendations */}\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">Negotiation Recommendations</h2>\r\n          <div className=\"space-y-6\">\r\n            {scoredOffers.map((offer, idx) => (\r\n              <div key={idx} className=\"border-l-4 border-blue-500 pl-4\">\r\n                <h4 className=\"font-semibold text-gray-900 mb-2\">{offer.company}</h4>\r\n                <p className=\"text-sm text-gray-600 mb-3\">{offer.negotiations.summary}</p>\r\n                <div className=\"space-y-2\">\r\n                  {offer.negotiations.recommendations.slice(0, 3).map((rec, recIdx) => (\r\n                    <div key={recIdx} className=\"flex items-start gap-2\">\r\n                      <span className={`px-2 py-0.5 rounded text-xs font-medium ${\r\n                        rec.priority === 'High' ? 'bg-red-100 text-red-700' :\r\n                        rec.priority === 'Medium' ? 'bg-yellow-100 text-yellow-700' :\r\n                        'bg-gray-100 text-gray-700'\r\n                      }`}>\r\n                        {rec.priority}\r\n                      </span>\r\n                      <p className=\"text-sm text-gray-700\">{rec.recommendation}</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"mt-3 flex gap-2\">\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    onClick={() => {\r\n                      setSelectedOfferForScenario(idx);\r\n                      handleScenarioAnalysis();\r\n                    }}\r\n                  >\r\n                    Analyze Scenarios\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    className=\"text-red-600 border-red-200 hover:bg-red-50\"\r\n                    onClick={() => openArchiveModal(offer, idx)}\r\n                  >\r\n                    Archive/Decline\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Render scenario analysis\r\n  const renderScenarioAnalysis = () => {\r\n    if (!scenarioAnalysis) return null;\r\n\r\n    const { baseOffer, scenarios, bestScenario, summary } = scenarioAnalysis;\r\n\r\n    return (\r\n      <div className=\"space-y-8\">\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-4\">Scenario Analysis</h2>\r\n          <p className=\"text-gray-600 mb-4\">\r\n            Base offer: <span className=\"font-semibold\">{baseOffer.company}</span> - {baseOffer.title}\r\n          </p>\r\n          <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n            <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n              <p className=\"text-sm text-gray-500\">Current Base Salary</p>\r\n              <p className=\"text-2xl font-bold\">${baseOffer.baseSalary.toLocaleString()}</p>\r\n            </div>\r\n            <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n              <p className=\"text-sm text-gray-500\">Current Total Compensation</p>\r\n              <p className=\"text-2xl font-bold\">${baseOffer.totalCompensation.toLocaleString()}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Best Scenario Highlight */}\r\n          <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg mb-6\">\r\n            <h4 className=\"font-semibold text-green-800 mb-2\">Best Negotiation Opportunity</h4>\r\n            <p className=\"text-green-700\">{bestScenario.scenario}</p>\r\n            <p className=\"text-2xl font-bold text-green-800 mt-2\">{bestScenario.impact.formatted}</p>\r\n            <p className=\"text-sm text-green-600 mt-1\">{bestScenario.recommendation}</p>\r\n          </div>\r\n\r\n          {/* All Scenarios */}\r\n          <h4 className=\"font-semibold mb-4\">All Scenarios</h4>\r\n          <div className=\"space-y-3\">\r\n            {scenarios.map((scenario, idx) => (\r\n              <div key={idx} className=\"p-4 border rounded-lg hover:bg-gray-50\">\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div>\r\n                    <h5 className=\"font-medium text-gray-900\">{scenario.scenario}</h5>\r\n                    <p className=\"text-sm text-gray-600 mt-1\">{scenario.recommendation}</p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-lg font-bold text-green-600\">{scenario.impact.formatted}</p>\r\n                    <span className={`px-2 py-0.5 rounded text-xs font-medium ${\r\n                      scenario.negotiationDifficulty === 'Easy' ? 'bg-green-100 text-green-700' :\r\n                      scenario.negotiationDifficulty === 'Medium' ? 'bg-yellow-100 text-yellow-700' :\r\n                      'bg-red-100 text-red-700'\r\n                    }`}>\r\n                      {scenario.negotiationDifficulty}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-3 grid grid-cols-3 gap-4 text-sm\">\r\n                  <div>\r\n                    <span className=\"text-gray-500\">Original:</span>\r\n                    <span className=\"ml-2 font-medium\">${scenario.original.totalCompensation.toLocaleString()}</span>\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"text-gray-500\">Projected:</span>\r\n                    <span className=\"ml-2 font-medium text-green-600\">${scenario.projected.totalCompensation.toLocaleString()}</span>\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"text-gray-500\">Increase:</span>\r\n                    <span className=\"ml-2 font-medium text-green-600\">+{scenario.impact.percentageIncrease}%</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Render archived offers\r\n  const renderArchivedOffers = () => (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Archived Offers</h2>\r\n        {archivedOffers.length === 0 ? (\r\n          <p className=\"text-gray-500 text-center py-8\">No archived offers yet.</p>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {archivedOffers.map((offer, idx) => (\r\n              <div key={idx} className=\"p-4 border rounded-lg\">\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div>\r\n                    <h4 className=\"font-semibold text-gray-900\">{offer.company}</h4>\r\n                    <p className=\"text-gray-600\">{offer.title}</p>\r\n                    <p className=\"text-sm text-gray-500\">{offer.location}</p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"font-bold\">${(offer.baseSalary || 0).toLocaleString()}</p>\r\n                    <span className=\"inline-block px-2 py-0.5 rounded text-xs bg-red-100 text-red-700\">\r\n                      Declined\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-3 pt-3 border-t\">\r\n                  <p className=\"text-sm\">\r\n                    <span className=\"text-gray-500\">Reason:</span>\r\n                    <span className=\"ml-2 font-medium\">{offer.declineReason}</span>\r\n                  </p>\r\n                  {offer.declineNotes && (\r\n                    <p className=\"text-sm text-gray-600 mt-1\">{offer.declineNotes}</p>\r\n                  )}\r\n                  {offer.futureConsideration && (\r\n                    <span className=\"inline-block mt-2 px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-700\">\r\n                      Open to future opportunities\r\n                    </span>\r\n                  )}\r\n                  <p className=\"text-xs text-gray-400 mt-2\">\r\n                    Declined on {new Date(offer.declinedDate).toLocaleDateString()}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\r\n      {/* Success/Error Messages */}\r\n      {successMessage && (\r\n        <div className=\"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md\">\r\n          <div className=\"mx-4 p-4 bg-green-50 border border-green-200 rounded-lg shadow-lg\">\r\n            <p className=\"text-green-800 font-medium\">{successMessage}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md\">\r\n          <div className=\"mx-4 p-4 bg-red-50 border border-red-200 rounded-lg shadow-lg flex justify-between items-center\">\r\n            <p className=\"text-red-800 font-medium\">{error}</p>\r\n            <button onClick={() => setError(null)} className=\"text-red-600 hover:text-red-800\">├ù</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Offer Evaluation & Comparison</h1>\r\n        <p className=\"text-gray-600\">Compare job offers across all dimensions to make the best career decision</p>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"flex border-b mb-6\">\r\n        {[\r\n          { id: 'input', label: 'Enter Offers' },\r\n          { id: 'comparison', label: 'Comparison', disabled: !comparisonResult },\r\n          { id: 'scenarios', label: 'Scenario Analysis', disabled: !scenarioAnalysis },\r\n          { id: 'archive', label: `Archived (${archivedOffers.length})` }\r\n        ].map(tab => (\r\n          <button\r\n            key={tab.id}\r\n            onClick={() => !tab.disabled && setActiveTab(tab.id)}\r\n            className={`px-4 py-2 font-medium border-b-2 -mb-px transition-colors ${\r\n              activeTab === tab.id\r\n                ? 'text-blue-600 border-blue-600'\r\n                : tab.disabled\r\n                  ? 'text-gray-300 border-transparent cursor-not-allowed'\r\n                  : 'text-gray-500 border-transparent hover:text-gray-700'\r\n            }`}\r\n            disabled={tab.disabled}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Loading State */}\r\n      {loading && (\r\n        <div className=\"flex flex-col items-center justify-center py-12\">\r\n          <LoadingSpinner size=\"large\" />\r\n          <p className=\"mt-4 text-gray-600\">Processing...</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tab Content */}\r\n      {!loading && (\r\n        <>\r\n          {activeTab === 'input' && (\r\n            <div>\r\n              {/* Weight customization toggle */}\r\n              <div className=\"mb-6\">\r\n                <button\r\n                  onClick={() => setShowWeightsEditor(!showWeightsEditor)}\r\n                  className=\"text-sm text-blue-600 hover:text-blue-800\"\r\n                >\r\n                  {showWeightsEditor ? 'Γû╝ Hide' : 'Γû╢ Show'} Scoring Weight Customization\r\n                </button>\r\n                {showWeightsEditor && (\r\n                  <Card className=\"mt-4 p-4\">\r\n                    <h4 className=\"font-medium mb-3\">Customize Scoring Weights</h4>\r\n                    <p className=\"text-sm text-gray-500 mb-4\">Adjust how much each factor contributes to the overall score (must sum to 1.0)</p>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                      {Object.entries(weights).map(([key, value]) => (\r\n                        <div key={key}>\r\n                          <label className=\"text-sm text-gray-700 capitalize\">{key.replace(/([A-Z])/g, ' $1')}</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={value}\r\n                            onChange={(e) => setWeights(prev => ({ ...prev, [key]: parseFloat(e.target.value) || 0 }))}\r\n                            className=\"w-full px-2 py-1 border rounded text-sm\"\r\n                            step=\"0.05\"\r\n                            min=\"0\"\r\n                            max=\"1\"\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </Card>\r\n                )}\r\n              </div>\r\n\r\n              {/* Offer Forms */}\r\n              {offers.map((offer, index) => renderOfferForm(offer, index))}\r\n\r\n              {/* Add Offer / Compare Buttons */}\r\n              <div className=\"flex gap-4 mt-6\">\r\n                <Button variant=\"outline\" onClick={addOffer}>\r\n                  + Add Another Offer\r\n                </Button>\r\n                <Button onClick={handleCompare} className=\"bg-blue-600 hover:bg-blue-700 text-white\">\r\n                  Compare Offers\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'comparison' && renderComparison()}\r\n          {activeTab === 'scenarios' && renderScenarioAnalysis()}\r\n          {activeTab === 'archive' && renderArchivedOffers()}\r\n        </>\r\n      )}\r\n\r\n      {/* Archive Modal */}\r\n      {showArchiveModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\">\r\n          <Card className=\"w-full max-w-md mx-4 p-6\">\r\n            <h3 className=\"text-xl font-bold mb-4\">Archive Declined Offer</h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              {offerToArchive?.company} - {offerToArchive?.title}\r\n            </p>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Reason for Declining *</label>\r\n                <select\r\n                  value={archiveReason}\r\n                  onChange={(e) => setArchiveReason(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border rounded-lg\"\r\n                >\r\n                  <option value=\"\">Select a reason...</option>\r\n                  {DECLINE_REASONS.map(reason => (\r\n                    <option key={reason} value={reason}>{reason}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Additional Notes</label>\r\n                <textarea\r\n                  value={archiveNotes}\r\n                  onChange={(e) => setArchiveNotes(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border rounded-lg\"\r\n                  rows=\"3\"\r\n                  placeholder=\"Any additional context...\"\r\n                />\r\n              </div>\r\n              \r\n              <label className=\"flex items-center space-x-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={futureConsideration}\r\n                  onChange={(e) => setFutureConsideration(e.target.checked)}\r\n                  className=\"rounded text-blue-600\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Open to future opportunities with this company</span>\r\n              </label>\r\n            </div>\r\n            \r\n            <div className=\"flex gap-3 mt-6\">\r\n              <Button variant=\"outline\" onClick={() => setShowArchiveModal(false)}>\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                onClick={handleArchiveOffer}\r\n                className=\"bg-red-600 hover:bg-red-700 text-white\"\r\n                disabled={!archiveReason}\r\n              >\r\n                Archive Offer\r\n              </Button>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OfferComparison;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\OptimizedImage.jsx","messages":[{"ruleId":"jsx-a11y/no-noninteractive-element-interactions","severity":1,"message":"Non-interactive elements should not be assigned mouse or keyboard event listeners.","line":93,"column":17,"nodeType":"JSXOpeningElement","endLine":112,"endColumn":19},{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":149,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":149,"endColumn":28},{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":171,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":171,"endColumn":26}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * OptimizedImage Component\r\n * \r\n * A performance-optimized image component that implements:\r\n * - Lazy loading with Intersection Observer\r\n * - Native browser lazy loading fallback\r\n * - Blur placeholder during load\r\n * - WebP format support detection\r\n * - Error handling with fallback\r\n * - Responsive sizing with srcset support\r\n */\r\nconst OptimizedImage = ({\r\n    src,\r\n    alt,\r\n    width,\r\n    height,\r\n    className = '',\r\n    placeholder = 'blur',\r\n    priority = false,\r\n    sizes,\r\n    srcSet,\r\n    onLoad,\r\n    onError,\r\n    fallbackSrc = '/placeholder-image.svg',\r\n    ...props\r\n}) => {\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [isInView, setIsInView] = useState(priority);\r\n    const [hasError, setHasError] = useState(false);\r\n    const imgRef = useRef(null);\r\n\r\n    // Use Intersection Observer for lazy loading\r\n    useEffect(() => {\r\n        if (priority) return;\r\n\r\n        const observer = new IntersectionObserver(\r\n            (entries) => {\r\n                entries.forEach((entry) => {\r\n                    if (entry.isIntersecting) {\r\n                        setIsInView(true);\r\n                        observer.disconnect();\r\n                    }\r\n                });\r\n            },\r\n            {\r\n                rootMargin: '50px', // Start loading 50px before entering viewport\r\n                threshold: 0.01,\r\n            }\r\n        );\r\n\r\n        if (imgRef.current) {\r\n            observer.observe(imgRef.current);\r\n        }\r\n\r\n        return () => observer.disconnect();\r\n    }, [priority]);\r\n\r\n    const handleLoad = (e) => {\r\n        setIsLoaded(true);\r\n        onLoad?.(e);\r\n    };\r\n\r\n    const handleError = (e) => {\r\n        setHasError(true);\r\n        onError?.(e);\r\n    };\r\n\r\n    const imageSrc = hasError ? fallbackSrc : src;\r\n\r\n    // Placeholder styles\r\n    const placeholderStyles = {\r\n        blur: {\r\n            filter: isLoaded ? 'none' : 'blur(10px)',\r\n            transition: 'filter 0.3s ease-out',\r\n        },\r\n        none: {},\r\n    };\r\n\r\n    return (\r\n        <div\r\n            ref={imgRef}\r\n            className={`relative overflow-hidden ${className}`}\r\n            style={{\r\n                width: width ? `${width}px` : 'auto',\r\n                height: height ? `${height}px` : 'auto',\r\n                backgroundColor: !isLoaded ? '#f3f4f6' : 'transparent',\r\n            }}\r\n        >\r\n            {isInView && (\r\n                <img\r\n                    src={imageSrc}\r\n                    alt={alt}\r\n                    width={width}\r\n                    height={height}\r\n                    loading={priority ? 'eager' : 'lazy'}\r\n                    decoding={priority ? 'sync' : 'async'}\r\n                    fetchPriority={priority ? 'high' : 'auto'}\r\n                    onLoad={handleLoad}\r\n                    onError={handleError}\r\n                    sizes={sizes}\r\n                    srcSet={srcSet}\r\n                    style={{\r\n                        ...placeholderStyles[placeholder],\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        objectFit: 'cover',\r\n                    }}\r\n                    {...props}\r\n                />\r\n            )}\r\n\r\n            {/* Loading skeleton */}\r\n            {!isLoaded && isInView && (\r\n                <div\r\n                    className=\"absolute inset-0 bg-gray-200 animate-pulse\"\r\n                    style={{ zIndex: -1 }}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nOptimizedImage.propTypes = {\r\n    src: PropTypes.string.isRequired,\r\n    alt: PropTypes.string.isRequired,\r\n    width: PropTypes.number,\r\n    height: PropTypes.number,\r\n    className: PropTypes.string,\r\n    placeholder: PropTypes.oneOf(['blur', 'none']),\r\n    priority: PropTypes.bool,\r\n    sizes: PropTypes.string,\r\n    srcSet: PropTypes.string,\r\n    onLoad: PropTypes.func,\r\n    onError: PropTypes.func,\r\n    fallbackSrc: PropTypes.string,\r\n};\r\n\r\nexport default OptimizedImage;\r\n\r\n/**\r\n * Utility to generate srcSet for responsive images\r\n * @param {string} baseSrc - Base image source\r\n * @param {number[]} widths - Array of widths to generate\r\n * @returns {string} srcSet string\r\n */\r\nexport const generateSrcSet = (baseSrc, widths = [320, 640, 960, 1280, 1920]) => {\r\n    // For external URLs or data URLs, return empty\r\n    if (baseSrc.startsWith('data:') || baseSrc.startsWith('http')) {\r\n        return '';\r\n    }\r\n\r\n    // Extract file extension\r\n    const extMatch = baseSrc.match(/\\.([^.]+)$/);\r\n    if (!extMatch) return '';\r\n\r\n    const ext = extMatch[1];\r\n    const basePath = baseSrc.replace(/\\.[^.]+$/, '');\r\n\r\n    return widths\r\n        .map((w) => `${basePath}-${w}w.${ext} ${w}w`)\r\n        .join(', ');\r\n};\r\n\r\n/**\r\n * Preload critical images\r\n * Call this function early for above-the-fold images\r\n */\r\nexport const preloadImage = (src, priority = 'high') => {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    const link = document.createElement('link');\r\n    link.rel = 'preload';\r\n    link.as = 'image';\r\n    link.href = src;\r\n    link.fetchPriority = priority;\r\n    document.head.appendChild(link);\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\OutcomeModal.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":130,"column":15,"nodeType":"JSXOpeningElement","endLine":130,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":144,"column":15,"nodeType":"JSXOpeningElement","endLine":144,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":173,"column":19,"nodeType":"JSXOpeningElement","endLine":173,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":189,"column":15,"nodeType":"JSXOpeningElement","endLine":189,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":203,"column":15,"nodeType":"JSXOpeningElement","endLine":203,"endColumn":79}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { updateInformationalInterview, generateFollowUpEmail } from '../api/informationalInterviews';\r\nimport { setAuthToken } from '../api/axios';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\nexport default function OutcomeModal({ isOpen, interview, onClose }) {\r\n  const { getToken } = useAuth();\r\n  const [outcomes, setOutcomes] = useState({\r\n    keyLearnings: '',\r\n    industryInsights: '',\r\n    referralObtained: false,\r\n    referralDetails: '',\r\n    futureOpportunities: '',\r\n    connectionQuality: ''\r\n  });\r\n  const [followUpContent, setFollowUpContent] = useState('');\r\n  const [generating, setGenerating] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (interview.outcomes) {\r\n      setOutcomes({\r\n        keyLearnings: interview.outcomes.keyLearnings || '',\r\n        industryInsights: interview.outcomes.industryInsights || '',\r\n        referralObtained: interview.outcomes.referralObtained || false,\r\n        referralDetails: interview.outcomes.referralDetails || '',\r\n        futureOpportunities: interview.outcomes.futureOpportunities || '',\r\n        connectionQuality: interview.outcomes.connectionQuality || ''\r\n      });\r\n    }\r\n    if (interview.followUpContent) {\r\n      setFollowUpContent(interview.followUpContent);\r\n    }\r\n  }, [interview]);\r\n\r\n  const handleChange = (field, value) => {\r\n    setOutcomes(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleGenerateFollowUp = async () => {\r\n    setGenerating(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await generateFollowUpEmail({\r\n        candidateName: interview.candidateName,\r\n        targetRole: interview.targetRole,\r\n        keyLearnings: outcomes.keyLearnings,\r\n        referralObtained: outcomes.referralObtained\r\n      });\r\n\r\n      setFollowUpContent(response.data.data.followUpContent);\r\n    } catch (err) {\r\n      console.error('Failed to generate follow-up:', err);\r\n      setError('Failed to generate follow-up email. Please try again.');\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      // Calculate impact score based on outcomes\r\n      const updates = {\r\n        outcomes,\r\n        followUpContent,\r\n        status: followUpContent ? 'Follow-up Sent' : 'Completed',\r\n        dates: {\r\n          ...interview.dates,\r\n          followUpDate: followUpContent ? new Date() : interview.dates.followUpDate\r\n        }\r\n      };\r\n\r\n      await updateInformationalInterview(interview._id, updates);\r\n      onClose();\r\n    } catch (err) {\r\n      console.error('Failed to save outcomes:', err);\r\n      setError('Failed to save outcomes. Please try again.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden\">\r\n        {/* Header */}\r\n        <div className=\"bg-gradient-to-r from-green-600 to-teal-600 text-white p-6\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold mb-1\">Record Interview Outcomes</h2>\r\n              <p className=\"text-green-100 text-sm\">\r\n                {interview.candidateName} - {interview.targetRole}\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-white hover:text-gray-200 transition\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-180px)]\">\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\r\n              <p className=\"text-red-800 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"space-y-4\">\r\n            {/* Key Learnings */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                ≡ƒÄ» Key Learnings\r\n              </label>\r\n              <textarea\r\n                value={outcomes.keyLearnings}\r\n                onChange={(e) => handleChange('keyLearnings', e.target.value)}\r\n                rows={4}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                placeholder=\"What were the most valuable insights you gained from this conversation?\"\r\n              />\r\n            </div>\r\n\r\n            {/* Industry Insights */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                ≡ƒöì Industry Insights\r\n              </label>\r\n              <textarea\r\n                value={outcomes.industryInsights}\r\n                onChange={(e) => handleChange('industryInsights', e.target.value)}\r\n                rows={3}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                placeholder=\"Any industry trends, challenges, or opportunities discussed?\"\r\n              />\r\n            </div>\r\n\r\n            {/* Referral Information */}\r\n            <div className=\"bg-purple-50 rounded-lg p-4 border border-purple-200\">\r\n              <div className=\"flex items-center mb-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"referralObtained\"\r\n                  checked={outcomes.referralObtained}\r\n                  onChange={(e) => handleChange('referralObtained', e.target.checked)}\r\n                  className=\"h-4 w-4 text-purple-600 rounded mr-2\"\r\n                />\r\n                <label htmlFor=\"referralObtained\" className=\"text-sm font-medium text-gray-700\">\r\n                  ≡ƒñ¥ Referral or Introduction Obtained\r\n                </label>\r\n              </div>\r\n              \r\n              {outcomes.referralObtained && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Referral Details\r\n                  </label>\r\n                  <textarea\r\n                    value={outcomes.referralDetails}\r\n                    onChange={(e) => handleChange('referralDetails', e.target.value)}\r\n                    rows={2}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\r\n                    placeholder=\"Who were you referred to? What position or opportunity?\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Future Opportunities */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                ≡ƒÜÇ Future Opportunities\r\n              </label>\r\n              <textarea\r\n                value={outcomes.futureOpportunities}\r\n                onChange={(e) => handleChange('futureOpportunities', e.target.value)}\r\n                rows={2}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n                placeholder=\"Any potential job opportunities, projects, or connections mentioned?\"\r\n              />\r\n            </div>\r\n\r\n            {/* Connection Quality */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                ≡ƒôè Connection Quality\r\n              </label>\r\n              <select\r\n                value={outcomes.connectionQuality}\r\n                onChange={(e) => handleChange('connectionQuality', e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500\"\r\n              >\r\n                <option value=\"\">Select...</option>\r\n                <option value=\"Weak\">Weak - Brief conversation, unlikely to reconnect</option>\r\n                <option value=\"Moderate\">Moderate - Good conversation, may stay in touch</option>\r\n                <option value=\"Strong\">Strong - Great rapport, potential mentor/advocate</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Generate Follow-up */}\r\n            <div className=\"pt-4 border-t border-gray-200\">\r\n              <div className=\"flex justify-between items-center mb-3\">\r\n                <h3 className=\"font-semibold text-gray-900\">Γ£ë∩╕Å Follow-up Email</h3>\r\n                <button\r\n                  onClick={handleGenerateFollowUp}\r\n                  disabled={generating || !outcomes.keyLearnings}\r\n                  className=\"text-sm px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {generating ? 'Generating...' : 'Γ£¿ Generate'}\r\n                </button>\r\n              </div>\r\n              \r\n              <textarea\r\n                value={followUpContent}\r\n                onChange={(e) => setFollowUpContent(e.target.value)}\r\n                rows={8}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 font-mono text-sm\"\r\n                placeholder=\"Generate a thank-you follow-up email...\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                A personalized thank-you email helps maintain the relationship\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"bg-gray-50 border-t border-gray-200 p-4 flex justify-end space-x-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={saving}\r\n            className=\"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {saving ? 'Saving...' : 'Save Outcomes'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\OutreachGeneratorModal.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":59,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":59,"endColumn":19},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":115,"column":17,"nodeType":"JSXOpeningElement","endLine":115,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":133,"column":17,"nodeType":"JSXOpeningElement","endLine":133,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":169,"column":17,"nodeType":"JSXOpeningElement","endLine":169,"endColumn":76}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { X, Mail, Loader2, Copy, Check } from 'lucide-react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { generateOutreachEmail, markOutreachSent } from '../api/informationalInterview';\r\nimport { setAuthToken } from '../api/axios';\r\nimport Button from './Button';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst OutreachGeneratorModal = ({ isOpen, onClose, interview, onSuccess }) => {\r\n  const { getToken } = useAuth();\r\n  const [context, setContext] = useState('');\r\n  const [userGoal, setUserGoal] = useState('');\r\n  const [emailContent, setEmailContent] = useState('');\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [isSending, setIsSending] = useState(false);\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const refreshToken = async () => {\r\n    const token = await getToken();\r\n    setAuthToken(token);\r\n  };\r\n\r\n  const contextOptions = [\r\n    'Alumni from my school',\r\n    'LinkedIn connection',\r\n    'Referred by mutual contact',\r\n    'Met at networking event',\r\n    'Cold outreach (no prior connection)',\r\n    'Professional association member',\r\n    'Other'\r\n  ];\r\n\r\n  const handleGenerate = async () => {\r\n    if (!context || !userGoal) {\r\n      toast.error('Please fill in all fields');\r\n      return;\r\n    }\r\n\r\n    setIsGenerating(true);\r\n    try {\r\n      await refreshToken();\r\n      const response = await generateOutreachEmail(interview._id, context, userGoal);\r\n      setEmailContent(response.data?.emailContent || response.emailContent);\r\n      toast.success('Email template generated!');\r\n    } catch (error) {\r\n      console.error('Error generating email:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to generate email');\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleCopy = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(emailContent);\r\n      setCopied(true);\r\n      toast.success('Copied to clipboard!');\r\n      setTimeout(() => setCopied(false), 2000);\r\n    } catch (error) {\r\n      toast.error('Failed to copy');\r\n    }\r\n  };\r\n\r\n  const handleMarkSent = async () => {\r\n    setIsSending(true);\r\n    try {\r\n      await refreshToken();\r\n      await markOutreachSent(interview._id, emailContent);\r\n      toast.success('Outreach marked as sent!');\r\n      onSuccess?.();\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Error marking outreach sent:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to update status');\r\n    } finally {\r\n      setIsSending(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setContext('');\r\n    setUserGoal('');\r\n    setEmailContent('');\r\n    setCopied(false);\r\n    onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const contact = interview?.contactId;\r\n  const contactName = contact ? `${contact.firstName} ${contact.lastName || ''}`.trim() : 'Contact';\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Generate Outreach Email</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">To: {contactName}</p>\r\n          </div>\r\n          <button\r\n            onClick={handleClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-6 space-y-6\">\r\n          {/* Input Section */}\r\n          {!emailContent && (\r\n            <>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Connection Context\r\n                </label>\r\n                <select\r\n                  value={context}\r\n                  onChange={(e) => setContext(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"\">Select how you know them...</option>\r\n                  {contextOptions.map((option) => (\r\n                    <option key={option} value={option}>\r\n                      {option}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Your Goal\r\n                </label>\r\n                <textarea\r\n                  value={userGoal}\r\n                  onChange={(e) => setUserGoal(e.target.value)}\r\n                  placeholder=\"What do you hope to learn or achieve from this conversation? (e.g., 'Learn about the transition from engineering to product management' or 'Understand the day-to-day of working in fintech')\"\r\n                  rows={4}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none\"\r\n                />\r\n              </div>\r\n\r\n              <Button\r\n                onClick={handleGenerate}\r\n                disabled={isGenerating || !context || !userGoal}\r\n                className=\"w-full\"\r\n              >\r\n                {isGenerating ? (\r\n                  <>\r\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                    Generating Email...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Mail className=\"w-4 h-4 mr-2\" />\r\n                    Generate Email Template\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </>\r\n          )}\r\n\r\n          {/* Generated Email */}\r\n          {emailContent && (\r\n            <div>\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <label className=\"block text-sm font-medium text-gray-700\">\r\n                  Generated Email (Editable)\r\n                </label>\r\n                <button\r\n                  onClick={handleCopy}\r\n                  className=\"flex items-center gap-1 text-sm text-indigo-600 hover:text-indigo-700\"\r\n                >\r\n                  {copied ? (\r\n                    <>\r\n                      <Check className=\"w-4 h-4\" />\r\n                      Copied!\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Copy className=\"w-4 h-4\" />\r\n                      Copy\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n              <textarea\r\n                value={emailContent}\r\n                onChange={(e) => setEmailContent(e.target.value)}\r\n                rows={16}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none font-mono text-sm\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-2\">\r\n                Feel free to edit the email before sending. Click \"Mark as Sent\" once you've sent the email.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"flex justify-between gap-3 p-6 border-t bg-gray-50\">\r\n          {emailContent && (\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setEmailContent('')}\r\n            >\r\n              Regenerate\r\n            </Button>\r\n          )}\r\n          <div className=\"flex gap-3 ml-auto\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={handleClose}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            {emailContent && (\r\n              <Button\r\n                onClick={handleMarkSent}\r\n                disabled={isSending}\r\n              >\r\n                {isSending ? (\r\n                  <>\r\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                    Saving...\r\n                  </>\r\n                ) : (\r\n                  'Mark as Sent'\r\n                )}\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OutreachGeneratorModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\OverdueApplicationsAlert.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ProductivityDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ProfileCompleteness.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":137,"column":21,"nodeType":"JSXOpeningElement","endLine":140,"endColumn":22},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":137,"column":21,"nodeType":"JSXOpeningElement","endLine":140,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { \r\n  calculateProfileCompleteness, \r\n  getProfileStrength, \r\n  formatFieldName,\r\n  SECTION_TIPS,\r\n  INDUSTRY_BENCHMARKS\r\n} from '../utils/profileCompleteness';\r\n\r\nexport default function ProfileCompleteness({ userData }) {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [expandedSection, setExpandedSection] = useState(null);\r\n  const [showAllSuggestions, setShowAllSuggestions] = useState(false);\r\n\r\n  if (!userData) return null;\r\n\r\n  const completeness = calculateProfileCompleteness(userData);\r\n  const strength = getProfileStrength(completeness.overallScore);\r\n  \r\n  // Get colors for progress bar based on score\r\n  const getProgressColor = (score) => {\r\n    if (score >= 90) return '#10B981'; // green\r\n    if (score >= 75) return '#3B82F6'; // blue\r\n    if (score >= 50) return '#F59E0B'; // yellow\r\n    if (score >= 25) return '#F97316'; // orange\r\n    return '#EF4444'; // red\r\n  };\r\n\r\n  const toggleSection = (sectionKey) => {\r\n    setExpandedSection(expandedSection === sectionKey ? null : sectionKey);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Overall Score Card */}\r\n      <div className={`rounded-xl p-6 border-2 ${strength.borderColor} ${strength.bgColor}`}>\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <h3 className=\"text-2xl font-heading font-bold text-gray-900\">Profile Completeness</h3>\r\n            <p className=\"text-sm text-gray-600 mt-1\">\r\n              Complete your profile to stand out to potential employers\r\n            </p>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-5xl font-bold\" style={{ color: getProgressColor(completeness.overallScore) }}>\r\n              {completeness.overallScore}\r\n            </div>\r\n            <div className={`text-sm font-semibold ${strength.color}`}>\r\n              {strength.label}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Progress Bar */}\r\n        <div className=\"relative w-full h-4 bg-gray-200 rounded-full overflow-hidden\">\r\n          <div\r\n            className=\"absolute top-0 left-0 h-full transition-all duration-500 ease-out rounded-full\"\r\n            style={{\r\n              width: `${completeness.overallScore}%`,\r\n              backgroundColor: getProgressColor(completeness.overallScore)\r\n            }}\r\n          />\r\n          {/* Milestone markers */}\r\n          <div className=\"absolute top-0 left-1/4 w-0.5 h-full bg-gray-300\" />\r\n          <div className=\"absolute top-0 left-1/2 w-0.5 h-full bg-gray-300\" />\r\n          <div className=\"absolute top-0 left-3/4 w-0.5 h-full bg-gray-300\" />\r\n        </div>\r\n        <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n          <span>0%</span>\r\n          <span>25%</span>\r\n          <span>50%</span>\r\n          <span>75%</span>\r\n          <span>100%</span>\r\n        </div>\r\n\r\n        {/* Industry Comparison */}\r\n        <div className=\"mt-6 p-4 bg-white rounded-lg border border-gray-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-700\">Industry Comparison</p>\r\n              <p className=\"text-xs text-gray-500 mt-0.5\">\r\n                {userData.industry || 'Technology'} industry\r\n              </p>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className={`text-lg font-bold ${\r\n                completeness.industryComparison === 'Excellent' ? 'text-green-600' :\r\n                completeness.industryComparison === 'Above Average' ? 'text-blue-600' :\r\n                'text-gray-600'\r\n              }`}>\r\n                {completeness.industryComparison}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500\">\r\n                Avg: {completeness.benchmark.average}% | Top: {completeness.benchmark.excellent}%\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Toggle Details Button */}\r\n        <button\r\n          onClick={() => setShowDetails(!showDetails)}\r\n          className=\"mt-4 w-full py-2 px-4 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition flex items-center justify-center space-x-2\"\r\n        >\r\n          <span className=\"font-medium text-gray-700\">\r\n            {showDetails ? 'Hide Details' : 'View Detailed Breakdown'}\r\n          </span>\r\n          <svg\r\n            className={`w-5 h-5 text-gray-600 transition-transform ${showDetails ? 'rotate-180' : ''}`}\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Detailed Breakdown */}\r\n      {showDetails && (\r\n        <>\r\n          {/* Section Breakdown */}\r\n          <div className=\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\">\r\n            <h4 className=\"text-lg font-heading font-semibold text-gray-900 mb-4\">\r\n              Section Breakdown\r\n            </h4>\r\n            <div className=\"space-y-4\">\r\n              {Object.keys(completeness.sections).map(sectionKey => {\r\n                const section = completeness.sections[sectionKey];\r\n                const sectionInfo = SECTION_TIPS[sectionKey];\r\n                const isExpanded = expandedSection === sectionKey;\r\n                const sectionScore = section.score;\r\n                \r\n                return (\r\n                  <div key={sectionKey} className=\"border border-gray-200 rounded-lg overflow-hidden\">\r\n                    {/* Section Header */}\r\n                    <div\r\n                      className=\"p-4 cursor-pointer hover:bg-gray-50 transition\"\r\n                      onClick={() => toggleSection(sectionKey)}\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          <span className=\"text-2xl\">\r\n                            {sectionKey === 'basicInfo' ? '≡ƒæñ' :\r\n                             sectionKey === 'professionalInfo' ? '≡ƒÆ╝' :\r\n                             sectionKey === 'employment' ? '≡ƒÅó' :\r\n                             sectionKey === 'education' ? '≡ƒÄô' :\r\n                             sectionKey === 'skills' ? 'ΓÜí' :\r\n                             sectionKey === 'projects' ? '≡ƒÜÇ' :\r\n                             '≡ƒô£'}\r\n                          </span>\r\n                          <div>\r\n                            <h5 className=\"font-semibold text-gray-900\">{sectionInfo?.title}</h5>\r\n                            <p className=\"text-xs text-gray-500\">\r\n                              {section.missing.length > 0 && (\r\n                                <span className=\"text-red-600 font-medium\">\r\n                                  {section.missing.length} required field{section.missing.length !== 1 ? 's' : ''} missing\r\n                                </span>\r\n                              )}\r\n                              {section.missing.length > 0 && section.optional.length > 0 && ' ΓÇó '}\r\n                              {section.optional.length > 0 && (\r\n                                <span className=\"text-yellow-600\">\r\n                                  {section.optional.length} optional field{section.optional.length !== 1 ? 's' : ''}\r\n                                </span>\r\n                              )}\r\n                              {section.missing.length === 0 && section.optional.length === 0 && (\r\n                                <span className=\"text-green-600\">Γ£ô Complete</span>\r\n                              )}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          <div className=\"text-right\">\r\n                            <span className={`text-2xl font-bold ${\r\n                              sectionScore >= 90 ? 'text-green-600' :\r\n                              sectionScore >= 75 ? 'text-blue-600' :\r\n                              sectionScore >= 50 ? 'text-yellow-600' :\r\n                              'text-red-600'\r\n                            }`}>\r\n                              {Math.round(sectionScore)}%\r\n                            </span>\r\n                          </div>\r\n                          <svg\r\n                            className={`w-5 h-5 text-gray-400 transition-transform ${isExpanded ? 'rotate-180' : ''}`}\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                          >\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                          </svg>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Section Progress Bar */}\r\n                      <div className=\"relative w-full h-2 bg-gray-200 rounded-full overflow-hidden\">\r\n                        <div\r\n                          className=\"absolute top-0 left-0 h-full transition-all duration-300 rounded-full\"\r\n                          style={{\r\n                            width: `${sectionScore}%`,\r\n                            backgroundColor: getProgressColor(sectionScore)\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Expanded Section Details */}\r\n                    {isExpanded && (\r\n                      <div className=\"p-4 bg-gray-50 border-t border-gray-200 space-y-4\">\r\n                        {/* Missing Required Fields */}\r\n                        {section.missing.length > 0 && (\r\n                          <div>\r\n                            <h6 className=\"text-sm font-semibold text-red-700 mb-2 flex items-center\">\r\n                              <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                              </svg>\r\n                              Required Fields\r\n                            </h6>\r\n                            <ul className=\"space-y-1\">\r\n                              {section.missing.map((item, idx) => (\r\n                                <li key={idx} className=\"text-sm text-gray-700 flex items-start\">\r\n                                  <span className=\"text-red-500 mr-2\">ΓÇó</span>\r\n                                  <span>{formatFieldName(item.field)}</span>\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Optional Fields */}\r\n                        {section.optional.length > 0 && (\r\n                          <div>\r\n                            <h6 className=\"text-sm font-semibold text-yellow-700 mb-2 flex items-center\">\r\n                              <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\r\n                              </svg>\r\n                              Recommended\r\n                            </h6>\r\n                            <ul className=\"space-y-1\">\r\n                              {section.optional.map((item, idx) => (\r\n                                <li key={idx} className=\"text-sm text-gray-700 flex items-start\">\r\n                                  <span className=\"text-yellow-500 mr-2\">ΓÇó</span>\r\n                                  <span>\r\n                                    {item.count \r\n                                      ? `Add ${item.count} more ${formatFieldName(item.field)}` \r\n                                      : formatFieldName(item.field)}\r\n                                  </span>\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Tips for this section */}\r\n                        {sectionInfo?.tips && (\r\n                          <div>\r\n                            <h6 className=\"text-sm font-semibold text-blue-700 mb-2 flex items-center\">\r\n                              <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\r\n                              </svg>\r\n                              Best Practices\r\n                            </h6>\r\n                            <ul className=\"space-y-2\">\r\n                              {sectionInfo.tips.map((tip, idx) => (\r\n                                <li key={idx} className=\"text-sm text-gray-600 flex items-start\">\r\n                                  <span className=\"text-blue-500 mr-2 mt-0.5\">ΓåÆ</span>\r\n                                  <span>{tip}</span>\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Top Suggestions */}\r\n          {completeness.suggestions.length > 0 && (\r\n            <div className=\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\">\r\n              <h4 className=\"text-lg font-heading font-semibold text-gray-900 mb-4\">\r\n                ≡ƒÆí Top Suggestions for Improvement\r\n              </h4>\r\n              <div className=\"space-y-3\">\r\n                {(showAllSuggestions ? completeness.suggestions : completeness.suggestions.slice(0, 5)).map((suggestion, idx) => (\r\n                  <div\r\n                    key={idx}\r\n                    className={`p-4 rounded-lg border-l-4 ${\r\n                      suggestion.priority === 'high'\r\n                        ? 'bg-red-50 border-red-500'\r\n                        : 'bg-yellow-50 border-yellow-500'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"flex-1\">\r\n                        <p className={`font-medium ${\r\n                          suggestion.priority === 'high' ? 'text-red-800' : 'text-yellow-800'\r\n                        }`}>\r\n                          {suggestion.message}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-600 mt-1\">\r\n                          Section: {SECTION_TIPS[suggestion.section]?.title}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"ml-4 text-right\">\r\n                        <span className={`text-sm font-semibold ${\r\n                          suggestion.priority === 'high' ? 'text-red-700' : 'text-yellow-700'\r\n                        }`}>\r\n                          +{suggestion.impact}%\r\n                        </span>\r\n                        <p className=\"text-xs text-gray-500\">impact</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              {completeness.suggestions.length > 5 && (\r\n                <button\r\n                  onClick={() => setShowAllSuggestions(!showAllSuggestions)}\r\n                  className=\"w-full mt-4 py-2 px-4 bg-gray-50 border border-gray-300 rounded-lg hover:bg-gray-100 transition flex items-center justify-center space-x-2 text-sm font-medium text-gray-700\"\r\n                >\r\n                  {showAllSuggestions ? (\r\n                    <>\r\n                      <span>Show Less</span>\r\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                      </svg>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <span>Show {completeness.suggestions.length - 5} More Suggestions</span>\r\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                      </svg>\r\n                    </>\r\n                  )}\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Achievement Badges */}\r\n          <div className=\"bg-white rounded-xl p-6 border border-gray-200 shadow-sm\">\r\n            <h4 className=\"text-lg font-heading font-semibold text-gray-900 mb-4\">\r\n              ≡ƒÅå Achievement Badges\r\n            </h4>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n              {completeness.earnedBadges.map(badge => (\r\n                <div\r\n                  key={badge.id}\r\n                  className=\"p-4 rounded-lg border border-green-200 text-center\"\r\n                  style={{\r\n                    background: 'linear-gradient(to bottom right, rgb(240, 253, 244), rgb(220, 252, 231))'\r\n                  }}\r\n                >\r\n                  <div className=\"text-4xl mb-2\">{badge.icon}</div>\r\n                  <h5 className=\"font-semibold text-gray-900 text-sm\">{badge.name}</h5>\r\n                  <p className=\"text-xs text-gray-600 mt-1\">{badge.description}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {completeness.earnedBadges.length === 0 && (\r\n              <div className=\"text-center py-8\">\r\n                <div className=\"text-6xl mb-3\">≡ƒÄ»</div>\r\n                <p className=\"text-gray-500\">Complete your profile to earn badges!</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ProfileCompletenessBar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ProfilePictureUpload.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":169,"column":7,"nodeType":"JSXOpeningElement","endLine":175,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":169,"column":7,"nodeType":"JSXOpeningElement","endLine":175,"endColumn":8},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":195,"column":9,"nodeType":"JSXOpeningElement","endLine":195,"endColumn":152},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":195,"column":9,"nodeType":"JSXOpeningElement","endLine":195,"endColumn":152},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":196,"column":11,"nodeType":"JSXOpeningElement","endLine":196,"endColumn":191},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":196,"column":11,"nodeType":"JSXOpeningElement","endLine":196,"endColumn":191},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":202,"column":15,"nodeType":"JSXAttribute","endLine":202,"endColumn":75},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":203,"column":15,"nodeType":"JSXAttribute","endLine":203,"endColumn":74},{"ruleId":"jsx-a11y/no-noninteractive-element-interactions","severity":1,"message":"Non-interactive elements should not be assigned mouse or keyboard event listeners.","line":264,"column":15,"nodeType":"JSXOpeningElement","endLine":270,"endColumn":16},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":268,"column":17,"nodeType":"JSXAttribute","endLine":268,"endColumn":105},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":269,"column":17,"nodeType":"JSXAttribute","endLine":269,"endColumn":104},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":281,"column":19,"nodeType":"JSXAttribute","endLine":281,"endColumn":107},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":282,"column":19,"nodeType":"JSXAttribute","endLine":282,"endColumn":106},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":293,"column":17,"nodeType":"JSXAttribute","endLine":293,"endColumn":124},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":294,"column":17,"nodeType":"JSXAttribute","endLine":294,"endColumn":123}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef } from \"react\";\r\nimport { useAuth } from \"@clerk/clerk-react\";\r\nimport api, { setAuthToken } from \"../api/axios\";\r\nimport { resizeImage, isValidImageType, isValidImageSize, formatFileSize, blobToFile } from \"../utils/imageUtils\";\r\nimport ErrorMessage from \"./ErrorMessage\";\r\n\r\nexport default function ProfilePictureUpload({ currentPicture, onUploadSuccess, onDeleteSuccess }) {\r\n  const { getToken } = useAuth();\r\n  const [preview, setPreview] = useState(null);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isHovering, setIsHovering] = useState(false);\r\n  const fileInputRef = useRef(null);\r\n\r\n  const handleFileSelect = async (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setError(null);\r\n\r\n    // Validate file type\r\n    if (!isValidImageType(file)) {\r\n      setError({\r\n        customError: {\r\n          errorCode: 4001,\r\n          message: \"Invalid file type. Please select a JPG, PNG, or GIF image.\"\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Validate file size (before resizing)\r\n    if (!isValidImageSize(file, 5)) {\r\n      setError({\r\n        customError: {\r\n          errorCode: 4002,\r\n          message: `File is too large (${formatFileSize(file.size)}). Maximum size is 5 MB.`\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Resize image to 512x512\r\n      setUploadProgress(30);\r\n      const resizedBlob = await resizeImage(file, 512, 512, 0.9);\r\n      const resizedFile = blobToFile(resizedBlob, file.name);\r\n      \r\n      setSelectedFile(resizedFile);\r\n      \r\n      // Create preview URL\r\n      const previewUrl = URL.createObjectURL(resizedBlob);\r\n      setPreview(previewUrl);\r\n      setUploadProgress(0);\r\n    } catch (err) {\r\n      console.error(\"Error processing image:\", err);\r\n      setError({\r\n        customError: {\r\n          errorCode: 4003,\r\n          message: \"Failed to process image. Please try another file.\"\r\n        }\r\n      });\r\n      setUploadProgress(0);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!selectedFile) {\r\n      // If no new file selected, just close modal\r\n      setShowModal(false);\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n    setError(null);\r\n    setUploadProgress(50);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      // Create FormData for file upload\r\n      const formData = new FormData();\r\n      formData.append('picture', selectedFile);\r\n\r\n      setUploadProgress(70);\r\n\r\n      const response = await api.post('/api/users/profile-picture', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        }\r\n      });\r\n\r\n      setUploadProgress(100);\r\n\r\n      // Call success callback\r\n      if (onUploadSuccess) {\r\n        onUploadSuccess(response.data.data.picture);\r\n      }\r\n\r\n      // Clear selection and close modal\r\n      setSelectedFile(null);\r\n      setPreview(null);\r\n      setUploadProgress(0);\r\n      setShowModal(false);\r\n\r\n      // Reset file input\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error uploading profile picture:\", err);\r\n      setError(err);\r\n      setUploadProgress(0);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!window.confirm(\"Are you sure you want to remove your profile picture?\")) {\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      await api.delete('/api/users/profile-picture');\r\n\r\n      // Call success callback\r\n      if (onDeleteSuccess) {\r\n        onDeleteSuccess();\r\n      }\r\n\r\n      // Clear any preview and close modal\r\n      setSelectedFile(null);\r\n      setPreview(null);\r\n      setShowModal(false);\r\n    } catch (err) {\r\n      console.error(\"Error deleting profile picture:\", err);\r\n      setError(err);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setSelectedFile(null);\r\n    setPreview(null);\r\n    setError(null);\r\n    setShowModal(false);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const displayPicture = preview || currentPicture;\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {/* Profile Picture with Hover Effect */}\r\n      <div \r\n        className=\"relative w-32 h-32 rounded-full overflow-hidden flex items-center justify-center border-4 cursor-pointer group\"\r\n        style={{ backgroundColor: '#E4E6E0', borderColor: '#B7B89F' }}\r\n        onMouseEnter={() => setIsHovering(true)}\r\n        onMouseLeave={() => setIsHovering(false)}\r\n        onClick={() => setShowModal(true)}\r\n      >\r\n        {/* Image or Default Avatar */}\r\n        {displayPicture ? (\r\n          <img src={displayPicture} alt=\"Profile\" className=\"w-full h-full object-cover\" />\r\n        ) : (\r\n          <svg className=\"w-20 h-20\" style={{ color: '#777C6D' }} fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        )}\r\n\r\n        {/* Hover Overlay with Edit Icon */}\r\n        <div className={`absolute inset-0 bg-black transition-opacity duration-200 flex items-center justify-center ${isHovering ? 'opacity-50' : 'opacity-0'}`}>\r\n          <svg className=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 flex items-center justify-center z-50\" style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }} onClick={handleCancel}>\r\n          <div className=\"rounded-lg shadow-2xl max-w-md w-full mx-4 p-6 relative border\" style={{ backgroundColor: '#F5F6F4', borderColor: '#B7B89F' }} onClick={(e) => e.stopPropagation()}>\r\n            {/* Close Button */}\r\n            <button\r\n              onClick={handleCancel}\r\n              className=\"absolute top-3 right-3 transition\"\r\n              style={{ color: '#9CA3AF' }}\r\n              onMouseOver={(e) => e.currentTarget.style.color = '#4B5563'}\r\n              onMouseOut={(e) => e.currentTarget.style.color = '#9CA3AF'}\r\n              disabled={isUploading}\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n\r\n            {/* Modal Title */}\r\n            <h3 className=\"text-xl font-heading font-semibold mb-4\" style={{ color: '#4F5348' }}>Edit Profile Picture</h3>\r\n\r\n            {/* Preview */}\r\n            <div className=\"flex flex-col items-center mb-4\">\r\n              <div className=\"w-40 h-40 rounded-full overflow-hidden flex items-center justify-center border-4 mb-3\" style={{ backgroundColor: '#E4E6E0', borderColor: '#B7B89F' }}>\r\n                {preview ? (\r\n                  <img src={preview} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                ) : currentPicture ? (\r\n                  <img src={currentPicture} alt=\"Current\" className=\"w-full h-full object-cover\" />\r\n                ) : (\r\n                  <svg className=\"w-24 h-24\" style={{ color: '#777C6D' }} fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                    <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                )}\r\n              </div>\r\n\r\n              {/* Upload Progress */}\r\n              {isUploading && uploadProgress > 0 && (\r\n                <div className=\"w-full\">\r\n                  <div className=\"rounded-full h-2 mb-2\" style={{ backgroundColor: '#E4E6E0' }}>\r\n                    <div \r\n                      className=\"h-2 rounded-full transition-all duration-300\"\r\n                      style={{ width: `${uploadProgress}%`, backgroundColor: '#777C6D' }}\r\n                    />\r\n                  </div>\r\n                  <p className=\"text-sm text-center\" style={{ color: '#656A5C' }}>{uploadProgress}% uploading...</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Error Display */}\r\n            {error && (\r\n              <ErrorMessage\r\n                error={error}\r\n                onDismiss={() => setError(null)}\r\n                className=\"mb-4\"\r\n              />\r\n            )}\r\n\r\n            {/* File Input */}\r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              accept=\"image/jpeg,image/png,image/gif\"\r\n              onChange={handleFileSelect}\r\n              className=\"hidden\"\r\n              id=\"profile-picture-input-modal\"\r\n              disabled={isUploading}\r\n            />\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"space-y-2\">\r\n              <label\r\n                htmlFor=\"profile-picture-input-modal\"\r\n                className={`block w-full px-4 py-2 text-white rounded-lg transition cursor-pointer text-center ${isUploading ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                style={{ backgroundColor: '#777C6D' }}\r\n                onMouseOver={(e) => !isUploading && (e.currentTarget.style.backgroundColor = '#656A5C')}\r\n                onMouseOut={(e) => !isUploading && (e.currentTarget.style.backgroundColor = '#777C6D')}\r\n              >\r\n                Choose New Picture\r\n              </label>\r\n              <p className=\"text-xs text-center\" style={{ color: '#9CA3AF' }}>JPG, PNG, or GIF ΓÇó Max 5MB</p>\r\n\r\n              {currentPicture && (\r\n                <button\r\n                  onClick={handleDelete}\r\n                  disabled={isUploading}\r\n                  className=\"w-full px-4 py-2 text-white rounded-lg transition disabled:cursor-not-allowed\"\r\n                  style={{ backgroundColor: isUploading ? '#9CA3AF' : '#EF4444' }}\r\n                  onMouseOver={(e) => !isUploading && (e.currentTarget.style.backgroundColor = '#DC2626')}\r\n                  onMouseOut={(e) => !isUploading && (e.currentTarget.style.backgroundColor = '#EF4444')}\r\n                >\r\n                  {isUploading ? \"Removing...\" : \"Delete Picture\"}\r\n                </button>\r\n              )}\r\n\r\n              <button\r\n                onClick={handleSave}\r\n                disabled={isUploading || !selectedFile}\r\n                className=\"w-full px-4 py-2 text-white rounded-lg transition disabled:cursor-not-allowed\"\r\n                style={{ backgroundColor: (isUploading || !selectedFile) ? '#9CA3AF' : '#22C55E' }}\r\n                onMouseOver={(e) => !(isUploading || !selectedFile) && (e.currentTarget.style.backgroundColor = '#16A34A')}\r\n                onMouseOut={(e) => !(isUploading || !selectedFile) && (e.currentTarget.style.backgroundColor = '#22C55E')}\r\n              >\r\n                {isUploading ? \"Saving...\" : \"Save Changes\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ProtectedRoute.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ReportBuilder.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'config'. Either include it or remove the dependency array.","line":82,"column":6,"nodeType":"ArrayExpression","endLine":82,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [config, initialConfig]","fix":{"range":[2385,2400],"text":"[config, initialConfig]"}}]},{"ruleId":"no-undef","severity":2,"message":"'isValid' is not defined.","line":156,"column":9,"nodeType":"Identifier","messageId":"undef","endLine":156,"endColumn":16},{"ruleId":"no-undef","severity":2,"message":"'isValid' is not defined.","line":160,"column":9,"nodeType":"Identifier","messageId":"undef","endLine":160,"endColumn":16},{"ruleId":"no-undef","severity":2,"message":"'isValid' is not defined.","line":165,"column":9,"nodeType":"Identifier","messageId":"undef","endLine":165,"endColumn":16},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":210,"column":13,"nodeType":"JSXOpeningElement","endLine":210,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":224,"column":13,"nodeType":"JSXOpeningElement","endLine":224,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":254,"column":13,"nodeType":"JSXOpeningElement","endLine":254,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":273,"column":17,"nodeType":"JSXOpeningElement","endLine":273,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":285,"column":17,"nodeType":"JSXOpeningElement","endLine":285,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":330,"column":15,"nodeType":"JSXOpeningElement","endLine":333,"endColumn":16},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":390,"column":11,"nodeType":"JSXOpeningElement","endLine":390,"endColumn":47},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":407,"column":17,"nodeType":"JSXOpeningElement","endLine":410,"endColumn":18}],"suppressedMessages":[],"errorCount":11,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\n/**\r\n * ReportBuilder Component\r\n * Allows users to configure custom reports with metrics, filters, and visualizations\r\n */\r\nexport default function ReportBuilder({ \r\n  initialConfig = null, \r\n  onSave, \r\n  onCancel,\r\n  isTemplate = false \r\n}) {\r\n  const [config, setConfig] = useState({\r\n    name: '',\r\n    description: '',\r\n    dateRange: {\r\n      type: 'last30days',\r\n      startDate: null,\r\n      endDate: null,\r\n    },\r\n    metrics: {\r\n      totalApplications: true,\r\n      applicationsByStatus: true,\r\n      applicationsByIndustry: false,\r\n      applicationsByCompany: false,\r\n      interviewConversionRate: true,\r\n      offerConversionRate: true,\r\n      averageResponseTime: false,\r\n      applicationTrend: false,\r\n      interviewTrend: false,\r\n      topCompanies: false,\r\n      topIndustries: false,\r\n      statusDistribution: true,\r\n      ghostedApplications: false,\r\n      followUpNeeded: false,\r\n    },\r\n    filters: {\r\n      companies: [],\r\n      industries: [],\r\n      roles: [],\r\n      statuses: [],\r\n      locations: [],\r\n      excludeArchived: true,\r\n      excludeGhosted: false,\r\n    },\r\n    visualizations: {\r\n      showCharts: true,\r\n      chartTypes: {\r\n        statusBreakdown: 'pie',\r\n        applicationTrend: 'line',\r\n        industryDistribution: 'bar',\r\n      },\r\n      colorScheme: 'default',\r\n    },\r\n    includeAIInsights: true,\r\n    insightsFocus: ['trends', 'recommendations'],\r\n    isTemplate: isTemplate,\r\n    isPublic: false,\r\n    isFavorite: false,\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (initialConfig) {\r\n      // Merge initialConfig with default structure, ensuring dateRange is properly structured\r\n      const mergedConfig = {\r\n        ...config,\r\n        ...initialConfig,\r\n        dateRange: initialConfig.dateRange || config.dateRange,\r\n        metrics: { ...config.metrics, ...(initialConfig.metrics || {}) },\r\n        filters: { ...config.filters, ...(initialConfig.filters || {}) },\r\n        visualizations: { ...config.visualizations, ...(initialConfig.visualizations || {}) },\r\n      };\r\n      setConfig(mergedConfig);\r\n    }\r\n  }, [initialConfig]);\r\n\r\n  const dateRangeOptions = [\r\n    { value: 'last7Days', label: 'Last 7 Days' },\r\n    { value: 'last30Days', label: 'Last 30 Days' },\r\n    { value: 'last90Days', label: 'Last 90 Days' },\r\n    { value: 'thisMonth', label: 'This Month' },\r\n    { value: 'lastMonth', label: 'Last Month' },\r\n    { value: 'thisYear', label: 'This Year' },\r\n    { value: 'custom', label: 'Custom Range' },\r\n  ];\r\n\r\n  const metricOptions = [\r\n    { key: 'totalApplications', label: 'Total Applications', description: 'Total number of applications submitted' },\r\n    { key: 'applicationsByStatus', label: 'Applications by Status', description: 'Breakdown by application status' },\r\n    { key: 'applicationsByIndustry', label: 'Applications by Industry', description: 'Breakdown by industry' },\r\n    { key: 'applicationsByCompany', label: 'Applications by Company', description: 'Breakdown by company' },\r\n    { key: 'interviewConversionRate', label: 'Interview Rate', description: 'Percentage of applications that led to interviews' },\r\n    { key: 'offerConversionRate', label: 'Offer Rate', description: 'Percentage of applications that resulted in offers' },\r\n    { key: 'averageResponseTime', label: 'Avg Response Time', description: 'Average time to hear back from companies' },\r\n    { key: 'applicationTrend', label: 'Application Trend', description: 'Application activity over time' },\r\n    { key: 'interviewTrend', label: 'Interview Trend', description: 'Interview activity over time' },\r\n    { key: 'topCompanies', label: 'Top Companies', description: 'Companies you applied to most' },\r\n    { key: 'topIndustries', label: 'Top Industries', description: 'Industries you targeted most' },\r\n    { key: 'statusDistribution', label: 'Status Distribution', description: 'Distribution of application statuses' },\r\n    { key: 'ghostedApplications', label: 'Ghosting Rate', description: 'Percentage of applications with no response' },\r\n    { key: 'followUpNeeded', label: 'Pending Applications', description: 'Applications awaiting response' },\r\n  ];\r\n\r\n  const insightFocusOptions = [\r\n    { value: 'trends', label: 'Trends Analysis', description: 'Identify patterns in your job search' },\r\n    { value: 'recommendations', label: 'Recommendations', description: 'Strategic advice for improvement' },\r\n    { value: 'strengths', label: 'Strengths', description: 'What\\'s working well' },\r\n    { value: 'improvements', label: 'Improvements', description: 'Areas to enhance' },\r\n    { value: 'patterns', label: 'Pattern Detection', description: 'Hidden correlations and insights' },\r\n  ];\r\n\r\n  const handleMetricToggle = (metricKey) => {\r\n    setConfig({\r\n      ...config,\r\n      metrics: {\r\n        ...config.metrics,\r\n        [metricKey]: !config.metrics[metricKey],\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleInsightFocusToggle = (focusValue) => {\r\n    const currentFocus = config.insightsFocus || [];\r\n    const newFocus = currentFocus.includes(focusValue)\r\n      ? currentFocus.filter(f => f !== focusValue)\r\n      : [...currentFocus, focusValue];\r\n    \r\n    setConfig({\r\n      ...config,\r\n      insightsFocus: newFocus,\r\n    });\r\n  };\r\n\r\n  const validateConfig = () => {\r\n    const newErrors = {};\r\n\r\n    if (!config.name || config.name.trim().length === 0) {\r\n      newErrors.name = 'Report name is required';\r\n    }\r\n\r\n    const selectedMetrics = Object.values(config.metrics).filter(Boolean).length;\r\n    if (selectedMetrics === 0) {\r\n      newErrors.metrics = 'Please select at least one metric';\r\n    }\r\n\r\n    if (config.dateRange?.type === 'custom') {\r\n      if (!config.dateRange.startDate) {\r\n        newErrors.startDate = 'Start date is required for custom range';\r\n        isValid = false;\r\n      }\r\n      if (!config.dateRange.endDate) {\r\n        newErrors.endDate = 'End date is required for custom range';\r\n        isValid = false;\r\n      }\r\n      if (config.dateRange.startDate && config.dateRange.endDate && \r\n          new Date(config.dateRange.startDate) > new Date(config.dateRange.endDate)) {\r\n        newErrors.endDate = 'End date must be after start date';\r\n        isValid = false;\r\n      }\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!validateConfig()) {\r\n      return;\r\n    }\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      await onSave(config);\r\n    } catch (error) {\r\n      setErrors({ submit: error.message || 'Failed to save report configuration' });\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectAllMetrics = () => {\r\n    const allSelected = {};\r\n    metricOptions.forEach(option => {\r\n      allSelected[option.key] = true;\r\n    });\r\n    setConfig({ ...config, metrics: allSelected });\r\n  };\r\n\r\n  const handleClearAllMetrics = () => {\r\n    const allCleared = {};\r\n    metricOptions.forEach(option => {\r\n      allCleared[option.key] = false;\r\n    });\r\n    setConfig({ ...config, metrics: allCleared });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Basic Information */}\r\n      <Card title=\"Report Configuration\">\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Report Name <span className=\"text-error\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={config.name}\r\n              onChange={(e) => setConfig({ ...config, name: e.target.value })}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n              placeholder=\"e.g., Monthly Activity Report\"\r\n            />\r\n            {errors.name && <ErrorMessage message={errors.name} />}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Description\r\n            </label>\r\n            <textarea\r\n              value={config.description}\r\n              onChange={(e) => setConfig({ ...config, description: e.target.value })}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n              rows=\"3\"\r\n              placeholder=\"Brief description of this report...\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-4\">\r\n            <label className=\"flex items-center\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={config.isFavorite}\r\n                onChange={(e) => setConfig({ ...config, isFavorite: e.target.checked })}\r\n                className=\"mr-2 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\r\n              />\r\n              <span className=\"text-sm text-gray-700\">Mark as Favorite</span>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Date Range */}\r\n      <Card title=\"Time Period\">\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Date Range\r\n            </label>\r\n            <select\r\n              value={config.dateRange?.type || 'last30days'}\r\n              onChange={(e) => setConfig({ ...config, dateRange: { ...config.dateRange, type: e.target.value } })}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n            >\r\n              {dateRangeOptions.map(option => (\r\n                <option key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {config.dateRange?.type === 'custom' && (\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Start Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={config.dateRange?.startDate || ''}\r\n                  onChange={(e) => setConfig({ ...config, dateRange: { ...config.dateRange, startDate: e.target.value } })}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                />\r\n                {errors.startDate && <ErrorMessage message={errors.startDate} />}\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  End Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={config.dateRange?.endDate || ''}\r\n                  onChange={(e) => setConfig({ ...config, dateRange: { ...config.dateRange, endDate: e.target.value } })}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                />\r\n                {errors.customEndDate && <ErrorMessage message={errors.customEndDate} />}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Metrics Selection */}\r\n      <Card title=\"Metrics to Include\">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <p className=\"text-sm text-gray-600\">\r\n              Select the metrics you want to include in your report\r\n            </p>\r\n            <div className=\"space-x-2\">\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"small\"\r\n                onClick={handleSelectAllMetrics}\r\n              >\r\n                Select All\r\n              </Button>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"small\"\r\n                onClick={handleClearAllMetrics}\r\n              >\r\n                Clear All\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {errors.metrics && <ErrorMessage message={errors.metrics} />}\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {metricOptions.map(option => (\r\n              <label\r\n                key={option.key}\r\n                className=\"flex items-start p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition\"\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={config.metrics[option.key]}\r\n                  onChange={() => handleMetricToggle(option.key)}\r\n                  className=\"mr-3 mt-1 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\r\n                />\r\n                <div>\r\n                  <div className=\"font-medium text-gray-900\">{option.label}</div>\r\n                  <div className=\"text-sm text-gray-600\">{option.description}</div>\r\n                </div>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Visualization Options */}\r\n      <Card title=\"Visualization Options\">\r\n        <div className=\"space-y-4\">\r\n          <label className=\"flex items-center\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={config.visualizations.showCharts}\r\n              onChange={(e) => setConfig({\r\n                ...config,\r\n                visualizations: {\r\n                  ...config.visualizations,\r\n                  showCharts: e.target.checked,\r\n                },\r\n              })}\r\n              className=\"mr-2 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\r\n            />\r\n            <span className=\"text-sm font-medium text-gray-700\">Include Charts</span>\r\n          </label>\r\n\r\n          <label className=\"flex items-center\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={config.visualizations.showTables}\r\n              onChange={(e) => setConfig({\r\n                ...config,\r\n                visualizations: {\r\n                  ...config.visualizations,\r\n                  showTables: e.target.checked,\r\n                },\r\n              })}\r\n              className=\"mr-2 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\r\n            />\r\n            <span className=\"text-sm font-medium text-gray-700\">Include Data Tables</span>\r\n          </label>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* AI Insights */}\r\n      <Card title=\"AI-Powered Insights\">\r\n        <div className=\"space-y-4\">\r\n          <label className=\"flex items-start\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={config.includeAIInsights}\r\n              onChange={(e) => setConfig({ ...config, includeAIInsights: e.target.checked })}\r\n              className=\"mr-3 mt-1 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\r\n            />\r\n            <div>\r\n              <span className=\"text-sm font-medium text-gray-700\">Enable AI Insights</span>\r\n              <p className=\"text-sm text-gray-600\">Get personalized recommendations and analysis</p>\r\n            </div>\r\n          </label>\r\n\r\n          {config.includeAIInsights && (\r\n            <div className=\"ml-7 space-y-3\">\r\n              <p className=\"text-sm font-medium text-gray-700 mb-2\">Focus Areas:</p>\r\n              {insightFocusOptions.map(option => (\r\n                <label\r\n                  key={option.value}\r\n                  className=\"flex items-start p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition\"\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={config.insightsFocus?.includes(option.value)}\r\n                    onChange={() => handleInsightFocusToggle(option.value)}\r\n                    className=\"mr-3 mt-1 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\r\n                  />\r\n                  <div>\r\n                    <div className=\"font-medium text-gray-900\">{option.label}</div>\r\n                    <div className=\"text-sm text-gray-600\">{option.description}</div>\r\n                  </div>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"flex justify-end space-x-4\">\r\n        {onCancel && (\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={onCancel}\r\n            disabled={isSaving}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        )}\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={handleSave}\r\n          isLoading={isSaving}\r\n        >\r\n          {initialConfig ? 'Update Report' : 'Save Report'}\r\n        </Button>\r\n      </div>\r\n\r\n      {errors.submit && <ErrorMessage message={errors.submit} />}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ReportTemplatesGallery.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ReportVisualization.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\RequestInterviewModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":98,"column":5,"nodeType":"JSXOpeningElement","endLine":102,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":98,"column":5,"nodeType":"JSXOpeningElement","endLine":102,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":103,"column":7,"nodeType":"JSXOpeningElement","endLine":103,"endColumn":135},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":103,"column":7,"nodeType":"JSXOpeningElement","endLine":103,"endColumn":135},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":136,"column":15,"nodeType":"JSXOpeningElement","endLine":136,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":152,"column":17,"nodeType":"JSXOpeningElement","endLine":152,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":167,"column":17,"nodeType":"JSXOpeningElement","endLine":167,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":184,"column":17,"nodeType":"JSXOpeningElement","endLine":184,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":198,"column":17,"nodeType":"JSXOpeningElement","endLine":198,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":218,"column":15,"nodeType":"JSXOpeningElement","endLine":218,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":232,"column":15,"nodeType":"JSXOpeningElement","endLine":232,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":267,"column":15,"nodeType":"JSXOpeningElement","endLine":267,"endColumn":79}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { createInformationalInterview, generateOutreachEmail } from '../api/informationalInterviews';\r\nimport { setAuthToken } from '../api/axios';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\nexport default function RequestInterviewModal({ isOpen, onClose }) {\r\n  const { getToken } = useAuth();\r\n  const [formData, setFormData] = useState({\r\n    candidateName: '',\r\n    targetRole: '',\r\n    targetCompany: '',\r\n    candidateEmail: '',\r\n    candidateLinkedIn: '',\r\n    userBackground: '',\r\n    userGoal: '',\r\n    tags: []\r\n  });\r\n  const [outreachContent, setOutreachContent] = useState('');\r\n  const [generating, setGenerating] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleGenerateOutreach = async () => {\r\n    if (!formData.candidateName || !formData.targetRole || !formData.targetCompany) {\r\n      setError('Please fill in candidate name, role, and company first');\r\n      return;\r\n    }\r\n\r\n    setGenerating(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await generateOutreachEmail({\r\n        candidateName: formData.candidateName,\r\n        targetRole: formData.targetRole,\r\n        targetCompany: formData.targetCompany,\r\n        userBackground: formData.userBackground,\r\n        userGoal: formData.userGoal\r\n      });\r\n\r\n      setOutreachContent(response.data.data.outreachContent);\r\n    } catch (err) {\r\n      console.error('Failed to generate outreach:', err);\r\n      setError('Failed to generate outreach email. Please try again.');\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.candidateName || !formData.targetRole || !formData.targetCompany) {\r\n      setError('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    setSaving(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const dataToSubmit = {\r\n        ...formData,\r\n        outreachContent,\r\n        status: 'Identified'\r\n      };\r\n\r\n      await createInformationalInterview(dataToSubmit);\r\n      onClose();\r\n    } catch (err) {\r\n      console.error('Failed to create interview:', err);\r\n      setError('Failed to create informational interview. Please try again.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  // Handler for clicking the backdrop\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden\" onClick={e => e.stopPropagation()}>\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Request Informational Interview</h2>\r\n            <p className=\"text-gray-500 text-sm\">\r\n              Identify a candidate and generate a professional outreach email\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition\"\r\n            aria-label=\"Close\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <form onSubmit={handleSubmit} className=\"p-6 overflow-y-auto max-h-[calc(90vh-180px)]\">\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\r\n              <p className=\"text-red-800 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Candidate Information */}\r\n          <div className=\"space-y-4 mb-6\">\r\n            <h3 className=\"font-semibold text-gray-900\">Candidate Information</h3>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Candidate Name <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"candidateName\"\r\n                value={formData.candidateName}\r\n                onChange={handleChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                placeholder=\"John Doe\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Their Role <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"targetRole\"\r\n                  value={formData.targetRole}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                  placeholder=\"Senior Software Engineer\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Their Company <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"targetCompany\"\r\n                  value={formData.targetCompany}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                  placeholder=\"Tech Corp\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Email (Optional)\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"candidateEmail\"\r\n                  value={formData.candidateEmail}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                  placeholder=\"john@example.com\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  LinkedIn Profile (Optional)\r\n                </label>\r\n                <input\r\n                  type=\"url\"\r\n                  name=\"candidateLinkedIn\"\r\n                  value={formData.candidateLinkedIn}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                  placeholder=\"https://linkedin.com/in/...\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Outreach Context */}\r\n          <div className=\"space-y-4 mb-6\">\r\n            <h3 className=\"font-semibold text-gray-900\">Your Context (for AI generation)</h3>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Your Background\r\n              </label>\r\n              <textarea\r\n                name=\"userBackground\"\r\n                value={formData.userBackground}\r\n                onChange={handleChange}\r\n                rows={2}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                placeholder=\"Recent graduate in Computer Science, interested in web development...\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Your Goal for this Interview\r\n              </label>\r\n              <textarea\r\n                name=\"userGoal\"\r\n                value={formData.userGoal}\r\n                onChange={handleChange}\r\n                rows={2}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D]\"\r\n                placeholder=\"Learn about career path in software engineering, understand day-to-day work...\"\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleGenerateOutreach}\r\n              disabled={generating || !formData.candidateName || !formData.targetRole || !formData.targetCompany}\r\n              className=\"w-full px-4 py-2 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\r\n            >\r\n              {generating ? (\r\n                <>\r\n                  <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                  Generating...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  Γ£¿ Generate Outreach Email\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Generated Outreach */}\r\n          {outreachContent && (\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Generated Outreach Email\r\n              </label>\r\n              <textarea\r\n                value={outreachContent}\r\n                onChange={(e) => setOutreachContent(e.target.value)}\r\n                rows={10}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-[#777C6D] font-mono text-sm\"\r\n                placeholder=\"Generated email will appear here...\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                You can edit the generated email before saving\r\n              </p>\r\n            </div>\r\n          )}\r\n        </form>\r\n\r\n        {/* Footer */}\r\n        <div className=\"bg-gray-50 border-t border-gray-200 p-4 flex justify-end space-x-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleSubmit}\r\n            disabled={saving || !formData.candidateName || !formData.targetRole || !formData.targetCompany}\r\n            className=\"px-6 py-2 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {saving ? 'Saving...' : 'Save Interview'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ResponseTimePrediction.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":336,"column":15,"nodeType":"JSXOpeningElement","endLine":336,"endColumn":67},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":345,"column":15,"nodeType":"JSXOpeningElement","endLine":345,"endColumn":67}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadPrediction'. Either include it or remove the dependency array.","line":48,"column":6,"nodeType":"ArrayExpression","endLine":48,"endColumn":13,"suggestions":[{"desc":"Update the dependencies array to be: [jobId, loadPrediction]","fix":{"range":[1650,1657],"text":"[jobId, loadPrediction]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  getResponseTimePrediction,\r\n  getFollowUpSuggestions,\r\n  recordResponse\r\n} from '../api/responseTimePrediction';\r\n\r\n/**\r\n * ResponseTimePrediction Component\r\n * Displays predicted response time with confidence intervals and follow-up suggestions\r\n */\r\nconst ResponseTimePrediction = ({ jobId, companyName, applicationDate, compact = false, onResponseRecorded }) => {\r\n  const [prediction, setPrediction] = useState(null);\r\n  const [followUpSuggestions, setFollowUpSuggestions] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showRecordResponse, setShowRecordResponse] = useState(false);\r\n  const [responseDate, setResponseDate] = useState(new Date().toISOString().split('T')[0]);\r\n  const [responseType, setResponseType] = useState('');\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const loadPrediction = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const [predictionData, suggestionsData] = await Promise.all([\r\n        getResponseTimePrediction(jobId),\r\n        getFollowUpSuggestions(jobId).catch(() => null)\r\n      ]);\r\n\r\n      setPrediction(predictionData);\r\n      setFollowUpSuggestions(suggestionsData);\r\n    } catch (err) {\r\n      console.error('Error loading prediction:', err);\r\n      setError('Unable to load prediction');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (jobId) {\r\n      loadPrediction();\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [jobId]);\r\n\r\n  const handleRecordResponse = async () => {\r\n    if (!responseType) {\r\n      alert('Please select a response type');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      await recordResponse(jobId, responseDate, responseType);\r\n      setShowRecordResponse(false);\r\n      if (onResponseRecorded) {\r\n        onResponseRecorded();\r\n      }\r\n      // Reload prediction to show updated status\r\n      loadPrediction();\r\n    } catch (err) {\r\n      console.error('Error recording response:', err);\r\n      alert('Failed to record response');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return 'N/A';\r\n    return new Date(date).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const getUrgencyColor = (urgency) => {\r\n    switch (urgency) {\r\n      case 'high':\r\n        return 'text-red-600 bg-red-50 border-red-200';\r\n      case 'medium':\r\n        return 'text-yellow-600 bg-yellow-50 border-yellow-200';\r\n      case 'low':\r\n        return 'text-blue-600 bg-blue-50 border-blue-200';\r\n      default:\r\n        return 'text-gray-600 bg-gray-50 border-gray-200';\r\n    }\r\n  };\r\n\r\n  const getProgressWidth = () => {\r\n    if (!prediction?.prediction || !prediction.daysSinceApplication) return 0;\r\n    const { predictedDaysMax } = prediction.prediction;\r\n    const progress = Math.min(100, (prediction.daysSinceApplication / predictedDaysMax) * 100);\r\n    return progress;\r\n  };\r\n\r\n  const getProgressColor = () => {\r\n    if (!prediction?.prediction) return 'bg-blue-500';\r\n    const { predictedDaysMedian, predictedDaysMax } = prediction.prediction;\r\n    const days = prediction.daysSinceApplication || 0;\r\n    \r\n    if (days > predictedDaysMax) return 'bg-red-500';\r\n    if (days > predictedDaysMedian) return 'bg-yellow-500';\r\n    return 'bg-green-500';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`${compact ? 'p-2' : 'p-4'} bg-gray-50 rounded-lg animate-pulse`}>\r\n        <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\r\n        <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={`${compact ? 'p-2' : 'p-4'} bg-red-50 rounded-lg text-red-600 text-sm`}>\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!prediction?.prediction) {\r\n    return null;\r\n  }\r\n\r\n  const { \r\n    predictedDaysMin, \r\n    predictedDaysMax, \r\n    predictedDaysMedian, \r\n    confidenceLevel,\r\n    suggestedFollowUpDate,\r\n    isOverdue,\r\n    daysOverdue,\r\n    industryBenchmark\r\n  } = prediction.prediction;\r\n\r\n  // Compact view for job cards\r\n  if (compact) {\r\n    return (\r\n      <div className=\"mt-2 text-xs\">\r\n        <div className={`flex items-center gap-1 ${isOverdue ? 'text-red-600' : 'text-gray-600'}`}>\r\n          <span className=\"font-medium\">\r\n            {isOverdue ? (\r\n              <>ΓÜá∩╕Å Response overdue by {daysOverdue} days</>\r\n            ) : (\r\n              <>≡ƒôè Typically responds in {predictedDaysMin}-{predictedDaysMax} days</>\r\n            )}\r\n          </span>\r\n        </div>\r\n        {suggestedFollowUpDate && !isOverdue && (\r\n          <div className=\"text-gray-500 mt-0.5\">\r\n            Follow up: {formatDate(suggestedFollowUpDate)}\r\n          </div>\r\n        )}\r\n        {/* Progress bar */}\r\n        <div className=\"mt-1.5 h-1.5 bg-gray-200 rounded-full overflow-hidden\">\r\n          <div \r\n            className={`h-full ${getProgressColor()} transition-all duration-300`}\r\n            style={{ width: `${getProgressWidth()}%` }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Full view\r\n  return (\r\n    <div className=\"bg-white rounded-lg border border-gray-200 p-4 shadow-sm\">\r\n      <div className=\"flex items-center justify-between mb-3\">\r\n        <h3 className=\"font-semibold text-gray-900 flex items-center gap-2\">\r\n          <span>≡ƒôè</span>\r\n          Response Time Prediction\r\n        </h3>\r\n        {isOverdue && (\r\n          <span className=\"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium\">\r\n            ΓÜá∩╕Å Overdue\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Main Prediction */}\r\n      <div className=\"mb-4\">\r\n        <div className=\"text-2xl font-bold text-gray-900 mb-1\">\r\n          {predictedDaysMin}-{predictedDaysMax} days\r\n        </div>\r\n        <div className=\"text-sm text-gray-600\">\r\n          Expected response time ({confidenceLevel}% confidence)\r\n        </div>\r\n      </div>\r\n\r\n      {/* Progress Bar */}\r\n      <div className=\"mb-4\">\r\n        <div className=\"flex justify-between text-xs text-gray-500 mb-1\">\r\n          <span>Applied: {formatDate(prediction.applicationDate || applicationDate)}</span>\r\n          <span>{prediction.daysSinceApplication || 0} days ago</span>\r\n        </div>\r\n        <div className=\"relative h-3 bg-gray-200 rounded-full overflow-hidden\">\r\n          <div \r\n            className={`h-full ${getProgressColor()} transition-all duration-300`}\r\n            style={{ width: `${getProgressWidth()}%` }}\r\n          ></div>\r\n          {/* Markers */}\r\n          <div \r\n            className=\"absolute top-0 h-full border-l-2 border-yellow-500\"\r\n            style={{ left: `${(predictedDaysMedian / predictedDaysMax) * 100}%` }}\r\n            title={`Median: ${predictedDaysMedian} days`}\r\n          ></div>\r\n        </div>\r\n        <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n          <span>Day 0</span>\r\n          <span className=\"text-yellow-600\">~{predictedDaysMedian}d (typical)</span>\r\n          <span>{predictedDaysMax}d (max)</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Overdue Alert */}\r\n      {isOverdue && (\r\n        <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n          <div className=\"text-red-700 font-medium mb-1\">\r\n            Response is {daysOverdue} days overdue\r\n          </div>\r\n          <div className=\"text-red-600 text-sm\">\r\n            Consider sending a follow-up email or reaching out via LinkedIn.\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Follow-up Suggestions */}\r\n      {followUpSuggestions && (\r\n        <div className={`mb-4 p-3 rounded-lg border ${getUrgencyColor(followUpSuggestions.urgency)}`}>\r\n          <div className=\"font-medium mb-1\">\r\n            Follow-up Recommendation\r\n          </div>\r\n          <div className=\"text-sm mb-2\">\r\n            {followUpSuggestions.recommendation}\r\n          </div>\r\n          {followUpSuggestions.urgency !== 'none' && suggestedFollowUpDate && (\r\n            <div className=\"text-sm\">\r\n              <span className=\"font-medium\">Suggested follow-up date:</span>{' '}\r\n              {formatDate(suggestedFollowUpDate)}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Industry Benchmark */}\r\n      {industryBenchmark && (\r\n        <div className=\"mb-4 p-3 bg-gray-50 rounded-lg\">\r\n          <div className=\"text-sm font-medium text-gray-700 mb-2\">\r\n            Industry Benchmark\r\n          </div>\r\n          <div className=\"grid grid-cols-3 gap-2 text-center text-sm\">\r\n            <div>\r\n              <div className=\"text-gray-500\">Fast</div>\r\n              <div className=\"font-medium\">{industryBenchmark.percentile25}d</div>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-gray-500\">Average</div>\r\n              <div className=\"font-medium\">{industryBenchmark.averageDays}d</div>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-gray-500\">Slow</div>\r\n              <div className=\"font-medium\">{industryBenchmark.percentile75}d</div>\r\n            </div>\r\n          </div>\r\n          {industryBenchmark.sampleSize > 0 && (\r\n            <div className=\"text-xs text-gray-500 text-center mt-2\">\r\n              Based on {industryBenchmark.sampleSize} similar applications\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Prediction Factors */}\r\n      {prediction.prediction.factors && prediction.prediction.factors.length > 0 && (\r\n        <div className=\"mb-4\">\r\n          <div className=\"text-sm font-medium text-gray-700 mb-2\">\r\n            Factors Affecting Timeline\r\n          </div>\r\n          <div className=\"space-y-1\">\r\n            {prediction.prediction.factors.map((factor, idx) => (\r\n              <div key={idx} className=\"flex items-center gap-2 text-sm\">\r\n                <span className={\r\n                  factor.impact === 'faster' ? 'text-green-600' :\r\n                  factor.impact === 'slower' ? 'text-red-600' : 'text-gray-600'\r\n                }>\r\n                  {factor.impact === 'faster' ? 'Γ¼å∩╕Å' : factor.impact === 'slower' ? 'Γ¼ç∩╕Å' : 'Γ₧í∩╕Å'}\r\n                </span>\r\n                <span className=\"text-gray-700\">{factor.description}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Actions */}\r\n      <div className=\"flex flex-wrap gap-2 pt-3 border-t border-gray-200\">\r\n        <button\r\n          onClick={() => setShowRecordResponse(!showRecordResponse)}\r\n          className=\"px-3 py-1.5 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors\"\r\n        >\r\n          ≡ƒô¥ Record Response\r\n        </button>\r\n        {followUpSuggestions?.followUpTemplates && (\r\n          <button\r\n            onClick={() => {\r\n              const template = followUpSuggestions.followUpTemplates;\r\n              const body = template.body\r\n                .replace('[Position]', prediction.jobTitle || 'the position')\r\n                .replace('[Company]', companyName || 'your company');\r\n              navigator.clipboard.writeText(body);\r\n              alert('Follow-up template copied to clipboard!');\r\n            }}\r\n            className=\"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\"\r\n          >\r\n            ≡ƒôï Copy Follow-up Template\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Record Response Form */}\r\n      {showRecordResponse && (\r\n        <div className=\"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n          <div className=\"text-sm font-medium text-gray-700 mb-3\">\r\n            Record Company Response\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            <div>\r\n              <label className=\"block text-xs text-gray-600 mb-1\">Response Date</label>\r\n              <input\r\n                type=\"date\"\r\n                value={responseDate}\r\n                onChange={(e) => setResponseDate(e.target.value)}\r\n                className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs text-gray-600 mb-1\">Response Type</label>\r\n              <select\r\n                value={responseType}\r\n                onChange={(e) => setResponseType(e.target.value)}\r\n                className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"\">Select response type...</option>\r\n                <option value=\"interview_invite\">Interview Invitation</option>\r\n                <option value=\"rejection\">Rejection</option>\r\n                <option value=\"follow_up_needed\">Need More Information</option>\r\n                <option value=\"offer\">Job Offer</option>\r\n                <option value=\"ghosted\">No Response (Ghosted)</option>\r\n                <option value=\"other\">Other</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={handleRecordResponse}\r\n                disabled={submitting}\r\n                className=\"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\"\r\n              >\r\n                {submitting ? 'Saving...' : 'Save Response'}\r\n              </button>\r\n              <button\r\n                onClick={() => setShowRecordResponse(false)}\r\n                className=\"px-4 py-2 text-sm bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nResponseTimePrediction.propTypes = {\r\n  jobId: PropTypes.string.isRequired,\r\n  companyName: PropTypes.string,\r\n  applicationDate: PropTypes.string,\r\n  compact: PropTypes.bool,\r\n  onResponseRecorded: PropTypes.func\r\n};\r\n\r\nexport default ResponseTimePrediction;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\SalaryBenchmarksExplorer.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchBenchmarks'. Either include it or remove the dependency array.","line":40,"column":6,"nodeType":"ArrayExpression","endLine":40,"endColumn":15,"suggestions":[{"desc":"Update the dependencies array to be: [fetchBenchmarks, filters]","fix":{"range":[1007,1016],"text":"[fetchBenchmarks, filters]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":125,"column":13,"nodeType":"JSXOpeningElement","endLine":125,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":141,"column":13,"nodeType":"JSXOpeningElement","endLine":141,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":157,"column":13,"nodeType":"JSXOpeningElement","endLine":157,"endColumn":77}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { getSalaryBenchmarks } from '../api/salary';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  RadarChart,\r\n  PolarGrid,\r\n  PolarAngleAxis,\r\n  PolarRadiusAxis,\r\n  Radar\r\n} from 'recharts';\r\n\r\n/**\r\n * UC-067: Salary Benchmarks Explorer\r\n * \r\n * Allows users to explore general salary benchmarks by industry, experience level, and location\r\n */\r\nconst SalaryBenchmarksExplorer = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [benchmarkData, setBenchmarkData] = useState(null);\r\n  const [filters, setFilters] = useState({\r\n    industry: 'Technology',\r\n    experienceLevel: 'Mid',\r\n    location: 'Other'\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchBenchmarks();\r\n  }, [filters]);\r\n\r\n  const fetchBenchmarks = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await getSalaryBenchmarks(filters);\r\n      setBenchmarkData(response.data.data);\r\n    } catch (err) {\r\n      console.error('Error fetching benchmarks:', err);\r\n      setError(err.response?.data?.message || 'Failed to load salary benchmarks');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (key, value) => {\r\n    setFilters(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  if (loading && !benchmarkData) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <LoadingSpinner size=\"large\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error && !benchmarkData) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <ErrorMessage message={error} />\r\n        <Button onClick={fetchBenchmarks} className=\"mt-4\">\r\n          Retry\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!benchmarkData) return null;\r\n\r\n  // Prepare data for industry comparison chart\r\n  const industryComparisonData = Object.entries(benchmarkData.allBenchmarks).map(([industry, levels]) => ({\r\n    industry,\r\n    median: levels[filters.experienceLevel]?.median || 0\r\n  })).sort((a, b) => b.median - a.median);\r\n\r\n  // Prepare data for experience level comparison\r\n  const experienceLevelData = Object.entries(benchmarkData.allBenchmarks[filters.industry] || {}).map(([level, data]) => ({\r\n    level,\r\n    min: data.min,\r\n    median: data.median,\r\n    max: data.max,\r\n    benefits: data.benefits\r\n  }));\r\n\r\n  // Prepare radar chart data for current selection\r\n  const radarData = [\r\n    { metric: 'Minimum', value: benchmarkData.benchmark.min / 1000 },\r\n    { metric: 'Median', value: benchmarkData.benchmark.median / 1000 },\r\n    { metric: 'Maximum', value: benchmarkData.benchmark.max / 1000 },\r\n    { metric: 'Benefits', value: benchmarkData.benchmark.benefits / 1000 },\r\n    { metric: 'Total', value: benchmarkData.totalCompensation / 1000 }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n          Salary Benchmarks Explorer\r\n        </h1>\r\n        <p className=\"text-gray-600\">\r\n          Explore salary data across industries, experience levels, and locations\r\n        </p>\r\n      </div>\r\n\r\n      {error && <ErrorMessage message={error} className=\"mb-4\" />}\r\n\r\n      {/* Filters */}\r\n      <Card className=\"p-6 mb-8\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Filters</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          {/* Industry Filter */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Industry\r\n            </label>\r\n            <select\r\n              value={filters.industry}\r\n              onChange={(e) => handleFilterChange('industry', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            >\r\n              {benchmarkData.availableIndustries.map(industry => (\r\n                <option key={industry} value={industry}>{industry}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Experience Level Filter */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Experience Level\r\n            </label>\r\n            <select\r\n              value={filters.experienceLevel}\r\n              onChange={(e) => handleFilterChange('experienceLevel', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            >\r\n              {benchmarkData.availableLevels.map(level => (\r\n                <option key={level} value={level}>{level}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Location Filter */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Location\r\n            </label>\r\n            <select\r\n              value={filters.location}\r\n              onChange={(e) => handleFilterChange('location', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            >\r\n              {benchmarkData.topLocations.map(location => (\r\n                <option key={location} value={location}>{location}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Current Selection Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n        <Card className=\"p-6 bg-blue-50\">\r\n          <h3 className=\"text-sm font-medium text-gray-600 mb-3\">Minimum</h3>\r\n          <p className=\"text-2xl font-bold text-blue-600\">\r\n            ${benchmarkData.benchmark.min.toLocaleString()}\r\n          </p>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 bg-green-50\">\r\n          <h3 className=\"text-sm font-medium text-gray-600 mb-3\">Median</h3>\r\n          <p className=\"text-2xl font-bold text-green-600\">\r\n            ${benchmarkData.benchmark.median.toLocaleString()}\r\n          </p>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 bg-purple-50\">\r\n          <h3 className=\"text-sm font-medium text-gray-600 mb-3\">Maximum</h3>\r\n          <p className=\"text-2xl font-bold text-purple-600\">\r\n            ${benchmarkData.benchmark.max.toLocaleString()}\r\n          </p>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 bg-orange-50\">\r\n          <h3 className=\"text-sm font-medium text-gray-600 mb-3\">Total Comp</h3>\r\n          <p className=\"text-2xl font-bold text-orange-600\">\r\n            ${benchmarkData.totalCompensation.toLocaleString()}\r\n          </p>\r\n          <p className=\"text-xs text-gray-500 mt-2\">Inc. benefits</p>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Charts */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\r\n        {/* Industry Comparison */}\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">\r\n            Median Salary by Industry ({filters.experienceLevel} Level)\r\n          </h2>\r\n          <ResponsiveContainer width=\"100%\" height={400}>\r\n            <BarChart data={industryComparisonData} layout=\"vertical\" margin={{ top: 5, right: 20, bottom: 5, left: 5 }}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis type=\"number\" tickFormatter={(value) => `$${(value / 1000).toFixed(0)}k`} />\r\n              <YAxis type=\"category\" dataKey=\"industry\" width={110} tick={{ fontSize: 12 }} />\r\n              <Tooltip formatter={(value) => `$${value.toLocaleString()}`} />\r\n              <Bar dataKey=\"median\" fill=\"#3b82f6\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </Card>\r\n\r\n        {/* Experience Level Progression */}\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">\r\n            Salary by Experience Level ({filters.industry})\r\n          </h2>\r\n          <ResponsiveContainer width=\"100%\" height={400}>\r\n            <BarChart data={experienceLevelData} margin={{ top: 5, right: 20, bottom: 5, left: 5 }}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"level\" tick={{ fontSize: 12 }} />\r\n              <YAxis tickFormatter={(value) => `$${(value / 1000).toFixed(0)}k`} />\r\n              <Tooltip formatter={(value) => `$${value.toLocaleString()}`} />\r\n              <Legend wrapperStyle={{ paddingTop: '20px' }} />\r\n              <Bar dataKey=\"min\" fill=\"#ef4444\" name=\"Minimum\" />\r\n              <Bar dataKey=\"median\" fill=\"#3b82f6\" name=\"Median\" />\r\n              <Bar dataKey=\"max\" fill=\"#10b981\" name=\"Maximum\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Radar Chart */}\r\n      <Card className=\"p-6 mb-8\">\r\n        <h2 className=\"text-xl font-bold mb-6\">Compensation Profile</h2>\r\n        <div className=\"flex justify-center\">\r\n          <ResponsiveContainer width=\"100%\" height={450}>\r\n            <RadarChart data={radarData} margin={{ top: 20, right: 60, bottom: 20, left: 60 }}>\r\n              <PolarGrid />\r\n              <PolarAngleAxis \r\n                dataKey=\"metric\" \r\n                tick={{ fontSize: 13, fontWeight: 500 }}\r\n                dy={-5}\r\n              />\r\n              <PolarRadiusAxis \r\n                angle={90} \r\n                domain={[0, 'auto']} \r\n                tick={{ fontSize: 11 }}\r\n              />\r\n              <Radar\r\n                name=\"Salary (thousands)\"\r\n                dataKey=\"value\"\r\n                stroke=\"#3b82f6\"\r\n                fill=\"#3b82f6\"\r\n                fillOpacity={0.6}\r\n              />\r\n              <Tooltip formatter={(value) => `$${value}k`} />\r\n            </RadarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Details Table */}\r\n      <Card className=\"p-6 mb-6\">\r\n        <h2 className=\"text-xl font-bold mb-6\">Detailed Breakdown</h2>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Experience Level\r\n                </th>\r\n                <th className=\"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Minimum\r\n                </th>\r\n                <th className=\"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Median\r\n                </th>\r\n                <th className=\"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Maximum\r\n                </th>\r\n                <th className=\"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Benefits\r\n                </th>\r\n                <th className=\"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Total Comp\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {experienceLevelData.map((level, index) => (\r\n                <tr key={index} className={index % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\r\n                  <td className=\"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap\">{level.level}</td>\r\n                  <td className=\"px-6 py-4 text-sm text-gray-900 text-right whitespace-nowrap\">\r\n                    ${level.min.toLocaleString()}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-sm font-bold text-blue-600 text-right whitespace-nowrap\">\r\n                    ${level.median.toLocaleString()}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-sm text-gray-900 text-right whitespace-nowrap\">\r\n                    ${level.max.toLocaleString()}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-sm text-gray-600 text-right whitespace-nowrap\">\r\n                    ${level.benefits.toLocaleString()}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-sm font-semibold text-green-600 text-right whitespace-nowrap\">\r\n                    ${(level.median + level.benefits).toLocaleString()}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Adjustment Info */}\r\n      <Card className=\"p-5 bg-blue-50 border border-blue-200\">\r\n        <p className=\"text-sm text-blue-800 leading-relaxed\">\r\n          <strong>Location Adjustment:</strong> {filters.location} has a {benchmarkData.filters.locationMultiplier}x multiplier applied. \r\n          This accounts for cost of living differences across regions.\r\n        </p>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SalaryBenchmarksExplorer;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\SalaryCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\SalaryNegotiationPrep.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'completeNegotiation' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":12,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":22,"suggestions":[{"messageId":"removeVar","data":{"varName":"completeNegotiation"},"fix":{"range":[302,326],"text":""},"desc":"Remove unused variable 'completeNegotiation'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","line":72,"column":6,"nodeType":"ArrayExpression","endLine":72,"endColumn":13,"suggestions":[{"desc":"Update the dependencies array to be: [fetchData, jobId]","fix":{"range":[2270,2277],"text":"[fetchData, jobId]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'response' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":128,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":128,"endColumn":21,"suggestions":[{"messageId":"removeVar","data":{"varName":"response"},"fix":{"range":[3990,4056],"text":""},"desc":"Remove unused variable 'response'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'response' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":144,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":144,"endColumn":21,"suggestions":[{"messageId":"removeVar","data":{"varName":"response"},"fix":{"range":[4465,4664],"text":""},"desc":"Remove unused variable 'response'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":275,"column":17,"nodeType":"JSXOpeningElement","endLine":275,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":290,"column":17,"nodeType":"JSXOpeningElement","endLine":290,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":305,"column":17,"nodeType":"JSXOpeningElement","endLine":305,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":602,"column":17,"nodeType":"JSXOpeningElement","endLine":602,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":624,"column":19,"nodeType":"JSXOpeningElement","endLine":624,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":710,"column":19,"nodeType":"JSXOpeningElement","endLine":710,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":726,"column":21,"nodeType":"JSXOpeningElement","endLine":726,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":738,"column":21,"nodeType":"JSXOpeningElement","endLine":738,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":749,"column":21,"nodeType":"JSXOpeningElement","endLine":749,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":762,"column":19,"nodeType":"JSXOpeningElement","endLine":762,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":841,"column":23,"nodeType":"JSXOpeningElement","endLine":841,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":855,"column":23,"nodeType":"JSXOpeningElement","endLine":855,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":873,"column":23,"nodeType":"JSXOpeningElement","endLine":873,"endColumn":87}],"suppressedMessages":[],"errorCount":16,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  getNegotiation,\r\n  createNegotiation,\r\n  generateTalkingPoints,\r\n  generateNegotiationScript,\r\n  addOffer,\r\n  evaluateCounteroffer,\r\n  addConfidenceExercise,\r\n  completeExercise,\r\n  completeNegotiation,\r\n  getTimingStrategy\r\n} from '../api/salary';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\n\r\n/**\r\n * UC-083: Salary Negotiation Preparation Component\r\n * \r\n * Comprehensive negotiation preparation tools including:\r\n * - Market data integration\r\n * - Talking points generation\r\n * - Negotiation scripts for different scenarios\r\n * - Counteroffer evaluation\r\n * - Confidence-building exercises\r\n * - Timing strategy recommendations\r\n * - Outcome tracking\r\n */\r\nconst SalaryNegotiationPrep = () => {\r\n  const { jobId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [negotiation, setNegotiation] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [timingStrategy, setTimingStrategy] = useState(null);\r\n\r\n  // Form states\r\n  const [targetSalary, setTargetSalary] = useState('');\r\n  const [minimumSalary, setMinimumSalary] = useState('');\r\n  const [idealSalary, setIdealSalary] = useState('');\r\n  const [selectedScenario, setSelectedScenario] = useState('Initial Offer Too Low');\r\n  const [customScenario, setCustomScenario] = useState('');\r\n  const [offerForm, setOfferForm] = useState({\r\n    type: 'Initial',\r\n    baseSalary: '',\r\n    signingBonus: '',\r\n    performanceBonus: '',\r\n    equity: '',\r\n    benefits: {\r\n      healthInsurance: false,\r\n      dentalInsurance: false,\r\n      visionInsurance: false,\r\n      retirement401k: false,\r\n      retirementMatch: '',\r\n      paidTimeOff: '',\r\n      sickDays: '',\r\n      remoteWork: '',\r\n      flexibleSchedule: false,\r\n      professionalDevelopment: ''\r\n    }\r\n  });\r\n  const [counterofferEval, setCounterofferEval] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [jobId]);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Try to get existing negotiation\r\n      try {\r\n        const negResponse = await getNegotiation(jobId);\r\n        setNegotiation(negResponse.data.data.negotiation);\r\n        \r\n        // Load timing strategy if negotiation exists\r\n        if (negResponse.data.data.negotiation._id) {\r\n          const timingResponse = await getTimingStrategy(negResponse.data.data.negotiation._id);\r\n          setTimingStrategy(timingResponse.data.data);\r\n        }\r\n      } catch (err) {\r\n        if (err.response?.status === 404) {\r\n          setShowCreateModal(true);\r\n        } else {\r\n          throw err;\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching data:', err);\r\n      setError(err.response?.data?.message || 'Failed to load negotiation data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateNegotiation = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      const response = await createNegotiation({\r\n        jobId,\r\n        targetSalary: Number(targetSalary),\r\n        minimumAcceptable: Number(minimumSalary),\r\n        idealSalary: idealSalary ? Number(idealSalary) : undefined\r\n      });\r\n      setNegotiation(response.data.data.negotiation);\r\n      setShowCreateModal(false);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error creating negotiation:', err);\r\n      setError(err.response?.data?.message || 'Failed to create negotiation');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGenerateTalkingPoints = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await generateTalkingPoints(negotiation._id, {});\r\n      \r\n      // Refresh negotiation data\r\n      await fetchData();\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error generating talking points:', err);\r\n      setError(err.response?.data?.message || 'Failed to generate talking points');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGenerateScript = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await generateNegotiationScript(negotiation._id, {\r\n        scenario: selectedScenario,\r\n        customScenario: selectedScenario === 'Custom' ? customScenario : undefined\r\n      });\r\n      \r\n      await fetchData();\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error generating script:', err);\r\n      setError(err.response?.data?.message || 'Failed to generate script');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddOffer = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const totalComp = \r\n        Number(offerForm.baseSalary || 0) +\r\n        Number(offerForm.signingBonus || 0) +\r\n        Number(offerForm.performanceBonus || 0);\r\n\r\n      await addOffer(negotiation._id, {\r\n        ...offerForm,\r\n        baseSalary: Number(offerForm.baseSalary),\r\n        signingBonus: Number(offerForm.signingBonus || 0),\r\n        performanceBonus: Number(offerForm.performanceBonus || 0),\r\n        totalCompensation: totalComp,\r\n        benefits: {\r\n          ...offerForm.benefits,\r\n          paidTimeOff: Number(offerForm.benefits.paidTimeOff || 0),\r\n          sickDays: Number(offerForm.benefits.sickDays || 0)\r\n        }\r\n      });\r\n      \r\n      await fetchData();\r\n      setOfferForm({\r\n        type: 'Counter',\r\n        baseSalary: '',\r\n        signingBonus: '',\r\n        performanceBonus: '',\r\n        equity: '',\r\n        benefits: {\r\n          healthInsurance: false,\r\n          dentalInsurance: false,\r\n          visionInsurance: false,\r\n          retirement401k: false,\r\n          retirementMatch: '',\r\n          paidTimeOff: '',\r\n          sickDays: '',\r\n          remoteWork: '',\r\n          flexibleSchedule: false,\r\n          professionalDevelopment: ''\r\n        }\r\n      });\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error adding offer:', err);\r\n      setError(err.response?.data?.message || 'Failed to add offer');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEvaluateCounteroffer = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const latestOffer = negotiation.offers[negotiation.offers.length - 1];\r\n      \r\n      const response = await evaluateCounteroffer(negotiation._id, {\r\n        currentOffer: latestOffer\r\n      });\r\n      \r\n      setCounterofferEval(response.data.data);\r\n      setActiveTab('counteroffer');\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error evaluating counteroffer:', err);\r\n      setError(err.response?.data?.message || 'Failed to evaluate counteroffer');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddConfidenceExercises = async (exerciseType = null) => {\r\n    try {\r\n      setLoading(true);\r\n      await addConfidenceExercise(negotiation._id, { exerciseType });\r\n      await fetchData();\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error adding exercises:', err);\r\n      setError(err.response?.data?.message || 'Failed to add exercises');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCompleteExercise = async (exerciseId, notes = '') => {\r\n    try {\r\n      await completeExercise(negotiation._id, exerciseId, { notes });\r\n      await fetchData();\r\n    } catch (err) {\r\n      console.error('Error completing exercise:', err);\r\n      setError(err.response?.data?.message || 'Failed to complete exercise');\r\n    }\r\n  };\r\n\r\n  if (loading && !negotiation) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <LoadingSpinner size=\"large\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (showCreateModal) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8 max-w-2xl\">\r\n        <Card className=\"p-8\">\r\n          <h2 className=\"text-2xl font-bold mb-4\">Start Salary Negotiation Preparation</h2>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Set your negotiation goals based on market research. This will help guide your preparation and strategy.\r\n          </p>\r\n          \r\n          <form onSubmit={handleCreateNegotiation}>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Target Salary *\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={targetSalary}\r\n                  onChange={(e) => setTargetSalary(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  placeholder=\"e.g., 120000\"\r\n                  required\r\n                />\r\n                <p className=\"text-sm text-gray-500 mt-1\">Your realistic goal based on market data</p>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Minimum Acceptable Salary *\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={minimumSalary}\r\n                  onChange={(e) => setMinimumSalary(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  placeholder=\"e.g., 100000\"\r\n                  required\r\n                />\r\n                <p className=\"text-sm text-gray-500 mt-1\">The lowest salary you would accept</p>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Ideal Salary (Optional)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={idealSalary}\r\n                  onChange={(e) => setIdealSalary(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  placeholder=\"e.g., 140000\"\r\n                />\r\n                <p className=\"text-sm text-gray-500 mt-1\">Your stretch goal (typically 15-20% above target)</p>\r\n              </div>\r\n            </div>\r\n\r\n            {error && <ErrorMessage message={error} className=\"mt-4\" />}\r\n\r\n            <div className=\"flex gap-3 mt-6\">\r\n              <Button type=\"submit\" className=\"flex-1\">\r\n                Start Preparation\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => navigate(-1)}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!negotiation) return null;\r\n\r\n  const progress = negotiation.talkingPoints?.length > 0 ? 25 : 0;\r\n  const scriptProgress = negotiation.scripts?.length > 0 ? 25 : 0;\r\n  const offerProgress = negotiation.offers?.length > 0 ? 25 : 0;\r\n  const exerciseProgress = negotiation.confidenceExercises?.some(ex => ex.completed) ? 25 : 0;\r\n  const totalProgress = progress + scriptProgress + offerProgress + exerciseProgress;\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <button\r\n          onClick={() => navigate(-1)}\r\n          className=\"text-blue-600 hover:text-blue-800 mb-4 flex items-center gap-2\"\r\n        >\r\n          ΓåÉ Back\r\n        </button>\r\n        <div className=\"flex justify-between items-start\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n              Salary Negotiation Preparation\r\n            </h1>\r\n            <p className=\"text-gray-600\">\r\n              {negotiation.jobTitle} at {negotiation.company}\r\n            </p>\r\n            <div className=\"mt-2 flex items-center gap-4\">\r\n              <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                negotiation.status === 'Preparing' ? 'bg-blue-100 text-blue-800' :\r\n                negotiation.status === 'In Negotiation' ? 'bg-yellow-100 text-yellow-800' :\r\n                negotiation.status === 'Completed' ? 'bg-green-100 text-green-800' :\r\n                'bg-gray-100 text-gray-800'\r\n              }`}>\r\n                {negotiation.status}\r\n              </span>\r\n              <span className=\"text-sm text-gray-500\">\r\n                Progress: {totalProgress}%\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {error && <ErrorMessage message={error} className=\"mb-4\" />}\r\n\r\n      {/* Progress Bar */}\r\n      <Card className=\"p-6 mb-8\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <h3 className=\"font-semibold\">Preparation Progress</h3>\r\n          <span className=\"text-sm text-gray-600\">{totalProgress}% Complete</span>\r\n        </div>\r\n        <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n          <div\r\n            className=\"bg-blue-600 h-3 rounded-full transition-all duration-500\"\r\n            style={{ width: `${totalProgress}%` }}\r\n          />\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Salary Goals Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <Card className=\"p-6 bg-linear-to-br from-red-50 to-red-100\">\r\n          <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Minimum Acceptable</h3>\r\n          <p className=\"text-3xl font-bold text-red-600\">\r\n            ${negotiation.minimumAcceptable.toLocaleString()}\r\n          </p>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 bg-linear-to-br from-blue-50 to-blue-100\">\r\n          <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Target Salary</h3>\r\n          <p className=\"text-3xl font-bold text-blue-600\">\r\n            ${negotiation.targetSalary.toLocaleString()}\r\n          </p>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 bg-linear-to-br from-green-50 to-green-100\">\r\n          <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Ideal Salary</h3>\r\n          <p className=\"text-3xl font-bold text-green-600\">\r\n            ${negotiation.idealSalary?.toLocaleString() || 'Not Set'}\r\n          </p>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"mb-8\">\r\n        <div className=\"border-b border-gray-200\">\r\n          <nav className=\"-mb-px flex space-x-8\">\r\n            {['overview', 'talking-points', 'scripts', 'offers', 'counteroffer', 'confidence', 'timing'].map((tab) => (\r\n              <button\r\n                key={tab}\r\n                onClick={() => setActiveTab(tab)}\r\n                className={`py-4 px-1 border-b-2 font-medium text-sm ${\r\n                  activeTab === tab\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                {tab.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ')}\r\n              </button>\r\n            ))}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      {activeTab === 'overview' && (\r\n        <div className=\"space-y-6\">\r\n          {negotiation.marketResearch?.researched && (\r\n            <Card className=\"p-6\">\r\n              <h2 className=\"text-xl font-bold mb-4\">Market Research Summary</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Industry Median</p>\r\n                  <p className=\"text-2xl font-bold text-gray-900\">\r\n                    ${negotiation.marketResearch.industryMedian?.toLocaleString()}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Location Adjusted</p>\r\n                  <p className=\"text-2xl font-bold text-gray-900\">\r\n                    ${negotiation.marketResearch.locationAdjusted?.toLocaleString()}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Experience Level</p>\r\n                  <p className=\"text-2xl font-bold text-gray-900\">\r\n                    {negotiation.marketResearch.experienceLevel}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          )}\r\n\r\n          <Card className=\"p-6\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Quick Actions</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <Button\r\n                onClick={handleGenerateTalkingPoints}\r\n                disabled={loading || negotiation.talkingPoints?.length > 0}\r\n                className=\"w-full\"\r\n              >\r\n                {negotiation.talkingPoints?.length > 0 ? 'Γ£ô Talking Points Generated' : 'Generate Talking Points'}\r\n              </Button>\r\n              <Button\r\n                onClick={() => setActiveTab('scripts')}\r\n                variant=\"outline\"\r\n                className=\"w-full\"\r\n              >\r\n                Create Negotiation Scripts\r\n              </Button>\r\n              <Button\r\n                onClick={() => setActiveTab('offers')}\r\n                variant=\"outline\"\r\n                className=\"w-full\"\r\n              >\r\n                Track Offers\r\n              </Button>\r\n              <Button\r\n                onClick={() => setActiveTab('confidence')}\r\n                variant=\"outline\"\r\n                className=\"w-full\"\r\n              >\r\n                Build Confidence\r\n              </Button>\r\n            </div>\r\n          </Card>\r\n\r\n          {negotiation.offers && negotiation.offers.length > 0 && (\r\n            <Card className=\"p-6\">\r\n              <h2 className=\"text-xl font-bold mb-4\">Recent Offers</h2>\r\n              <div className=\"space-y-3\">\r\n                {negotiation.offers.slice(-3).reverse().map((offer, idx) => (\r\n                  <div key={idx} className=\"border border-gray-200 rounded-lg p-4\">\r\n                    <div className=\"flex justify-between items-start\">\r\n                      <div>\r\n                        <span className={`px-2 py-1 rounded text-xs font-medium ${\r\n                          offer.type === 'Initial' ? 'bg-blue-100 text-blue-800' :\r\n                          offer.type === 'Counter' ? 'bg-yellow-100 text-yellow-800' :\r\n                          'bg-green-100 text-green-800'\r\n                        }`}>\r\n                          {offer.type}\r\n                        </span>\r\n                        <p className=\"mt-2 text-sm text-gray-600\">\r\n                          {new Date(offer.receivedDate).toLocaleDateString()}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <p className=\"text-2xl font-bold text-gray-900\">\r\n                          ${offer.baseSalary.toLocaleString()}\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600\">\r\n                          Total: ${offer.totalCompensation.toLocaleString()}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </Card>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'talking-points' && (\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex justify-between items-start mb-6\">\r\n            <div>\r\n              <h2 className=\"text-xl font-bold\">Negotiation Talking Points</h2>\r\n              <p className=\"text-gray-600 mt-1\">Key points to emphasize during negotiation</p>\r\n            </div>\r\n            <Button\r\n              onClick={handleGenerateTalkingPoints}\r\n              disabled={loading}\r\n            >\r\n              {negotiation.talkingPoints?.length > 0 ? 'Regenerate' : 'Generate'} Talking Points\r\n            </Button>\r\n          </div>\r\n\r\n          {negotiation.talkingPoints && negotiation.talkingPoints.length > 0 ? (\r\n            <div className=\"space-y-4\">\r\n              {negotiation.talkingPoints.map((point, idx) => (\r\n                <div\r\n                  key={idx}\r\n                  className={`p-4 rounded-lg border-l-4 ${\r\n                    point.strength === 'High' ? 'bg-green-50 border-green-500' :\r\n                    point.strength === 'Medium' ? 'bg-blue-50 border-blue-500' :\r\n                    'bg-gray-50 border-gray-500'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex justify-between items-start mb-2\">\r\n                    <span className=\"px-2 py-1 bg-white rounded text-xs font-medium text-gray-700\">\r\n                      {point.category}\r\n                    </span>\r\n                    <span className={`px-2 py-1 rounded text-xs font-medium ${\r\n                      point.strength === 'High' ? 'bg-green-200 text-green-800' :\r\n                      point.strength === 'Medium' ? 'bg-blue-200 text-blue-800' :\r\n                      'bg-gray-200 text-gray-800'\r\n                    }`}>\r\n                      {point.strength} Impact\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-gray-900 font-medium mb-1\">{point.description}</p>\r\n                  {point.evidence && (\r\n                    <p className=\"text-sm text-gray-600 italic\">Evidence: {point.evidence}</p>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12 text-gray-500\">\r\n              <p className=\"mb-4\">No talking points generated yet</p>\r\n              <p className=\"text-sm\">Click \"Generate Talking Points\" to create personalized negotiation points based on your profile</p>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      )}\r\n\r\n      {activeTab === 'scripts' && (\r\n        <div className=\"space-y-6\">\r\n          <Card className=\"p-6\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Generate Negotiation Script</h2>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Select Scenario\r\n                </label>\r\n                <select\r\n                  value={selectedScenario}\r\n                  onChange={(e) => setSelectedScenario(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  <option value=\"Initial Offer Too Low\">Initial Offer Too Low</option>\r\n                  <option value=\"Benefits Negotiation\">Benefits Negotiation</option>\r\n                  <option value=\"Equity Discussion\">Equity Discussion</option>\r\n                  <option value=\"Remote Work\">Remote Work</option>\r\n                  <option value=\"Sign-on Bonus\">Sign-on Bonus</option>\r\n                  <option value=\"Performance Review\">Performance Review</option>\r\n                  <option value=\"Promotion\">Promotion</option>\r\n                  <option value=\"Counter Offer\">Counter Offer (from another company)</option>\r\n                  <option value=\"Custom\">Custom Scenario</option>\r\n                </select>\r\n              </div>\r\n\r\n              {selectedScenario === 'Custom' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Describe Your Scenario\r\n                  </label>\r\n                  <textarea\r\n                    value={customScenario}\r\n                    onChange={(e) => setCustomScenario(e.target.value)}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    rows=\"3\"\r\n                    placeholder=\"Describe the negotiation scenario...\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <Button onClick={handleGenerateScript} disabled={loading}>\r\n                Generate Script\r\n              </Button>\r\n            </div>\r\n          </Card>\r\n\r\n          {negotiation.scripts && negotiation.scripts.length > 0 && (\r\n            <div className=\"space-y-6\">\r\n              {negotiation.scripts.map((script, idx) => (\r\n                <Card key={idx} className=\"p-6\">\r\n                  <div className=\"mb-4\">\r\n                    <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\">\r\n                      {script.scenario}\r\n                    </span>\r\n                    {script.customScenario && (\r\n                      <p className=\"text-sm text-gray-600 mt-2\">{script.customScenario}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"space-y-4\">\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-gray-900 mb-2\">Opening Statement</h3>\r\n                      <p className=\"text-gray-700 bg-gray-50 p-4 rounded-lg\">{script.opening}</p>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-gray-900 mb-2\">Key Points to Make</h3>\r\n                      <ul className=\"list-disc list-inside space-y-2\">\r\n                        {script.keyPoints.map((point, pidx) => (\r\n                          <li key={pidx} className=\"text-gray-700\">{point}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n\r\n                    {script.closingStatement && (\r\n                      <div>\r\n                        <h3 className=\"font-semibold text-gray-900 mb-2\">Closing Statement</h3>\r\n                        <p className=\"text-gray-700 bg-gray-50 p-4 rounded-lg\">{script.closingStatement}</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {script.alternativeResponses && script.alternativeResponses.length > 0 && (\r\n                      <div>\r\n                        <h3 className=\"font-semibold text-gray-900 mb-2\">If They Say...</h3>\r\n                        <div className=\"space-y-3\">\r\n                          {script.alternativeResponses.map((alt, aidx) => (\r\n                            <div key={aidx} className=\"bg-yellow-50 p-4 rounded-lg\">\r\n                              <p className=\"text-sm font-medium text-gray-900 mb-1\">\r\n                                \"{alt.situation}\"\r\n                              </p>\r\n                              <p className=\"text-sm text-gray-700\">\r\n                                <strong>Respond:</strong> {alt.response}\r\n                              </p>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'offers' && (\r\n        <div className=\"space-y-6\">\r\n          <Card className=\"p-6\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Add Offer Details</h2>\r\n            <form onSubmit={handleAddOffer}>\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Offer Type\r\n                  </label>\r\n                  <select\r\n                    value={offerForm.type}\r\n                    onChange={(e) => setOfferForm({ ...offerForm, type: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"Initial\">Initial Offer</option>\r\n                    <option value=\"Counter\">Counter Offer</option>\r\n                    <option value=\"Final\">Final Offer</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Base Salary *\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={offerForm.baseSalary}\r\n                      onChange={(e) => setOfferForm({ ...offerForm, baseSalary: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Signing Bonus\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={offerForm.signingBonus}\r\n                      onChange={(e) => setOfferForm({ ...offerForm, signingBonus: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Performance Bonus\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={offerForm.performanceBonus}\r\n                      onChange={(e) => setOfferForm({ ...offerForm, performanceBonus: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Equity/Stock Options\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={offerForm.equity}\r\n                    onChange={(e) => setOfferForm({ ...offerForm, equity: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"e.g., 10,000 RSUs over 4 years\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"border-t pt-4\">\r\n                  <h3 className=\"font-semibold mb-3\">Benefits Package</h3>\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n                    <label className=\"flex items-center gap-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={offerForm.benefits.healthInsurance}\r\n                        onChange={(e) => setOfferForm({\r\n                          ...offerForm,\r\n                          benefits: { ...offerForm.benefits, healthInsurance: e.target.checked }\r\n                        })}\r\n                        className=\"rounded\"\r\n                      />\r\n                      <span className=\"text-sm\">Health Insurance</span>\r\n                    </label>\r\n                    <label className=\"flex items-center gap-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={offerForm.benefits.dentalInsurance}\r\n                        onChange={(e) => setOfferForm({\r\n                          ...offerForm,\r\n                          benefits: { ...offerForm.benefits, dentalInsurance: e.target.checked }\r\n                        })}\r\n                        className=\"rounded\"\r\n                      />\r\n                      <span className=\"text-sm\">Dental Insurance</span>\r\n                    </label>\r\n                    <label className=\"flex items-center gap-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={offerForm.benefits.visionInsurance}\r\n                        onChange={(e) => setOfferForm({\r\n                          ...offerForm,\r\n                          benefits: { ...offerForm.benefits, visionInsurance: e.target.checked }\r\n                        })}\r\n                        className=\"rounded\"\r\n                      />\r\n                      <span className=\"text-sm\">Vision Insurance</span>\r\n                    </label>\r\n                    <label className=\"flex items-center gap-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={offerForm.benefits.retirement401k}\r\n                        onChange={(e) => setOfferForm({\r\n                          ...offerForm,\r\n                          benefits: { ...offerForm.benefits, retirement401k: e.target.checked }\r\n                        })}\r\n                        className=\"rounded\"\r\n                      />\r\n                      <span className=\"text-sm\">401(k)</span>\r\n                    </label>\r\n                    <label className=\"flex items-center gap-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={offerForm.benefits.flexibleSchedule}\r\n                        onChange={(e) => setOfferForm({\r\n                          ...offerForm,\r\n                          benefits: { ...offerForm.benefits, flexibleSchedule: e.target.checked }\r\n                        })}\r\n                        className=\"rounded\"\r\n                      />\r\n                      <span className=\"text-sm\">Flexible Schedule</span>\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        PTO Days\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={offerForm.benefits.paidTimeOff}\r\n                        onChange={(e) => setOfferForm({\r\n                          ...offerForm,\r\n                          benefits: { ...offerForm.benefits, paidTimeOff: e.target.value }\r\n                        })}\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        Remote Work\r\n                      </label>\r\n                      <select\r\n                        value={offerForm.benefits.remoteWork}\r\n                        onChange={(e) => setOfferForm({\r\n                          ...offerForm,\r\n                          benefits: { ...offerForm.benefits, remoteWork: e.target.value }\r\n                        })}\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      >\r\n                        <option value=\"\">Select</option>\r\n                        <option value=\"Full\">Full Remote</option>\r\n                        <option value=\"Hybrid\">Hybrid</option>\r\n                        <option value=\"None\">On-site</option>\r\n                      </select>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        401(k) Match\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={offerForm.benefits.retirementMatch}\r\n                        onChange={(e) => setOfferForm({\r\n                          ...offerForm,\r\n                          benefits: { ...offerForm.benefits, retirementMatch: e.target.value }\r\n                        })}\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                        placeholder=\"e.g., 5% match\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <Button type=\"submit\" disabled={loading}>\r\n                  Add Offer\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </Card>\r\n\r\n          {negotiation.offers && negotiation.offers.length > 0 && (\r\n            <>\r\n              <Card className=\"p-6\">\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                  <h2 className=\"text-xl font-bold\">Offer History</h2>\r\n                  <Button\r\n                    onClick={handleEvaluateCounteroffer}\r\n                    variant=\"outline\"\r\n                    disabled={loading}\r\n                  >\r\n                    Evaluate Latest Offer\r\n                  </Button>\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                  {negotiation.offers.map((offer, idx) => (\r\n                    <div key={idx} className=\"border border-gray-200 rounded-lg p-4\">\r\n                      <div className=\"flex justify-between items-start mb-3\">\r\n                        <div>\r\n                          <span className={`px-2 py-1 rounded text-xs font-medium ${\r\n                            offer.type === 'Initial' ? 'bg-blue-100 text-blue-800' :\r\n                            offer.type === 'Counter' ? 'bg-yellow-100 text-yellow-800' :\r\n                            'bg-green-100 text-green-800'\r\n                          }`}>\r\n                            {offer.type} Offer\r\n                          </span>\r\n                          <p className=\"text-sm text-gray-600 mt-2\">\r\n                            {new Date(offer.receivedDate).toLocaleDateString()}\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <p className=\"text-2xl font-bold text-gray-900\">\r\n                            ${offer.totalCompensation.toLocaleString()}\r\n                          </p>\r\n                          <p className=\"text-sm text-gray-600\">Total Compensation</p>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 pt-3 border-t\">\r\n                        <div>\r\n                          <p className=\"text-xs text-gray-600\">Base Salary</p>\r\n                          <p className=\"font-semibold\">${offer.baseSalary.toLocaleString()}</p>\r\n                        </div>\r\n                        {offer.signingBonus > 0 && (\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-600\">Signing Bonus</p>\r\n                            <p className=\"font-semibold\">${offer.signingBonus.toLocaleString()}</p>\r\n                          </div>\r\n                        )}\r\n                        {offer.performanceBonus > 0 && (\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-600\">Performance Bonus</p>\r\n                            <p className=\"font-semibold\">${offer.performanceBonus.toLocaleString()}</p>\r\n                          </div>\r\n                        )}\r\n                        {offer.equity && (\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-600\">Equity</p>\r\n                            <p className=\"font-semibold text-sm\">{offer.equity}</p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {offer.benefits && (\r\n                        <div className=\"mt-3 pt-3 border-t\">\r\n                          <p className=\"text-xs text-gray-600 mb-2\">Benefits</p>\r\n                          <div className=\"flex flex-wrap gap-2\">\r\n                            {offer.benefits.healthInsurance && (\r\n                              <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded text-xs\">Health</span>\r\n                            )}\r\n                            {offer.benefits.retirement401k && (\r\n                              <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded text-xs\">401(k)</span>\r\n                            )}\r\n                            {offer.benefits.paidTimeOff && (\r\n                              <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs\">\r\n                                {offer.benefits.paidTimeOff} PTO days\r\n                              </span>\r\n                            )}\r\n                            {offer.benefits.remoteWork && (\r\n                              <span className=\"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs\">\r\n                                {offer.benefits.remoteWork} Remote\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'counteroffer' && (\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-4\">Counteroffer Evaluation</h2>\r\n          \r\n          {counterofferEval ? (\r\n            <div className=\"space-y-6\">\r\n              <div className={`p-6 rounded-lg ${\r\n                counterofferEval.evaluation.recommendation === 'Accept' ? 'bg-green-50 border border-green-200' :\r\n                counterofferEval.evaluation.recommendation.includes('Minor') ? 'bg-blue-50 border border-blue-200' :\r\n                'bg-yellow-50 border border-yellow-200'\r\n              }`}>\r\n                <h3 className=\"text-lg font-bold mb-2\">Recommendation: {counterofferEval.evaluation.recommendation}</h3>\r\n                <p className=\"text-gray-700\">{counterofferEval.evaluation.reasoning}</p>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <Card className={`p-4 ${counterofferEval.evaluation.meetsMinimum ? 'bg-green-50' : 'bg-red-50'}`}>\r\n                  <p className=\"text-sm text-gray-600 mb-1\">Meets Minimum?</p>\r\n                  <p className=\"text-xl font-bold\">{counterofferEval.evaluation.meetsMinimum ? 'Yes Γ£ô' : 'No Γ£ù'}</p>\r\n                </Card>\r\n                <Card className={`p-4 ${counterofferEval.evaluation.meetsTarget ? 'bg-green-50' : 'bg-yellow-50'}`}>\r\n                  <p className=\"text-sm text-gray-600 mb-1\">Meets Target?</p>\r\n                  <p className=\"text-xl font-bold\">{counterofferEval.evaluation.meetsTarget ? 'Yes Γ£ô' : 'No Γ£ù'}</p>\r\n                </Card>\r\n                <Card className={`p-4 ${counterofferEval.evaluation.meetsIdeal ? 'bg-green-50' : 'bg-gray-50'}`}>\r\n                  <p className=\"text-sm text-gray-600 mb-1\">Meets Ideal?</p>\r\n                  <p className=\"text-xl font-bold\">{counterofferEval.evaluation.meetsIdeal ? 'Yes Γ£ô' : 'No Γ£ù'}</p>\r\n                </Card>\r\n              </div>\r\n\r\n              {counterofferEval.counterofferSuggestions && counterofferEval.counterofferSuggestions.length > 0 && (\r\n                <div>\r\n                  <h3 className=\"text-lg font-bold mb-4\">Counteroffer Suggestions</h3>\r\n                  <div className=\"space-y-4\">\r\n                    {counterofferEval.counterofferSuggestions.map((suggestion, idx) => (\r\n                      <div key={idx} className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                        <div className=\"flex justify-between items-start mb-2\">\r\n                          <h4 className=\"font-semibold text-gray-900\">{suggestion.type}</h4>\r\n                          <div className=\"text-right\">\r\n                            <p className=\"text-sm text-gray-600\">Current: ${suggestion.current?.toLocaleString() || suggestion.current}</p>\r\n                            <p className=\"text-sm font-bold text-blue-600\">\r\n                              Proposed: ${suggestion.proposed?.toLocaleString() || suggestion.proposed}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-700\">{suggestion.justification}</p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                <h4 className=\"font-semibold mb-2\">Your Negotiation Goals</h4>\r\n                <div className=\"grid grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Minimum</p>\r\n                    <p className=\"font-bold\">${counterofferEval.negotiationGoals.minimum.toLocaleString()}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Target</p>\r\n                    <p className=\"font-bold\">${counterofferEval.negotiationGoals.target.toLocaleString()}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Ideal</p>\r\n                    <p className=\"font-bold\">${counterofferEval.negotiationGoals.ideal.toLocaleString()}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12\">\r\n              <p className=\"text-gray-600 mb-4\">No offer evaluation yet</p>\r\n              <p className=\"text-sm text-gray-500 mb-6\">Add an offer first, then click \"Evaluate Latest Offer\"</p>\r\n              <Button onClick={() => setActiveTab('offers')}>\r\n                Go to Offers\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      )}\r\n\r\n      {activeTab === 'confidence' && (\r\n        <div className=\"space-y-6\">\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex justify-between items-start mb-6\">\r\n              <div>\r\n                <h2 className=\"text-xl font-bold\">Confidence-Building Exercises</h2>\r\n                <p className=\"text-gray-600 mt-1\">Build your negotiation confidence with these exercises</p>\r\n              </div>\r\n              <Button onClick={() => handleAddConfidenceExercises(null)} disabled={loading}>\r\n                Add All Exercises\r\n              </Button>\r\n            </div>\r\n\r\n            {negotiation.confidenceExercises && negotiation.confidenceExercises.length > 0 ? (\r\n              <div className=\"space-y-4\">\r\n                {negotiation.confidenceExercises.map((exercise, idx) => (\r\n                  <div\r\n                    key={idx}\r\n                    className={`p-4 rounded-lg border ${\r\n                      exercise.completed ? 'bg-green-50 border-green-200' : 'bg-white border-gray-200'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex justify-between items-start mb-3\">\r\n                      <div className=\"flex items-start gap-3 flex-1\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={exercise.completed}\r\n                          onChange={() => !exercise.completed && handleCompleteExercise(exercise._id)}\r\n                          className=\"mt-1 rounded\"\r\n                          disabled={exercise.completed}\r\n                        />\r\n                        <div className=\"flex-1\">\r\n                          <h3 className=\"font-semibold text-gray-900\">{exercise.exerciseType}</h3>\r\n                          <p className=\"text-sm text-gray-700 mt-2\">{exercise.description}</p>\r\n                          {exercise.completed && exercise.completedDate && (\r\n                            <p className=\"text-xs text-green-600 mt-2\">\r\n                              Γ£ô Completed on {new Date(exercise.completedDate).toLocaleDateString()}\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-12 text-gray-500\">\r\n                <p className=\"mb-4\">No exercises added yet</p>\r\n                <p className=\"text-sm\">Click \"Add All Exercises\" to get started with confidence-building activities</p>\r\n              </div>\r\n            )}\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'timing' && (\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">Negotiation Timing Strategy</h2>\r\n          \r\n          {timingStrategy ? (\r\n            <div className=\"space-y-6\">\r\n              {timingStrategy.strategies.map((strategy, idx) => (\r\n                <div key={idx} className=\"border-l-4 border-blue-500 pl-4 py-2\">\r\n                  <div className=\"flex justify-between items-start mb-2\">\r\n                    <h3 className=\"font-bold text-gray-900\">{strategy.phase}</h3>\r\n                    <span className=\"text-sm text-gray-600\">{strategy.timing}</span>\r\n                  </div>\r\n                  <p className=\"text-sm font-medium text-blue-600 mb-2\">{strategy.strategy}</p>\r\n                  <ul className=\"list-disc list-inside space-y-1 mb-2\">\r\n                    {strategy.actions.map((action, aidx) => (\r\n                      <li key={aidx} className=\"text-sm text-gray-700\">{action}</li>\r\n                    ))}\r\n                  </ul>\r\n                  <p className=\"text-sm text-gray-600 italic\">{strategy.rationale}</p>\r\n                </div>\r\n              ))}\r\n\r\n              {timingStrategy.deadlineAdvice && (\r\n                <div className={`p-6 rounded-lg ${\r\n                  timingStrategy.deadlineAdvice.urgency === 'High' ? 'bg-red-50 border border-red-200' :\r\n                  timingStrategy.deadlineAdvice.urgency === 'Medium' ? 'bg-yellow-50 border border-yellow-200' :\r\n                  'bg-blue-50 border border-blue-200'\r\n                }`}>\r\n                  <h3 className=\"font-bold mb-2\">Your Offer Deadline</h3>\r\n                  <p className=\"text-2xl font-bold mb-2\">\r\n                    {timingStrategy.deadlineAdvice.daysRemaining} days remaining\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-700 mb-2\">\r\n                    Deadline: {new Date(timingStrategy.deadlineAdvice.deadline).toLocaleDateString()}\r\n                  </p>\r\n                  <p className=\"text-sm font-medium\">{timingStrategy.deadlineAdvice.recommendation}</p>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"bg-gray-50 rounded-lg p-6\">\r\n                <h3 className=\"font-bold mb-3\">General Timing Tips</h3>\r\n                <ul className=\"space-y-2\">\r\n                  {timingStrategy.generalTips.map((tip, idx) => (\r\n                    <li key={idx} className=\"flex items-start gap-2 text-sm text-gray-700\">\r\n                      <span className=\"text-blue-600 mt-0.5\">ΓÇó</span>\r\n                      <span>{tip}</span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12\">\r\n              <LoadingSpinner />\r\n              <p className=\"text-gray-600 mt-4\">Loading timing strategies...</p>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SalaryNegotiationPrep;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\SalaryResearch.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'compareMode' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":70,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":70,"endColumn":21,"suggestions":[{"messageId":"removeVar","data":{"varName":"compareMode"},"fix":{"range":[2038,2049],"text":""},"desc":"Remove unused variable 'compareMode'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchSalaryResearch'. Either include it or remove the dependency array.","line":95,"column":6,"nodeType":"ArrayExpression","endLine":95,"endColumn":13,"suggestions":[{"desc":"Update the dependencies array to be: [fetchSalaryResearch, jobId]","fix":{"range":[3336,3343],"text":"[fetchSalaryResearch, jobId]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":122,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":122,"endColumn":19},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1431,"column":21,"nodeType":"JSXOpeningElement","endLine":1431,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1445,"column":23,"nodeType":"JSXOpeningElement","endLine":1445,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1456,"column":23,"nodeType":"JSXOpeningElement","endLine":1456,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1470,"column":23,"nodeType":"JSXOpeningElement","endLine":1470,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1481,"column":23,"nodeType":"JSXOpeningElement","endLine":1481,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1495,"column":21,"nodeType":"JSXOpeningElement","endLine":1495,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1509,"column":23,"nodeType":"JSXOpeningElement","endLine":1509,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1520,"column":23,"nodeType":"JSXOpeningElement","endLine":1520,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1533,"column":21,"nodeType":"JSXOpeningElement","endLine":1533,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1545,"column":21,"nodeType":"JSXOpeningElement","endLine":1545,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1561,"column":21,"nodeType":"JSXOpeningElement","endLine":1561,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1640,"column":23,"nodeType":"JSXOpeningElement","endLine":1640,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1652,"column":23,"nodeType":"JSXOpeningElement","endLine":1652,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1667,"column":23,"nodeType":"JSXOpeningElement","endLine":1667,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1678,"column":23,"nodeType":"JSXOpeningElement","endLine":1678,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1691,"column":21,"nodeType":"JSXOpeningElement","endLine":1691,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1707,"column":23,"nodeType":"JSXOpeningElement","endLine":1707,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1720,"column":23,"nodeType":"JSXOpeningElement","endLine":1720,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1736,"column":23,"nodeType":"JSXOpeningElement","endLine":1736,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1749,"column":23,"nodeType":"JSXOpeningElement","endLine":1749,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1764,"column":21,"nodeType":"JSXOpeningElement","endLine":1764,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1793,"column":23,"nodeType":"JSXOpeningElement","endLine":1793,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1807,"column":23,"nodeType":"JSXOpeningElement","endLine":1807,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1823,"column":21,"nodeType":"JSXOpeningElement","endLine":1823,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1837,"column":21,"nodeType":"JSXOpeningElement","endLine":1837,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":1854,"column":21,"nodeType":"JSXOpeningElement","endLine":1854,"endColumn":85}],"suppressedMessages":[],"errorCount":28,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  getSalaryResearch,\r\n  compareSalaries,\r\n  exportSalaryReport,\r\n  getProgressionAnalytics,\r\n  generateAdvancementRecommendations,\r\n  trackSalaryOffer,\r\n  updateSalaryOffer,\r\n  deleteSalaryOffer,\r\n  getSalaryProgression\r\n} from '../api/salary';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport BLSSalaryBenchmarks from './BLSSalaryBenchmarks';\r\nimport CareerGrowthCalculator from './CareerGrowthCalculator';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  RadarChart,\r\n  PolarGrid,\r\n  PolarAngleAxis,\r\n  PolarRadiusAxis,\r\n  Radar,\r\n  Area,\r\n  AreaChart\r\n} from 'recharts';\r\n\r\n/**\r\n * UC-067: Salary Research and Benchmarking Component\r\n * UC-100: Salary Progression and Market Positioning\r\n * UC-112: BLS Salary Data Integration\r\n * \r\n * Features:\r\n * - Display salary ranges for similar positions\r\n * - Real BLS salary data with percentiles\r\n * - Factor in location, experience level, and company size\r\n * - Show total compensation including benefits\r\n * - Compare salary across different companies\r\n * - Historical salary trend data\r\n * - Negotiation recommendations based on market data\r\n * - Salary comparison with user's current compensation\r\n * - Export salary research reports\r\n * - Track salary progression and career growth over time\r\n * - Analyze negotiation success rates and patterns\r\n * - Monitor market positioning and compensation evolution\r\n * - Generate advancement recommendations based on data\r\n */\r\nconst SalaryResearch = () => {\r\n  const { jobId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [salaryData, setSalaryData] = useState(null);\r\n  const [compareMode, setCompareMode] = useState(false);\r\n  const [selectedJobs, setSelectedJobs] = useState([]);\r\n  const [comparisonData, setComparisonData] = useState(null);\r\n  const [exportLoading, setExportLoading] = useState(false);\r\n  \r\n  // UC-100: Progression state\r\n  const [progressionAnalytics, setProgressionAnalytics] = useState(null);\r\n  const [advancementRecommendations, setAdvancementRecommendations] = useState(null);\r\n  const [showProgressionSection, setShowProgressionSection] = useState(false);\r\n  const [trackOfferModalOpen, setTrackOfferModalOpen] = useState(false);\r\n  const [editOfferModalOpen, setEditOfferModalOpen] = useState(false);\r\n  const [editingOffer, setEditingOffer] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [trackedOffers, setTrackedOffers] = useState([]);\r\n  const [deleteConfirmModalOpen, setDeleteConfirmModalOpen] = useState(false);\r\n  const [offerToDelete, setOfferToDelete] = useState(null);\r\n  \r\n  // UC-128: Career Growth Calculator state\r\n  const [showCareerGrowthCalculator, setShowCareerGrowthCalculator] = useState(false);\r\n\r\n  const CHART_COLORS = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899'];\r\n\r\n  useEffect(() => {\r\n    fetchSalaryResearch();\r\n    fetchProgressionAnalytics();\r\n  }, [jobId]);\r\n\r\n  const fetchSalaryResearch = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await getSalaryResearch(jobId);\r\n      console.log('Salary research response:', response.data.data);\r\n      setSalaryData(response.data.data);\r\n    } catch (err) {\r\n      console.error('Error fetching salary research:', err);\r\n      console.error('Error details:', err.response?.data);\r\n      setError(err.response?.data?.message || 'Failed to load salary research');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchProgressionAnalytics = async () => {\r\n    try {\r\n      const response = await getProgressionAnalytics();\r\n      setProgressionAnalytics(response.data.data.analytics);\r\n      \r\n      // Also fetch the full progression data to get tracked offers\r\n      try {\r\n        const progressionResponse = await getSalaryProgression();\r\n        setTrackedOffers(progressionResponse.data.data.progression.salaryOffers || []);\r\n      } catch (err) {\r\n        // Offers might not exist yet\r\n        console.log('No tracked offers yet');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching progression analytics:', err);\r\n      // Don't show error if no progression data exists yet\r\n      if (err.response?.status !== 404) {\r\n        console.error('Progression analytics error:', err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchRecommendations = async () => {\r\n    try {\r\n      const response = await generateAdvancementRecommendations();\r\n      setAdvancementRecommendations(response.data.data.recommendations);\r\n    } catch (err) {\r\n      console.error('Error generating recommendations:', err);\r\n      setError(err.response?.data?.message || 'Failed to generate recommendations');\r\n    }\r\n  };\r\n\r\n  const handleTrackOffer = async (offerData) => {\r\n    try {\r\n      await trackSalaryOffer({\r\n        ...offerData,\r\n        jobId: jobId\r\n      });\r\n      setTrackOfferModalOpen(false);\r\n      // Refresh analytics\r\n      await fetchProgressionAnalytics();\r\n      setSuccessMessage('Salary offer tracked successfully!');\r\n      setTimeout(() => setSuccessMessage(null), 5000);\r\n    } catch (err) {\r\n      console.error('Error tracking offer:', err);\r\n      setError(err.response?.data?.message || 'Failed to track offer');\r\n    }\r\n  };\r\n\r\n  const handleEditOffer = (offer) => {\r\n    setEditingOffer(offer);\r\n    setEditOfferModalOpen(true);\r\n  };\r\n\r\n  const handleUpdateOffer = async (offerData) => {\r\n    try {\r\n      await updateSalaryOffer(editingOffer._id, offerData);\r\n      setEditOfferModalOpen(false);\r\n      setEditingOffer(null);\r\n      // Refresh analytics\r\n      await fetchProgressionAnalytics();\r\n      setSuccessMessage('Salary offer updated successfully!');\r\n      setTimeout(() => setSuccessMessage(null), 5000);\r\n    } catch (err) {\r\n      console.error('Error updating offer:', err);\r\n      setError(err.response?.data?.message || 'Failed to update offer');\r\n    }\r\n  };\r\n\r\n  const handleDeleteOffer = async (offerId) => {\r\n    setOfferToDelete(offerId);\r\n    setDeleteConfirmModalOpen(true);\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!offerToDelete) return;\r\n    \r\n    try {\r\n      await deleteSalaryOffer(offerToDelete);\r\n      // Refresh analytics\r\n      await fetchProgressionAnalytics();\r\n      // Set frontend success message\r\n      setSuccessMessage('Salary offer deleted successfully!');\r\n      setTimeout(() => setSuccessMessage(null), 5000);\r\n    } catch (err) {\r\n      console.error('Error deleting offer:', err);\r\n      // Set frontend error message\r\n      setError('Failed to delete offer. Please try again.');\r\n      setTimeout(() => setError(null), 5000);\r\n    } finally {\r\n      setDeleteConfirmModalOpen(false);\r\n      setOfferToDelete(null);\r\n    }\r\n  };\r\n\r\n  const handleCompare = async () => {\r\n    if (selectedJobs.length === 0) {\r\n      alert('Please select at least one job to compare');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const jobIdsToCompare = [jobId, ...selectedJobs];\r\n      const response = await compareSalaries(jobIdsToCompare);\r\n      setComparisonData(response.data.data);\r\n      setCompareMode(true);\r\n    } catch (err) {\r\n      console.error('Error comparing salaries:', err);\r\n      setError(err.response?.data?.message || 'Failed to compare salaries');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleExport = async (format = 'json') => {\r\n    try {\r\n      setExportLoading(true);\r\n      const response = await exportSalaryReport(jobId, format);\r\n      const data = response.data.data;\r\n\r\n      // Create download\r\n      const content = format === 'markdown' ? data.content : JSON.stringify(data.data, null, 2);\r\n      const blob = new Blob([content], { \r\n        type: format === 'markdown' ? 'text/markdown' : 'application/json' \r\n      });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = data.filename;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      console.error('Error exporting report:', err);\r\n      setError(err.response?.data?.message || 'Failed to export report');\r\n    } finally {\r\n      setExportLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading && !salaryData) {\r\n    return (\r\n      <div className=\"flex flex-col justify-center items-center min-h-screen\">\r\n        <LoadingSpinner size=\"large\" />\r\n        <p className=\"mt-4 text-gray-600\">Loading salary research data...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error && !salaryData) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <ErrorMessage message={error} />\r\n        <Button onClick={() => navigate('/jobs')} className=\"mt-4\">\r\n          Back to Jobs\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!salaryData) return null;\r\n\r\n  const { job = {}, marketData, factors, similarPositions, historicalTrends, recommendations, salaryComparison } = salaryData;\r\n\r\n  // Prepare data for charts\r\n  const salaryBreakdownData = [\r\n    { name: 'Minimum', value: marketData.companySizeAdjusted.min },\r\n    { name: 'Median', value: marketData.companySizeAdjusted.median },\r\n    { name: 'Maximum', value: marketData.companySizeAdjusted.max },\r\n  ];\r\n\r\n  const totalCompData = [\r\n    { name: 'Base Salary', value: marketData.companySizeAdjusted.median },\r\n    { name: 'Benefits', value: marketData.companySizeAdjusted.benefits },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\r\n      {/* Success Message - Fixed at top */}\r\n      {successMessage && (\r\n        <div className=\"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md\">\r\n          <div className=\"mx-4 p-4 bg-green-50 border border-green-200 rounded-lg shadow-lg flex items-start\">\r\n            <svg className=\"w-5 h-5 text-green-600 mr-3 mt-0.5 shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n            <div className=\"flex-1\">\r\n              <p className=\"text-green-800 font-medium\">{successMessage}</p>\r\n            </div>\r\n            <button onClick={() => setSuccessMessage(null)} className=\"text-green-600 hover:text-green-800 shrink-0 ml-2\">\r\n              <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error Message - Fixed at top */}\r\n      {error && (\r\n        <div className=\"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md\">\r\n          <div className=\"mx-4 p-4 bg-red-50 border border-red-200 rounded-lg shadow-lg flex items-start\">\r\n            <svg className=\"w-5 h-5 text-red-600 mr-3 mt-0.5 shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n            <div className=\"flex-1\">\r\n              <p className=\"text-red-800 font-medium\">{error}</p>\r\n            </div>\r\n            <button onClick={() => setError(null)} className=\"text-red-600 hover:text-red-800 shrink-0 ml-2\">\r\n              <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Breadcrumb */}\r\n      <nav className=\"mb-6 text-sm text-gray-600\">\r\n        <button onClick={() => navigate('/jobs')} className=\"hover:text-blue-600\">Home</button>\r\n        <span className=\"mx-2\">ΓÇ║</span>\r\n        <button onClick={() => navigate('/jobs')} className=\"hover:text-blue-600\">Salary Research</button>\r\n        <span className=\"mx-2\">ΓÇ║</span>\r\n        <span className=\"text-gray-900\">{job?.title || jobId}</span>\r\n      </nav>\r\n\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <div className=\"flex justify-between items-start mb-4\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n              Salary Research & Benchmarking\r\n            </h1>\r\n            {job && (\r\n              <>\r\n                <p className=\"text-gray-600\">\r\n                  {job.title} at {job.company}\r\n                </p>\r\n                <p className=\"text-sm text-gray-500\">\r\n                  {job.location} ΓÇó {job.industry}\r\n                </p>\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              onClick={() => navigate(`/salary-negotiation/${jobId}`)}\r\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\r\n            >\r\n              Prepare Negotiation\r\n            </Button>\r\n            <Button\r\n              onClick={() => navigate('/offer-comparison')}\r\n              className=\"bg-purple-600 hover:bg-purple-700 text-white\"\r\n            >\r\n              Compare Offers\r\n            </Button>\r\n            <Button\r\n              onClick={() => handleExport('json')}\r\n              variant=\"outline\"\r\n              disabled={exportLoading}\r\n            >\r\n              {exportLoading ? 'Exporting...' : 'Export JSON'}\r\n            </Button>\r\n            <Button\r\n              onClick={() => handleExport('markdown')}\r\n              variant=\"outline\"\r\n              disabled={exportLoading}\r\n            >\r\n              Export Report\r\n            </Button>\r\n            <Button onClick={() => navigate('/jobs')} variant=\"outline\">\r\n              Back to Jobs\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* UC-112: BLS Salary Benchmarks - Real Government Data */}\r\n      <BLSSalaryBenchmarks jobId={jobId} />\r\n\r\n      {/* Market Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <Card className=\"p-6 bg-linear-to-br from-blue-50 to-blue-100\">\r\n          <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Median Salary</h3>\r\n          <p className=\"text-3xl font-bold text-blue-600\">\r\n            ${marketData.companySizeAdjusted.median.toLocaleString()}\r\n          </p>\r\n          <p className=\"text-xs text-gray-500 mt-1\">Base compensation</p>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 bg-linear-to-br from-green-50 to-green-100\">\r\n          <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Total Compensation</h3>\r\n          <p className=\"text-3xl font-bold text-green-600\">\r\n            ${marketData.totalCompensation.median.toLocaleString()}\r\n          </p>\r\n          <p className=\"text-xs text-gray-500 mt-1\">Including benefits</p>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 bg-linear-to-br from-purple-50 to-purple-100\">\r\n          <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Salary Range</h3>\r\n          <p className=\"text-xl font-bold text-purple-600\">\r\n            ${marketData.companySizeAdjusted.min.toLocaleString()} - ${marketData.companySizeAdjusted.max.toLocaleString()}\r\n          </p>\r\n          <p className=\"text-xs text-gray-500 mt-1\">Market range</p>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Adjustment Factors */}\r\n      <Card className=\"p-6 mb-8\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Adjustment Factors</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          <div className=\"border-l-4 border-blue-500 pl-4\">\r\n            <p className=\"text-sm text-gray-600\">Experience Level</p>\r\n            <p className=\"text-lg font-semibold\">{factors.experienceLevel}</p>\r\n          </div>\r\n          <div className=\"border-l-4 border-green-500 pl-4\">\r\n            <p className=\"text-sm text-gray-600\">Location</p>\r\n            <p className=\"text-lg font-semibold\">{factors.location}</p>\r\n            <p className=\"text-xs text-gray-500\">{factors.locationMultiplier}x multiplier</p>\r\n          </div>\r\n          <div className=\"border-l-4 border-purple-500 pl-4\">\r\n            <p className=\"text-sm text-gray-600\">Company Size</p>\r\n            <p className=\"text-lg font-semibold\">{factors.companySize}</p>\r\n            <p className=\"text-xs text-gray-500\">{factors.companySizeMultiplier}x multiplier</p>\r\n          </div>\r\n          <div className=\"border-l-4 border-orange-500 pl-4\">\r\n            <p className=\"text-sm text-gray-600\">Industry</p>\r\n            <p className=\"text-lg font-semibold\">{job?.industry || 'N/A'}</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Charts Row */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n        {/* Salary Breakdown */}\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">Salary Range Distribution</h2>\r\n          <div className=\"w-full h-80\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <BarChart data={salaryBreakdownData} margin={{ top: 20, right: 30, left: 20, bottom: 20 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                <XAxis \r\n                  dataKey=\"name\" \r\n                  tick={{ fontSize: 12 }}\r\n                  stroke=\"#6b7280\"\r\n                />\r\n                <YAxis \r\n                  tickFormatter={(value) => `$${(value / 1000).toFixed(0)}k`}\r\n                  tick={{ fontSize: 12 }}\r\n                  stroke=\"#6b7280\"\r\n                />\r\n                <Tooltip \r\n                  formatter={(value) => `$${value.toLocaleString()}`}\r\n                  contentStyle={{ borderRadius: '8px', border: '1px solid #e5e7eb' }}\r\n                />\r\n                <Bar dataKey=\"value\" fill=\"#3b82f6\" radius={[8, 8, 0, 0]} />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Total Compensation Breakdown */}\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6\">Total Compensation Breakdown</h2>\r\n          <div className=\"w-full h-80 flex items-center justify-center\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <PieChart>\r\n                <Pie\r\n                  data={totalCompData}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  labelLine={false}\r\n                  label={({ name, value }) => `${name}: $${(value / 1000).toFixed(0)}k`}\r\n                  outerRadius={110}\r\n                  fill=\"#8884d8\"\r\n                  dataKey=\"value\"\r\n                  paddingAngle={2}\r\n                >\r\n                  {totalCompData.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={CHART_COLORS[index % CHART_COLORS.length]} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip \r\n                  formatter={(value) => `$${value.toLocaleString()}`}\r\n                  contentStyle={{ borderRadius: '8px', border: '1px solid #e5e7eb' }}\r\n                />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Historical Trends */}\r\n      <Card className=\"p-6 mb-8\">\r\n        <h2 className=\"text-xl font-bold mb-6\">Historical Salary Trends (5 Years)</h2>\r\n        <div className=\"w-full h-80\">\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <LineChart data={historicalTrends} margin={{ top: 20, right: 30, left: 20, bottom: 20 }}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n              <XAxis \r\n                dataKey=\"year\" \r\n                tick={{ fontSize: 12 }}\r\n                stroke=\"#6b7280\"\r\n              />\r\n              <YAxis \r\n                tickFormatter={(value) => `$${(value / 1000).toFixed(0)}k`}\r\n                tick={{ fontSize: 12 }}\r\n                stroke=\"#6b7280\"\r\n              />\r\n              <Tooltip \r\n                formatter={(value) => `$${value.toLocaleString()}`}\r\n                contentStyle={{ borderRadius: '8px', border: '1px solid #e5e7eb' }}\r\n              />\r\n              <Legend \r\n                wrapperStyle={{ paddingTop: '20px' }}\r\n                iconType=\"line\"\r\n              />\r\n              <Line type=\"monotone\" dataKey=\"min\" stroke=\"#ef4444\" name=\"Minimum\" strokeWidth={2} dot={{ r: 4 }} />\r\n              <Line type=\"monotone\" dataKey=\"median\" stroke=\"#3b82f6\" name=\"Median\" strokeWidth={3} dot={{ r: 5 }} />\r\n              <Line type=\"monotone\" dataKey=\"max\" stroke=\"#10b981\" name=\"Maximum\" strokeWidth={2} dot={{ r: 4 }} />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n        <p className=\"text-sm text-gray-500 mt-6 text-center\">\r\n          Data shows approximately 4% annual growth in compensation\r\n        </p>\r\n      </Card>\r\n\r\n      {/* Compare Salaries Across Companies */}\r\n      <Card className=\"p-6 mb-8\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Compare Salaries Across Companies</h2>\r\n        <p className=\"text-gray-600 mb-4\">\r\n          Select similar positions from your job tracker to compare with this position\r\n        </p>\r\n        \r\n        {!comparisonData && similarPositions.count > 0 ? (\r\n          <>\r\n            <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      onChange={(e) => {\r\n                        if (e.target.checked) {\r\n                          setSelectedJobs(similarPositions.data.map(pos => pos.id));\r\n                        } else {\r\n                          setSelectedJobs([]);\r\n                        }\r\n                      }}\r\n                      className=\"rounded\"\r\n                    />\r\n                  </th>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Company</th>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Title</th>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Location</th>\r\n                  <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Salary Range</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {similarPositions.data.slice(0, 10).map((pos, index) => (\r\n                  <tr key={index} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-3\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedJobs.includes(pos.id)}\r\n                        onChange={(e) => {\r\n                          if (e.target.checked) {\r\n                            setSelectedJobs([...selectedJobs, pos.id]);\r\n                          } else {\r\n                            setSelectedJobs(selectedJobs.filter(id => id !== pos.id));\r\n                          }\r\n                        }}\r\n                        className=\"rounded\"\r\n                      />\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">{pos.company}</td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">{pos.title}</td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">{pos.location}</td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-900 text-right\">\r\n                      ${pos.min.toLocaleString()} - ${pos.max.toLocaleString()}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div className=\"mt-4 flex items-center gap-4\">\r\n            <Button\r\n              onClick={handleCompare}\r\n              disabled={selectedJobs.length === 0 || loading}\r\n              className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n            >\r\n              {loading ? 'Comparing...' : `Compare ${selectedJobs.length} Job${selectedJobs.length !== 1 ? 's' : ''}`}\r\n            </Button>\r\n            {selectedJobs.length > 0 && (\r\n              <button\r\n                onClick={() => setSelectedJobs([])}\r\n                className=\"text-sm text-gray-600 hover:text-gray-900\"\r\n              >\r\n                Clear Selection\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {similarPositions.average && (\r\n            <div className=\"bg-blue-50 p-4 rounded-lg mt-6\">\r\n              <h3 className=\"font-semibold text-blue-900 mb-2\">Average from Your Tracked Jobs</h3>\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div>\r\n                  <p className=\"text-sm text-blue-700\">Minimum</p>\r\n                  <p className=\"text-lg font-bold text-blue-900\">\r\n                    ${similarPositions.average.min.toLocaleString()}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-blue-700\">Median</p>\r\n                  <p className=\"text-lg font-bold text-blue-900\">\r\n                    ${similarPositions.average.median.toLocaleString()}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-blue-700\">Maximum</p>\r\n                  <p className=\"text-lg font-bold text-blue-900\">\r\n                    ${similarPositions.average.max.toLocaleString()}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          </>\r\n        ) : comparisonData ? (\r\n          <>\r\n            {/* Comparison Results */}\r\n            <div className=\"mb-4 flex items-center gap-2\">\r\n              <Button\r\n                onClick={() => {\r\n                  setComparisonData(null);\r\n                  setCompareMode(false);\r\n                  setSelectedJobs([]);\r\n                }}\r\n                variant=\"outline\"\r\n                className=\"text-sm\"\r\n              >\r\n                ΓåÉ Back to Selection\r\n              </Button>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Showing comparison of {comparisonData.count} positions\r\n              </p>\r\n            </div>\r\n\r\n            {/* Comparison Chart */}\r\n            <div className=\"bg-linear-to-r from-blue-50 to-purple-50 p-6 rounded-lg mb-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Total Compensation Comparison</h3>\r\n              <div className=\"space-y-3\">\r\n                {comparisonData.comparisons.map((comp, index) => (\r\n                  <div key={index} className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                    <div className=\"flex justify-between items-start mb-2\">\r\n                      <div>\r\n                        <h4 className=\"font-semibold text-gray-900\">{comp.company}</h4>\r\n                        <p className=\"text-sm text-gray-600\">{comp.title}</p>\r\n                        <p className=\"text-xs text-gray-500\">{comp.location} ΓÇó {comp.industry}</p>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <p className=\"text-2xl font-bold text-blue-600\">\r\n                          ${comp.totalCompensation.toLocaleString()}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-500\">Total Comp</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-3 gap-4 mt-3 pt-3 border-t border-gray-200\">\r\n                      <div>\r\n                        <p className=\"text-xs text-gray-500\">Base Salary</p>\r\n                        <p className=\"text-sm font-semibold text-gray-900\">\r\n                          ${comp.estimatedSalary.min.toLocaleString()} - ${comp.estimatedSalary.max.toLocaleString()}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-600\">\r\n                          Median: ${comp.estimatedSalary.median.toLocaleString()}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-xs text-gray-500\">Benefits Value</p>\r\n                        <p className=\"text-sm font-semibold text-green-600\">\r\n                          ${comp.estimatedSalary.benefits.toLocaleString()}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-xs text-gray-500\">Company Size</p>\r\n                        <p className=\"text-sm font-semibold text-gray-700\">\r\n                          {comp.companySize}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Summary Statistics */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <Card className=\"p-4 bg-green-50\">\r\n                <h4 className=\"text-sm font-medium text-gray-600 mb-1\">Highest Offer</h4>\r\n                <p className=\"text-xl font-bold text-green-600\">\r\n                  ${comparisonData.summary.highest.totalCompensation.toLocaleString()}\r\n                </p>\r\n                <p className=\"text-xs text-gray-600 mt-1\">{comparisonData.summary.highest.company}</p>\r\n              </Card>\r\n              <Card className=\"p-4 bg-blue-50\">\r\n                <h4 className=\"text-sm font-medium text-gray-600 mb-1\">Average</h4>\r\n                <p className=\"text-xl font-bold text-blue-600\">\r\n                  ${comparisonData.summary.average.toLocaleString()}\r\n                </p>\r\n                <p className=\"text-xs text-gray-600 mt-1\">Across all positions</p>\r\n              </Card>\r\n              <Card className=\"p-4 bg-orange-50\">\r\n                <h4 className=\"text-sm font-medium text-gray-600 mb-1\">Lowest Offer</h4>\r\n                <p className=\"text-xl font-bold text-orange-600\">\r\n                  ${comparisonData.summary.lowest.totalCompensation.toLocaleString()}\r\n                </p>\r\n                <p className=\"text-xs text-gray-600 mt-1\">{comparisonData.summary.lowest.company}</p>\r\n              </Card>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"text-center py-8 text-gray-500\">\r\n            <p className=\"mb-2\">No similar positions available for comparison at this time</p>\r\n            <p className=\"text-sm\">\r\n              Save more jobs to your tracker to see salary comparisons\r\n            </p>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Salary Comparison with Current Compensation - Always visible */}\r\n      <Card className=\"p-6 mb-8 bg-linear-to-r from-purple-50 to-pink-50\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Comparison with Your Current Compensation</h2>\r\n        {salaryComparison ? (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600 mb-1\">Your Current Salary</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">\r\n                ${salaryComparison.current.toLocaleString()}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600 mb-1\">Target Salary</p>\r\n              <p className=\"text-2xl font-bold text-blue-600\">\r\n                ${salaryComparison.target.toLocaleString()}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600 mb-1\">Potential Increase</p>\r\n              <p className={`text-2xl font-bold ${salaryComparison.difference >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                {salaryComparison.difference >= 0 ? '+' : ''}${salaryComparison.difference.toLocaleString()}\r\n              </p>\r\n              <p className=\"text-sm text-gray-600\">\r\n                ({salaryComparison.percentageIncrease}% change)\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white/50 border border-purple-200 rounded-lg p-6\">\r\n            <div className=\"flex items-start gap-4\">\r\n              <div className=\"shrink-0\">\r\n                <svg className=\"w-12 h-12 text-purple-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Add Your Current Salary</h3>\r\n                <p className=\"text-gray-600 mb-4\">\r\n                  To see how this position compares with your current compensation, please update your employment information in your profile settings with your current salary.\r\n                </p>\r\n                <div className=\"bg-blue-50 border border-blue-200 rounded p-3 text-sm text-blue-800\">\r\n                  <strong>≡ƒÆí Tip:</strong> Adding your current salary helps you:\r\n                  <ul className=\"list-disc list-inside mt-2 space-y-1\">\r\n                    <li>See potential salary increases</li>\r\n                    <li>Make informed career decisions</li>\r\n                    <li>Negotiate more effectively</li>\r\n                  </ul>\r\n                </div>\r\n                <Button\r\n                  onClick={() => navigate('/profile')}\r\n                  className=\"mt-4 bg-purple-600 hover:bg-purple-700 text-white\"\r\n                >\r\n                  Update Profile\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Negotiation Preparation CTA */}\r\n      <Card className=\"p-6 mb-8 bg-linear-to-r from-green-50 to-emerald-50 border-2 border-green-200\">\r\n        <div className=\"flex items-start gap-6\">\r\n          <div className=\"shrink-0\">\r\n            <div className=\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center\">\r\n              <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n              Ready to Negotiate Your Offer?\r\n            </h2>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              Use our comprehensive negotiation preparation tools to confidently negotiate your salary. \r\n              Get personalized talking points, negotiation scripts for different scenarios, counteroffer \r\n              evaluation, and confidence-building exercises based on your research and experience.\r\n            </p>\r\n            <div className=\"flex flex-wrap gap-3 mb-4\">\r\n              <span className=\"px-3 py-1 bg-white rounded-full text-sm font-medium text-gray-700 shadow-sm\">\r\n                Γ£ô Talking Points Generator\r\n              </span>\r\n              <span className=\"px-3 py-1 bg-white rounded-full text-sm font-medium text-gray-700 shadow-sm\">\r\n                Γ£ô Negotiation Scripts\r\n              </span>\r\n              <span className=\"px-3 py-1 bg-white rounded-full text-sm font-medium text-gray-700 shadow-sm\">\r\n                Γ£ô Counteroffer Evaluation\r\n              </span>\r\n              <span className=\"px-3 py-1 bg-white rounded-full text-sm font-medium text-gray-700 shadow-sm\">\r\n                Γ£ô Timing Strategy\r\n              </span>\r\n              <span className=\"px-3 py-1 bg-white rounded-full text-sm font-medium text-gray-700 shadow-sm\">\r\n                Γ£ô Confidence Exercises\r\n              </span>\r\n            </div>\r\n            <Button\r\n              onClick={() => navigate(`/salary-negotiation/${jobId}`)}\r\n              className=\"bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 text-lg\"\r\n            >\r\n              Start Negotiation Preparation ΓåÆ\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Negotiation Recommendations */}\r\n      <Card className=\"p-6 mb-8\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Negotiation Recommendations</h2>\r\n        <div className=\"space-y-4\">\r\n          {recommendations.map((rec, index) => (\r\n            <div\r\n              key={index}\r\n              className={`p-4 rounded-lg border-l-4 ${\r\n                rec.confidence === 'High'\r\n                  ? 'bg-green-50 border-green-500'\r\n                  : rec.confidence === 'Medium'\r\n                  ? 'bg-blue-50 border-blue-500'\r\n                  : 'bg-gray-50 border-gray-500'\r\n              }`}\r\n            >\r\n              <div className=\"flex justify-between items-start mb-2\">\r\n                <h3 className=\"font-semibold text-gray-900\">{rec.category}</h3>\r\n                <span className={`text-xs px-2 py-1 rounded-full ${\r\n                  rec.confidence === 'High'\r\n                    ? 'bg-green-200 text-green-800'\r\n                    : rec.confidence === 'Medium'\r\n                    ? 'bg-blue-200 text-blue-800'\r\n                    : 'bg-gray-200 text-gray-800'\r\n                }`}>\r\n                  {rec.confidence} Confidence\r\n                </span>\r\n              </div>\r\n              <p className=\"text-gray-700 mb-2\">{rec.recommendation}</p>\r\n              <p className=\"text-sm text-gray-600 italic\">{rec.rationale}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* UC-100: Track Salary Offer CTA - Always visible */}\r\n      <Card className=\"p-6 mb-8 border border-gray-200\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex-1\">\r\n            <h3 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n              Track This Salary Offer\r\n            </h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              Add this opportunity to your progression tracking to analyze your career growth and negotiate more effectively\r\n            </p>\r\n            <Button\r\n              onClick={() => setTrackOfferModalOpen(true)}\r\n              className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n            >\r\n              Track Offer for This Position\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* UC-128: Career Growth Calculator */}\r\n      <Card className=\"p-6 mb-8 border border-gray-200 bg-linear-to-br from-purple-50 to-indigo-50\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex-1\">\r\n            <h3 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n              Career Growth Calculator\r\n            </h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              Calculate potential salary growth over 5 and 10 years. Compare different scenarios with custom raise percentages, bonuses, equity, and career milestones to make informed decisions.\r\n            </p>\r\n            <div className=\"flex flex-wrap gap-2 text-sm text-gray-600 mb-4\">\r\n              <span className=\"inline-flex items-center px-3 py-1 rounded-full bg-white border border-purple-200\">\r\n                Multiple scenarios comparison\r\n              </span>\r\n              <span className=\"inline-flex items-center px-3 py-1 rounded-full bg-white border border-purple-200\">\r\n                Custom career milestones\r\n              </span>\r\n              <span className=\"inline-flex items-center px-3 py-1 rounded-full bg-white border border-purple-200\">\r\n                Bonus & equity tracking\r\n              </span>\r\n              <span className=\"inline-flex items-center px-3 py-1 rounded-full bg-white border border-purple-200\">\r\n                Visual growth trajectory\r\n              </span>\r\n            </div>\r\n            <Button\r\n              onClick={() => setShowCareerGrowthCalculator(true)}\r\n              className=\"bg-purple-600 hover:bg-purple-700 text-white\"\r\n            >\r\n              Calculate Career Growth\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* UC-100: Salary Progression & Market Positioning Section */}\r\n      {progressionAnalytics && progressionAnalytics.hasData && (\r\n        <>\r\n          {/* Section Header with Toggle */}\r\n          <Card className=\"p-6 mb-8 border border-gray-200\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <div className=\"flex-1\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n                  Salary Progression & Career Analytics\r\n                </h2>\r\n                <p className=\"text-gray-600\">\r\n                  Track your compensation growth, negotiation success, and career advancement over time\r\n                </p>\r\n              </div>\r\n              <Button\r\n                onClick={() => setShowProgressionSection(!showProgressionSection)}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n              >\r\n                {showProgressionSection ? 'Hide Analytics' : 'View Analytics'}\r\n              </Button>\r\n            </div>\r\n          </Card>\r\n\r\n          {showProgressionSection && (\r\n            <>\r\n              {/* Key Metrics Dashboard */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n                <Card className=\"p-6 border border-gray-200\">\r\n                  <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Total Offers</h3>\r\n                  <p className=\"text-3xl font-bold text-blue-600\">\r\n                    {progressionAnalytics.offers.total}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">\r\n                    {progressionAnalytics.offers.accepted} accepted ΓÇó {progressionAnalytics.offers.declined} declined\r\n                  </p>\r\n                </Card>\r\n\r\n                <Card className=\"p-6 border border-gray-200\">\r\n                  <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Negotiation Success</h3>\r\n                  <p className=\"text-3xl font-bold text-green-600\">\r\n                    {progressionAnalytics.negotiation.successRate}%\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">\r\n                    Avg {parseFloat(progressionAnalytics.negotiation.averageIncrease) >= 0 ? '+' : ''}{progressionAnalytics.negotiation.averageIncrease}% increase\r\n                  </p>\r\n                </Card>\r\n\r\n                <Card className=\"p-6 border border-gray-200\">\r\n                  <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Total Growth</h3>\r\n                  <p className=\"text-3xl font-bold text-purple-600\">\r\n                    {parseFloat(progressionAnalytics.compensation.totalGrowth) >= 0 ? '+' : ''}{progressionAnalytics.compensation.totalGrowth}%\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">\r\n                    Career compensation growth\r\n                  </p>\r\n                </Card>\r\n\r\n                <Card className=\"p-6 border border-gray-200\">\r\n                  <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Career Velocity</h3>\r\n                  <p className=\"text-3xl font-bold text-orange-600\">\r\n                    {progressionAnalytics.career.velocity}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">\r\n                    {progressionAnalytics.career.milestones} milestones tracked\r\n                  </p>\r\n                </Card>\r\n              </div>\r\n\r\n              {/* Tracked Salary Offers */}\r\n              {trackedOffers && trackedOffers.length > 0 && (\r\n                <Card className=\"p-6 mb-8\">\r\n                  <h2 className=\"text-xl font-bold mb-6\">Your Tracked Salary Offers</h2>\r\n                  <div className=\"space-y-4\">\r\n                    {trackedOffers.slice().reverse().map((offer, index) => (\r\n                      <div key={index} className=\"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors\">\r\n                        <div className=\"flex justify-between items-start mb-3\">\r\n                          <div className=\"flex-1\">\r\n                            <h3 className=\"font-semibold text-lg text-gray-900\">{offer.jobTitle}</h3>\r\n                            <p className=\"text-sm text-gray-600\">{offer.company} ΓÇó {offer.location}</p>\r\n                            <p className=\"text-xs text-gray-500 mt-1\">{new Date(offer.offerDate).toLocaleDateString()}</p>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span className={`inline-block px-3 py-1 rounded-full text-xs font-semibold ${\r\n                              offer.offerStatus === 'Accepted' ? 'bg-green-100 text-green-800' :\r\n                              offer.offerStatus === 'Declined' ? 'bg-red-100 text-red-800' :\r\n                              offer.offerStatus === 'Active' ? 'bg-blue-100 text-blue-800' :\r\n                              'bg-gray-100 text-gray-800'\r\n                            }`}>\r\n                              {offer.offerStatus}\r\n                            </span>\r\n                            <button\r\n                              onClick={() => handleEditOffer(offer)}\r\n                              className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                              title=\"Edit offer\"\r\n                            >\r\n                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                              </svg>\r\n                            </button>\r\n                            <button\r\n                              onClick={() => handleDeleteOffer(offer._id)}\r\n                              className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                              title=\"Delete offer\"\r\n                            >\r\n                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                              </svg>\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4\">\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-500\">Base Salary</p>\r\n                            <p className=\"font-semibold text-gray-900\">${offer.baseSalary.toLocaleString()}</p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-500\">Total Compensation</p>\r\n                            <p className=\"font-semibold text-blue-600\">${offer.totalCompensation.toLocaleString()}</p>\r\n                          </div>\r\n                          {offer.wasNegotiated && (\r\n                            <div>\r\n                              <p className=\"text-xs text-gray-500\">Negotiated</p>\r\n                              <p className=\"font-semibold text-green-600\">\r\n                                +{offer.increaseFromInitial?.percentage?.toFixed(1) || 0}%\r\n                              </p>\r\n                            </div>\r\n                          )}\r\n                          {offer.percentileRank && (\r\n                            <div>\r\n                              <p className=\"text-xs text-gray-500\">Market Percentile</p>\r\n                              <p className=\"font-semibold text-purple-600\">{Math.round(offer.percentileRank)}th</p>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        \r\n                        {offer.notes && (\r\n                          <div className=\"mt-3 pt-3 border-t border-gray-100\">\r\n                            <p className=\"text-sm text-gray-600\">{offer.notes}</p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Compensation Growth Over Time */}\r\n              {progressionAnalytics.compensation.yearOverYear.length > 0 && (\r\n                <Card className=\"p-6 mb-8\">\r\n                  <h2 className=\"text-xl font-bold mb-6\">Compensation Growth Over Time</h2>\r\n                  <div className=\"w-full h-80\">\r\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                      <AreaChart \r\n                        data={progressionAnalytics.compensation.yearOverYear}\r\n                        margin={{ top: 20, right: 30, left: 20, bottom: 20 }}\r\n                      >\r\n                        <defs>\r\n                          <linearGradient id=\"colorGrowth\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                            <stop offset=\"5%\" stopColor=\"#3b82f6\" stopOpacity={0.8}/>\r\n                            <stop offset=\"95%\" stopColor=\"#3b82f6\" stopOpacity={0}/>\r\n                          </linearGradient>\r\n                        </defs>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                        <XAxis \r\n                          dataKey=\"year\" \r\n                          tick={{ fontSize: 12 }}\r\n                          stroke=\"#6b7280\"\r\n                        />\r\n                        <YAxis \r\n                          tickFormatter={(value) => `$${(value / 1000).toFixed(0)}k`}\r\n                          tick={{ fontSize: 12 }}\r\n                          stroke=\"#6b7280\"\r\n                        />\r\n                        <Tooltip \r\n                          formatter={(value) => `$${value.toLocaleString()}`}\r\n                          contentStyle={{ borderRadius: '8px', border: '1px solid #e5e7eb' }}\r\n                        />\r\n                        <Area \r\n                          type=\"monotone\" \r\n                          dataKey=\"growth\" \r\n                          stroke=\"#3b82f6\" \r\n                          fillOpacity={1} \r\n                          fill=\"url(#colorGrowth)\" \r\n                        />\r\n                      </AreaChart>\r\n                    </ResponsiveContainer>\r\n                  </div>\r\n                  <div className=\"mt-4 grid grid-cols-3 gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-sm text-gray-600\">Current Compensation</p>\r\n                      <p className=\"text-lg font-bold text-blue-600\">\r\n                        ${progressionAnalytics.compensation.currentCompensation?.toLocaleString() || 'N/A'}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-sm text-gray-600\">Highest Offer</p>\r\n                      <p className=\"text-lg font-bold text-green-600\">\r\n                        ${progressionAnalytics.compensation.highestOffer.toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-sm text-gray-600\">Average Offer</p>\r\n                      <p className=\"text-lg font-bold text-purple-600\">\r\n                        ${parseFloat(progressionAnalytics.compensation.averageOffer).toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Negotiation Performance */}\r\n              <Card className=\"p-6 mb-8\">\r\n                <h2 className=\"text-xl font-bold mb-6\">Negotiation Success Analytics</h2>\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold mb-4 text-gray-700\">Success Metrics</h3>\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex justify-between items-center p-4 bg-blue-50 rounded-lg\">\r\n                        <span className=\"text-gray-700\">Total Negotiations</span>\r\n                        <span className=\"text-xl font-bold text-blue-600\">\r\n                          {progressionAnalytics.negotiation.totalNegotiated}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex justify-between items-center p-4 bg-green-50 rounded-lg\">\r\n                        <span className=\"text-gray-700\">Success Rate</span>\r\n                        <span className=\"text-xl font-bold text-green-600\">\r\n                          {progressionAnalytics.negotiation.successRate}%\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex justify-between items-center p-4 bg-purple-50 rounded-lg\">\r\n                        <span className=\"text-gray-700\">Average Increase</span>\r\n                        <span className=\"text-xl font-bold text-purple-600\">\r\n                          {parseFloat(progressionAnalytics.negotiation.averageIncrease) >= 0 ? '+' : ''}{progressionAnalytics.negotiation.averageIncrease}%\r\n                        </span>\r\n                      </div>\r\n                      {progressionAnalytics.negotiation.improvementPattern && (\r\n                        <div className=\"flex justify-between items-center p-4 bg-orange-50 rounded-lg\">\r\n                          <span className=\"text-gray-700\">Trend</span>\r\n                          <span className={`text-xl font-bold ${\r\n                            progressionAnalytics.negotiation.improvementPattern === 'Improving' \r\n                              ? 'text-green-600' \r\n                              : progressionAnalytics.negotiation.improvementPattern === 'Declining'\r\n                              ? 'text-red-600'\r\n                              : 'text-gray-600'\r\n                          }`}>\r\n                            {progressionAnalytics.negotiation.improvementPattern}\r\n                          </span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {progressionAnalytics.negotiation.bestNegotiation && (\r\n                    <div>\r\n                      <h3 className=\"text-lg font-semibold mb-4 text-gray-700\">Best Negotiation</h3>\r\n                      <div className=\"bg-linear-to-br from-yellow-50 to-orange-50 p-6 rounded-lg border-2 border-yellow-300\">\r\n                        <div className=\"flex items-center mb-3\">\r\n                          <svg className=\"w-8 h-8 text-yellow-600 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                            <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\r\n                          </svg>\r\n                          <span className=\"text-lg font-bold text-gray-900\">Top Achievement</span>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 mb-2\">\r\n                          <strong>{progressionAnalytics.negotiation.bestNegotiation.jobTitle}</strong> at{' '}\r\n                          {progressionAnalytics.negotiation.bestNegotiation.company}\r\n                        </p>\r\n                        <div className=\"grid grid-cols-2 gap-3 mt-4\">\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-600\">Initial Offer</p>\r\n                            <p className=\"text-lg font-bold text-gray-800\">\r\n                              ${progressionAnalytics.negotiation.bestNegotiation.initialOffer?.toLocaleString() || 'N/A'}\r\n                            </p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-600\">Final Salary</p>\r\n                            <p className=\"text-lg font-bold text-green-600\">\r\n                              ${progressionAnalytics.negotiation.bestNegotiation.finalOffer?.toLocaleString() || 'N/A'}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        {progressionAnalytics.negotiation.bestNegotiation.increaseFromInitial && (\r\n                          <div className=\"mt-4 p-3 bg-white rounded\">\r\n                            <p className=\"text-sm text-gray-600\">Increase Achieved</p>\r\n                            <p className=\"text-2xl font-bold text-green-600\">\r\n                              {parseFloat(progressionAnalytics.negotiation.bestNegotiation.increaseFromInitial.percentage) >= 0 ? '+' : ''}{progressionAnalytics.negotiation.bestNegotiation.increaseFromInitial.percentage}%\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </Card>\r\n\r\n              {/* Market Positioning */}\r\n              {progressionAnalytics.marketPosition.current && (\r\n                <Card className=\"p-6 mb-8\">\r\n                  <h2 className=\"text-xl font-bold mb-6\">Current Market Positioning</h2>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                    <div className={`p-6 rounded-lg ${\r\n                      progressionAnalytics.marketPosition.current.position === 'Above Market' \r\n                        ? 'bg-green-50 border-2 border-green-300' \r\n                        : progressionAnalytics.marketPosition.current.position === 'Below Market'\r\n                        ? 'bg-red-50 border-2 border-red-300'\r\n                        : 'bg-blue-50 border-2 border-blue-300'\r\n                    }`}>\r\n                      <p className=\"text-sm text-gray-600 mb-2\">Market Position</p>\r\n                      <p className={`text-2xl font-bold ${\r\n                        progressionAnalytics.marketPosition.current.position === 'Above Market' \r\n                          ? 'text-green-600' \r\n                          : progressionAnalytics.marketPosition.current.position === 'Below Market'\r\n                          ? 'text-red-600'\r\n                          : 'text-blue-600'\r\n                      }`}>\r\n                        {progressionAnalytics.marketPosition.current.position}\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500 mt-1\">\r\n                        {progressionAnalytics.marketPosition.trend}\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div className=\"p-6 rounded-lg bg-purple-50 border-2 border-purple-300\">\r\n                      <p className=\"text-sm text-gray-600 mb-2\">Percentile Rank</p>\r\n                      <p className=\"text-2xl font-bold text-purple-600\">\r\n                        {progressionAnalytics.marketPosition.current.percentileRank?.toFixed(0)}th\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500 mt-1\">\r\n                        Among peers in your field\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div className=\"p-6 rounded-lg bg-orange-50 border-2 border-orange-300\">\r\n                      <p className=\"text-sm text-gray-600 mb-2\">Gap from Market</p>\r\n                      <p className={`text-2xl font-bold ${\r\n                        progressionAnalytics.marketPosition.current.gapPercentage >= 0 \r\n                          ? 'text-green-600' \r\n                          : 'text-red-600'\r\n                      }`}>\r\n                        {progressionAnalytics.marketPosition.current.gapPercentage >= 0 ? '+' : ''}\r\n                        {progressionAnalytics.marketPosition.current.gapPercentage?.toFixed(1)}%\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500 mt-1\">\r\n                        ${Math.abs(progressionAnalytics.marketPosition.current.gapFromMarket || 0).toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Career Advancement Recommendations */}\r\n              <Card className=\"p-6 mb-8 border border-gray-200\">\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                  <h2 className=\"text-xl font-bold\">Personalized Advancement Recommendations</h2>\r\n                  <Button\r\n                    onClick={fetchRecommendations}\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n                    disabled={advancementRecommendations !== null}\r\n                  >\r\n                    {advancementRecommendations ? 'Recommendations Loaded' : 'Generate Recommendations'}\r\n                  </Button>\r\n                </div>\r\n\r\n                {advancementRecommendations && advancementRecommendations.length > 0 ? (\r\n                  <div className=\"space-y-4\">\r\n                    {advancementRecommendations.map((rec, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className={`p-5 bg-white rounded-lg shadow-sm border-l-4 ${\r\n                          rec.priority === 'High'\r\n                            ? 'border-red-500'\r\n                            : rec.priority === 'Medium'\r\n                            ? 'border-yellow-500'\r\n                            : 'border-blue-500'\r\n                        }`}\r\n                      >\r\n                        <div className=\"flex justify-between items-start mb-3\">\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-2 mb-2\">\r\n                              <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                                rec.priority === 'High'\r\n                                  ? 'bg-red-100 text-red-700'\r\n                                  : rec.priority === 'Medium'\r\n                                  ? 'bg-yellow-100 text-yellow-700'\r\n                                  : 'bg-blue-100 text-blue-700'\r\n                              }`}>\r\n                                {rec.priority} Priority\r\n                              </span>\r\n                              <span className=\"px-3 py-1 bg-gray-100 rounded-full text-xs font-semibold text-gray-700\">\r\n                                {rec.recommendationType}\r\n                              </span>\r\n                            </div>\r\n                            <h3 className=\"text-lg font-bold text-gray-900\">{rec.title}</h3>\r\n                          </div>\r\n                          {rec.potentialImpact && (\r\n                            <div className=\"text-right ml-4\">\r\n                              <p className=\"text-2xl font-bold text-green-600\">\r\n                                +${(rec.potentialImpact.salaryIncrease || 0).toLocaleString()}\r\n                              </p>\r\n                              <p className=\"text-xs text-gray-500\">\r\n                                +{rec.potentialImpact.percentage?.toFixed(1)}%\r\n                              </p>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        \r\n                        <p className=\"text-gray-700 mb-4\">{rec.description}</p>\r\n                        \r\n                        {rec.timeframe && (\r\n                          <p className=\"text-sm text-gray-600 mb-3\">\r\n                            <strong>Timeframe:</strong> {rec.timeframe}\r\n                          </p>\r\n                        )}\r\n                        \r\n                        {rec.actionItems && rec.actionItems.length > 0 && (\r\n                          <div className=\"mt-3\">\r\n                            <p className=\"text-sm font-semibold text-gray-700 mb-2\">Action Items:</p>\r\n                            <ul className=\"space-y-1\">\r\n                              {rec.actionItems.map((item, idx) => (\r\n                                <li key={idx} className=\"text-sm text-gray-600 flex items-start\">\r\n                                  <svg className=\"w-4 h-4 text-green-500 mr-2 mt-0.5 shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                                  </svg>\r\n                                  {item}\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-8 text-gray-500\">\r\n                    <p className=\"text-lg mb-2\">Click \"Generate Recommendations\" to get personalized career advice</p>\r\n                    <p className=\"text-sm\">Based on your salary progression and market trends</p>\r\n                  </div>\r\n                )}\r\n              </Card>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Track Offer Modal */}\r\n      {trackOfferModalOpen && (\r\n        <div className=\"fixed inset-0 backdrop-blur-md flex items-center justify-center z-50 p-4\">\r\n          <Card className=\"max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h2 className=\"text-2xl font-bold\">Track Salary Offer</h2>\r\n                <button\r\n                  onClick={() => setTrackOfferModalOpen(false)}\r\n                  className=\"text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n              \r\n              <form onSubmit={(e) => {\r\n                e.preventDefault();\r\n                const formData = new FormData(e.target);\r\n                const offerData = {\r\n                  jobTitle: job?.title || '',\r\n                  company: job?.company || '',\r\n                  industry: job?.industry || '',\r\n                  location: job?.location || '',\r\n                  baseSalary: parseFloat(formData.get('baseSalary')),\r\n                  signingBonus: parseFloat(formData.get('signingBonus')) || 0,\r\n                  performanceBonus: parseFloat(formData.get('performanceBonus')) || 0,\r\n                  equityValue: parseFloat(formData.get('equityValue')) || 0,\r\n                  benefitsValue: parseFloat(formData.get('benefitsValue')) || 0,\r\n                  wasNegotiated: formData.get('wasNegotiated') === 'true',\r\n                  initialOffer: parseFloat(formData.get('initialOffer')) || undefined,\r\n                  finalOffer: parseFloat(formData.get('finalOffer')) || undefined,\r\n                  negotiationRounds: parseInt(formData.get('negotiationRounds')) || 0,\r\n                  offerStatus: formData.get('offerStatus'),\r\n                  marketMedian: marketData?.companySizeAdjusted?.median,\r\n                  experienceLevel: factors?.experienceLevel,\r\n                  notes: formData.get('notes')\r\n                };\r\n                handleTrackOffer(offerData);\r\n              }}>\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Base Salary *\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"baseSalary\"\r\n                      required\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      placeholder=\"75000\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Signing Bonus\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"signingBonus\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                        placeholder=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Performance Bonus\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"performanceBonus\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                        placeholder=\"0\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Equity Value (Annual)\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"equityValue\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                        placeholder=\"0\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Benefits Value (Annual)\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"benefitsValue\"\r\n                        defaultValue={marketData?.companySizeAdjusted?.benefits || 0}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                        placeholder=\"15000\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Was this negotiated?\r\n                    </label>\r\n                    <select\r\n                      name=\"wasNegotiated\"\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                    >\r\n                      <option value=\"false\">No</option>\r\n                      <option value=\"true\">Yes</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Initial Offer (if negotiated)\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"initialOffer\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                        placeholder=\"70000\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Final Offer (if negotiated)\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"finalOffer\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                        placeholder=\"75000\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Negotiation Rounds\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"negotiationRounds\"\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      placeholder=\"0\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Offer Status *\r\n                    </label>\r\n                    <select\r\n                      name=\"offerStatus\"\r\n                      required\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                    >\r\n                      <option value=\"Active\">Active (Pending Decision)</option>\r\n                      <option value=\"Accepted\">Accepted</option>\r\n                      <option value=\"Declined\">Declined</option>\r\n                      <option value=\"Expired\">Expired</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Notes (Optional)\r\n                    </label>\r\n                    <textarea\r\n                      name=\"notes\"\r\n                      rows=\"3\"\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      placeholder=\"Any additional context about this offer...\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-3 mt-6\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white\"\r\n                  >\r\n                    Track Offer\r\n                  </Button>\r\n                  <Button\r\n                    type=\"button\"\r\n                    onClick={() => setTrackOfferModalOpen(false)}\r\n                    variant=\"outline\"\r\n                    className=\"flex-1\"\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Offer Modal */}\r\n      {editOfferModalOpen && editingOffer && (\r\n        <div className=\"fixed inset-0 backdrop-blur-md flex items-center justify-center z-50 p-4\">\r\n          <Card className=\"max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h2 className=\"text-2xl font-bold\">Edit Salary Offer</h2>\r\n                <button\r\n                  onClick={() => {\r\n                    setEditOfferModalOpen(false);\r\n                    setEditingOffer(null);\r\n                  }}\r\n                  className=\"text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n              \r\n              <form onSubmit={(e) => {\r\n                e.preventDefault();\r\n                const formData = new FormData(e.target);\r\n                const offerData = {\r\n                  jobTitle: formData.get('jobTitle'),\r\n                  company: formData.get('company'),\r\n                  industry: formData.get('industry'),\r\n                  location: formData.get('location'),\r\n                  baseSalary: parseFloat(formData.get('baseSalary')),\r\n                  signingBonus: parseFloat(formData.get('signingBonus')) || 0,\r\n                  performanceBonus: parseFloat(formData.get('performanceBonus')) || 0,\r\n                  equityValue: parseFloat(formData.get('equityValue')) || 0,\r\n                  benefitsValue: parseFloat(formData.get('benefitsValue')) || 0,\r\n                  wasNegotiated: formData.get('wasNegotiated') === 'true',\r\n                  initialOffer: parseFloat(formData.get('initialOffer')) || undefined,\r\n                  finalOffer: parseFloat(formData.get('finalOffer')) || undefined,\r\n                  negotiationRounds: parseInt(formData.get('negotiationRounds')) || 0,\r\n                  offerStatus: formData.get('offerStatus'),\r\n                  notes: formData.get('notes')\r\n                };\r\n                handleUpdateOffer(offerData);\r\n              }}>\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Job Title *\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"jobTitle\"\r\n                        defaultValue={editingOffer.jobTitle}\r\n                        required\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Company *\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"company\"\r\n                        defaultValue={editingOffer.company}\r\n                        required\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Industry\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"industry\"\r\n                        defaultValue={editingOffer.industry}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Location\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"location\"\r\n                        defaultValue={editingOffer.location}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Base Salary *\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"baseSalary\"\r\n                      defaultValue={editingOffer.baseSalary}\r\n                      required\r\n                      min=\"0\"\r\n                      step=\"1000\"\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Signing Bonus\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"signingBonus\"\r\n                        defaultValue={editingOffer.signingBonus || 0}\r\n                        min=\"0\"\r\n                        step=\"1000\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Performance Bonus\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"performanceBonus\"\r\n                        defaultValue={editingOffer.performanceBonus || 0}\r\n                        min=\"0\"\r\n                        step=\"1000\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Equity Value\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"equityValue\"\r\n                        defaultValue={editingOffer.equityValue || 0}\r\n                        min=\"0\"\r\n                        step=\"1000\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Benefits Value\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"benefitsValue\"\r\n                        defaultValue={editingOffer.benefitsValue || 0}\r\n                        min=\"0\"\r\n                        step=\"1000\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Was This Offer Negotiated?\r\n                    </label>\r\n                    <div className=\"flex gap-4\">\r\n                      <label className=\"flex items-center\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"wasNegotiated\"\r\n                          value=\"true\"\r\n                          defaultChecked={editingOffer.wasNegotiated}\r\n                          className=\"mr-2\"\r\n                        />\r\n                        Yes\r\n                      </label>\r\n                      <label className=\"flex items-center\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"wasNegotiated\"\r\n                          value=\"false\"\r\n                          defaultChecked={!editingOffer.wasNegotiated}\r\n                          className=\"mr-2\"\r\n                        />\r\n                        No\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Initial Offer Amount\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"initialOffer\"\r\n                        defaultValue={editingOffer.initialOffer || ''}\r\n                        min=\"0\"\r\n                        step=\"1000\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                        placeholder=\"If negotiated\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Final Offer Amount\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"finalOffer\"\r\n                        defaultValue={editingOffer.finalOffer || ''}\r\n                        min=\"0\"\r\n                        step=\"1000\"\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                        placeholder=\"If negotiated\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Number of Negotiation Rounds\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"negotiationRounds\"\r\n                      defaultValue={editingOffer.negotiationRounds || 0}\r\n                      min=\"0\"\r\n                      max=\"10\"\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Offer Status *\r\n                    </label>\r\n                    <select\r\n                      name=\"offerStatus\"\r\n                      defaultValue={editingOffer.offerStatus}\r\n                      required\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                    >\r\n                      <option value=\"Active\">Active (Pending Decision)</option>\r\n                      <option value=\"Accepted\">Accepted</option>\r\n                      <option value=\"Declined\">Declined</option>\r\n                      <option value=\"Expired\">Expired</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Notes (Optional)\r\n                    </label>\r\n                    <textarea\r\n                      name=\"notes\"\r\n                      rows=\"3\"\r\n                      defaultValue={editingOffer.notes || ''}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                      placeholder=\"Any additional context about this offer...\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-3 mt-6\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white\"\r\n                  >\r\n                    Update Offer\r\n                  </Button>\r\n                  <Button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setEditOfferModalOpen(false);\r\n                      setEditingOffer(null);\r\n                    }}\r\n                    variant=\"outline\"\r\n                    className=\"flex-1\"\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {deleteConfirmModalOpen && (\r\n        <div className=\"fixed inset-0 backdrop-blur-md flex items-center justify-center z-50 p-4\">\r\n          <Card className=\"max-w-md w-full\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex items-center mb-4\">\r\n                <div className=\"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4\">\r\n                  <svg className=\"w-6 h-6 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                  </svg>\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-xl font-bold text-gray-900\">Delete Salary Offer</h2>\r\n                  <p className=\"text-sm text-gray-600\">This action cannot be undone</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <p className=\"text-gray-700 mb-6\">\r\n                Are you sure you want to delete this salary offer? All associated data and analytics will be permanently removed.\r\n              </p>\r\n\r\n              <div className=\"flex gap-3\">\r\n                <Button\r\n                  onClick={confirmDelete}\r\n                  className=\"flex-1 bg-red-600 hover:bg-red-700 text-white\"\r\n                >\r\n                  Delete Offer\r\n                </Button>\r\n                <Button\r\n                  onClick={() => {\r\n                    setDeleteConfirmModalOpen(false);\r\n                    setOfferToDelete(null);\r\n                  }}\r\n                  variant=\"outline\"\r\n                  className=\"flex-1\"\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Data Sources Note */}\r\n      <Card className=\"p-4 bg-yellow-50 border border-yellow-200\">\r\n        <p className=\"text-sm text-yellow-800\">\r\n          <strong>Note:</strong> Salary data is based on industry benchmarks and market research. \r\n          Actual salaries may vary based on specific circumstances, company policies, and individual qualifications. \r\n          Use this information as a guide for your salary negotiations.\r\n        </p>\r\n      </Card>\r\n\r\n      {/* UC-128: Career Growth Calculator Modal */}\r\n      {showCareerGrowthCalculator && (\r\n        <CareerGrowthCalculator\r\n          job={job}\r\n          onClose={() => setShowCareerGrowthCalculator(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SalaryResearch;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ShareJobModal.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchTeams'. Either include it or remove the dependency array.","line":20,"column":8,"nodeType":"ArrayExpression","endLine":20,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchTeams]","fix":{"range":[874,876],"text":"[fetchTeams]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":141,"column":41,"nodeType":"JSXOpeningElement","endLine":141,"endColumn":105},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":159,"column":41,"nodeType":"JSXOpeningElement","endLine":159,"endColumn":105},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":174,"column":41,"nodeType":"JSXOpeningElement","endLine":174,"endColumn":105}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { setAuthToken } from '../api/axios';\r\nimport { getMyTeams, shareJobWithTeam } from '../api/teams';\r\nimport { X, Users, Share2, MessageSquare, Check, Loader2 } from 'lucide-react';\r\n\r\nconst ShareJobModal = ({ job, onClose, onSuccess }) => {\r\n    const { getToken } = useAuth();\r\n    const [teams, setTeams] = useState([]);\r\n    const [selectedTeam, setSelectedTeam] = useState(null);\r\n    const [shareMessage, setShareMessage] = useState('');\r\n    const [visibility, setVisibility] = useState('all_members');\r\n    const [loading, setLoading] = useState(true);\r\n    const [sharing, setSharing] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchTeams();\r\n    }, []);\r\n\r\n    const fetchTeams = async () => {\r\n        try {\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n            const response = await getMyTeams();\r\n            // Response contains { team, membership } objects, extract the teams\r\n            const teamsData = response.data || [];\r\n            // Handle both formats: array of teams or array of { team, membership }\r\n            const normalizedTeams = teamsData.map(item => item.team || item);\r\n            setTeams(normalizedTeams);\r\n            if (normalizedTeams.length > 0) {\r\n                setSelectedTeam(normalizedTeams[0]._id);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error fetching teams:', err);\r\n            setError('Failed to load teams');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleShare = async () => {\r\n        if (!selectedTeam) {\r\n            setError('Please select a team');\r\n            return;\r\n        }\r\n\r\n        setSharing(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n            await shareJobWithTeam(selectedTeam, {\r\n                jobId: job._id,\r\n                shareMessage,\r\n                visibility,\r\n            });\r\n            setSuccess(true);\r\n            setTimeout(() => {\r\n                onSuccess?.();\r\n                onClose();\r\n            }, 1500);\r\n        } catch (err) {\r\n            console.error('Error sharing job:', err);\r\n            setError(err.response?.data?.message || 'Failed to share job');\r\n        } finally {\r\n            setSharing(false);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n                <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n                    <div className=\"flex items-center justify-center py-8\">\r\n                        <Loader2 className=\"w-8 h-8 animate-spin text-blue-600\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md\">\r\n                {/* Header */}\r\n                <div className=\"flex items-center justify-between p-4 border-b\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <Share2 className=\"w-5 h-5 text-blue-600\" />\r\n                        <h2 className=\"text-lg font-semibold text-gray-900\">Share Job with Team</h2>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                        <X className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"p-4 space-y-4\">\r\n                    {success ? (\r\n                        <div className=\"flex flex-col items-center justify-center py-8 text-center\">\r\n                            <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4\">\r\n                                <Check className=\"w-8 h-8 text-green-600\" />\r\n                            </div>\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">Job Shared!</h3>\r\n                            <p className=\"text-gray-600 mt-2\">Your team can now see and comment on this job.</p>\r\n                        </div>\r\n                    ) : (\r\n                        <>\r\n                            {/* Job Preview */}\r\n                            <div className=\"bg-gray-50 rounded-lg p-3\">\r\n                                <h3 className=\"font-medium text-gray-900\">{job.title}</h3>\r\n                                <p className=\"text-sm text-gray-600\">{job.company}</p>\r\n                                {job.location && (\r\n                                    <p className=\"text-xs text-gray-500 mt-1\">{job.location}</p>\r\n                                )}\r\n                            </div>\r\n\r\n                            {error && (\r\n                                <div className=\"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg text-sm\">\r\n                                    {error}\r\n                                </div>\r\n                            )}\r\n\r\n                            {teams.length === 0 ? (\r\n                                <div className=\"text-center py-4\">\r\n                                    <Users className=\"w-12 h-12 text-gray-300 mx-auto mb-2\" />\r\n                                    <p className=\"text-gray-600\">You're not a member of any teams yet.</p>\r\n                                    <p className=\"text-sm text-gray-500 mt-1\">\r\n                                        Join or create a team to share jobs.\r\n                                    </p>\r\n                                </div>\r\n                            ) : (\r\n                                <>\r\n                                    {/* Team Selection */}\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                            Select Team\r\n                                        </label>\r\n                                        <select\r\n                                            value={selectedTeam || ''}\r\n                                            onChange={(e) => setSelectedTeam(e.target.value)}\r\n                                            className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                        >\r\n                                            {teams.map((team) => (\r\n                                                <option key={team._id} value={team._id}>\r\n                                                    {team.name}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    {/* Visibility */}\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                            Who can see this?\r\n                                        </label>\r\n                                        <select\r\n                                            value={visibility}\r\n                                            onChange={(e) => setVisibility(e.target.value)}\r\n                                            className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                        >\r\n                                            <option value=\"all_members\">All Team Members</option>\r\n                                            <option value=\"coaches_only\">Coaches/Mentors Only</option>\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    {/* Message */}\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                            <MessageSquare className=\"w-4 h-4 inline mr-1\" />\r\n                                            Add a message (optional)\r\n                                        </label>\r\n                                        <textarea\r\n                                            value={shareMessage}\r\n                                            onChange={(e) => setShareMessage(e.target.value)}\r\n                                            placeholder=\"Why are you sharing this job? Any thoughts or questions?\"\r\n                                            rows={3}\r\n                                            className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none\"\r\n                                            maxLength={1000}\r\n                                        />\r\n                                        <p className=\"text-xs text-gray-500 mt-1 text-right\">\r\n                                            {shareMessage.length}/1000\r\n                                        </p>\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                {!success && teams.length > 0 && (\r\n                    <div className=\"flex justify-end gap-3 p-4 border-t bg-gray-50 rounded-b-lg\">\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            onClick={handleShare}\r\n                            disabled={sharing || !selectedTeam}\r\n                            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors\"\r\n                        >\r\n                            {sharing ? (\r\n                                <>\r\n                                    <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                                    Sharing...\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <Share2 className=\"w-4 h-4\" />\r\n                                    Share with Team\r\n                                </>\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ShareJobModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\ShareReportModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":108,"column":7,"nodeType":"JSXOpeningElement","endLine":111,"endColumn":9},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":108,"column":7,"nodeType":"JSXOpeningElement","endLine":111,"endColumn":9},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":163,"column":17,"nodeType":"JSXOpeningElement","endLine":163,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":216,"column":17,"nodeType":"JSXOpeningElement","endLine":216,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":236,"column":17,"nodeType":"JSXOpeningElement","endLine":236,"endColumn":81}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport Button from './Button';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport { shareReport } from '../api/reports';\r\n\r\n/**\r\n * ShareReportModal Component\r\n * Modal for sharing reports with customizable options\r\n */\r\nexport default function ShareReportModal({ \r\n  isOpen, \r\n  onClose, \r\n  reportId, \r\n  reportName,\r\n  reportData,\r\n  onShareSuccess \r\n}) {\r\n  const [shareOptions, setShareOptions] = useState({\r\n    expirationDays: 7,\r\n    password: '',\r\n    requirePassword: false,\r\n    allowedEmails: '',\r\n    shareMessage: '',\r\n    reportSnapshot: null,\r\n  });\r\n\r\n  const [isSharing, setIsSharing] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [shareLink, setShareLink] = useState(null);\r\n  const [copySuccess, setCopySuccess] = useState(false);\r\n\r\n  const expirationOptions = [\r\n    { value: 1, label: '1 Day' },\r\n    { value: 7, label: '7 Days' },\r\n    { value: 14, label: '14 Days' },\r\n    { value: 30, label: '30 Days' },\r\n    { value: 90, label: '90 Days' },\r\n    { value: 0, label: 'Never Expires' },\r\n  ];\r\n\r\n  const handleShare = async () => {\r\n    setIsSharing(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Prepare share options\r\n      const options = {\r\n        expirationDate: shareOptions.expirationDays > 0 \r\n          ? new Date(Date.now() + shareOptions.expirationDays * 24 * 60 * 60 * 1000)\r\n          : null,\r\n        password: shareOptions.requirePassword ? shareOptions.password : null,\r\n        allowedEmails: shareOptions.allowedEmails \r\n          ? shareOptions.allowedEmails.split(',').map(email => email.trim()).filter(Boolean)\r\n          : [],\r\n        shareMessage: shareOptions.shareMessage || '',\r\n        reportSnapshot: reportData,\r\n      };\r\n\r\n      const response = await shareReport(reportId, options);\r\n      \r\n      // Backend wraps data in response.data.data structure\r\n      const shareData = response.data.data || response.data;\r\n      \r\n      // Build full share URL\r\n      const baseUrl = window.location.origin;\r\n      const fullShareLink = `${baseUrl}/reports/shared/${shareData.uniqueToken}`;\r\n      \r\n      setShareLink(fullShareLink);\r\n      \r\n      if (onShareSuccess) {\r\n        onShareSuccess(shareData);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || 'Failed to create share link');\r\n    } finally {\r\n      setIsSharing(false);\r\n    }\r\n  };\r\n\r\n  const handleCopyLink = () => {\r\n    if (shareLink) {\r\n      navigator.clipboard.writeText(shareLink);\r\n      setCopySuccess(true);\r\n      setTimeout(() => setCopySuccess(false), 2000);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setShareOptions({\r\n      expirationDays: 7,\r\n      password: '',\r\n      requirePassword: false,\r\n      allowedEmails: '',\r\n      shareMessage: '',\r\n      reportSnapshot: null,\r\n    });\r\n    setShareLink(null);\r\n    setError(null);\r\n    setCopySuccess(false);\r\n    onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      {/* Overlay */}\r\n      <div \r\n        className=\"fixed inset-0 bg-black bg-opacity-50 transition-opacity\"\r\n        onClick={handleClose}\r\n      />\r\n\r\n      {/* Modal */}\r\n      <div className=\"flex min-h-full items-center justify-center p-4\">\r\n        <div className=\"relative bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 transform transition-all\">\r\n          {/* Header */}\r\n          <div className=\"flex items-start justify-between mb-6\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">Share Report</h2>\r\n              <p className=\"text-sm text-gray-600 mt-1\">{reportName}</p>\r\n            </div>\r\n            <button\r\n              onClick={handleClose}\r\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Share Link Display */}\r\n          {shareLink && (\r\n            <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <span className=\"text-sm font-medium text-green-800\">\r\n                  Γ£ô Share link created successfully!\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={shareLink}\r\n                  readOnly\r\n                  className=\"flex-1 px-3 py-2 bg-white border border-green-300 rounded-lg text-sm text-gray-900\"\r\n                />\r\n                <Button\r\n                  variant={copySuccess ? \"secondary\" : \"primary\"}\r\n                  size=\"small\"\r\n                  onClick={handleCopyLink}\r\n                >\r\n                  {copySuccess ? 'Γ£ô Copied!' : 'Copy'}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Share Options Form */}\r\n          {!shareLink && (\r\n            <div className=\"space-y-5\">\r\n              {/* Expiration */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Link Expiration\r\n                </label>\r\n                <select\r\n                  value={shareOptions.expirationDays}\r\n                  onChange={(e) => setShareOptions({\r\n                    ...shareOptions,\r\n                    expirationDays: parseInt(e.target.value)\r\n                  })}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                >\r\n                  {expirationOptions.map(option => (\r\n                    <option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Password Protection */}\r\n              <div>\r\n                <label className=\"flex items-center mb-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={shareOptions.requirePassword}\r\n                    onChange={(e) => setShareOptions({\r\n                      ...shareOptions,\r\n                      requirePassword: e.target.checked,\r\n                      password: e.target.checked ? shareOptions.password : ''\r\n                    })}\r\n                    className=\"mr-2 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\r\n                  />\r\n                  <span className=\"text-sm font-medium text-gray-700\">\r\n                    Require password to view\r\n                  </span>\r\n                </label>\r\n                \r\n                {shareOptions.requirePassword && (\r\n                  <input\r\n                    type=\"password\"\r\n                    value={shareOptions.password}\r\n                    onChange={(e) => setShareOptions({\r\n                      ...shareOptions,\r\n                      password: e.target.value\r\n                    })}\r\n                    placeholder=\"Enter password\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                  />\r\n                )}\r\n              </div>\r\n\r\n              {/* Allowed Emails */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Restrict to Specific Emails (Optional)\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={shareOptions.allowedEmails}\r\n                  onChange={(e) => setShareOptions({\r\n                    ...shareOptions,\r\n                    allowedEmails: e.target.value\r\n                  })}\r\n                  placeholder=\"email1@example.com, email2@example.com\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  Separate multiple emails with commas. Leave empty to allow anyone with the link.\r\n                </p>\r\n              </div>\r\n\r\n              {/* Share Message */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Message (Optional)\r\n                </label>\r\n                <textarea\r\n                  value={shareOptions.shareMessage}\r\n                  onChange={(e) => setShareOptions({\r\n                    ...shareOptions,\r\n                    shareMessage: e.target.value\r\n                  })}\r\n                  placeholder=\"Add a message for recipients...\"\r\n                  rows=\"3\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              {/* Info Box */}\r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                <div className=\"flex\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <svg className=\"h-5 w-5 text-blue-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                  </div>\r\n                  <div className=\"ml-3\">\r\n                    <h3 className=\"text-sm font-medium text-blue-800\">Share Information</h3>\r\n                    <div className=\"mt-2 text-sm text-blue-700\">\r\n                      <ul className=\"list-disc pl-5 space-y-1\">\r\n                        <li>Recipients can view the report data but cannot edit it</li>\r\n                        <li>You can revoke access at any time from your shared reports list</li>\r\n                        <li>Report includes current data snapshot at time of sharing</li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {error && <ErrorMessage message={error} />}\r\n            </div>\r\n          )}\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={handleClose}\r\n            >\r\n              {shareLink ? 'Close' : 'Cancel'}\r\n            </Button>\r\n            {!shareLink && (\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={handleShare}\r\n                isLoading={isSharing}\r\n                disabled={shareOptions.requirePassword && !shareOptions.password}\r\n              >\r\n                Create Share Link\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\SkillGapAnalysis.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\SkillGapTrends.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\SmartCoverLetterModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\StatusStatistics.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\StatusTimeline.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadTimeline'. Either include it or remove the dependency array.","line":14,"column":6,"nodeType":"ArrayExpression","endLine":14,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [isOpen, jobId, loadTimeline]","fix":{"range":[518,533],"text":"[isOpen, jobId, loadTimeline]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":102,"column":9,"nodeType":"JSXOpeningElement","endLine":105,"endColumn":11},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":102,"column":9,"nodeType":"JSXOpeningElement","endLine":105,"endColumn":11}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { Clock, Mail, User, Bot, CheckCircle, XCircle, Calendar, MessageSquare, X } from 'lucide-react';\r\nimport { getStatusTimeline, formatStatus } from '../api/applicationStatus';\r\n\r\nconst StatusTimeline = ({ jobId, isOpen, onClose }) => {\r\n  const [timeline, setTimeline] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (isOpen && jobId) {\r\n      loadTimeline();\r\n    }\r\n  }, [isOpen, jobId]);\r\n\r\n  const loadTimeline = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await getStatusTimeline(jobId);\r\n      setTimeline(data);\r\n      setError('');\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to load timeline');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const getEventIcon = (type, source) => {\r\n    switch (type) {\r\n      case 'status_change':\r\n        if (source === 'email-detection') return <Mail className=\"text-blue-600\" size={20} />;\r\n        if (source === 'automation') return <Bot className=\"text-purple-600\" size={20} />;\r\n        return <CheckCircle className=\"text-green-600\" size={20} />;\r\n      case 'email_received':\r\n        return <Mail className=\"text-blue-600\" size={20} />;\r\n      case 'follow_up_sent':\r\n        return <MessageSquare className=\"text-indigo-600\" size={20} />;\r\n      case 'interview_scheduled':\r\n        return <Calendar className=\"text-orange-600\" size={20} />;\r\n      case 'note_added':\r\n        return <MessageSquare className=\"text-gray-600\" size={20} />;\r\n      default:\r\n        return <Clock className=\"text-gray-600\" size={20} />;\r\n    }\r\n  };\r\n\r\n  const getSourceBadge = (source) => {\r\n    if (source === 'user') {\r\n      return (\r\n        <span className=\"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 rounded-full text-xs font-medium\">\r\n          <User size={12} />\r\n          Manual\r\n        </span>\r\n      );\r\n    }\r\n    if (source === 'email-detection') {\r\n      return (\r\n        <span className=\"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full text-xs font-medium\">\r\n          <Mail size={12} />\r\n          Email Detection\r\n        </span>\r\n      );\r\n    }\r\n    if (source === 'automation') {\r\n      return (\r\n        <span className=\"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs font-medium\">\r\n          <Bot size={12} />\r\n          Automation\r\n        </span>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return 'Just now';\r\n    if (diffMins < 60) return `${diffMins} min${diffMins > 1 ? 's' : ''} ago`;\r\n    if (diffHours < 24) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;\r\n    if (diffDays < 7) return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;\r\n    \r\n    return date.toLocaleDateString('en-US', { \r\n      month: 'short', \r\n      day: 'numeric', \r\n      year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined \r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\r\n        {/* Background overlay */}\r\n        <div \r\n          className=\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\"\r\n          onClick={onClose}\r\n        />\r\n\r\n        {/* Modal panel */}\r\n        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full relative z-10\">\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Application Timeline</h3>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-white hover:text-gray-200 transition-colors\"\r\n              >\r\n                <X size={24} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Body */}\r\n          <div className=\"p-6\">\r\n            {loading ? (\r\n              <div className=\"flex items-center justify-center py-12\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\r\n              </div>\r\n            ) : error ? (\r\n              <div className=\"text-center py-12\">\r\n                <XCircle className=\"mx-auto text-red-500 mb-4\" size={48} />\r\n                <p className=\"text-red-600 font-medium\">{error}</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-6\">\r\n                {/* Status History */}\r\n                <div>\r\n                  <h4 className=\"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n                    <CheckCircle size={16} />\r\n                    Status History\r\n                  </h4>\r\n                  <div className=\"relative\">\r\n                    {/* Vertical line */}\r\n                    <div className=\"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200\"></div>\r\n                    \r\n                    <div className=\"space-y-6\">\r\n                      {timeline?.statusHistory?.map((entry, index) => {\r\n                        const statusInfo = formatStatus(entry.status);\r\n                        const isFirst = index === 0;\r\n                        \r\n                        return (\r\n                          <div key={entry._id} className=\"relative pl-12\">\r\n                            {/* Timeline dot */}\r\n                            <div className={`absolute left-0 w-8 h-8 rounded-full flex items-center justify-center ${\r\n                              isFirst ? 'bg-indigo-600' : 'bg-gray-300'\r\n                            }`}>\r\n                              {isFirst ? (\r\n                                <CheckCircle className=\"text-white\" size={16} />\r\n                              ) : (\r\n                                <Clock className=\"text-gray-600\" size={16} />\r\n                              )}\r\n                            </div>\r\n\r\n                            <div className={`p-4 rounded-lg ${isFirst ? 'bg-indigo-50 border-2 border-indigo-200' : 'bg-gray-50'}`}>\r\n                              <div className=\"flex items-start justify-between mb-2\">\r\n                                <div className=\"flex items-center gap-2\">\r\n                                  <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                                    statusInfo.color === 'green' ? 'bg-green-100 text-green-800' :\r\n                                    statusInfo.color === 'blue' ? 'bg-blue-100 text-blue-800' :\r\n                                    statusInfo.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' :\r\n                                    statusInfo.color === 'red' ? 'bg-red-100 text-red-800' :\r\n                                    'bg-gray-100 text-gray-800'\r\n                                  }`}>\r\n                                    {statusInfo.icon} {statusInfo.label}\r\n                                  </span>\r\n                                  {getSourceBadge(entry.changeSource)}\r\n                                  {isFirst && (\r\n                                    <span className=\"px-2 py-0.5 bg-indigo-600 text-white rounded-full text-xs font-medium\">\r\n                                      Current\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n                                <span className=\"text-xs text-gray-500\">\r\n                                  {formatDate(entry.changedAt)}\r\n                                </span>\r\n                              </div>\r\n\r\n                              {entry.notes && (\r\n                                <p className=\"text-sm text-gray-700 mt-2\">{entry.notes}</p>\r\n                              )}\r\n\r\n                              {entry.changeSource === 'email-detection' && entry.sourceEmail && (\r\n                                <div className=\"mt-2 p-2 bg-white rounded border border-gray-200\">\r\n                                  <p className=\"text-xs font-medium text-gray-700\">\r\n                                    Detected from: {entry.sourceEmail.subject}\r\n                                  </p>\r\n                                  {entry.confidence && (\r\n                                    <p className=\"text-xs text-gray-600 mt-1\">\r\n                                      Confidence: {entry.confidence}%\r\n                                    </p>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Timeline Events */}\r\n                {timeline?.timeline && timeline.timeline.length > 0 && (\r\n                  <div>\r\n                    <h4 className=\"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n                      <Clock size={16} />\r\n                      Activity Timeline\r\n                    </h4>\r\n                    <div className=\"space-y-3\">\r\n                      {timeline.timeline.map((event) => (\r\n                        <div key={event._id} className=\"flex gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\r\n                          <div className=\"flex-shrink-0 mt-0.5\">\r\n                            {getEventIcon(event.type, event.source)}\r\n                          </div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-sm font-medium text-gray-900\">{event.description}</p>\r\n                            <div className=\"flex items-center gap-2 mt-1\">\r\n                              <span className=\"text-xs text-gray-500\">\r\n                                {formatDate(event.timestamp)}\r\n                              </span>\r\n                              {event.source && getSourceBadge(event.source)}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Empty state */}\r\n                {(!timeline?.statusHistory || timeline.statusHistory.length === 0) && \r\n                 (!timeline?.timeline || timeline.timeline.length === 0) && (\r\n                  <div className=\"text-center py-12\">\r\n                    <Clock className=\"mx-auto text-gray-400 mb-4\" size={48} />\r\n                    <p className=\"text-gray-600\">No timeline events yet</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusTimeline;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\StatusUpdateModal.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'updateApplicationStatus' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":33,"suggestions":[{"messageId":"removeVar","data":{"varName":"updateApplicationStatus"},"fix":{"range":[118,142],"text":""},"desc":"Remove unused variable 'updateApplicationStatus'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":85,"column":9,"nodeType":"JSXOpeningElement","endLine":88,"endColumn":11},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":85,"column":9,"nodeType":"JSXOpeningElement","endLine":88,"endColumn":11},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":122,"column":15,"nodeType":"JSXOpeningElement","endLine":122,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":155,"column":15,"nodeType":"JSXOpeningElement","endLine":155,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":169,"column":15,"nodeType":"JSXOpeningElement","endLine":169,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":183,"column":15,"nodeType":"JSXOpeningElement","endLine":183,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":200,"column":15,"nodeType":"JSXOpeningElement","endLine":200,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":225,"column":15,"nodeType":"JSXOpeningElement","endLine":225,"endColumn":79}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { X, Calendar, Tag, AlertCircle } from 'lucide-react';\r\nimport { updateApplicationStatus, formatStatus } from '../api/applicationStatus';\r\n\r\nconst STATUS_OPTIONS = [\r\n  'Interested',\r\n  'Applied',\r\n  'Phone Screen',\r\n  'Interview',\r\n  'Offer',\r\n  'Rejected'\r\n];\r\n\r\nconst PRIORITY_OPTIONS = ['Low', 'Medium', 'High'];\r\n\r\nconst StatusUpdateModal = ({ job, currentStatus, isOpen, onClose, onUpdate }) => {\r\n  const [formData, setFormData] = useState({\r\n    status: job?.status || 'Interested',\r\n    notes: '',\r\n    nextAction: job?.nextAction || '',\r\n    nextActionDate: job?.nextActionDate || '',\r\n    tags: job?.tags || [],\r\n    priority: job?.priority || 'Medium'\r\n  });\r\n  const [tagInput, setTagInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    setFormData({\r\n      status: job?.status || 'Interested',\r\n      notes: '',\r\n      nextAction: job?.nextAction || '',\r\n      nextActionDate: job?.nextActionDate ? new Date(job.nextActionDate).toISOString().split('T')[0] : '',\r\n      tags: job?.tags || [],\r\n      priority: job?.priority || 'Medium'\r\n    });\r\n  }, [currentStatus, job]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      await onUpdate({\r\n        status: formData.status,\r\n        notes: formData.notes,\r\n        nextAction: formData.nextAction,\r\n        nextActionDate: formData.nextActionDate || undefined,\r\n        tags: formData.tags,\r\n        priority: formData.priority\r\n      });\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to update status');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const addTag = () => {\r\n    if (tagInput.trim() && !formData.tags.includes(tagInput.trim())) {\r\n      setFormData({\r\n        ...formData,\r\n        tags: [...formData.tags, tagInput.trim()]\r\n      });\r\n      setTagInput('');\r\n    }\r\n  };\r\n\r\n  const removeTag = (tagToRemove) => {\r\n    setFormData({\r\n      ...formData,\r\n      tags: formData.tags.filter(tag => tag !== tagToRemove)\r\n    });\r\n  };\r\n\r\n  const statusInfo = formatStatus(formData.status);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\r\n        {/* Background overlay */}\r\n        <div \r\n          className=\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\"\r\n          onClick={onClose}\r\n        />\r\n\r\n        {/* Modal panel */}\r\n        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full relative z-10\">\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-white\">Update Application Status</h3>\r\n                <p className=\"text-sm text-blue-100 mt-1\">{job?.title} at {job?.company}</p>\r\n              </div>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-white hover:text-gray-200 transition-colors\"\r\n              >\r\n                <X size={24} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Body */}\r\n          <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\r\n            {error && (\r\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3\">\r\n                <AlertCircle className=\"text-red-600 flex-shrink-0 mt-0.5\" size={20} />\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-red-800\">Error</p>\r\n                  <p className=\"text-sm text-red-600 mt-1\">{error}</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Status Selector */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Application Status *\r\n              </label>\r\n              <select\r\n                value={formData.status}\r\n                onChange={(e) => setFormData({ ...formData, status: e.target.value })}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n              >\r\n                {STATUS_OPTIONS.map(status => {\r\n                  const info = formatStatus(status);\r\n                  return (\r\n                    <option key={status} value={status}>\r\n                      {info.icon} {info.label}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n              <div className=\"mt-2 flex items-center gap-2\">\r\n                <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                  statusInfo.color === 'green' ? 'bg-green-100 text-green-800' :\r\n                  statusInfo.color === 'blue' ? 'bg-blue-100 text-blue-800' :\r\n                  statusInfo.color === 'yellow' ? 'bg-yellow-100 text-yellow-800' :\r\n                  statusInfo.color === 'red' ? 'bg-red-100 text-red-800' :\r\n                  'bg-gray-100 text-gray-800'\r\n                }`}>\r\n                  {statusInfo.icon} {statusInfo.label}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Notes */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Notes\r\n              </label>\r\n              <textarea\r\n                value={formData.notes}\r\n                onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n                rows={3}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\r\n                placeholder=\"Add any notes about this status change...\"\r\n              />\r\n            </div>\r\n\r\n            {/* Next Action */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Next Action\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.nextAction}\r\n                onChange={(e) => setFormData({ ...formData, nextAction: e.target.value })}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                placeholder=\"e.g., Send follow-up email, Prepare for interview\"\r\n              />\r\n            </div>\r\n\r\n            {/* Next Action Date */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Next Action Date\r\n              </label>\r\n              <div className=\"relative\">\r\n                <Calendar className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n                <input\r\n                  type=\"date\"\r\n                  value={formData.nextActionDate}\r\n                  onChange={(e) => setFormData({ ...formData, nextActionDate: e.target.value })}\r\n                  className=\"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  min={new Date().toISOString().split('T')[0]}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Priority */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Priority\r\n              </label>\r\n              <div className=\"flex gap-3\">\r\n                {PRIORITY_OPTIONS.map(priority => (\r\n                  <button\r\n                    key={priority}\r\n                    type=\"button\"\r\n                    onClick={() => setFormData({ ...formData, priority })}\r\n                    className={`flex-1 px-4 py-2 rounded-lg border-2 font-medium transition-all ${\r\n                      formData.priority === priority\r\n                        ? priority === 'High' ? 'border-red-500 bg-red-50 text-red-700' :\r\n                          priority === 'Medium' ? 'border-yellow-500 bg-yellow-50 text-yellow-700' :\r\n                          'border-green-500 bg-green-50 text-green-700'\r\n                        : 'border-gray-200 text-gray-600 hover:border-gray-300'\r\n                    }`}\r\n                  >\r\n                    {priority}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Tags */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Tags\r\n              </label>\r\n              <div className=\"flex gap-2 mb-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={tagInput}\r\n                  onChange={(e) => setTagInput(e.target.value)}\r\n                  onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addTag())}\r\n                  className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  placeholder=\"Add a tag...\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={addTag}\r\n                  className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\"\r\n                >\r\n                  Add\r\n                </button>\r\n              </div>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {formData.tags.map(tag => (\r\n                  <span\r\n                    key={tag}\r\n                    className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm\"\r\n                  >\r\n                    <Tag size={14} />\r\n                    {tag}\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => removeTag(tag)}\r\n                      className=\"ml-1 hover:text-blue-900\"\r\n                    >\r\n                      <X size={14} />\r\n                    </button>\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"flex gap-3 pt-4 border-t\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium\"\r\n                disabled={loading}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                disabled={loading}\r\n              >\r\n                {loading ? 'Updating...' : 'Update Status'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusUpdateModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\SystemDesignPractice.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'hasRestoredRef' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":23,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":23,"suggestions":[{"messageId":"removeVar","data":{"varName":"hasRestoredRef"},"fix":{"range":[716,753],"text":""},"desc":"Remove unused variable 'hasRestoredRef'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadQuestion'. Either include it or remove the dependency array.","line":64,"column":6,"nodeType":"ArrayExpression","endLine":64,"endColumn":18,"suggestions":[{"desc":"Update the dependencies array to be: [loadQuestion, questionId]","fix":{"range":[2188,2200],"text":"[loadQuestion, questionId]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":378,"column":17,"nodeType":"JSXOpeningElement","endLine":378,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":393,"column":15,"nodeType":"JSXOpeningElement","endLine":393,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":407,"column":15,"nodeType":"JSXOpeningElement","endLine":407,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":468,"column":15,"nodeType":"JSXOpeningElement","endLine":468,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":482,"column":15,"nodeType":"JSXOpeningElement","endLine":482,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":496,"column":15,"nodeType":"JSXOpeningElement","endLine":496,"endColumn":79}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport technicalPrepAPI from '../api/technicalPrep';\r\nimport Button from './Button';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport Whiteboard from './Whiteboard';\r\nimport { \r\n  ArrowLeftIcon,\r\n  ClockIcon,\r\n  BookmarkIcon,\r\n  CheckCircleIcon,\r\n  ServerIcon,\r\n  CircleStackIcon,\r\n  CloudIcon,\r\n  PencilSquareIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { BookmarkIcon as BookmarkSolidIcon } from '@heroicons/react/24/solid';\r\n\r\nconst SystemDesignPractice = () => {\r\n  const { questionId } = useParams();\r\n  const navigate = useNavigate();\r\n  const hasRestoredRef = useRef(false);\r\n  \r\n  const [question, setQuestion] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Initialize solution from localStorage if available\r\n  const [solution, setSolution] = useState(() => {\r\n    if (questionId) {\r\n      const savedSolution = localStorage.getItem(`system-design-solution-${questionId}`);\r\n      if (savedSolution) {\r\n        try {\r\n          return JSON.parse(savedSolution);\r\n        } catch (e) {\r\n          console.error('Failed to parse saved solution:', e);\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      architecture: '',\r\n      components: [],\r\n      dataFlow: '',\r\n      scalingStrategy: '',\r\n      tradeoffs: [],\r\n      whiteboardDrawing: null\r\n    };\r\n  });\r\n  \r\n  const [componentInput, setComponentInput] = useState({ name: '', description: '', technology: '' });\r\n  const [tradeoffInput, setTradeoffInput] = useState('');\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [evaluation, setEvaluation] = useState(null);\r\n  const [timeSpent, setTimeSpent] = useState(0);\r\n  const [timerRunning, setTimerRunning] = useState(true);\r\n  const [isBookmarked, setIsBookmarked] = useState(false);\r\n  const [showSampleSolution, setShowSampleSolution] = useState(false);\r\n  const [showWhiteboard, setShowWhiteboard] = useState(false);\r\n\r\n  // Load question when questionId changes\r\n  useEffect(() => {\r\n    loadQuestion();\r\n  }, [questionId]);\r\n\r\n  // Save solution to localStorage whenever it changes\r\n  useEffect(() => {\r\n    if (questionId) {\r\n      localStorage.setItem(`system-design-solution-${questionId}`, JSON.stringify(solution));\r\n    }\r\n  }, [solution, questionId]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (timerRunning && !evaluation) {\r\n      interval = setInterval(() => {\r\n        setTimeSpent(prev => prev + 1);\r\n      }, 60000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [timerRunning, evaluation]);\r\n\r\n  const loadQuestion = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await technicalPrepAPI.getSystemDesignQuestion(questionId);\r\n      setQuestion(data);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to load question');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddComponent = () => {\r\n    if (componentInput.name && componentInput.description) {\r\n      setSolution({\r\n        ...solution,\r\n        components: [...solution.components, { ...componentInput }]\r\n      });\r\n      setComponentInput({ name: '', description: '', technology: '' });\r\n    }\r\n  };\r\n\r\n  const handleRemoveComponent = (index) => {\r\n    setSolution({\r\n      ...solution,\r\n      components: solution.components.filter((_, idx) => idx !== index)\r\n    });\r\n  };\r\n\r\n  const handleAddTradeoff = () => {\r\n    if (tradeoffInput.trim()) {\r\n      setSolution({\r\n        ...solution,\r\n        tradeoffs: [...solution.tradeoffs, tradeoffInput]\r\n      });\r\n      setTradeoffInput('');\r\n    }\r\n  };\r\n\r\n  const handleRemoveTradeoff = (index) => {\r\n    setSolution({\r\n      ...solution,\r\n      tradeoffs: solution.tradeoffs.filter((_, idx) => idx !== index)\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setSubmitting(true);\r\n      const response = await technicalPrepAPI.submitSystemDesignSolution(questionId, {\r\n        solution: {\r\n          ...solution,\r\n          whiteboardDrawing: solution.whiteboardDrawing\r\n        },\r\n        timeSpent\r\n      });\r\n      \r\n      setEvaluation(response.evaluation);\r\n      setTimerRunning(false);\r\n      \r\n      // Clear saved solution after successful submission\r\n      localStorage.removeItem(`system-design-solution-${questionId}`);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to submit solution');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveWhiteboard = (drawingDataUrl) => {\r\n    setSolution({\r\n      ...solution,\r\n      whiteboardDrawing: drawingDataUrl\r\n    });\r\n    setShowWhiteboard(false);\r\n  };\r\n\r\n  const handleBookmark = async () => {\r\n    try {\r\n      if (isBookmarked) {\r\n        await technicalPrepAPI.removeBookmark(questionId);\r\n      } else {\r\n        await technicalPrepAPI.bookmarkChallenge({\r\n          challengeType: 'systemDesign',\r\n          challengeId: questionId\r\n        });\r\n      }\r\n      setIsBookmarked(!isBookmarked);\r\n    } catch (err) {\r\n      console.error('Failed to bookmark question:', err);\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner />;\r\n  if (error && !question) return <ErrorMessage message={error} />;\r\n  if (!question) return <ErrorMessage message=\"Question not found\" />;\r\n\r\n  const formatTime = (minutes) => {\r\n    const hours = Math.floor(minutes / 60);\r\n    const mins = minutes % 60;\r\n    return hours > 0 ? `${hours}h ${mins}m` : `${mins}m`;\r\n  };\r\n\r\n  const getLevelColor = (level) => {\r\n    const colors = {\r\n      Junior: 'text-green-600 bg-green-100',\r\n      'Mid-Level': 'text-blue-600 bg-blue-100',\r\n      Senior: 'text-purple-600 bg-purple-100',\r\n      Staff: 'text-orange-600 bg-orange-100',\r\n      Principal: 'text-red-600 bg-red-100'\r\n    };\r\n    return colors[level] || 'text-gray-600 bg-gray-100';\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-6\">\r\n          <button\r\n            onClick={() => navigate('/technical-prep')}\r\n            className=\"flex items-center text-blue-600 hover:text-blue-700 mb-4\"\r\n          >\r\n            <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\r\n            Back to Challenges\r\n          </button>\r\n          \r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n                {question.title}\r\n              </h1>\r\n              <div className=\"flex items-center gap-3\">\r\n                <span className={`px-3 py-1 rounded-full text-sm font-medium ${getLevelColor(question.level)}`}>\r\n                  {question.level}\r\n                </span>\r\n                <span className=\"px-3 py-1 rounded-full text-sm font-medium text-blue-600 bg-blue-100\">\r\n                  System Design\r\n                </span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"flex items-center text-gray-600\">\r\n                <ClockIcon className=\"h-5 w-5 mr-2\" />\r\n                <span>{formatTime(timeSpent)}</span>\r\n              </div>\r\n              <button onClick={handleBookmark} className=\"text-gray-600 hover:text-blue-600\">\r\n                {isBookmarked ? (\r\n                  <BookmarkSolidIcon className=\"h-6 w-6 text-blue-600\" />\r\n                ) : (\r\n                  <BookmarkIcon className=\"h-6 w-6\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {/* Left Panel - Problem Description */}\r\n          <div className=\"bg-white rounded-lg shadow-sm p-6 overflow-y-auto\" style={{ maxHeight: 'calc(100vh - 200px)' }}>\r\n            <h2 className=\"text-xl font-semibold mb-4\">Problem Description</h2>\r\n            \r\n            <div className=\"mb-6\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-2\">Scenario:</h3>\r\n              <p className=\"text-gray-700 whitespace-pre-wrap\">{question.scenario}</p>\r\n            </div>\r\n\r\n            {/* Requirements */}\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-3\">Requirements:</h3>\r\n              \r\n              {question.requirements?.functional?.length > 0 && (\r\n                <div className=\"mb-4\">\r\n                  <h4 className=\"font-medium text-gray-800 mb-2\">Functional:</h4>\r\n                  <ul className=\"list-disc list-inside space-y-1 text-gray-700\">\r\n                    {question.requirements.functional.map((req, idx) => (\r\n                      <li key={idx}>{req}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              {question.requirements?.nonFunctional?.length > 0 && (\r\n                <div className=\"mb-4\">\r\n                  <h4 className=\"font-medium text-gray-800 mb-2\">Non-Functional:</h4>\r\n                  <ul className=\"list-disc list-inside space-y-1 text-gray-700\">\r\n                    {question.requirements.nonFunctional.map((req, idx) => (\r\n                      <li key={idx}>{req}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              {question.requirements?.constraints?.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-800 mb-2\">Constraints:</h4>\r\n                  <ul className=\"list-disc list-inside space-y-1 text-gray-700\">\r\n                    {question.requirements.constraints.map((constraint, idx) => (\r\n                      <li key={idx}>{constraint}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Scale */}\r\n            {question.scale && (\r\n              <div className=\"mb-6 bg-blue-50 rounded-lg p-4\">\r\n                <h3 className=\"font-semibold text-blue-900 mb-3\">Scale:</h3>\r\n                <div className=\"grid grid-cols-1 gap-2 text-sm\">\r\n                  {question.scale.users && (\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-blue-800\">Users:</span>\r\n                      <span className=\"font-medium text-blue-900\">{question.scale.users}</span>\r\n                    </div>\r\n                  )}\r\n                  {question.scale.requests && (\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-blue-800\">Requests:</span>\r\n                      <span className=\"font-medium text-blue-900\">{question.scale.requests}</span>\r\n                    </div>\r\n                  )}\r\n                  {question.scale.storage && (\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-blue-800\">Storage:</span>\r\n                      <span className=\"font-medium text-blue-900\">{question.scale.storage}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Key Components */}\r\n            {question.keyComponents?.length > 0 && (\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-2\">Key Components to Consider:</h3>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {question.keyComponents.map((component, idx) => (\r\n                    <span key={idx} className=\"px-3 py-1 bg-purple-50 text-purple-700 rounded-full text-sm\">\r\n                      {component}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Considerations */}\r\n            {question.considerations?.length > 0 && (\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-2\">Important Considerations:</h3>\r\n                <ul className=\"space-y-2\">\r\n                  {question.considerations.map((consideration, idx) => (\r\n                    <li key={idx} className=\"flex items-start\">\r\n                      <span className=\"text-blue-600 mr-2\">ΓÇó</span>\r\n                      <span className=\"text-gray-700\">{consideration}</span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n\r\n            {/* Follow-up Questions */}\r\n            {question.followUpQuestions?.length > 0 && (\r\n              <div className=\"bg-yellow-50 rounded-lg p-4\">\r\n                <h3 className=\"font-semibold text-yellow-900 mb-2\">Follow-up Questions:</h3>\r\n                <ul className=\"space-y-2 text-sm\">\r\n                  {question.followUpQuestions.map((q, idx) => (\r\n                    <li key={idx} className=\"text-yellow-800\">\r\n                      {idx + 1}. {q}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Right Panel - Solution Design */}\r\n          <div className=\"bg-white rounded-lg shadow-sm p-6 overflow-y-auto\" style={{ maxHeight: 'calc(100vh - 200px)' }}>\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h2 className=\"text-xl font-semibold\">Your Solution</h2>\r\n              <Button\r\n                onClick={() => setShowWhiteboard(true)}\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n                disabled={evaluation !== null}\r\n              >\r\n                {solution.whiteboardDrawing ? 'Edit Diagram' : 'Draw Diagram'}\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Whiteboard Preview */}\r\n            {solution.whiteboardDrawing && (\r\n              <div className=\"mb-6\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Architecture Diagram\r\n                </label>\r\n                <div className=\"border-2 border-gray-300 rounded-lg overflow-hidden\">\r\n                  <img \r\n                    src={solution.whiteboardDrawing} \r\n                    alt=\"Architecture Diagram\" \r\n                    className=\"w-full h-auto\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Architecture Overview */}\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Architecture Overview\r\n              </label>\r\n              <textarea\r\n                value={solution.architecture}\r\n                onChange={(e) => setSolution({ ...solution, architecture: e.target.value })}\r\n                className=\"w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Describe your high-level architecture...\"\r\n                disabled={evaluation !== null}\r\n              />\r\n            </div>\r\n\r\n            {/* Components */}\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                System Components\r\n              </label>\r\n              \r\n              {solution.components.map((component, idx) => (\r\n                <div key={idx} className=\"bg-gray-50 rounded-lg p-3 mb-2\">\r\n                  <div className=\"flex justify-between items-start mb-2\">\r\n                    <div className=\"flex items-center\">\r\n                      <ServerIcon className=\"h-5 w-5 text-blue-600 mr-2\" />\r\n                      <span className=\"font-medium\">{component.name}</span>\r\n                    </div>\r\n                    {!evaluation && (\r\n                      <button\r\n                        onClick={() => handleRemoveComponent(idx)}\r\n                        className=\"text-red-600 hover:text-red-700 text-sm\"\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-600 mb-1\">{component.description}</p>\r\n                  {component.technology && (\r\n                    <span className=\"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded\">\r\n                      {component.technology}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              ))}\r\n\r\n              {!evaluation && (\r\n                <div className=\"bg-gray-50 rounded-lg p-3 space-y-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={componentInput.name}\r\n                    onChange={(e) => setComponentInput({ ...componentInput, name: e.target.value })}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n                    placeholder=\"Component name (e.g., Load Balancer)\"\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={componentInput.description}\r\n                    onChange={(e) => setComponentInput({ ...componentInput, description: e.target.value })}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n                    placeholder=\"Description\"\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={componentInput.technology}\r\n                    onChange={(e) => setComponentInput({ ...componentInput, technology: e.target.value })}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n                    placeholder=\"Technology (e.g., NGINX, Redis)\"\r\n                  />\r\n                  <Button onClick={handleAddComponent} variant=\"secondary\" size=\"small\">\r\n                    Add Component\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Data Flow */}\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Data Flow\r\n              </label>\r\n              <textarea\r\n                value={solution.dataFlow}\r\n                onChange={(e) => setSolution({ ...solution, dataFlow: e.target.value })}\r\n                className=\"w-full h-24 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Describe how data flows through your system...\"\r\n                disabled={evaluation !== null}\r\n              />\r\n            </div>\r\n\r\n            {/* Scaling Strategy */}\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Scaling Strategy\r\n              </label>\r\n              <textarea\r\n                value={solution.scalingStrategy}\r\n                onChange={(e) => setSolution({ ...solution, scalingStrategy: e.target.value })}\r\n                className=\"w-full h-24 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"How will your system scale to meet demand?\"\r\n                disabled={evaluation !== null}\r\n              />\r\n            </div>\r\n\r\n            {/* Trade-offs */}\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Trade-offs\r\n              </label>\r\n              \r\n              {solution.tradeoffs.map((tradeoff, idx) => (\r\n                <div key={idx} className=\"bg-yellow-50 rounded-lg p-3 mb-2 flex justify-between items-center\">\r\n                  <span className=\"text-sm text-gray-700\">{tradeoff}</span>\r\n                  {!evaluation && (\r\n                    <button\r\n                      onClick={() => handleRemoveTradeoff(idx)}\r\n                      className=\"text-red-600 hover:text-red-700 text-sm\"\r\n                    >\r\n                      Remove\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n\r\n              {!evaluation && (\r\n                <div className=\"flex gap-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={tradeoffInput}\r\n                    onChange={(e) => setTradeoffInput(e.target.value)}\r\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\"\r\n                    placeholder=\"Add a trade-off consideration...\"\r\n                    onKeyPress={(e) => e.key === 'Enter' && handleAddTradeoff()}\r\n                  />\r\n                  <Button onClick={handleAddTradeoff} variant=\"secondary\" size=\"small\">\r\n                    Add\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Submit Button */}\r\n            {!evaluation && (\r\n              <Button\r\n                onClick={handleSubmit}\r\n                disabled={submitting || !solution.architecture.trim()}\r\n                className=\"w-full\"\r\n              >\r\n                {submitting ? 'Submitting...' : 'Submit Design'}\r\n              </Button>\r\n            )}\r\n\r\n            {/* Evaluation Results */}\r\n            {evaluation && (\r\n              <div className=\"mt-6 border-t pt-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\">Evaluation</h3>\r\n                \r\n                <div className=\"mb-4 p-4 bg-blue-50 rounded-lg\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"font-semibold text-blue-900\">Overall Score</span>\r\n                    <span className=\"text-3xl font-bold text-blue-600\">{Math.round(evaluation.score)}%</span>\r\n                  </div>\r\n                  {evaluation.score >= 80 && (\r\n                    <CheckCircleIcon className=\"h-6 w-6 text-green-600 mx-auto mt-2\" />\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"mb-4 p-4 bg-gray-50 rounded-lg\">\r\n                  <h4 className=\"font-semibold mb-2\">Feedback:</h4>\r\n                  <p className=\"text-gray-700 whitespace-pre-wrap\">{evaluation.feedback}</p>\r\n                </div>\r\n\r\n                {evaluation.mentionedComponents?.length > 0 && (\r\n                  <div className=\"mb-4\">\r\n                    <h4 className=\"font-semibold text-green-700 mb-2\">Γ£ô Components Covered:</h4>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {evaluation.mentionedComponents.map((comp, idx) => (\r\n                        <span key={idx} className=\"px-2 py-1 bg-green-100 text-green-700 rounded text-sm\">\r\n                          {comp}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {evaluation.missingComponents?.length > 0 && (\r\n                  <div className=\"mb-4\">\r\n                    <h4 className=\"font-semibold text-orange-700 mb-2\">ΓÜá Missing Components:</h4>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {evaluation.missingComponents.map((comp, idx) => (\r\n                        <span key={idx} className=\"px-2 py-1 bg-orange-100 text-orange-700 rounded text-sm\">\r\n                          {comp}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <Button\r\n                  onClick={() => setShowSampleSolution(true)}\r\n                  variant=\"secondary\"\r\n                  className=\"w-full mt-4\"\r\n                >\r\n                  View Sample Solution\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sample Solution Modal */}\r\n        {showSampleSolution && question.solutionFramework && (\r\n          <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6 shadow-xl\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h3 className=\"text-xl font-semibold\">Sample Solution</h3>\r\n                <button\r\n                  onClick={() => setShowSampleSolution(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  Γ£ò\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"space-y-6\">\r\n                {question.solutionFramework.architecture && (\r\n                  <div>\r\n                    <h4 className=\"font-semibold mb-2\">Architecture:</h4>\r\n                    <p className=\"text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg\">\r\n                      {question.solutionFramework.architecture}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {question.solutionFramework.components?.length > 0 && (\r\n                  <div>\r\n                    <h4 className=\"font-semibold mb-3\">Components:</h4>\r\n                    <div className=\"space-y-3\">\r\n                      {question.solutionFramework.components.map((comp, idx) => (\r\n                        <div key={idx} className=\"bg-blue-50 rounded-lg p-4\">\r\n                          <div className=\"flex items-center mb-2\">\r\n                            <CloudIcon className=\"h-5 w-5 text-blue-600 mr-2\" />\r\n                            <span className=\"font-medium text-blue-900\">{comp.name}</span>\r\n                          </div>\r\n                          <p className=\"text-blue-800 text-sm mb-2\">{comp.description}</p>\r\n                          {comp.technology && (\r\n                            <span className=\"text-xs text-blue-600 bg-white px-2 py-1 rounded\">\r\n                              {comp.technology}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {question.solutionFramework.dataFlow && (\r\n                  <div>\r\n                    <h4 className=\"font-semibold mb-2\">Data Flow:</h4>\r\n                    <p className=\"text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg\">\r\n                      {question.solutionFramework.dataFlow}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {question.solutionFramework.scalingStrategy && (\r\n                  <div>\r\n                    <h4 className=\"font-semibold mb-2\">Scaling Strategy:</h4>\r\n                    <p className=\"text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg\">\r\n                      {question.solutionFramework.scalingStrategy}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {question.solutionFramework.tradeOffs?.length > 0 && (\r\n                  <div>\r\n                    <h4 className=\"font-semibold mb-2\">Trade-offs:</h4>\r\n                    <ul className=\"space-y-2\">\r\n                      {question.solutionFramework.tradeOffs.map((tradeoff, idx) => (\r\n                        <li key={idx} className=\"bg-yellow-50 p-3 rounded-lg text-gray-700\">\r\n                          {tradeoff}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Whiteboard Modal */}\r\n        {showWhiteboard && (\r\n          <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-lg w-full max-w-7xl max-h-[95vh] overflow-hidden shadow-xl\">\r\n              <div className=\"flex justify-between items-center p-4 border-b border-gray-200\">\r\n                <h3 className=\"text-xl font-semibold\">System Design Whiteboard</h3>\r\n                <button\r\n                  onClick={() => setShowWhiteboard(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600 text-2xl\"\r\n                >\r\n                  Γ£ò\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"overflow-y-auto\" style={{ maxHeight: 'calc(95vh - 80px)' }}>\r\n                <Whiteboard \r\n                  onSave={handleSaveWhiteboard}\r\n                  initialDrawing={solution.whiteboardDrawing}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SystemDesignPractice;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\TimeTracker.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'loading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":32,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":32,"endColumn":17,"suggestions":[{"messageId":"removeVar","data":{"varName":"loading"},"fix":{"range":[947,954],"text":""},"desc":"Remove unused variable 'loading'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'editingEntry' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":34,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":22,"suggestions":[{"messageId":"removeVar","data":{"varName":"editingEntry"},"fix":{"range":[1059,1071],"text":""},"desc":"Remove unused variable 'editingEntry'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'setEditingEntry' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":34,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":39,"suggestions":[{"messageId":"removeVar","data":{"varName":"setEditingEntry"},"fix":{"range":[1071,1088],"text":""},"desc":"Remove unused variable 'setEditingEntry'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadTimeRecord'. Either include it or remove the dependency array.","line":60,"column":6,"nodeType":"ArrayExpression","endLine":60,"endColumn":20,"suggestions":[{"desc":"Update the dependencies array to be: [loadTimeRecord, selectedDate]","fix":{"range":[1654,1668],"text":"[loadTimeRecord, selectedDate]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'getElapsedTime' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":176,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":176,"endColumn":23,"suggestions":[{"messageId":"removeVar","data":{"varName":"getElapsedTime"},"fix":{"range":[5013,5266],"text":""},"desc":"Remove unused variable 'getElapsedTime'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":281,"column":15,"nodeType":"JSXOpeningElement","endLine":281,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":298,"column":17,"nodeType":"JSXOpeningElement","endLine":298,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":313,"column":17,"nodeType":"JSXOpeningElement","endLine":313,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":328,"column":17,"nodeType":"JSXOpeningElement","endLine":328,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":363,"column":15,"nodeType":"JSXOpeningElement","endLine":363,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":376,"column":15,"nodeType":"JSXOpeningElement","endLine":376,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":438,"column":15,"nodeType":"JSXOpeningElement","endLine":438,"endColumn":79}],"suppressedMessages":[],"errorCount":11,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { productivityApi } from '../api/productivity';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\n\r\nconst ACTIVITIES = [\r\n  'Job Search',\r\n  'Resume Writing',\r\n  'Cover Letter Writing',\r\n  'Application Submission',\r\n  'Networking',\r\n  'Skill Development',\r\n  'Interview Preparation',\r\n  'Mock Interviews',\r\n  'Company Research',\r\n  'Portfolio Work',\r\n  'LinkedIn Activity',\r\n  'Follow-ups',\r\n  'Career Planning',\r\n  'Break',\r\n  'Other'\r\n];\r\n\r\nconst ENERGY_LEVELS = ['Low', 'Medium', 'High', 'Peak'];\r\nconst FOCUS_QUALITY = ['Poor', 'Fair', 'Good', 'Excellent'];\r\n\r\nexport default function TimeTracker() {\r\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\r\n  const [timeRecord, setTimeRecord] = useState(null);\r\n  const [activeEntry, setActiveEntry] = useState(null);\r\n  const [isTracking, setIsTracking] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showEntryForm, setShowEntryForm] = useState(false);\r\n  const [editingEntry, setEditingEntry] = useState(null);\r\n  const [elapsedTime, setElapsedTime] = useState('0h 0m');\r\n  \r\n  const [formData, setFormData] = useState({\r\n    activity: 'Job Search',\r\n    customActivity: '',\r\n    energyLevel: 'Medium',\r\n    focusQuality: 'Good',\r\n    productivity: 5,\r\n    distractions: 0,\r\n    notes: '',\r\n    tags: [],\r\n    outcomes: []\r\n  });\r\n\r\n  const OUTCOME_TYPES = [\r\n    'Application Sent',\r\n    'Connection Made',\r\n    'Skill Learned',\r\n    'Interview Scheduled',\r\n    'Milestone Completed',\r\n    'Other'\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadTimeRecord();\r\n  }, [selectedDate]);\r\n\r\n  // Update elapsed time every second when tracking\r\n  useEffect(() => {\r\n    if (!isTracking || !activeEntry) return;\r\n\r\n    const updateElapsed = () => {\r\n      const start = new Date(activeEntry.startTime);\r\n      const now = new Date();\r\n      const diff = Math.floor((now - start) / 1000 / 60);\r\n      const hours = Math.floor(diff / 60);\r\n      const mins = diff % 60;\r\n      setElapsedTime(`${hours}h ${mins}m`);\r\n    };\r\n\r\n    updateElapsed(); // Initial update\r\n    const interval = setInterval(updateElapsed, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isTracking, activeEntry]);\r\n\r\n  const loadTimeRecord = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await productivityApi.getTimeTrackingByDate(selectedDate);\r\n      setTimeRecord(response.record);\r\n      \r\n      const ongoing = response.record.entries.find(e => !e.endTime);\r\n      if (ongoing) {\r\n        setActiveEntry(ongoing);\r\n        setIsTracking(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load time record:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startTracking = async () => {\r\n    try {\r\n      const startTime = new Date().toISOString();\r\n      const entryData = {\r\n        ...formData,\r\n        startTime,\r\n        tags: formData.tags.filter(t => t.trim())\r\n      };\r\n\r\n      const response = await productivityApi.addTimeEntry(selectedDate, entryData);\r\n      setTimeRecord(response.record);\r\n      \r\n      const newEntry = response.record.entries[response.record.entries.length - 1];\r\n      setActiveEntry(newEntry);\r\n      setIsTracking(true);\r\n      setShowEntryForm(false);\r\n      \r\n      setFormData({\r\n        activity: 'Job Search',\r\n        customActivity: '',\r\n        energyLevel: 'Medium',\r\n        focusQuality: 'Good',\r\n        productivity: 5,\r\n        distractions: 0,\r\n        notes: '',\r\n        tags: [],\r\n        outcomes: []\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to start tracking:', error);\r\n      alert('Failed to start tracking. Please try again.');\r\n    }\r\n  };\r\n\r\n  const stopTracking = async () => {\r\n    if (!activeEntry) return;\r\n\r\n    try {\r\n      const endTime = new Date().toISOString();\r\n      const response = await productivityApi.updateTimeEntry(\r\n        selectedDate,\r\n        activeEntry._id,\r\n        { endTime }\r\n      );\r\n      \r\n      setTimeRecord(response.record);\r\n      setActiveEntry(null);\r\n      setIsTracking(false);\r\n    } catch (error) {\r\n      console.error('Failed to stop tracking:', error);\r\n      alert('Failed to stop tracking. Please try again.');\r\n    }\r\n  };\r\n\r\n  const deleteEntry = async (entryId) => {\r\n    if (!confirm('Are you sure you want to delete this entry?')) return;\r\n\r\n    try {\r\n      const response = await productivityApi.deleteTimeEntry(selectedDate, entryId);\r\n      setTimeRecord(response.record);\r\n      \r\n      if (activeEntry && activeEntry._id === entryId) {\r\n        setActiveEntry(null);\r\n        setIsTracking(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to delete entry:', error);\r\n      alert('Failed to delete entry. Please try again.');\r\n    }\r\n  };\r\n\r\n  const formatDuration = (minutes) => {\r\n    const hours = Math.floor(minutes / 60);\r\n    const mins = minutes % 60;\r\n    return `${hours}h ${mins}m`;\r\n  };\r\n\r\n  const getElapsedTime = () => {\r\n    if (!activeEntry) return '0h 0m';\r\n    \r\n    const start = new Date(activeEntry.startTime);\r\n    const now = new Date();\r\n    const diff = Math.floor((now - start) / 1000 / 60);\r\n    return formatDuration(diff);\r\n  };\r\n\r\n  const handleTagInput = (e) => {\r\n    if (e.key === 'Enter' && e.target.value.trim()) {\r\n      e.preventDefault();\r\n      const newTag = e.target.value.trim();\r\n      if (!formData.tags.includes(newTag)) {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          tags: [...prev.tags, newTag]\r\n        }));\r\n      }\r\n      e.target.value = '';\r\n    }\r\n  };\r\n\r\n  const removeTag = (tagToRemove) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      tags: prev.tags.filter(t => t !== tagToRemove)\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-heading font-bold text-gray-900\">Time Tracker</h2>\r\n          <p className=\"text-gray-600\">Track your job search activities</p>\r\n        </div>\r\n        \r\n        <input\r\n          type=\"date\"\r\n          value={selectedDate}\r\n          max={new Date().toISOString().split('T')[0]}\r\n          onChange={(e) => setSelectedDate(e.target.value)}\r\n          className=\"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n        />\r\n      </div>\r\n\r\n      <Card className=\"bg-blue-50 border-blue-200\">\r\n        <div>\r\n          <h3 className=\"font-semibold text-blue-900 mb-2\">How to Track Your Time</h3>\r\n            <ul className=\"text-sm text-blue-800 space-y-1\">\r\n              <li>ΓÇó Click \"Start New Activity\" and fill in the form</li>\r\n              <li>ΓÇó Click \"Start Tracking\" to begin the timer</li>\r\n              <li>ΓÇó The timer will run until you click \"Stop\"</li>\r\n              <li>ΓÇó Only completed activities (with start AND stop times) are included in analysis</li>\r\n              <li>ΓÇó Track at least 2-3 activities before generating an analysis</li>\r\n            </ul>\r\n        </div>\r\n      </Card>\r\n\r\n      {isTracking && activeEntry && (\r\n        <Card variant=\"primary\" className=\"border-l-4 border-primary\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                  {activeEntry.activity === 'Other' && activeEntry.customActivity \r\n                    ? activeEntry.customActivity \r\n                    : activeEntry.activity}\r\n                </h3>\r\n              <p className=\"text-gray-600\">Tracking in progress...</p>\r\n            </div>\r\n            \r\n            <div className=\"text-right\">\r\n              <div className=\"text-3xl font-bold text-primary font-mono\">\r\n                {elapsedTime}\r\n              </div>\r\n              <Button\r\n                variant=\"danger\"\r\n                size=\"small\"\r\n                onClick={stopTracking}\r\n                className=\"mt-2\"\r\n              >\r\n                Stop\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {!isTracking && !showEntryForm && (\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => setShowEntryForm(true)}\r\n          className=\"w-full\"\r\n        >\r\n          Start New Activity\r\n        </Button>\r\n      )}\r\n\r\n      {showEntryForm && !isTracking && (\r\n        <Card variant=\"elevated\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Start Tracking</h3>\r\n          \r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Activity *\r\n              </label>\r\n              <select\r\n                value={formData.activity}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, activity: e.target.value }))}\r\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                required\r\n              >\r\n                {ACTIVITIES.map(activity => (\r\n                  <option key={activity} value={activity}>{activity}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {formData.activity === 'Other' && (\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Custom Activity Name\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.customActivity}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, customActivity: e.target.value }))}\r\n                  placeholder=\"e.g., Phone Screening, Coffee Chat\"\r\n                  className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Energy Level\r\n                </label>\r\n                <select\r\n                  value={formData.energyLevel}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, energyLevel: e.target.value }))}\r\n                  className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                >\r\n                  {ENERGY_LEVELS.map(level => (\r\n                    <option key={level} value={level}>{level}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Focus Quality\r\n                </label>\r\n                <select\r\n                  value={formData.focusQuality}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, focusQuality: e.target.value }))}\r\n                  className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                >\r\n                  {FOCUS_QUALITY.map(quality => (\r\n                    <option key={quality} value={quality}>{quality}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Productivity Rating: {formData.productivity}/10\r\n              </label>\r\n              <input\r\n                type=\"range\"\r\n                min=\"1\"\r\n                max=\"10\"\r\n                value={formData.productivity}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, productivity: parseInt(e.target.value) }))}\r\n                className=\"w-full\"\r\n              />\r\n              <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n                <span>Low</span>\r\n                <span>Medium</span>\r\n                <span>High</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Notes\r\n              </label>\r\n              <textarea\r\n                value={formData.notes}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, notes: e.target.value }))}\r\n                placeholder=\"What are you working on? Any specific goals?\"\r\n                rows=\"3\"\r\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Outcomes (Optional)\r\n              </label>\r\n              <div className=\"space-y-3\">\r\n                {formData.outcomes.map((outcome, index) => (\r\n                  <div key={index} className=\"flex gap-2\">\r\n                    <select\r\n                      value={outcome.type}\r\n                      onChange={(e) => {\r\n                        const newOutcomes = [...formData.outcomes];\r\n                        newOutcomes[index].type = e.target.value;\r\n                        setFormData(prev => ({ ...prev, outcomes: newOutcomes }));\r\n                      }}\r\n                      className=\"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                    >\r\n                      {OUTCOME_TYPES.map(type => (\r\n                        <option key={type} value={type}>{type}</option>\r\n                      ))}\r\n                    </select>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={outcome.description}\r\n                      onChange={(e) => {\r\n                        const newOutcomes = [...formData.outcomes];\r\n                        newOutcomes[index].description = e.target.value;\r\n                        setFormData(prev => ({ ...prev, outcomes: newOutcomes }));\r\n                      }}\r\n                      placeholder=\"Brief description (optional)\"\r\n                      maxLength=\"200\"\r\n                      className=\"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                    />\r\n                    <button\r\n                      onClick={() => {\r\n                        const newOutcomes = formData.outcomes.filter((_, i) => i !== index);\r\n                        setFormData(prev => ({ ...prev, outcomes: newOutcomes }));\r\n                      }}\r\n                      className=\"text-red-600 hover:text-red-800 px-2\"\r\n                    >\r\n                      ├ù\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"small\"\r\n                  onClick={() => {\r\n                    setFormData(prev => ({\r\n                      ...prev,\r\n                      outcomes: [...prev.outcomes, { type: 'Application Sent', description: '' }]\r\n                    }));\r\n                  }}\r\n                  type=\"button\"\r\n                >\r\n                  Add Outcome\r\n                </Button>\r\n              </div>\r\n              <p className=\"text-xs text-gray-500 mt-2\">\r\n                Track what you accomplished during this activity (e.g., applications sent, skills learned)\r\n              </p>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Tags (Press Enter to add)\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                onKeyDown={handleTagInput}\r\n                placeholder=\"Add tags...\"\r\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n              />\r\n              {formData.tags.length > 0 && (\r\n                <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                  {formData.tags.map(tag => (\r\n                    <span\r\n                      key={tag}\r\n                      className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800\"\r\n                    >\r\n                      {tag}\r\n                      <button\r\n                        onClick={() => removeTag(tag)}\r\n                        className=\"ml-2 text-primary-600 hover:text-primary-800\"\r\n                      >\r\n                        ├ù\r\n                      </button>\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex gap-3\">\r\n              <Button variant=\"primary\" onClick={startTracking} className=\"flex-1\">\r\n                Start Tracking\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => {\r\n                  setShowEntryForm(false);\r\n                  setFormData({\r\n                    activity: 'Job Search',\r\n                    customActivity: '',\r\n                    energyLevel: 'Medium',\r\n                    focusQuality: 'Good',\r\n                    productivity: 5,\r\n                    distractions: 0,\r\n                    notes: '',\r\n                    tags: [],\r\n                    outcomes: []\r\n                  });\r\n                }}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {timeRecord && (\r\n        <Card>\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-semibold\">Today's Summary</h3>\r\n            {timeRecord.dailySummary && (\r\n              <div className=\"text-right\">\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {timeRecord.dailySummary.totalHours.toFixed(1)}h\r\n                </div>\r\n                <div className=\"text-sm text-gray-600\">\r\n                  {timeRecord.dailySummary.productiveHours.toFixed(1)}h productive\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {timeRecord.dailySummary && (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"text-sm text-gray-600\">Avg Energy</div>\r\n                <div className=\"text-lg font-semibold\">{timeRecord.dailySummary.averageEnergy}</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-600\">Avg Focus</div>\r\n                <div className=\"text-lg font-semibold\">{timeRecord.dailySummary.averageFocus}</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-600\">Avg Productivity</div>\r\n                <div className=\"text-lg font-semibold\">{timeRecord.dailySummary.averageProductivity}/10</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-gray-600\">Outcomes</div>\r\n                <div className=\"text-lg font-semibold\">{timeRecord.dailySummary.totalOutcomes}</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"space-y-3\">\r\n            <h4 className=\"font-semibold text-gray-900\">Activity Log</h4>\r\n            \r\n            {timeRecord.entries.length === 0 ? (\r\n              <p className=\"text-gray-500 text-center py-8\">\r\n                No activities tracked yet. Start tracking to see your log!\r\n              </p>\r\n            ) : (\r\n              timeRecord.entries.map(entry => (\r\n                <div\r\n                  key={entry._id}\r\n                  className=\"border rounded-lg p-4 hover:bg-gray-50 transition\"\r\n                >\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-3 mb-2\">\r\n                        <h5 className=\"font-semibold text-gray-900\">\r\n                          {entry.activity === 'Other' && entry.customActivity \r\n                            ? entry.customActivity \r\n                            : entry.activity}\r\n                        </h5>\r\n                        {!entry.endTime && (\r\n                          <span className=\"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full\">\r\n                            Active\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"text-sm text-gray-600 space-y-1\">\r\n                        <div>\r\n                          {new Date(entry.startTime).toLocaleTimeString()} \r\n                          {entry.endTime && ` - ${new Date(entry.endTime).toLocaleTimeString()}`}\r\n                          {entry.duration > 0 && ` (${formatDuration(entry.duration)})`}\r\n                        </div>\r\n                        <div className=\"flex gap-4\">\r\n                          <span>Energy: {entry.energyLevel}</span>\r\n                          <span>Focus: {entry.focusQuality}</span>\r\n                          <span>Productivity: {entry.productivity}/10</span>\r\n                        </div>\r\n                        {entry.notes && (\r\n                          <div className=\"text-gray-700 mt-2\">{entry.notes}</div>\r\n                        )}\r\n                        {entry.outcomes && entry.outcomes.length > 0 && (\r\n                          <div className=\"mt-2\">\r\n                            <span className=\"text-xs font-semibold text-gray-700\">Outcomes:</span>\r\n                            <div className=\"flex flex-wrap gap-2 mt-1\">\r\n                              {entry.outcomes.map((outcome, idx) => (\r\n                                <span\r\n                                  key={idx}\r\n                                  className=\"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full\"\r\n                                >\r\n                                  {outcome.type}{outcome.description ? `: ${outcome.description}` : ''}\r\n                                </span>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        {entry.tags && entry.tags.length > 0 && (\r\n                          <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                            {entry.tags.map(tag => (\r\n                              <span\r\n                                key={tag}\r\n                                className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded\"\r\n                              >\r\n                                {tag}\r\n                              </span>\r\n                            ))}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {entry.endTime && (\r\n                      <button\r\n                        onClick={() => deleteEntry(entry._id)}\r\n                        className=\"text-red-600 hover:text-red-800 p-2 text-xl\"\r\n                        title=\"Delete entry\"\r\n                      >\r\n                        ├ù\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\TimingOptimizer.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadData'. Either include it or remove the dependency array.","line":35,"column":6,"nodeType":"ArrayExpression","endLine":35,"endColumn":11,"suggestions":[{"desc":"Update the dependencies array to be: [job, loadData]","fix":{"range":[1375,1380],"text":"[job, loadData]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'getActionColor' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":197,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":197,"endColumn":23,"suggestions":[{"messageId":"removeVar","data":{"varName":"getActionColor"},"fix":{"range":[6329,6757],"text":""},"desc":"Remove unused variable 'getActionColor'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":445,"column":21,"nodeType":"JSXOpeningElement","endLine":445,"endColumn":85},{"ruleId":"no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":1076,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":1076,"endColumn":31}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  getTimingRecommendation,\r\n  getRealtimeRecommendation,\r\n  scheduleSubmission,\r\n  cancelScheduledSubmission,\r\n  getTimingMetrics,\r\n  getABTestResults,\r\n  getCorrelations,\r\n  getComprehensiveInsights,\r\n  getScheduledSubmissions\r\n} from '../api/applicationTiming';\r\nimport apiClient from '../api/apiClient';\r\n\r\nconst TimingOptimizer = ({ job, onClose, onScheduled }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [recommendation, setRecommendation] = useState(null);\r\n  const [realtimeRec, setRealtimeRec] = useState(null);\r\n  const [metrics, setMetrics] = useState(null);\r\n  const [abTestResults, setAbTestResults] = useState(null);\r\n  const [correlations, setCorrelations] = useState(null);\r\n  const [insights, setInsights] = useState(null);\r\n  const [scheduledSubmissions, setScheduledSubmissions] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('recommendation');\r\n  const [scheduledTime, setScheduledTime] = useState('');\r\n  const [autoSubmit, setAutoSubmit] = useState(false);\r\n  const [scheduling, setScheduling] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [confirmModal, setConfirmModal] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [job]);\r\n\r\n  useEffect(() => {\r\n    if (successMessage) {\r\n      const timer = setTimeout(() => {\r\n        setSuccessMessage(null);\r\n      }, 8000); // Auto-dismiss after 8 seconds\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [successMessage]);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Get timezone from browser\r\n      const userTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone || 'EST';\r\n\r\n      // Load recommendation\r\n      const recResponse = await getTimingRecommendation(job._id, userTimezone);\r\n      setRecommendation(recResponse.recommendation);\r\n      \r\n      // Set default scheduled time to recommended time\r\n      if (recResponse.recommendation?.recommendedTime) {\r\n        const recTime = new Date(recResponse.recommendation.recommendedTime);\r\n        setScheduledTime(recTime.toISOString().slice(0, 16));\r\n      }\r\n\r\n      // Load realtime recommendation\r\n      try {\r\n        const realtimeResponse = await getRealtimeRecommendation(job._id, userTimezone);\r\n        setRealtimeRec(realtimeResponse);\r\n      } catch (err) {\r\n        console.error('Error loading realtime recommendation:', err);\r\n      }\r\n\r\n      // Load metrics\r\n      try {\r\n        const metricsResponse = await getTimingMetrics(job._id);\r\n        setMetrics(metricsResponse.metrics);\r\n      } catch (err) {\r\n        console.error('Error loading metrics:', err);\r\n      }\r\n\r\n      // Load A/B test results\r\n      try {\r\n        const abResponse = await getABTestResults();\r\n        setAbTestResults(abResponse.results);\r\n      } catch (err) {\r\n        console.error('Error loading A/B test results:', err);\r\n      }\r\n\r\n      // Load correlations\r\n      try {\r\n        const corrResponse = await getCorrelations();\r\n        setCorrelations(corrResponse.correlations);\r\n      } catch (err) {\r\n        console.error('Error loading correlations:', err);\r\n      }\r\n\r\n      // Load comprehensive insights (always has data even for new users)\r\n      try {\r\n        const insightsResponse = await getComprehensiveInsights();\r\n        setInsights(insightsResponse);\r\n      } catch (err) {\r\n        console.error('Error loading comprehensive insights:', err);\r\n      }\r\n\r\n      // Load scheduled submissions\r\n      try {\r\n        const scheduledResponse = await getScheduledSubmissions();\r\n        setScheduledSubmissions(scheduledResponse.scheduled || []);\r\n      } catch (err) {\r\n        console.error('Error loading scheduled submissions:', err);\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error('Error loading timing data:', err);\r\n      setError('Failed to load timing optimization data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSchedule = async () => {\r\n    console.log('≡ƒöö Schedule button clicked');\r\n    console.log('Scheduled time:', scheduledTime);\r\n    console.log('Auto submit:', autoSubmit);\r\n    \r\n    if (!scheduledTime) {\r\n      setError('Please select a time to schedule');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setScheduling(true);\r\n      setError(null);\r\n\r\n      console.log('Calling scheduleSubmission API...');\r\n      const response = await scheduleSubmission(job._id, scheduledTime, autoSubmit);\r\n      console.log('Schedule response:', response);\r\n\r\n      if (onScheduled) {\r\n        onScheduled();\r\n      }\r\n\r\n      // Reload data\r\n      await loadData();\r\n\r\n      setSuccessMessage({\r\n        type: 'schedule',\r\n        message: response.message || 'Application submission scheduled successfully!',\r\n        details: autoSubmit ? 'The application will be automatically submitted at the scheduled time.' : 'You will receive a reminder email at the scheduled time.'\r\n      });\r\n      \r\n      // Clear scheduledTime after successful scheduling\r\n      setScheduledTime('');\r\n      setAutoSubmit(false);\r\n    } catch (err) {\r\n      console.error('Error scheduling submission:', err);\r\n      setError('Failed to schedule submission: ' + (err.response?.data?.error || err.message));\r\n    } finally {\r\n      setScheduling(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelSchedule = async () => {\r\n    try {\r\n      setScheduling(true);\r\n      setError(null);\r\n\r\n      await cancelScheduledSubmission(job._id);\r\n\r\n      // Reload data\r\n      await loadData();\r\n\r\n      setSuccessMessage({\r\n        type: 'cancel',\r\n        message: 'Scheduled submission cancelled successfully!',\r\n        details: 'Your scheduled application has been cancelled.'\r\n      });\r\n    } catch (err) {\r\n      console.error('Error cancelling schedule:', err);\r\n      setError('Failed to cancel scheduled submission');\r\n    } finally {\r\n      setScheduling(false);\r\n    }\r\n  };\r\n\r\n  const formatDateTime = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleString('en-US', {\r\n      weekday: 'long',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: 'numeric',\r\n      minute: '2-digit',\r\n      hour12: true\r\n    });\r\n  };\r\n\r\n  const getActionColor = (action) => {\r\n    switch (action) {\r\n      case 'submit_now':\r\n        return 'bg-primary-100 text-primary-800 border-primary-300';\r\n      case 'wait_briefly':\r\n        return 'bg-gray-100 text-gray-800 border-gray-300';\r\n      case 'schedule':\r\n        return 'bg-primary-100 text-primary-800 border-primary-300';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800 border-gray-300';\r\n    }\r\n  };\r\n\r\n  const getConfidenceColor = (confidence) => {\r\n    if (confidence >= 75) return 'text-green-600';\r\n    if (confidence >= 50) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  const getImpactIcon = (impact) => {\r\n    switch (impact) {\r\n      case 'positive':\r\n        return 'Γ£à';\r\n      case 'negative':\r\n        return 'ΓÜá∩╕Å';\r\n      default:\r\n        return 'Γä╣∩╕Å';\r\n    }\r\n  };\r\n\r\n  const getSeverityColor = (severity) => {\r\n    switch (severity) {\r\n      case 'high':\r\n        return 'bg-red-100 text-red-800 border-red-300';\r\n      case 'medium':\r\n        return 'bg-yellow-100 text-yellow-800 border-yellow-300';\r\n      default:\r\n        return 'bg-blue-100 text-blue-800 border-blue-300';\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\">\r\n        <div className=\"bg-white rounded-lg p-8 max-w-md w-full\">\r\n          <div className=\"flex items-center justify-center\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\r\n          </div>\r\n          <p className=\"text-center mt-4 text-gray-600\">Analyzing optimal timing...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Application Timing Optimizer</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">\r\n              {job.title} at {job.company}\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 text-2xl font-bold\"\r\n          >\r\n            ├ù\r\n          </button>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"mx-6 mt-4 p-4 bg-red-50 border border-red-300 rounded-lg text-red-800\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {successMessage && (\r\n          <div className=\"mx-6 mt-4 p-4 bg-green-50 border border-green-300 rounded-lg\">\r\n            <div className=\"flex items-start\">\r\n              <div className=\"shrink-0\">\r\n                <svg className=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-3 flex-1\">\r\n                <p className=\"text-sm font-medium text-green-800\">\r\n                  {successMessage.message}\r\n                </p>\r\n                <p className=\"mt-1 text-sm text-green-700\">\r\n                  {successMessage.details}\r\n                </p>\r\n              </div>\r\n              <button\r\n                onClick={() => setSuccessMessage(null)}\r\n                className=\"ml-3 inline-flex text-green-400 hover:text-green-600\"\r\n              >\r\n                <span className=\"sr-only\">Dismiss</span>\r\n                <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Tabs */}\r\n        <div className=\"border-b border-gray-200\">\r\n          <nav className=\"flex space-x-4 px-6\" aria-label=\"Tabs\">\r\n            {['recommendation', 'metrics', 'insights', 'scheduled'].map((tab) => (\r\n              <button\r\n                key={tab}\r\n                onClick={() => setActiveTab(tab)}\r\n                className={`py-4 px-1 border-b-2 font-medium text-sm ${\r\n                  activeTab === tab\r\n                    ? 'border-primary-600 text-primary-700'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                {tab === 'recommendation' && 'Recommendation'}\r\n                {tab === 'metrics' && 'Your Metrics'}\r\n                {tab === 'insights' && 'Insights & Analytics'}\r\n                {tab === 'scheduled' && `Scheduled ${scheduledSubmissions.length > 0 ? `(${scheduledSubmissions.length})` : ''}`}\r\n              </button>\r\n            ))}\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6 max-h-[60vh] overflow-y-auto\">\r\n          {activeTab === 'recommendation' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Real-time Recommendation */}\r\n              {realtimeRec && (\r\n                <div className=\"border rounded-lg p-6 bg-primary-50 border-primary-200\">\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <h3 className=\"text-xl font-bold text-gray-900\">\r\n                      {realtimeRec.action === 'submit_now' && 'Right Now'}\r\n                      {realtimeRec.action === 'wait_briefly' && 'Soon'}\r\n                      {realtimeRec.action === 'schedule' && 'Recommendation'}\r\n                    </h3>\r\n                  </div>\r\n                  <p className=\"text-lg font-medium text-gray-700 mb-2\">{realtimeRec.message}</p>\r\n                  {realtimeRec.hoursUntilOptimal > 0 && (\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      {realtimeRec.hoursUntilOptimal} hours until optimal time\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Detailed Recommendation */}\r\n              {recommendation && (\r\n                <div className=\"bg-gray-50 rounded-lg p-6 border border-gray-200\">\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div>\r\n                      <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Optimal Submission Time</h3>\r\n                      <p className=\"text-3xl font-bold text-gray-900\">\r\n                        {recommendation.dayOfWeek}\r\n                      </p>\r\n                      <p className=\"text-xl text-gray-700 mt-1\">\r\n                        {new Date(recommendation.recommendedTime).toLocaleTimeString('en-US', {\r\n                          hour: 'numeric',\r\n                          minute: '2-digit',\r\n                          hour12: true\r\n                        })}\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-600 mt-2\">\r\n                        {formatDateTime(recommendation.recommendedTime)}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <p className=\"text-sm text-gray-600 mb-1\">Confidence Score</p>\r\n                      <p className={`text-4xl font-bold ${getConfidenceColor(recommendation.confidence)}`}>\r\n                        {recommendation.confidence}%\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mt-6 p-4 bg-white rounded-lg border border-gray-200\">\r\n                    <p className=\"text-gray-800\">{recommendation.reasoning}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Factors */}\r\n              {recommendation?.factors && recommendation.factors.length > 0 && (\r\n                <div className=\"bg-white rounded-lg border border-gray-200\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-900 p-4 border-b border-gray-200\">\r\n                    Contributing Factors\r\n                  </h4>\r\n                  <div className=\"p-4 space-y-3\">\r\n                    {recommendation.factors.map((factor, index) => (\r\n                      <div key={index} className=\"flex items-start gap-3 p-3 bg-gray-50 rounded-lg\">\r\n                        <span className=\"text-xl\">{getImpactIcon(factor.impact)}</span>\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2 mb-1\">\r\n                            <span className=\"font-medium text-gray-900 capitalize\">\r\n                              {factor.factor.replace(/_/g, ' ')}\r\n                            </span>\r\n                            <span className=\"text-xs px-2 py-0.5 bg-gray-200 text-gray-700 rounded\">\r\n                              Weight: {factor.weight}/10\r\n                            </span>\r\n                          </div>\r\n                          {factor.description && (\r\n                            <p className=\"text-sm text-gray-600\">{factor.description}</p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Warnings */}\r\n              {recommendation?.warnings && recommendation.warnings.length > 0 && (\r\n                <div className=\"bg-white rounded-lg border border-gray-200\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-900 p-4 border-b border-gray-200\">\r\n                    ΓÜá∩╕Å Timing Warnings\r\n                  </h4>\r\n                  <div className=\"p-4 space-y-3\">\r\n                    {recommendation.warnings.map((warning, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className={`p-3 border-2 rounded-lg ${getSeverityColor(warning.severity)}`}\r\n                      >\r\n                        <div className=\"flex items-center gap-2 mb-1\">\r\n                          <span className=\"font-medium capitalize\">\r\n                            {warning.type.replace(/_/g, ' ')}\r\n                          </span>\r\n                          <span className=\"text-xs uppercase font-bold\">\r\n                            {warning.severity}\r\n                          </span>\r\n                        </div>\r\n                        <p className=\"text-sm\">{warning.message}</p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Schedule Section */}\r\n              <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n                <h4 className=\"text-lg font-semibold text-gray-900 mb-4\">Schedule Submission</h4>\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Schedule Time\r\n                    </label>\r\n                    {/* Debug info */}\r\n                    <div className=\"text-xs text-gray-500 mb-1\">\r\n                      Current value: {scheduledTime || 'empty'}\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                      <input\r\n                        type=\"date\"\r\n                        value={scheduledTime.split('T')[0] || ''}\r\n                        onChange={(e) => {\r\n                          const currentTime = scheduledTime.split('T')[1] || '09:00';\r\n                          const timeOnly = currentTime.includes(':') ? currentTime.slice(0, 5) : '09:00';\r\n                          setScheduledTime(`${e.target.value}T${timeOnly}`);\r\n                        }}\r\n                        className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        min={new Date().toISOString().split('T')[0]}\r\n                      />\r\n                      <input\r\n                        type=\"time\"\r\n                        value={scheduledTime.split('T')[1]?.slice(0, 5) || '09:00'}\r\n                        onChange={(e) => {\r\n                          console.log('Time input changed:', e.target.value);\r\n                          const date = scheduledTime.split('T')[0] || new Date().toISOString().split('T')[0];\r\n                          const newScheduledTime = `${date}T${e.target.value}`;\r\n                          console.log('Setting new scheduled time:', newScheduledTime);\r\n                          setScheduledTime(newScheduledTime);\r\n                        }}\r\n                        className=\"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                      />\r\n                    </div>\r\n                    {recommendation && (\r\n                      <button\r\n                        onClick={() => {\r\n                          const recTime = new Date(recommendation.recommendedTime);\r\n                          setScheduledTime(recTime.toISOString().slice(0, 16));\r\n                        }}\r\n                        className=\"mt-2 text-sm text-gray-600 hover:text-gray-800\"\r\n                      >\r\n                        Use recommended time\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"autoSubmit\"\r\n                      checked={autoSubmit}\r\n                      onChange={(e) => setAutoSubmit(e.target.checked)}\r\n                      className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                    />\r\n                    <label htmlFor=\"autoSubmit\" className=\"text-sm text-gray-700\">\r\n                      Auto-submit at scheduled time (sends reminder if unchecked)\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3\">\r\n                    <button\r\n                      onClick={(e) => {\r\n                        console.log('Button clicked!', e);\r\n                        handleSchedule();\r\n                      }}\r\n                      disabled={scheduling || !scheduledTime}\r\n                      className=\"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 disabled:bg-gray-300 disabled:cursor-not-allowed font-medium\"\r\n                    >\r\n                      {scheduling ? 'Scheduling...' : 'Schedule Submission'}\r\n                    </button>\r\n                    {metrics?.scheduledSubmission?.status === 'scheduled' && (\r\n                      <button\r\n                        onClick={handleCancelSchedule}\r\n                        disabled={scheduling}\r\n                        className=\"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 disabled:bg-gray-100 font-medium\"\r\n                      >\r\n                        Cancel Schedule\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n\r\n                  {metrics?.scheduledSubmission?.status === 'scheduled' && (\r\n                    <div className=\"p-3 bg-primary-50 border border-primary-200 rounded-lg\">\r\n                      <p className=\"text-sm font-medium text-blue-900\">\r\n                        Currently scheduled for:{' '}\r\n                        {formatDateTime(metrics.scheduledSubmission.scheduledTime)}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'metrics' && (\r\n            <div className=\"space-y-6\">\r\n              {metrics ? (\r\n                <>\r\n                  {/* Overall Metrics */}\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                    <div className=\"bg-gray-50 rounded-lg p-4 border border-gray-200\">\r\n                      <p className=\"text-sm text-gray-600 mb-1\">Total Submissions</p>\r\n                      <p className=\"text-3xl font-bold text-primary-700\">{metrics.totalSubmissions}</p>\r\n                    </div>\r\n                    <div className=\"bg-linear-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200\">\r\n                      <p className=\"text-sm text-gray-600 mb-1\">Response Rate</p>\r\n                      <p className=\"text-3xl font-bold text-green-600\">\r\n                        {metrics.responseRate.toFixed(1)}%\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"bg-linear-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200\">\r\n                      <p className=\"text-sm text-gray-600 mb-1\">Avg Response Time</p>\r\n                      <p className=\"text-3xl font-bold text-purple-600\">\r\n                        {Math.round(metrics.averageResponseTime)}h\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"bg-linear-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200\">\r\n                      <p className=\"text-sm text-gray-600 mb-1\">Optimal Time Success</p>\r\n                      <p className=\"text-3xl font-bold text-yellow-600\">\r\n                        {metrics.optimalTimeSuccessRate.toFixed(1)}%\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Success Rate Comparison */}\r\n                  {metrics.optimalTimeSuccessRate > 0 && metrics.nonOptimalTimeSuccessRate > 0 && (\r\n                    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n                      <h4 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n                        Impact of Optimal Timing\r\n                      </h4>\r\n                      <div className=\"grid md:grid-cols-2 gap-4\">\r\n                        <div className=\"p-4 bg-green-50 rounded-lg border border-green-200\">\r\n                          <p className=\"text-sm text-gray-600 mb-2\">Optimal Time Submissions</p>\r\n                          <p className=\"text-2xl font-bold text-green-600\">\r\n                            {metrics.optimalTimeSuccessRate.toFixed(1)}% success\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-200\">\r\n                          <p className=\"text-sm text-gray-600 mb-2\">Other Time Submissions</p>\r\n                          <p className=\"text-2xl font-bold text-gray-600\">\r\n                            {metrics.nonOptimalTimeSuccessRate.toFixed(1)}% success\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      {metrics.optimalTimeSuccessRate > metrics.nonOptimalTimeSuccessRate && (\r\n                        <div className=\"mt-4 p-3 bg-primary-50 border border-primary-200 rounded-lg\">\r\n                          <p className=\"text-sm text-blue-800\">\r\n                            Applying at optimal times improved your success rate by{' '}\r\n                            <span className=\"font-bold\">\r\n                              {(metrics.optimalTimeSuccessRate - metrics.nonOptimalTimeSuccessRate).toFixed(1)}%\r\n                            </span>\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <div className=\"text-center py-12\">\r\n                  <p className=\"text-gray-500 text-lg mb-2\">No timing data yet</p>\r\n                  <p className=\"text-sm text-gray-400\">\r\n                    Submit applications and track responses to see your metrics\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'insights' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Recommendations */}\r\n              {insights?.recommendations && insights.recommendations.length > 0 && (\r\n                <div className=\"bg-white rounded-lg border border-gray-200\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-900 p-4 border-b border-gray-200\">\r\n                    Personalized Recommendations\r\n                  </h4>\r\n                  <div className=\"p-4 space-y-3\">\r\n                    {insights.recommendations.map((rec, index) => (\r\n                      <div \r\n                        key={index} \r\n                        className={`p-4 rounded-lg border ${\r\n                          rec.priority === 'high' \r\n                            ? 'bg-primary-50 border-primary-200' \r\n                            : rec.priority === 'medium'\r\n                            ? 'bg-gray-50 border-gray-200'\r\n                            : 'bg-gray-50 border-gray-200'\r\n                        }`}\r\n                      >\r\n                        <div className=\"flex items-start gap-3\">\r\n                          <div>\r\n                            <h5 className=\"font-semibold text-gray-900\">{rec.title}</h5>\r\n                            <p className=\"text-sm text-gray-600 mt-1\">{rec.description}</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* User Stats Summary */}\r\n              {insights?.userStats && insights.userStats.totalSubmissions > 0 && (\r\n                <div className=\"bg-white rounded-lg border border-gray-200 p-4\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-900 mb-4\">Your Stats</h4>\r\n                  <div className=\"grid grid-cols-3 gap-4\">\r\n                    <div className=\"text-center p-3 bg-primary-50 rounded-lg\">\r\n                      <p className=\"text-2xl font-bold text-primary-700\">{insights.userStats.totalSubmissions}</p>\r\n                      <p className=\"text-sm text-gray-600\">Total Submissions</p>\r\n                    </div>\r\n                    <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n                      <p className=\"text-2xl font-bold text-gray-700\">{insights.userStats.totalResponses}</p>\r\n                      <p className=\"text-sm text-gray-600\">Responses</p>\r\n                    </div>\r\n                    <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n                      <p className=\"text-2xl font-bold text-gray-700\">{insights.userStats.overallRate.toFixed(1)}%</p>\r\n                      <p className=\"text-sm text-gray-600\">Response Rate</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Industry Benchmarks - Always shown */}\r\n              {insights?.industryBenchmarks && (\r\n                <div className=\"bg-white rounded-lg border border-gray-200\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-900 p-4 border-b border-gray-200\">\r\n                    Industry Timing Benchmarks\r\n                  </h4>\r\n                  <div className=\"p-4\">\r\n                    <p className=\"text-sm text-gray-600 mb-4\">\r\n                      Best practices for application timing based on industry research\r\n                    </p>\r\n                    <div className=\"grid md:grid-cols-2 gap-4\">\r\n                      {Object.entries(insights.industryBenchmarks)\r\n                        .filter(([key]) => key !== 'default')\r\n                        .map(([industry, data]) => (\r\n                          <div key={industry} className=\"p-4 bg-gray-50 rounded-lg\">\r\n                            <h5 className=\"font-semibold text-gray-900 mb-2\">{industry}</h5>\r\n                            <div className=\"space-y-2 text-sm\">\r\n                              <div className=\"flex items-center gap-2\">\r\n                                <span>Best days: {data.bestDays.join(', ')}</span>\r\n                              </div>\r\n                              <div className=\"flex items-center gap-2\">\r\n                                <span>Best hours: {data.bestHours.join(', ')}</span>\r\n                              </div>\r\n                              <div className=\"flex items-center gap-2\">\r\n                                <span>Avg response rate: {data.avgResponseRate}%</span>\r\n                              </div>\r\n                            </div>\r\n                            {data.insights && (\r\n                              <div className=\"mt-3 pt-3 border-t border-gray-200\">\r\n                                <p className=\"text-xs text-gray-500 italic\">\r\n                                  {data.insights[0]}\r\n                                </p>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* User's Success Rate by Day - Only if has data */}\r\n              {insights?.correlations?.byDayOfWeek && \r\n               Object.keys(insights.correlations.byDayOfWeek).length > 0 && (\r\n                <div className=\"bg-white rounded-lg border border-gray-200\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-900 p-4 border-b border-gray-200\">\r\n                    Your Success Rate by Day\r\n                  </h4>\r\n                  <div className=\"p-4 space-y-2\">\r\n                    {Object.entries(insights.correlations.byDayOfWeek)\r\n                      .sort((a, b) => b[1].rate - a[1].rate)\r\n                      .map(([day, data]) => (\r\n                        <div key={day} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <span className=\"font-medium text-gray-900 w-24\">{day}</span>\r\n                            <span className=\"text-sm text-gray-600\">\r\n                              {data.total} application{data.total !== 1 ? 's' : ''}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-32 bg-gray-200 rounded-full h-2\">\r\n                              <div\r\n                                className=\"bg-primary-600 h-2 rounded-full transition-all\"\r\n                                style={{ width: `${Math.min(data.rate, 100)}%` }}\r\n                              />\r\n                            </div>\r\n                            <span className=\"font-bold text-primary-700 w-16 text-right\">\r\n                              {data.rate.toFixed(1)}%\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {/* A/B Test Results */}\r\n              {abTestResults && Object.keys(abTestResults).some(key => abTestResults[key].submissions > 0) && (\r\n                    <div className=\"bg-white rounded-lg border border-gray-200\">\r\n                      <h4 className=\"text-lg font-semibold text-gray-900 p-4 border-b border-gray-200\">\r\n                        A/B Test Results\r\n                      </h4>\r\n                      <div className=\"p-4\">\r\n                        <p className=\"text-sm text-gray-600 mb-4\">\r\n                          Compare the success rates of different timing strategies\r\n                        </p>\r\n                        <div className=\"space-y-3\">\r\n                          {Object.entries(abTestResults).map(([group, data]) => (\r\n                            <div key={group} className=\"p-4 bg-gray-50 rounded-lg\">\r\n                              <div className=\"flex items-center justify-between mb-2\">\r\n                                <span className=\"font-medium text-gray-900 capitalize\">\r\n                                  {group.replace(/_/g, ' ')}\r\n                                </span>\r\n                                <span className=\"text-lg font-bold text-gray-700\">\r\n                                  {data.rate.toFixed(1)}%\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"flex items-center gap-4 text-sm text-gray-600\">\r\n                                <span>{data.submissions} submissions</span>\r\n                                <span>{data.responses} responses</span>\r\n                              </div>\r\n                              <div className=\"mt-2 w-full bg-gray-200 rounded-full h-2\">\r\n                                <div\r\n                                  className=\"bg-primary-600 h-2 rounded-full transition-all\"\r\n                                  style={{ width: `${data.rate}%` }}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Correlations */}\r\n                  {correlations && (\r\n                    <>\r\n                      {/* Day of Week Correlation */}\r\n                      {correlations.byDayOfWeek && Object.keys(correlations.byDayOfWeek).length > 0 && (\r\n                    <div className=\"bg-white rounded-lg border border-gray-200\">\r\n                      <h4 className=\"text-lg font-semibold text-gray-900 p-4 border-b border-gray-200\">\r\n                        Success Rate by Day of Week\r\n                      </h4>\r\n                      <div className=\"p-4 space-y-2\">\r\n                        {Object.entries(correlations.byDayOfWeek)\r\n                          .sort((a, b) => b[1].rate - a[1].rate)\r\n                          .map(([day, data]) => (\r\n                            <div key={day} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                              <div className=\"flex items-center gap-3\">\r\n                                <span className=\"font-medium text-gray-900 w-24\">{day}</span>\r\n                                <span className=\"text-sm text-gray-600\">\r\n                                  {data.total} application{data.total !== 1 ? 's' : ''}\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"flex items-center gap-3\">\r\n                                <div className=\"w-32 bg-gray-200 rounded-full h-2\">\r\n                                  <div\r\n                                    className=\"bg-green-600 h-2 rounded-full transition-all\"\r\n                                    style={{ width: `${data.rate}%` }}\r\n                                  />\r\n                                </div>\r\n                                <span className=\"font-bold text-green-600 w-16 text-right\">\r\n                                  {data.rate.toFixed(1)}%\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Hour of Day Correlation */}\r\n                  {correlations.byHourOfDay && Object.keys(correlations.byHourOfDay).length > 0 && (\r\n                    <div className=\"bg-white rounded-lg border border-gray-200\">\r\n                      <h4 className=\"text-lg font-semibold text-gray-900 p-4 border-b border-gray-200\">\r\n                        Success Rate by Hour of Day\r\n                      </h4>\r\n                      <div className=\"p-4 space-y-2\">\r\n                        {Object.entries(correlations.byHourOfDay)\r\n                          .sort((a, b) => parseInt(a[0]) - parseInt(b[0]))\r\n                          .map(([hour, data]) => {\r\n                            const hour12 = parseInt(hour) % 12 || 12;\r\n                            const ampm = parseInt(hour) < 12 ? 'AM' : 'PM';\r\n                            return (\r\n                              <div key={hour} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                  <span className=\"font-medium text-gray-900 w-20\">\r\n                                    {hour12}:00 {ampm}\r\n                                  </span>\r\n                                  <span className=\"text-sm text-gray-600\">\r\n                                    {data.total} submission{data.total !== 1 ? 's' : ''}\r\n                                  </span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-3\">\r\n                                  <div className=\"w-32 bg-gray-200 rounded-full h-2\">\r\n                                    <div\r\n                                      className=\"bg-primary-600 h-2 rounded-full transition-all\"\r\n                                      style={{ width: `${data.rate}%` }}\r\n                                    />\r\n                                  </div>\r\n                                  <span className=\"font-bold text-primary-700 w-16 text-right\">\r\n                                    {data.rate.toFixed(1)}%\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                    </>\r\n                  )}\r\n\r\n              {/* No Data Message - Only if truly nothing to show */}\r\n              {!insights?.industryBenchmarks && \r\n               !abTestResults && \r\n               !correlations && (\r\n                <div className=\"text-center py-12\">\r\n                  <p className=\"text-gray-500 text-lg mb-2\">Loading insights...</p>\r\n                  <p className=\"text-sm text-gray-400\">\r\n                    Getting timing analytics and industry benchmarks\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Scheduled Tab */}\r\n          {activeTab === 'scheduled' && (\r\n            <div className=\"space-y-4\">\r\n              {scheduledSubmissions.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <p className=\"text-gray-500 text-lg mb-2\">No Scheduled Submissions</p>\r\n                  <p className=\"text-sm text-gray-400\">\r\n                    Schedule an application submission using the Recommendation tab\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <div className=\"bg-primary-50 border border-primary-200 rounded-lg p-4 mb-4\">\r\n                    <p className=\"text-sm text-primary-800\">\r\n                      <strong>{scheduledSubmissions.length}</strong> application{scheduledSubmissions.length !== 1 ? 's' : ''} scheduled\r\n                    </p>\r\n                  </div>\r\n                  \r\n                  <div className=\"space-y-3\">\r\n                    {scheduledSubmissions.map((scheduled, index) => {\r\n                      const scheduledDate = new Date(scheduled.scheduledTime);\r\n                      const isPast = scheduledDate < new Date();\r\n                      const isToday = scheduledDate.toDateString() === new Date().toDateString();\r\n                      \r\n                      return (\r\n                        <div \r\n                          key={index} \r\n                          className={`border rounded-lg p-4 ${\r\n                            isPast ? 'bg-gray-50 border-gray-300' : 'bg-white border-primary-200'\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-start justify-between\">\r\n                            <div className=\"flex-1\">\r\n                              <div className=\"flex items-center gap-2 mb-2\">\r\n                                <div>\r\n                                  <h4 className=\"font-semibold text-gray-900\">\r\n                                    {scheduled.jobTitle || 'Job Application'}\r\n                                  </h4>\r\n                                  <p className=\"text-sm text-gray-600\">\r\n                                    {scheduled.jobCompany || 'Company'}\r\n                                  </p>\r\n                                </div>\r\n                              </div>\r\n                              \r\n                              <div className=\"mt-3 space-y-2\">\r\n                                <div className=\"flex items-center gap-2 text-sm\">\r\n                                  <span className={`font-medium ${\r\n                                    isToday ? 'text-primary-700' : isPast ? 'text-gray-500' : 'text-gray-700'\r\n                                  }`}>\r\n                                    {scheduledDate.toLocaleDateString()} at {scheduledDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                  </span>\r\n                                </div>\r\n                                \r\n                                <div className=\"flex items-center gap-2\">\r\n                                  <span className={`text-xs px-2 py-1 rounded-full font-medium ${\r\n                                    scheduled.autoSubmit\r\n                                      ? 'bg-primary-100 text-primary-700'\r\n                                      : 'bg-gray-100 text-gray-700'\r\n                                  }`}>\r\n                                    {scheduled.autoSubmit ? 'Auto-Submit' : 'Reminder Only'}\r\n                                  </span>\r\n                                  \r\n                                  {isPast && (\r\n                                    <span className=\"text-xs px-2 py-1 rounded-full font-medium bg-gray-200 text-gray-600\">\r\n                                      Completed\r\n                                    </span>\r\n                                  )}\r\n                                  \r\n                                  {isToday && !isPast && (\r\n                                    <span className=\"text-xs px-2 py-1 rounded-full font-medium bg-primary-100 text-primary-700\">\r\n                                      Today\r\n                                    </span>\r\n                                  )}\r\n                                  \r\n                                  {scheduled.reminderSent && (\r\n                                    <span className=\"text-xs px-2 py-1 rounded-full font-medium bg-gray-100 text-gray-600\">\r\n                                      Reminder Sent\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            \r\n                            {!isPast && (\r\n                              <div className=\"ml-4 flex flex-col gap-2\">\r\n                                <button\r\n                                  onClick={() => {\r\n                                    setConfirmModal({\r\n                                      type: 'submit',\r\n                                      jobId: scheduled.jobId,\r\n                                      jobCompany: scheduled.jobCompany\r\n                                    });\r\n                                  }}\r\n                                  className=\"px-3 py-1 text-sm text-white bg-gray-800 hover:bg-gray-900 rounded-lg transition-colors\"\r\n                                >\r\n                                  Submit Now\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => {\r\n                                    // Switch to recommendation tab and pre-fill with current scheduled time\r\n                                    setScheduledTime(new Date(scheduled.scheduledTime).toISOString().slice(0, 16));\r\n                                    setAutoSubmit(scheduled.autoSubmit);\r\n                                    setActiveTab('recommendation');\r\n                                  }}\r\n                                  className=\"px-3 py-1 text-sm text-gray-700 hover:bg-gray-50 border border-gray-300 rounded-lg transition-colors\"\r\n                                >\r\n                                  Reschedule\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => {\r\n                                    setConfirmModal({\r\n                                      type: 'cancel',\r\n                                      jobId: scheduled.jobId,\r\n                                      jobCompany: scheduled.jobCompany\r\n                                    });\r\n                                  }}\r\n                                  className=\"px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 border border-gray-300 rounded-lg transition-colors\"\r\n                                >\r\n                                  Cancel\r\n                                </button>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 font-medium\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Confirmation Modal */}\r\n      {confirmModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-60\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n              {confirmModal.type === 'submit' ? 'Submit Application Now?' : 'Cancel Scheduled Submission?'}\r\n            </h3>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              {confirmModal.type === 'submit' \r\n                ? `Are you sure you want to submit your application to ${confirmModal.jobCompany} now? This will cancel the scheduled submission.`\r\n                : `Are you sure you want to cancel the scheduled submission for ${confirmModal.jobCompany}?`\r\n              }\r\n            </p>\r\n            <div className=\"flex gap-3 justify-end\">\r\n              <button\r\n                onClick={() => setConfirmModal(null)}\r\n                className=\"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={async () => {\r\n                  try {\r\n                    if (confirmModal.type === 'submit') {\r\n                      // Cancel the schedule\r\n                      await cancelScheduledSubmission(confirmModal.jobId, 'Submitted immediately');\r\n                      \r\n                      // Update job status to \"Applied\" and set application date\r\n                      await apiClient.put(`/jobs/${confirmModal.jobId}/status`, { \r\n                        status: 'Applied'\r\n                      });\r\n                      \r\n                      // Update job with application date\r\n                      await apiClient.put(`/jobs/${confirmModal.jobId}`, {\r\n                        applicationDate: new Date().toISOString()\r\n                      });\r\n                      \r\n                      const scheduledResponse = await getScheduledSubmissions();\r\n                      setScheduledSubmissions(scheduledResponse.scheduled || []);\r\n                      setSuccessMessage({\r\n                        type: 'success',\r\n                        message: 'Application submitted! Job status updated to \"Applied\".'\r\n                      });\r\n                      setConfirmModal(null);\r\n                      \r\n                      // Notify parent to refresh job list\r\n                      if (onScheduled) {\r\n                        onScheduled();\r\n                      }\r\n                      onClose();\r\n                    } else {\r\n                      await cancelScheduledSubmission(confirmModal.jobId);\r\n                      const scheduledResponse = await getScheduledSubmissions();\r\n                      setScheduledSubmissions(scheduledResponse.scheduled || []);\r\n                      setSuccessMessage({\r\n                        type: 'success',\r\n                        message: 'Scheduled submission cancelled'\r\n                      });\r\n                      setConfirmModal(null);\r\n                    }\r\n                  } catch (err) {\r\n                    setError('Failed to process request');\r\n                    setConfirmModal(null);\r\n                  }\r\n                }}\r\n                className=\"px-4 py-2 text-white bg-gray-800 hover:bg-gray-900 rounded-lg transition-colors\"\r\n              >\r\n                {confirmModal.type === 'submit' ? 'Submit Now' : 'Yes, Cancel'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nTimingOptimizer.propTypes = {\r\n  job: PropTypes.shape({\r\n    _id: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    company: PropTypes.string.isRequired,\r\n    industry: PropTypes.string,\r\n    workMode: PropTypes.string,\r\n    location: PropTypes.string\r\n  }).isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onScheduled: PropTypes.func\r\n};\r\n\r\nexport default TimingOptimizer;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\Whiteboard.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'initialDrawing' and 'saveToHistory'. Either include them or remove the dependency array.","line":77,"column":6,"nodeType":"ArrayExpression","endLine":77,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [initialDrawing, saveToHistory]","fix":{"range":[2615,2617],"text":"[initialDrawing, saveToHistory]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'ctx' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":479,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":479,"endColumn":28,"suggestions":[{"messageId":"removeVar","data":{"varName":"ctx"},"fix":{"range":[14993,15029],"text":""},"desc":"Remove unused variable 'ctx'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":498,"column":13,"nodeType":"JSXOpeningElement","endLine":498,"endColumn":54},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":509,"column":13,"nodeType":"JSXOpeningElement","endLine":509,"endColumn":54},{"ruleId":"jsx-a11y/no-autofocus","severity":1,"message":"The autoFocus prop should not be used, as it can reduce usability and accessibility for users.","line":579,"column":15,"nodeType":"JSXAttribute","endLine":579,"endColumn":24}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useRef, useState, useEffect } from 'react';\r\nimport { \r\n  PencilIcon, \r\n  Square3Stack3DIcon, \r\n  ArrowRightIcon,\r\n  TrashIcon,\r\n  ArrowUturnLeftIcon,\r\n  ArrowUturnRightIcon,\r\n  DocumentArrowDownIcon,\r\n  PhotoIcon\r\n} from '@heroicons/react/24/outline';\r\nimport Button from './Button';\r\n\r\n/**\r\n * Whiteboard Component\r\n * \r\n * A full-featured drawing canvas for system design diagrams with support for:\r\n * - Free-hand drawing with pen tool\r\n * - Rectangle shapes for components (databases, servers, caches, etc.)\r\n * - Arrow connections between components\r\n * - Text labels for naming components\r\n * - Undo/Redo functionality\r\n * - Color and line width customization\r\n * - Export as PNG image\r\n * - Save drawing to parent component\r\n * \r\n * @param {Function} onSave - Callback function to save drawing (receives data URL)\r\n * @param {String} initialDrawing - Base64 data URL of existing drawing to load\r\n */\r\nconst Whiteboard = ({ onSave, initialDrawing = null }) => {\r\n  const canvasRef = useRef(null);\r\n  const tempCanvasRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [tool, setTool] = useState('pen'); // pen, rectangle, arrow, text, move\r\n  const [color, setColor] = useState('#000000');\r\n  const [lineWidth, setLineWidth] = useState(2);\r\n  const [history, setHistory] = useState([]);\r\n  const [historyStep, setHistoryStep] = useState(-1);\r\n  const [startPos, setStartPos] = useState(null);\r\n  const [textInput, setTextInput] = useState('');\r\n  const [textPosition, setTextPosition] = useState(null);\r\n  const [textObjects, setTextObjects] = useState([]);\r\n  const [selectedTextIndex, setSelectedTextIndex] = useState(null);\r\n  const [isDraggingText, setIsDraggingText] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    // Set canvas size\r\n    canvas.width = canvas.offsetWidth;\r\n    canvas.height = canvas.offsetHeight;\r\n\r\n    // Create temporary canvas for shape preview\r\n    const tempCanvas = document.createElement('canvas');\r\n    tempCanvas.width = canvas.width;\r\n    tempCanvas.height = canvas.height;\r\n    tempCanvasRef.current = tempCanvas;\r\n\r\n    // Set default styles\r\n    ctx.fillStyle = '#ffffff';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    // Load initial drawing if provided\r\n    if (initialDrawing) {\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        ctx.drawImage(img, 0, 0);\r\n        saveToHistory();\r\n      };\r\n      img.src = initialDrawing;\r\n    } else {\r\n      saveToHistory();\r\n    }\r\n  }, []);\r\n\r\n  const saveToHistory = () => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const dataUrl = canvas.toDataURL();\r\n    const newHistory = history.slice(0, historyStep + 1);\r\n    newHistory.push(dataUrl);\r\n    setHistory(newHistory);\r\n    setHistoryStep(newHistory.length - 1);\r\n    \r\n    // Save snapshot to temp canvas\r\n    if (tempCanvasRef.current) {\r\n      const tempCtx = tempCanvasRef.current.getContext('2d');\r\n      tempCtx.clearRect(0, 0, tempCanvasRef.current.width, tempCanvasRef.current.height);\r\n      tempCtx.drawImage(canvas, 0, 0);\r\n    }\r\n  };\r\n\r\n  const undo = () => {\r\n    if (historyStep > 0) {\r\n      const newStep = historyStep - 1;\r\n      setHistoryStep(newStep);\r\n      setTextObjects([]); // Clear text objects when undoing\r\n      setSelectedTextIndex(null);\r\n      loadFromHistory(newStep);\r\n    }\r\n  };\r\n\r\n  const redo = () => {\r\n    if (historyStep < history.length - 1) {\r\n      const newStep = historyStep + 1;\r\n      setHistoryStep(newStep);\r\n      setTextObjects([]); // Clear text objects when redoing\r\n      setSelectedTextIndex(null);\r\n      loadFromHistory(newStep);\r\n    }\r\n  };\r\n\r\n  const loadFromHistory = (step) => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.drawImage(img, 0, 0);\r\n      \r\n      // Update temp canvas with the restored state\r\n      if (tempCanvasRef.current) {\r\n        const tempCtx = tempCanvasRef.current.getContext('2d');\r\n        tempCtx.clearRect(0, 0, tempCanvasRef.current.width, tempCanvasRef.current.height);\r\n        tempCtx.drawImage(img, 0, 0);\r\n      }\r\n    };\r\n    img.src = history[step];\r\n  };\r\n\r\n  const clearCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = '#ffffff';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    // Clear temp canvas\r\n    if (tempCanvasRef.current) {\r\n      const tempCtx = tempCanvasRef.current.getContext('2d');\r\n      tempCtx.fillStyle = '#ffffff';\r\n      tempCtx.fillRect(0, 0, tempCanvasRef.current.width, tempCanvasRef.current.height);\r\n    }\r\n    \r\n    // Clear text objects\r\n    setTextObjects([]);\r\n    setSelectedTextIndex(null);\r\n    \r\n    saveToHistory();\r\n  };\r\n\r\n  const getMousePos = (e) => {\r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    return {\r\n      x: e.clientX - rect.left,\r\n      y: e.clientY - rect.top\r\n    };\r\n  };\r\n\r\n  const findTextAtPosition = (pos) => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    for (let i = textObjects.length - 1; i >= 0; i--) {\r\n      const text = textObjects[i];\r\n      ctx.font = `${text.size}px Arial`;\r\n      const metrics = ctx.measureText(text.content);\r\n      const textWidth = metrics.width;\r\n      const textHeight = text.size;\r\n      \r\n      if (pos.x >= text.x && pos.x <= text.x + textWidth &&\r\n          pos.y >= text.y - textHeight && pos.y <= text.y) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  };\r\n\r\n  const redrawCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    // Draw from temp canvas\r\n    if (tempCanvasRef.current) {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.fillStyle = '#ffffff';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n      ctx.drawImage(tempCanvasRef.current, 0, 0);\r\n    }\r\n    \r\n    // Only redraw text objects if they exist\r\n    if (textObjects.length > 0) {\r\n      textObjects.forEach((text, index) => {\r\n        ctx.fillStyle = text.color;\r\n        ctx.font = `${text.size}px Arial`;\r\n        ctx.fillText(text.content, text.x, text.y);\r\n        \r\n        // Highlight selected text\r\n        if (index === selectedTextIndex) {\r\n          ctx.strokeStyle = '#3B82F6';\r\n          ctx.lineWidth = 2;\r\n          const metrics = ctx.measureText(text.content);\r\n          ctx.strokeRect(text.x - 2, text.y - text.size - 2, metrics.width + 4, text.size + 4);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const startDrawing = (e) => {\r\n    const pos = getMousePos(e);\r\n    \r\n    // Check if clicking on text in move mode\r\n    if (tool === 'move') {\r\n      const textIndex = findTextAtPosition(pos);\r\n      if (textIndex !== -1) {\r\n        setSelectedTextIndex(textIndex);\r\n        setIsDraggingText(true);\r\n        setStartPos(pos);\r\n        return;\r\n      } else {\r\n        setSelectedTextIndex(null);\r\n        redrawCanvas();\r\n      }\r\n    }\r\n    \r\n    setIsDrawing(true);\r\n    setStartPos(pos);\r\n\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    if (tool === 'pen') {\r\n      ctx.beginPath();\r\n      ctx.moveTo(pos.x, pos.y);\r\n    } else if (tool === 'text') {\r\n      setTextPosition(pos);\r\n    }\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (tool === 'text') return;\r\n    \r\n    const pos = getMousePos(e);\r\n    \r\n    // Handle text dragging\r\n    if (isDraggingText && selectedTextIndex !== null) {\r\n      const dx = pos.x - startPos.x;\r\n      const dy = pos.y - startPos.y;\r\n      \r\n      const newTextObjects = [...textObjects];\r\n      newTextObjects[selectedTextIndex] = {\r\n        ...newTextObjects[selectedTextIndex],\r\n        x: newTextObjects[selectedTextIndex].x + dx,\r\n        y: newTextObjects[selectedTextIndex].y + dy\r\n      };\r\n      setTextObjects(newTextObjects);\r\n      setStartPos(pos);\r\n      redrawCanvas();\r\n      return;\r\n    }\r\n    \r\n    if (!isDrawing) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = lineWidth;\r\n    ctx.lineCap = 'round';\r\n    ctx.lineJoin = 'round';\r\n\r\n    if (tool === 'pen') {\r\n      ctx.lineTo(pos.x, pos.y);\r\n      ctx.stroke();\r\n    } else if (tool === 'rectangle' || tool === 'arrow') {\r\n      // Restore from temp canvas instead of history\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.fillStyle = '#ffffff';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n      \r\n      if (tempCanvasRef.current) {\r\n        ctx.drawImage(tempCanvasRef.current, 0, 0);\r\n      }\r\n      \r\n      // Only redraw text objects that are currently active\r\n      if (textObjects.length > 0) {\r\n        textObjects.forEach((text) => {\r\n          ctx.fillStyle = text.color;\r\n          ctx.font = `${text.size}px Arial`;\r\n          ctx.fillText(text.content, text.x, text.y);\r\n        });\r\n      }\r\n      \r\n      // Draw preview shape\r\n      ctx.strokeStyle = color;\r\n      ctx.lineWidth = lineWidth;\r\n      \r\n      if (tool === 'rectangle') {\r\n        const width = pos.x - startPos.x;\r\n        const height = pos.y - startPos.y;\r\n        ctx.strokeRect(startPos.x, startPos.y, width, height);\r\n      } else if (tool === 'arrow') {\r\n        drawArrow(ctx, startPos.x, startPos.y, pos.x, pos.y);\r\n      }\r\n    }\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    if (isDraggingText) {\r\n      setIsDraggingText(false);\r\n      // Commit text objects to canvas permanently\r\n      const canvas = canvasRef.current;\r\n      const ctx = canvas.getContext('2d');\r\n      \r\n      // Draw from temp canvas first\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.fillStyle = '#ffffff';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n      if (tempCanvasRef.current) {\r\n        ctx.drawImage(tempCanvasRef.current, 0, 0);\r\n      }\r\n      \r\n      // Draw all text objects permanently\r\n      textObjects.forEach((text) => {\r\n        ctx.fillStyle = text.color;\r\n        ctx.font = `${text.size}px Arial`;\r\n        ctx.fillText(text.content, text.x, text.y);\r\n      });\r\n      \r\n      // Clear text objects array since they're now on canvas\r\n      setTextObjects([]);\r\n      setSelectedTextIndex(null);\r\n      saveToHistory();\r\n      return;\r\n    }\r\n    \r\n    if (isDrawing && tool !== 'text') {\r\n      setIsDrawing(false);\r\n      saveToHistory();\r\n    }\r\n  };\r\n\r\n  const drawArrow = (ctx, fromX, fromY, toX, toY) => {\r\n    const headLength = 15;\r\n    const angle = Math.atan2(toY - fromY, toX - fromX);\r\n\r\n    // Draw line\r\n    ctx.beginPath();\r\n    ctx.moveTo(fromX, fromY);\r\n    ctx.lineTo(toX, toY);\r\n    ctx.stroke();\r\n\r\n    // Draw arrow head\r\n    ctx.beginPath();\r\n    ctx.moveTo(toX, toY);\r\n    ctx.lineTo(\r\n      toX - headLength * Math.cos(angle - Math.PI / 6),\r\n      toY - headLength * Math.sin(angle - Math.PI / 6)\r\n    );\r\n    ctx.moveTo(toX, toY);\r\n    ctx.lineTo(\r\n      toX - headLength * Math.cos(angle + Math.PI / 6),\r\n      toY - headLength * Math.sin(angle + Math.PI / 6)\r\n    );\r\n    ctx.stroke();\r\n  };\r\n\r\n  const addText = () => {\r\n    if (!textInput || !textPosition) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const fontSize = lineWidth * 8;\r\n\r\n    // Add to text objects array for repositioning\r\n    const newTextObject = {\r\n      content: textInput,\r\n      x: textPosition.x,\r\n      y: textPosition.y,\r\n      color: color,\r\n      size: fontSize\r\n    };\r\n    \r\n    setTextObjects([...textObjects, newTextObject]);\r\n\r\n    // Draw the text directly on canvas (not from redraw)\r\n    ctx.fillStyle = color;\r\n    ctx.font = `${fontSize}px Arial`;\r\n    ctx.fillText(textInput, textPosition.x, textPosition.y);\r\n\r\n    setTextInput('');\r\n    setTextPosition(null);\r\n    setIsDrawing(false);\r\n    \r\n    // Don't save to history yet - wait until user switches tools or finishes editing\r\n  };\r\n\r\n  const exportAsImage = () => {\r\n    const canvas = canvasRef.current;\r\n    const dataUrl = canvas.toDataURL('image/png');\r\n    const link = document.createElement('a');\r\n    link.download = 'system-design-whiteboard.png';\r\n    link.href = dataUrl;\r\n    link.click();\r\n  };\r\n\r\n  const handleSave = () => {\r\n    const canvas = canvasRef.current;\r\n    const dataUrl = canvas.toDataURL('image/png');\r\n    onSave?.(dataUrl);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n      {/* Toolbar */}\r\n      <div className=\"border-b border-gray-200 p-4\">\r\n        <div className=\"flex flex-wrap items-center gap-4\">\r\n          {/* Drawing Tools */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={() => setTool('pen')}\r\n              className={`p-2 rounded-lg transition-colors ${\r\n                tool === 'pen' \r\n                  ? 'bg-blue-100 text-blue-600' \r\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n              }`}\r\n              title=\"Pen Tool\"\r\n            >\r\n              <PencilIcon className=\"h-5 w-5\" />\r\n            </button>\r\n            <button\r\n              onClick={() => setTool('rectangle')}\r\n              className={`p-2 rounded-lg transition-colors ${\r\n                tool === 'rectangle' \r\n                  ? 'bg-blue-100 text-blue-600' \r\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n              }`}\r\n              title=\"Rectangle Tool\"\r\n            >\r\n              <Square3Stack3DIcon className=\"h-5 w-5\" />\r\n            </button>\r\n            <button\r\n              onClick={() => setTool('arrow')}\r\n              className={`p-2 rounded-lg transition-colors ${\r\n                tool === 'arrow' \r\n                  ? 'bg-blue-100 text-blue-600' \r\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n              }`}\r\n              title=\"Arrow Tool\"\r\n            >\r\n              <ArrowRightIcon className=\"h-5 w-5\" />\r\n            </button>\r\n            <button\r\n              onClick={() => setTool('text')}\r\n              className={`p-2 rounded-lg transition-colors ${\r\n                tool === 'text' \r\n                  ? 'bg-blue-100 text-blue-600' \r\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n              }`}\r\n              title=\"Text Tool\"\r\n            >\r\n              <span className=\"text-sm font-bold\">T</span>\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setTool('move');\r\n                setSelectedTextIndex(null);\r\n                // Commit any uncommitted text to canvas before switching to move mode\r\n                if (textObjects.length > 0) {\r\n                  const canvas = canvasRef.current;\r\n                  const ctx = canvas.getContext('2d');\r\n                  saveToHistory(); // Save current state with text objects visible\r\n                }\r\n              }}\r\n              className={`p-2 rounded-lg transition-colors ${\r\n                tool === 'move' \r\n                  ? 'bg-blue-100 text-blue-600' \r\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n              }`}\r\n              title=\"Move Text Tool\"\r\n            >\r\n              <span className=\"text-sm font-bold\">Γåö</span>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"h-6 w-px bg-gray-300\" />\r\n\r\n          {/* Color Picker */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <label className=\"text-sm text-gray-600\">Color:</label>\r\n            <input\r\n              type=\"color\"\r\n              value={color}\r\n              onChange={(e) => setColor(e.target.value)}\r\n              className=\"h-8 w-12 rounded cursor-pointer\"\r\n            />\r\n          </div>\r\n\r\n          {/* Line Width */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <label className=\"text-sm text-gray-600\">Width:</label>\r\n            <input\r\n              type=\"range\"\r\n              min=\"1\"\r\n              max=\"10\"\r\n              value={lineWidth}\r\n              onChange={(e) => setLineWidth(Number(e.target.value))}\r\n              className=\"w-24\"\r\n            />\r\n            <span className=\"text-sm text-gray-600\">{lineWidth}px</span>\r\n          </div>\r\n\r\n          <div className=\"h-6 w-px bg-gray-300\" />\r\n\r\n          {/* History Controls */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={undo}\r\n              disabled={historyStep <= 0}\r\n              className=\"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              title=\"Undo\"\r\n            >\r\n              <ArrowUturnLeftIcon className=\"h-5 w-5\" />\r\n            </button>\r\n            <button\r\n              onClick={redo}\r\n              disabled={historyStep >= history.length - 1}\r\n              className=\"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              title=\"Redo\"\r\n            >\r\n              <ArrowUturnRightIcon className=\"h-5 w-5\" />\r\n            </button>\r\n            <button\r\n              onClick={clearCanvas}\r\n              className=\"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-colors\"\r\n              title=\"Clear Canvas\"\r\n            >\r\n              <TrashIcon className=\"h-5 w-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"h-6 w-px bg-gray-300\" />\r\n\r\n          {/* Export/Save */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={exportAsImage}\r\n              className=\"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors\"\r\n              title=\"Export as Image\"\r\n            >\r\n              <PhotoIcon className=\"h-5 w-5\" />\r\n            </button>\r\n            {onSave && (\r\n              <Button onClick={handleSave} size=\"sm\">\r\n                Save Design\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Text Input */}\r\n        {textPosition && (\r\n          <div className=\"mt-4 flex items-center gap-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={textInput}\r\n              onChange={(e) => setTextInput(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && addText()}\r\n              placeholder=\"Enter text...\"\r\n              className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              autoFocus\r\n            />\r\n            <Button onClick={addText} size=\"sm\">Add Text</Button>\r\n            <button\r\n              onClick={() => {\r\n                setTextPosition(null);\r\n                setTextInput('');\r\n                setIsDrawing(false);\r\n              }}\r\n              className=\"text-gray-500 hover:text-gray-700\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Canvas */}\r\n      <div className=\"p-4\">\r\n        <canvas\r\n          ref={canvasRef}\r\n          onMouseDown={startDrawing}\r\n          onMouseMove={draw}\r\n          onMouseUp={stopDrawing}\r\n          onMouseLeave={stopDrawing}\r\n          className=\"w-full border-2 border-gray-300 rounded-lg cursor-crosshair bg-white\"\r\n          style={{ height: '600px' }}\r\n        />\r\n      </div>\r\n\r\n      {/* Tips */}\r\n      <div className=\"border-t border-gray-200 p-4 bg-gray-50\">\r\n        <p className=\"text-sm text-gray-600\">\r\n          <span className=\"font-semibold\">Tips:</span> Use rectangles for components, arrows for connections, \r\n          and text to label your architecture. Use the Move tool (Γåö) to reposition text after placing it. \r\n          Draw load balancers, databases, caches, and other system components to illustrate your design thinking.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Whiteboard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\WritingPracticePerformance.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\WritingPracticeSession.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'startTime' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":36,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":19,"suggestions":[{"messageId":"removeVar","data":{"varName":"startTime"},"fix":{"range":[1410,1419],"text":""},"desc":"Remove unused variable 'startTime'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'tips' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":45,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":45,"endColumn":14,"suggestions":[{"messageId":"removeVar","data":{"varName":"tips"},"fix":{"range":[1755,1759],"text":""},"desc":"Remove unused variable 'tips'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":576,"column":13,"nodeType":"JSXOpeningElement","endLine":576,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":592,"column":13,"nodeType":"JSXOpeningElement","endLine":592,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":605,"column":13,"nodeType":"JSXOpeningElement","endLine":605,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":621,"column":13,"nodeType":"JSXOpeningElement","endLine":621,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":636,"column":13,"nodeType":"JSXOpeningElement","endLine":636,"endColumn":77}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { \r\n  getBehavioralQuestions, \r\n  createPracticeSession, \r\n  submitResponse,\r\n  completePracticeSession,\r\n  getWritingTips \r\n} from '../api/writingPractice';\r\nimport { Clock, Play, Pause, CheckCircle, AlertCircle, Lightbulb, Target, TrendingUp } from 'lucide-react';\r\nimport Card from './Card';\r\nimport Button from './Button';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ErrorMessage from './ErrorMessage';\r\n\r\nconst WritingPracticeSession = ({ setActiveTab }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [sessionStarted, setSessionStarted] = useState(false);\r\n  \r\n  // Session setup\r\n  const [sessionType, setSessionType] = useState('Individual Question');\r\n  const [targetRole, setTargetRole] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [difficulty, setDifficulty] = useState('Mid-Level');\r\n  const [questionCount, setQuestionCount] = useState(1);\r\n  \r\n  // Questions and session\r\n  const [questions, setQuestions] = useState([]);\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n  const [session, setSession] = useState(null);\r\n  \r\n  // Response state\r\n  const [response, setResponse] = useState('');\r\n  const [timer, setTimer] = useState(0);\r\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\r\n  const [startTime, setStartTime] = useState(null);\r\n  \r\n  // Feedback state\r\n  const [currentFeedback, setCurrentFeedback] = useState(null);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [sessionCompleted, setSessionCompleted] = useState(false);\r\n  const [sessionSummary, setSessionSummary] = useState(null);\r\n  \r\n  // Tips\r\n  const [tips, setTips] = useState(null);\r\n  const [showTips, setShowTips] = useState(false);\r\n\r\n  const categories = [\r\n    'Leadership',\r\n    'Teamwork',\r\n    'Problem Solving',\r\n    'Conflict Resolution',\r\n    'Time Management',\r\n    'Communication',\r\n    'Adaptability',\r\n    'Initiative',\r\n    'Customer Focus',\r\n    'Achievement',\r\n    'Technical',\r\n    'Cultural Fit'\r\n  ];\r\n\r\n  const difficulties = ['Entry', 'Mid-Level', 'Senior', 'Executive'];\r\n\r\n  // Timer effect\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isTimerRunning) {\r\n      interval = setInterval(() => {\r\n        setTimer(prev => prev + 1);\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isTimerRunning]);\r\n\r\n  // Load tips\r\n  useEffect(() => {\r\n    const loadTips = async () => {\r\n      try {\r\n        const tipsData = await getWritingTips(category || null);\r\n        setTips(tipsData);\r\n      } catch (err) {\r\n        console.error('Error loading tips:', err);\r\n      }\r\n    };\r\n    loadTips();\r\n  }, [category]);\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const handleStartSession = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      // Fetch questions\r\n      const params = {\r\n        limit: questionCount,\r\n        random: true\r\n      };\r\n      \r\n      if (category) params.category = category;\r\n      if (difficulty) params.difficulty = difficulty;\r\n      if (targetRole) params.role = targetRole;\r\n      \r\n      const { questions: fetchedQuestions } = await getBehavioralQuestions(params);\r\n      \r\n      if (!fetchedQuestions || fetchedQuestions.length === 0) {\r\n        throw new Error('No questions found matching your criteria');\r\n      }\r\n      \r\n      setQuestions(fetchedQuestions);\r\n      \r\n      // Create session\r\n      const sessionData = {\r\n        sessionType,\r\n        targetRole: targetRole || undefined,\r\n        sessionGoal: `Practice ${category || 'behavioral'} questions`,\r\n        questionIds: fetchedQuestions.map(q => q._id)\r\n      };\r\n      \r\n      const { session: newSession } = await createPracticeSession(sessionData);\r\n      setSession(newSession);\r\n      setSessionStarted(true);\r\n      \r\n      // Start timer\r\n      setIsTimerRunning(true);\r\n      setStartTime(Date.now());\r\n      \r\n    } catch (err) {\r\n      setError(err.response?.data?.message || err.message || 'Failed to start session');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmitResponse = async () => {\r\n    if (!response.trim()) {\r\n      setError('Please write a response before submitting');\r\n      return;\r\n    }\r\n    \r\n    setSubmitting(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const timeSpent = timer;\r\n      const currentQuestion = questions[currentQuestionIndex];\r\n      \r\n      const responseData = {\r\n        response: response.trim(),\r\n        timeSpent\r\n      };\r\n      \r\n      const result = await submitResponse(session._id, currentQuestion._id, responseData);\r\n      \r\n      setCurrentFeedback(result.feedback);\r\n      setIsTimerRunning(false);\r\n      \r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to submit response');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleNextQuestion = () => {\r\n    if (currentQuestionIndex < questions.length - 1) {\r\n      setCurrentQuestionIndex(prev => prev + 1);\r\n      setResponse('');\r\n      setCurrentFeedback(null);\r\n      setTimer(0);\r\n      setIsTimerRunning(true);\r\n      setStartTime(Date.now());\r\n    } else {\r\n      handleCompleteSession();\r\n    }\r\n  };\r\n\r\n  const handleCompleteSession = async () => {\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const result = await completePracticeSession(session._id);\r\n      setSessionSummary(result.session.sessionFeedback);\r\n      setSessionCompleted(true);\r\n      setIsTimerRunning(false);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to complete session');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRestart = () => {\r\n    setSessionStarted(false);\r\n    setSessionCompleted(false);\r\n    setSession(null);\r\n    setQuestions([]);\r\n    setCurrentQuestionIndex(0);\r\n    setResponse('');\r\n    setTimer(0);\r\n    setIsTimerRunning(false);\r\n    setCurrentFeedback(null);\r\n    setSessionSummary(null);\r\n    setError(null);\r\n  };\r\n\r\n  if (loading && !sessionStarted) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-[400px]\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Session completed view\r\n  if (sessionCompleted && sessionSummary) {\r\n    return (\r\n      <div className=\"max-w-4xl mx-auto p-6 space-y-6\">\r\n        <Card variant=\"primary\">\r\n          <div className=\"text-center mb-6\">\r\n            <CheckCircle className=\"w-16 h-16 text-green-500 mx-auto mb-4\" />\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Session Complete!</h2>\r\n            <p className=\"text-gray-600\">{sessionSummary.overallPerformance}</p>\r\n          </div>\r\n\r\n          {/* Session Score */}\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-4xl font-bold text-blue-600 mb-2\">\r\n                {typeof session.sessionScore === 'number' && !isNaN(session.sessionScore)\r\n                  ? session.sessionScore.toFixed(1)\r\n                  : <span className=\"text-gray-400 text-lg\">No score available</span>}\r\n              </div>\r\n              <div className=\"text-gray-600\">Session Score</div>\r\n              {session.performance?.averageScore !== undefined && (\r\n                <div className=\"mt-2 text-lg text-primary font-semibold\">\r\n                  Overall Average: {session.performance.averageScore.toFixed(1)}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Progress Indicators */}\r\n          {sessionSummary.progressIndicators && sessionSummary.progressIndicators.length > 0 && (\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                <TrendingUp className=\"w-5 h-5 text-blue-600\" />\r\n                Session Statistics\r\n              </h3>\r\n              <ul className=\"space-y-2\">\r\n                {sessionSummary.progressIndicators.map((indicator, idx) => (\r\n                  <li key={idx} className=\"text-gray-700 flex items-start gap-2\">\r\n                    <span className=\"text-blue-600 mt-1\">ΓÇó</span>\r\n                    {indicator}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {/* Key Strengths */}\r\n          {sessionSummary.keyStrengths && sessionSummary.keyStrengths.length > 0 && (\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                Key Strengths\r\n              </h3>\r\n              <ul className=\"space-y-2\">\r\n                {sessionSummary.keyStrengths.map((strength, idx) => (\r\n                  <li key={idx} className=\"text-gray-700 bg-green-50 border border-green-200 rounded p-3\">\r\n                    {strength}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {/* Areas for Improvement */}\r\n          {sessionSummary.areasForImprovement && sessionSummary.areasForImprovement.length > 0 && (\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                <Target className=\"w-5 h-5 text-orange-600\" />\r\n                Areas for Improvement\r\n              </h3>\r\n              <ul className=\"space-y-2\">\r\n                {sessionSummary.areasForImprovement.map((area, idx) => (\r\n                  <li key={idx} className=\"text-gray-700 bg-orange-50 border border-orange-200 rounded p-3\">\r\n                    {area}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {/* Next Steps */}\r\n          {sessionSummary.nextSteps && sessionSummary.nextSteps.length > 0 && (\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                <Lightbulb className=\"w-5 h-5 text-yellow-600\" />\r\n                Next Steps\r\n              </h3>\r\n              <ul className=\"space-y-2\">\r\n                {sessionSummary.nextSteps.map((step, idx) => (\r\n                  <li key={idx} className=\"text-gray-700 flex items-start gap-2\">\r\n                    <span className=\"text-blue-600 font-bold\">{idx + 1}.</span>\r\n                    {step}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex gap-4\">\r\n            <Button onClick={handleRestart} variant=\"primary\" className=\"flex-1\">\r\n              Start New Session\r\n            </Button>\r\n            <Button onClick={() => setActiveTab && setActiveTab('performance')} variant=\"secondary\" className=\"flex-1\">\r\n              View Full Performance\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Active session view\r\n  if (sessionStarted && questions.length > 0) {\r\n    const currentQuestion = questions[currentQuestionIndex];\r\n    const wordCount = response.trim().split(/\\s+/).filter(Boolean).length;\r\n\r\n    return (\r\n      <div className=\"max-w-4xl mx-auto p-6 space-y-6\">\r\n        {error && <ErrorMessage message={error} onClose={() => setError(null)} />}\r\n\r\n        {/* Header */}\r\n        <Card>\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div>\r\n              <h2 className=\"text-xl font-bold text-gray-900\">\r\n                Question {currentQuestionIndex + 1} of {questions.length}\r\n              </h2>\r\n              <p className=\"text-sm text-gray-600\">\r\n                {currentQuestion.category} ΓÇó {currentQuestion.difficulty}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"flex items-center gap-2 bg-blue-50 px-4 py-2 rounded-lg\">\r\n                <Clock className=\"w-5 h-5 text-blue-600\" />\r\n                <span className=\"font-mono text-lg font-semibold text-blue-600\">\r\n                  {formatTime(timer)}\r\n                </span>\r\n              </div>\r\n              <Button\r\n                onClick={() => setIsTimerRunning(!isTimerRunning)}\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n              >\r\n                {isTimerRunning ? <Pause className=\"w-4 h-4\" /> : <Play className=\"w-4 h-4\" />}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Question */}\r\n          <div className=\"bg-white border border-primary-100 rounded-xl p-6 mb-4 shadow-sm\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n              {currentQuestion.question}\r\n            </h3>\r\n            \r\n            {currentQuestion.starGuidance && (\r\n              <div className=\"bg-primary-50 rounded-xl p-4 mb-4 border border-primary-100\">\r\n                <h4 className=\"font-semibold text-gray-700 mb-2\">STAR Framework Guidance:</h4>\r\n                <ul className=\"space-y-2 text-sm text-gray-600\">\r\n                  <li><strong>Situation:</strong> {currentQuestion.starGuidance.situation}</li>\r\n                  <li><strong>Task:</strong> {currentQuestion.starGuidance.task}</li>\r\n                  <li><strong>Action:</strong> {currentQuestion.starGuidance.action}</li>\r\n                  <li><strong>Result:</strong> {currentQuestion.starGuidance.result}</li>\r\n                </ul>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"flex gap-4 text-sm text-gray-600\">\r\n              <span>Target: {currentQuestion.idealResponseLength.min}-{currentQuestion.idealResponseLength.max} words</span>\r\n              <span>Time limit: {currentQuestion.timeLimit} minutes</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Tips toggle */}\r\n          {currentQuestion.tips && currentQuestion.tips.length > 0 && (\r\n            <div className=\"mb-4\">\r\n              <Button\r\n                onClick={() => setShowTips(!showTips)}\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n                className=\"w-full\"\r\n              >\r\n                <Lightbulb className=\"w-4 h-4 mr-2\" />\r\n                {showTips ? 'Hide' : 'Show'} Tips\r\n              </Button>\r\n              \r\n              {showTips && (\r\n                <div className=\"mt-3 bg-yellow-50 border border-yellow-200 rounded-xl p-4\">\r\n                  <ul className=\"space-y-2 text-sm text-gray-700\">\r\n                    {currentQuestion.tips.map((tip, idx) => (\r\n                      <li key={idx} className=\"flex items-start gap-2\">\r\n                        <span className=\"text-yellow-600 mt-0.5\">≡ƒÆí</span>\r\n                        {tip}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Response area */}\r\n          {!currentFeedback && (\r\n            <>\r\n              <textarea\r\n                value={response}\r\n                onChange={(e) => setResponse(e.target.value)}\r\n                placeholder=\"Write your response here using the STAR method...\"\r\n                className=\"w-full h-64 px-4 py-3 border border-primary-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary resize-none bg-gray-50\"\r\n                disabled={submitting}\r\n              />\r\n              \r\n              <div className=\"flex items-center justify-between mt-4\">\r\n                <div className=\"text-sm text-gray-600\">\r\n                  Word count: {wordCount}\r\n                  {currentQuestion.idealResponseLength && (\r\n                    <span className={wordCount < currentQuestion.idealResponseLength.min ? 'text-orange-600' : wordCount > currentQuestion.idealResponseLength.max ? 'text-red-600' : 'text-green-600'}>\r\n                      {' '}({currentQuestion.idealResponseLength.min}-{currentQuestion.idealResponseLength.max} target)\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                \r\n                <Button\r\n                  onClick={handleSubmitResponse}\r\n                  disabled={!response.trim() || submitting}\r\n                  variant=\"primary\"\r\n                >\r\n                  {submitting ? 'Analyzing...' : 'Submit Response'}\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Feedback */}\r\n          {currentFeedback && (\r\n            <div className=\"space-y-4\">\r\n              {/* Overall Score */}\r\n              <div className=\"bg-primary-50 border border-primary-200 rounded-xl p-6\">\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-5xl font-bold text-blue-600 mb-2\">\r\n                    {currentFeedback.overallScore}\r\n                  </div>\r\n                  <div className=\"text-gray-700 font-medium\">Overall Score</div>\r\n                </div>\r\n\r\n                {/* Score breakdown */}\r\n                <div className=\"grid grid-cols-2 gap-4 mt-6\">\r\n                  <ScoreItem label=\"Clarity\" score={currentFeedback.clarityScore} />\r\n                  <ScoreItem label=\"Professionalism\" score={currentFeedback.professionalismScore} />\r\n                  <ScoreItem label=\"Structure\" score={currentFeedback.structureScore} />\r\n                  <ScoreItem label=\"Relevance\" score={currentFeedback.relevanceScore} />\r\n                  <ScoreItem label=\"Impact\" score={currentFeedback.impactScore} />\r\n                  <ScoreItem label=\"STAR Adherence\" score={currentFeedback.starAdherence.score} />\r\n                </div>\r\n              </div>\r\n\r\n              {/* STAR Analysis */}\r\n              {currentFeedback.starAdherence && (\r\n                <div className=\"bg-purple-50 border border-purple-200 rounded-xl p-4\">\r\n                  <h4 className=\"font-semibold text-gray-900 mb-3\">STAR Framework Analysis</h4>\r\n                  <div className=\"grid grid-cols-2 gap-3\">\r\n                    <STARComponent label=\"Situation\" present={currentFeedback.starAdherence.hasSituation} />\r\n                    <STARComponent label=\"Task\" present={currentFeedback.starAdherence.hasTask} />\r\n                    <STARComponent label=\"Action\" present={currentFeedback.starAdherence.hasAction} />\r\n                    <STARComponent label=\"Result\" present={currentFeedback.starAdherence.hasResult} />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Communication Quality */}\r\n              {currentFeedback.communicationQuality && (\r\n                <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                  <h4 className=\"font-semibold text-gray-900 mb-3\">Communication Quality</h4>\r\n                  <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                    <div><strong>Tone:</strong> {currentFeedback.communicationQuality.tone}</div>\r\n                    <div><strong>Confidence:</strong> {currentFeedback.communicationQuality.confidence}</div>\r\n                    <div><strong>Conciseness:</strong> {currentFeedback.communicationQuality.conciseness}</div>\r\n                    <div><strong>Engagement:</strong> {currentFeedback.communicationQuality.engagement}</div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Strengths */}\r\n              {currentFeedback.strengths && currentFeedback.strengths.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"font-semibold text-gray-900 mb-2 flex items-center gap-2\">\r\n                    <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                    Strengths\r\n                  </h4>\r\n                  <ul className=\"space-y-2\">\r\n                    {currentFeedback.strengths.map((strength, idx) => (\r\n                      <li key={idx} className=\"text-gray-700 bg-green-50 border border-green-200 rounded p-3 text-sm\">\r\n                        {strength}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              {/* Improvements */}\r\n              {currentFeedback.improvements && currentFeedback.improvements.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"font-semibold text-gray-900 mb-2 flex items-center gap-2\">\r\n                    <AlertCircle className=\"w-5 h-5 text-orange-600\" />\r\n                    Suggested Improvements\r\n                  </h4>\r\n                  <ul className=\"space-y-2\">\r\n                    {currentFeedback.improvements.map((improvement, idx) => (\r\n                      <li key={idx} className=\"text-gray-700 bg-orange-50 border border-orange-200 rounded p-3 text-sm\">\r\n                        {improvement}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              {/* Alternative Approaches */}\r\n              {currentFeedback.alternativeApproaches && currentFeedback.alternativeApproaches.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"font-semibold text-gray-900 mb-2 flex items-center gap-2\">\r\n                    <Lightbulb className=\"w-5 h-5 text-blue-600\" />\r\n                    Alternative Approaches\r\n                  </h4>\r\n                  <ul className=\"space-y-2\">\r\n                    {currentFeedback.alternativeApproaches.map((approach, idx) => (\r\n                      <li key={idx} className=\"text-gray-700 bg-blue-50 border border-blue-200 rounded p-3 text-sm\">\r\n                        {approach}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              {/* Next button */}\r\n              <div className=\"flex justify-end\">\r\n                <Button onClick={handleNextQuestion} variant=\"primary\">\r\n                  {currentQuestionIndex < questions.length - 1 ? 'Next Question' : 'Complete Session'}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Setup view\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto p-6\">\r\n      <Card>\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Start Writing Practice Session</h2>\r\n        \r\n        {error && <ErrorMessage message={error} onClose={() => setError(null)} />}\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Session Type\r\n            </label>\r\n            <select\r\n              value={sessionType}\r\n              onChange={(e) => setSessionType(e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"Individual Question\">Individual Question</option>\r\n              <option value=\"Timed Challenge\">Timed Challenge</option>\r\n              <option value=\"Mock Interview\">Mock Interview</option>\r\n              <option value=\"Targeted Practice\">Targeted Practice</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Target Role (Optional)\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={targetRole}\r\n              onChange={(e) => setTargetRole(e.target.value)}\r\n              placeholder=\"e.g., Software Engineer, Product Manager\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Question Category\r\n            </label>\r\n            <select\r\n              value={category}\r\n              onChange={(e) => setCategory(e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"\">All Categories</option>\r\n              {categories.map(cat => (\r\n                <option key={cat} value={cat}>{cat}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Difficulty Level\r\n            </label>\r\n            <select\r\n              value={difficulty}\r\n              onChange={(e) => setDifficulty(e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              {difficulties.map(diff => (\r\n                <option key={diff} value={diff}>{diff}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Number of Questions\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              min=\"1\"\r\n              max=\"10\"\r\n              value={questionCount}\r\n              onChange={(e) => setQuestionCount(Math.max(1, Math.min(10, parseInt(e.target.value) || 1)))}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n\r\n          <Button\r\n            onClick={handleStartSession}\r\n            disabled={loading}\r\n            variant=\"primary\"\r\n            className=\"w-full\"\r\n          >\r\n            {loading ? <LoadingSpinner size=\"sm\" /> : 'Start Practice Session'}\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Helper components\r\nconst ScoreItem = ({ label, score }) => (\r\n  <div className=\"bg-white rounded p-3\">\r\n    <div className=\"text-sm text-gray-600 mb-1\">{label}</div>\r\n    <div className=\"flex items-center gap-2\">\r\n      <div className=\"flex-1 bg-gray-200 rounded-full h-2\">\r\n        <div\r\n          className={`h-2 rounded-full ${score >= 80 ? 'bg-green-500' : score >= 60 ? 'bg-yellow-500' : 'bg-red-500'}`}\r\n          style={{ width: `${score}%` }}\r\n        />\r\n      </div>\r\n      <div className=\"text-sm font-semibold text-gray-700\">{score}</div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst STARComponent = ({ label, present }) => (\r\n  <div className={`flex items-center gap-2 p-2 rounded ${present ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\r\n    {present ? (\r\n      <CheckCircle className=\"w-4 h-4\" />\r\n    ) : (\r\n      <AlertCircle className=\"w-4 h-4\" />\r\n    )}\r\n    <span className=\"text-sm font-medium\">{label}</span>\r\n  </div>\r\n);\r\n\r\nexport default WritingPracticeSession;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\Button.test.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":6,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":6,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":11,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":11,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":12,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":12,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":14,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":14,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":17,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":17,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":18,"column":20,"nodeType":"Identifier","messageId":"undef","endLine":18,"endColumn":22},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":21,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":21,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":23,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":23,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":26,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":26,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":29,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":29,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":31,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":31,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":34,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":34,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":36,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":36,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":39,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":39,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":42,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":42,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":45,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":45,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":48,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":48,"endColumn":11}],"suppressedMessages":[],"errorCount":17,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen } from '@testing-library/react';\r\nimport userEvent from '@testing-library/user-event';\r\nimport Button from '../Button.jsx';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\n\r\nvi.mock('../LoadingSpinner', () => ({\r\n  __esModule: true,\r\n  default: ({ size }) => <div data-testid=\"spinner\">spinner-{size}</div>\r\n}));\r\n\r\ndescribe('Button', () => {\r\n  test('renders children', () => {\r\n    render(<Button>Click me</Button>);\r\n    expect(screen.getByText('Click me')).toBeInTheDocument();\r\n  });\r\n\r\n  test('disabled prop disables the button', async () => {\r\n    const handle = vi.fn();\r\n    render(<Button disabled onClick={handle}>Nope</Button>);\r\n    const btn = screen.getByText('Nope');\r\n    expect(btn).toBeDisabled();\r\n    await userEvent.click(btn);\r\n    expect(handle).not.toHaveBeenCalled();\r\n  });\r\n\r\n  test('isLoading shows spinner and hides text with size small', () => {\r\n    render(<Button isLoading size=\"small\">Load</Button>);\r\n    // children still present but text should be transparent via class\r\n    expect(screen.getByText('Load')).toBeInTheDocument();\r\n    // spinner should use sm mapping\r\n    expect(screen.getByTestId('spinner').textContent).toBe('spinner-sm');\r\n  });\r\n\r\n  test('isLoading shows spinner with size large and medium fallback', () => {\r\n    const { rerender } = render(<Button isLoading size=\"large\">L</Button>);\r\n    expect(screen.getByTestId('spinner').textContent).toBe('spinner-lg');\r\n\r\n    rerender(<Button isLoading size=\"medium\">M</Button>);\r\n    expect(screen.getByTestId('spinner').textContent).toBe('spinner-md');\r\n  });\r\n\r\n  test('variant styles applied for outline and ghost', () => {\r\n    const { rerender, container } = render(<Button variant=\"outline\">O</Button>);\r\n    // outline adds border-primary class in styles string; ensure class applied\r\n    expect(container.querySelector('button').className).toContain('border-2');\r\n\r\n    rerender(<Button variant=\"ghost\">G</Button>);\r\n    expect(container.querySelector('button').className).toContain('bg-transparent');\r\n  });\r\n});\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\CoverLetterEditor.test.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'props' is defined but never used.","line":41,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":41,"endColumn":24,"suggestions":[{"messageId":"removeVar","data":{"varName":"props"},"fix":{"range":[1396,1401],"text":""},"desc":"Remove unused variable 'props'."}]},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":47,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":47,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'beforeEach' is not defined.","line":48,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":48,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":55,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":55,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":64,"column":25,"nodeType":"Identifier","messageId":"undef","endLine":64,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":65,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":65,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":65,"column":79,"nodeType":"Identifier","messageId":"undef","endLine":65,"endColumn":85},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":65,"column":114,"nodeType":"Identifier","messageId":"undef","endLine":65,"endColumn":120},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":66,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":66,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":69,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":69,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":78,"column":25,"nodeType":"Identifier","messageId":"undef","endLine":78,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":78,"column":105,"nodeType":"Identifier","messageId":"undef","endLine":78,"endColumn":111},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":81,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":81,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":87,"column":25,"nodeType":"Identifier","messageId":"undef","endLine":87,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":90,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":90,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":95,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":95,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":99,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":99,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":102,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":102,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":114,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":114,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":117,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":117,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":121,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":121,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":124,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":124,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":128,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":128,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":131,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":131,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":135,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":135,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":138,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":138,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":142,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":142,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":145,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":145,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":150,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":150,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":154,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":154,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":157,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":157,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":164,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":164,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":167,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":167,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":173,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":173,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":176,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":176,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":177,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":177,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":186,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":186,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":186,"column":65,"nodeType":"Identifier","messageId":"undef","endLine":186,"endColumn":71},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":191,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":191,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":192,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":192,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":201,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":201,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":201,"column":65,"nodeType":"Identifier","messageId":"undef","endLine":201,"endColumn":71},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":206,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":206,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":207,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":207,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":216,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":216,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":216,"column":65,"nodeType":"Identifier","messageId":"undef","endLine":216,"endColumn":71},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":221,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":221,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":222,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":222,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":226,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":226,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":230,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":230,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":231,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":231,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":235,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":235,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":239,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":239,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":240,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":240,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":256,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":256,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":259,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":259,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":268,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":268,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":268,"column":65,"nodeType":"Identifier","messageId":"undef","endLine":268,"endColumn":71},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":273,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":273,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":274,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":274,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":282,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":282,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":285,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":285,"endColumn":13}],"suppressedMessages":[],"errorCount":62,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { render, screen, fireEvent, waitFor, act } from '@testing-library/react';\r\nimport { vi } from 'vitest';\r\n\r\n// Mock axios (avoid hoisting issues by assigning mock in beforeEach)\r\nlet mockPost;\r\nlet mockGet;\r\nvi.mock('../../api/axios', () => ({\r\n  default: { \r\n    post: (...args) => mockPost(...args),\r\n    get: (...args) => mockGet(...args),\r\n  },\r\n  post: (...args) => mockPost(...args),\r\n  get: (...args) => mockGet(...args),\r\n}));\r\n\r\n// Create a fake TipTap editor that the component can use\r\nconst fakeEditor = {\r\n  getText: () => 'Hello world',\r\n  getHTML: () => '<p>Hello world</p>',\r\n  isActive: () => false,\r\n  commands: { setContent: vi.fn() },\r\n  chain: () => ({ \r\n    focus: () => ({ \r\n      deleteSelection: () => ({ insertContent: () => ({ run: () => {} }) }),\r\n      toggleBold: () => ({ run: vi.fn() }),\r\n      toggleItalic: () => ({ run: vi.fn() }),\r\n      toggleBulletList: () => ({ run: vi.fn() }),\r\n      toggleOrderedList: () => ({ run: vi.fn() }),\r\n      toggleUnderline: () => ({ run: vi.fn() }),\r\n    }) \r\n  }),\r\n  state: { selection: { from: 0, to: 5 }, doc: { textBetween: () => 'Hello' } },\r\n  onCallbacks: {},\r\n  on(event, cb) { this.onCallbacks[event] = cb; },\r\n  trigger(event) { if (this.onCallbacks[event]) this.onCallbacks[event](); },\r\n};\r\n\r\nvi.mock('@tiptap/react', () => ({\r\n  useEditor: () => fakeEditor,\r\n  EditorContent: (props) => <div data-testid=\"editor\" />,\r\n}));\r\n\r\n// Import the component after mocks\r\nimport CoverLetterEditor from '../CoverLetterEditor.jsx';\r\n\r\ndescribe('CoverLetterEditor', () => {\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n    mockPost = vi.fn();\r\n    mockGet = vi.fn();\r\n    fakeEditor.commands.setContent.mockClear();\r\n  });\r\n\r\n  test('manual save calls API and onSave', async () => {\r\n    mockPost.mockResolvedValue({ data: { success: true } });\r\n    const onSave = vi.fn();\r\n\r\n    render(<CoverLetterEditor initialContent=\"<p>Hi</p>\" coverLetterId=\"cid1\" onSave={onSave} />);\r\n\r\n    const saveButton = await screen.findByRole('button', { name: /save version|≡ƒÆ╛ Save|Saving.../i });\r\n    fireEvent.click(saveButton);\r\n\r\n    await waitFor(() => expect(mockPost).toHaveBeenCalled());\r\n    expect(mockPost).toHaveBeenCalledWith('/api/cover-letters/cid1/versions', expect.objectContaining({ content: expect.any(String), note: 'Manual save' }));\r\n    expect(onSave).toHaveBeenCalled();\r\n  });\r\n\r\n  test('spell check displays issues and applyCorrection updates editor content', async () => {\r\n    // Mock spell-check response\r\n    mockPost.mockResolvedValueOnce({ data: { data: { analysis: { issues: [ { text: 'wrng', suggestion: 'wrong', severity: 'moderate', type: 'spelling', explanation: 'typo' } ] } } } });\r\n\r\n    render(<CoverLetterEditor initialContent=\"<p>Hi</p>\" coverLetterId=\"cid1\" />);\r\n\r\n    const spellButton = screen.getByRole('button', { name: /spell check/i });\r\n    fireEvent.click(spellButton);\r\n\r\n    await waitFor(() => expect(mockPost).toHaveBeenCalledWith('/api/cover-letters/editing/spell-check', expect.any(Object)));\r\n\r\n    // The issue should be rendered\r\n    expect(await screen.findByText(/wrng/)).toBeInTheDocument();\r\n\r\n    // Click Fix and ensure editor.setContent called\r\n    const fixButton = screen.getByRole('button', { name: /Fix/i });\r\n    fireEvent.click(fixButton);\r\n\r\n    await waitFor(() => expect(fakeEditor.commands.setContent).toHaveBeenCalled());\r\n  });\r\n\r\n  test('shows word and character count', async () => {\r\n    render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n    \r\n    // Wait for component to render\r\n    await waitFor(() => {\r\n      expect(screen.getByTestId('editor')).toBeInTheDocument();\r\n    });\r\n    \r\n    // Should show word count based on fakeEditor.getText() = 'Hello world' = 2 words\r\n    expect(screen.getByText(/\\d+ word/i)).toBeInTheDocument();\r\n  });\r\n\r\n  test('does not save when coverLetterId is missing', async () => {\r\n    mockPost.mockResolvedValue({ data: { success: true } });\r\n    \r\n    render(<CoverLetterEditor initialContent=\"<p>Hi</p>\" />);\r\n\r\n    const saveButton = await screen.findByRole('button', { name: /save version|≡ƒÆ╛ Save|Saving.../i });\r\n    fireEvent.click(saveButton);\r\n\r\n    // Should not call API when coverLetterId is missing\r\n    await act(async () => {\r\n      await new Promise(resolve => setTimeout(resolve, 100));\r\n    });\r\n    expect(mockPost).not.toHaveBeenCalled();\r\n  });\r\n\r\n  test('readability button is present and clickable', async () => {\r\n    render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n    \r\n    const readabilityButton = screen.getByRole('button', { name: /readability/i });\r\n    expect(readabilityButton).toBeInTheDocument();\r\n  });\r\n\r\n  test('synonyms button is present', async () => {\r\n    render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n    \r\n    const synonymsButton = screen.getByRole('button', { name: /synonyms/i });\r\n    expect(synonymsButton).toBeInTheDocument();\r\n  });\r\n\r\n  test('restructure button is present', async () => {\r\n    render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n    \r\n    const restructureButton = screen.getByRole('button', { name: /restructure/i });\r\n    expect(restructureButton).toBeInTheDocument();\r\n  });\r\n\r\n  test('history button is present', async () => {\r\n    render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n    \r\n    const historyButton = screen.getByRole('button', { name: /history/i });\r\n    expect(historyButton).toBeInTheDocument();\r\n  });\r\n\r\n  test('formatting buttons are present', async () => {\r\n    render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n    \r\n    // Bold button\r\n    const boldButton = screen.getByRole('button', { name: /^B$/i });\r\n    expect(boldButton).toBeInTheDocument();\r\n    \r\n    // Italic button\r\n    const italicButton = screen.getByRole('button', { name: /^I$/i });\r\n    expect(italicButton).toBeInTheDocument();\r\n  });\r\n\r\n  test('clicking bold button triggers chain', async () => {\r\n    render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n    \r\n    const boldButton = screen.getByRole('button', { name: /^B$/i });\r\n    fireEvent.click(boldButton);\r\n    \r\n    // Should not throw error - chain().focus().toggleBold().run() should work\r\n    expect(boldButton).toBeInTheDocument();\r\n  });\r\n\r\n  test('clicking italic button triggers chain', async () => {\r\n    render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n    \r\n    const italicButton = screen.getByRole('button', { name: /^I$/i });\r\n    fireEvent.click(italicButton);\r\n    \r\n    expect(italicButton).toBeInTheDocument();\r\n  });\r\n\r\n  describe('save error handling', () => {\r\n    test('shows alert when save fails', async () => {\r\n      mockPost.mockRejectedValue(new Error('Save failed'));\r\n      const alertSpy = vi.spyOn(window, 'alert').mockImplementation(() => {});\r\n      \r\n      render(<CoverLetterEditor initialContent=\"<p>Hi</p>\" coverLetterId=\"cid1\" />);\r\n\r\n      const saveButton = await screen.findByRole('button', { name: /save version|≡ƒÆ╛ Save|Saving.../i });\r\n      fireEvent.click(saveButton);\r\n\r\n      await waitFor(() => expect(alertSpy).toHaveBeenCalledWith(expect.stringContaining('Failed to save')));\r\n      alertSpy.mockRestore();\r\n    });\r\n  });\r\n\r\n  describe('spell check error handling', () => {\r\n    test('shows alert when spell check fails', async () => {\r\n      mockPost.mockRejectedValue(new Error('API error'));\r\n      const alertSpy = vi.spyOn(window, 'alert').mockImplementation(() => {});\r\n      \r\n      render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n\r\n      const spellButton = screen.getByRole('button', { name: /spell check/i });\r\n      fireEvent.click(spellButton);\r\n\r\n      await waitFor(() => expect(alertSpy).toHaveBeenCalledWith(expect.stringContaining('Failed to check spelling')));\r\n      alertSpy.mockRestore();\r\n    });\r\n  });\r\n\r\n  describe('readability analysis', () => {\r\n    test('shows alert when readability API fails', async () => {\r\n      mockPost.mockRejectedValue(new Error('API error'));\r\n      const alertSpy = vi.spyOn(window, 'alert').mockImplementation(() => {});\r\n      \r\n      render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n\r\n      const readabilityButton = screen.getByRole('button', { name: /readability/i });\r\n      fireEvent.click(readabilityButton);\r\n\r\n      await waitFor(() => expect(alertSpy).toHaveBeenCalledWith(expect.stringContaining('Failed to analyze readability')));\r\n      alertSpy.mockRestore();\r\n    });\r\n  });\r\n\r\n  describe('synonyms button', () => {\r\n    test('synonyms button is disabled when no text selected', async () => {\r\n      render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n      \r\n      const synonymsButton = screen.getByRole('button', { name: /synonyms/i });\r\n      expect(synonymsButton).toBeDisabled();\r\n    });\r\n  });\r\n\r\n  describe('restructure button', () => {\r\n    test('restructure button is disabled when no text selected', async () => {\r\n      render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n      \r\n      const restructureButton = screen.getByRole('button', { name: /restructure/i });\r\n      expect(restructureButton).toBeDisabled();\r\n    });\r\n  });\r\n\r\n  describe('history', () => {\r\n    test('loads history when button clicked', async () => {\r\n      mockGet.mockResolvedValueOnce({ \r\n        data: { \r\n          data: { \r\n            history: [\r\n              { id: '1', content: '<p>Old version</p>', createdAt: '2024-01-01', note: 'Save 1' }\r\n            ] \r\n          } \r\n        } \r\n      });\r\n      \r\n      render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n\r\n      const historyButton = screen.getByRole('button', { name: /history/i });\r\n      fireEvent.click(historyButton);\r\n\r\n      await waitFor(() => expect(mockGet).toHaveBeenCalledWith('/api/cover-letters/cid1/history'));\r\n    });\r\n\r\n    test('shows alert when history load fails', async () => {\r\n      mockGet.mockRejectedValue(new Error('API error'));\r\n      const alertSpy = vi.spyOn(window, 'alert').mockImplementation(() => {});\r\n      \r\n      render(<CoverLetterEditor initialContent=\"<p>Test</p>\" coverLetterId=\"cid1\" />);\r\n\r\n      const historyButton = screen.getByRole('button', { name: /history/i });\r\n      fireEvent.click(historyButton);\r\n\r\n      await waitFor(() => expect(alertSpy).toHaveBeenCalledWith(expect.stringContaining('Failed to load')));\r\n      alertSpy.mockRestore();\r\n    });\r\n  });\r\n\r\n  describe('spell check with no issues', () => {\r\n    test('displays no issues message when spell check passes', async () => {\r\n      mockPost.mockResolvedValueOnce({ data: { data: { analysis: { issues: [] } } } });\r\n\r\n      render(<CoverLetterEditor initialContent=\"<p>Hi</p>\" coverLetterId=\"cid1\" />);\r\n\r\n      const spellButton = screen.getByRole('button', { name: /spell check/i });\r\n      fireEvent.click(spellButton);\r\n\r\n      await waitFor(() => expect(mockPost).toHaveBeenCalled());\r\n      \r\n      // Should show no issues message\r\n      expect(await screen.findByText(/no issues found|looks good|perfect/i)).toBeInTheDocument();\r\n    });\r\n  });\r\n});\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\DynamicInterviewPrepLink.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\ErrorMessage.test.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":4,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":4,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":5,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":5,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":7,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":7,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":10,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":10,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":12,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":12,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":15,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":15,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":18,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":18,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":21,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":21,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":22,"column":21,"nodeType":"Identifier","messageId":"undef","endLine":22,"endColumn":23},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":26,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":26,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":28,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":28,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":30,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":30,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":33,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":33,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":34,"column":21,"nodeType":"Identifier","messageId":"undef","endLine":34,"endColumn":23},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":38,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":38,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":41,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":41,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":45,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":45,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":48,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":48,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":53,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":53,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":54,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":54,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":57,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":57,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":58,"column":23,"nodeType":"Identifier","messageId":"undef","endLine":58,"endColumn":25},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":64,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":64,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":68,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":68,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":71,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":71,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":74,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":74,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":77,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":77,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":80,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":80,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":83,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":83,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":86,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":86,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":89,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":89,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":90,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":90,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":93,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":93,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":96,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":96,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":99,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":99,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":102,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":102,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":104,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":104,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":107,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":107,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":110,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":110,"endColumn":13}],"suppressedMessages":[],"errorCount":39,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen, fireEvent } from '@testing-library/react';\r\nimport ErrorMessage, { FieldError } from '../ErrorMessage.jsx';\r\n\r\ndescribe('ErrorMessage', () => {\r\n  test('renders nothing when error is null', () => {\r\n    const { container } = render(<ErrorMessage error={null} />);\r\n    expect(container).toBeEmptyDOMElement();\r\n  });\r\n\r\n  test('renders nothing when error is undefined', () => {\r\n    const { container } = render(<ErrorMessage error={undefined} />);\r\n    expect(container).toBeEmptyDOMElement();\r\n  });\r\n\r\n  test('renders provided message', () => {\r\n    const error = { customError: { message: 'Something went wrong' } };\r\n    render(<ErrorMessage error={error} />);\r\n    expect(screen.getByText(/something went wrong/i)).toBeInTheDocument();\r\n  });\r\n\r\n  test('shows network heading and Try Again when retryable', () => {\r\n    const onRetry = vi.fn();\r\n    const error = { customError: { isNetworkError: true, canRetry: true, message: 'net fail' } };\r\n    render(<ErrorMessage error={error} onRetry={onRetry} />);\r\n\r\n    expect(screen.getByText(/network error/i)).toBeInTheDocument();\r\n    const tryBtn = screen.getByText(/try again/i);\r\n    expect(tryBtn).toBeInTheDocument();\r\n    fireEvent.click(tryBtn);\r\n    expect(onRetry).toHaveBeenCalled();\r\n  });\r\n\r\n  test('does not show Try Again when canRetry is false', () => {\r\n    const onRetry = vi.fn();\r\n    const error = { customError: { isNetworkError: true, canRetry: false, message: 'net fail' } };\r\n    render(<ErrorMessage error={error} onRetry={onRetry} />);\r\n\r\n    expect(screen.queryByText(/try again/i)).not.toBeInTheDocument();\r\n  });\r\n\r\n  test('does not show Try Again when onRetry is not provided', () => {\r\n    const error = { customError: { canRetry: true, message: 'error' } };\r\n    render(<ErrorMessage error={error} />);\r\n\r\n    expect(screen.queryByText(/try again/i)).not.toBeInTheDocument();\r\n  });\r\n\r\n  test('renders field-specific validation errors', () => {\r\n    const error = { customError: { message: 'bad request', errors: [{ field: 'email', message: 'Invalid email' }] } };\r\n    render(<ErrorMessage error={error} />);\r\n\r\n    // should render list item with field and message\r\n    expect(screen.getByText(/email:/i)).toBeInTheDocument();\r\n    expect(screen.getByText(/invalid email/i)).toBeInTheDocument();\r\n  });\r\n\r\n  test('renders Dismiss and top-right dismiss button and calls onDismiss', () => {\r\n    const onDismiss = vi.fn();\r\n    const error = { customError: { message: 'something' } };\r\n    render(<ErrorMessage error={error} onDismiss={onDismiss} />);\r\n\r\n    // There are two dismiss controls: the inline \"Dismiss\" button and the sr-only X button\r\n    const dismissButtons = screen.getAllByRole('button', { name: /dismiss/i });\r\n    expect(dismissButtons.length).toBeGreaterThanOrEqual(1);\r\n\r\n    // Click both if present\r\n    dismissButtons.forEach((btn) => fireEvent.click(btn));\r\n    expect(onDismiss).toHaveBeenCalledTimes(dismissButtons.length);\r\n  });\r\n\r\n  test('falls back to error.message when customError.message is missing', () => {\r\n    const error = { message: 'Fallback error message' };\r\n    render(<ErrorMessage error={error} />);\r\n    expect(screen.getByText(/fallback error message/i)).toBeInTheDocument();\r\n  });\r\n\r\n  test('falls back to default message when no message provided', () => {\r\n    const error = {};\r\n    render(<ErrorMessage error={error} />);\r\n    expect(screen.getByText(/an error occurred/i)).toBeInTheDocument();\r\n  });\r\n\r\n  test('applies custom className', () => {\r\n    const error = { message: 'test' };\r\n    const { container } = render(<ErrorMessage error={error} className=\"custom-class\" />);\r\n    expect(container.firstChild).toHaveClass('custom-class');\r\n  });\r\n\r\n  describe('FieldError helper', () => {\r\n    test('renders matching field message', () => {\r\n      const err = { customError: { errors: [{ field: 'username', message: 'Required' }] } };\r\n      render(<FieldError error={err} fieldName=\"username\" />);\r\n      expect(screen.getByText(/required/i)).toBeInTheDocument();\r\n    });\r\n\r\n    test('renders nothing when no matching field', () => {\r\n      const err = { customError: { errors: [{ field: 'password', message: 'Too short' }] } };\r\n      const { container } = render(<FieldError error={err} fieldName=\"username\" />);\r\n      expect(container).toBeEmptyDOMElement();\r\n    });\r\n\r\n    test('renders nothing when error is null', () => {\r\n      const { container } = render(<FieldError error={null} fieldName=\"username\" />);\r\n      expect(container).toBeEmptyDOMElement();\r\n    });\r\n\r\n    test('renders nothing when no errors array exists', () => {\r\n      const err = { customError: {} };\r\n      const { container } = render(<FieldError error={err} fieldName=\"username\" />);\r\n      expect(container).toBeEmptyDOMElement();\r\n    });\r\n  });\r\n});\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\LoadingSpinner.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\Logo.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\Navbar.comprehensive.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\Navbar.mobileActive.test.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":5,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":5,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":11,"column":31,"nodeType":"Identifier","messageId":"undef","endLine":11,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":13,"column":31,"nodeType":"Identifier","messageId":"undef","endLine":13,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":16,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":16,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":18,"column":19,"nodeType":"Identifier","messageId":"undef","endLine":18,"endColumn":21},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":19,"column":17,"nodeType":"Identifier","messageId":"undef","endLine":19,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":24,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":24,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":34,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":34,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":51,"column":9,"nodeType":"Identifier","messageId":"undef","endLine":51,"endColumn":15},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":52,"column":9,"nodeType":"Identifier","messageId":"undef","endLine":52,"endColumn":15},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":58,"column":9,"nodeType":"Identifier","messageId":"undef","endLine":58,"endColumn":15}],"suppressedMessages":[],"errorCount":11,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, fireEvent, waitFor } from '@testing-library/react';\r\nimport { MemoryRouter } from 'react-router-dom';\r\n\r\n// Mock Clerk and api before importing the component so hooks and network calls are mocked\r\nvi.mock('@clerk/clerk-react', () => ({\r\n  __esModule: true,\r\n  ClerkProvider: ({ children }) => <>{children}</>,\r\n  SignedIn: ({ children }) => <>{children}</>,\r\n  SignedOut: ({ children }) => <>{children}</>,\r\n  UserButton: () => <div />,\r\n  useAuth: () => ({ getToken: vi.fn().mockResolvedValue('tok'), isSignedIn: true }),\r\n  useUser: () => ({ user: { id: 'u1' } }),\r\n  useClerk: () => ({ signOut: vi.fn() }),\r\n}));\r\n\r\nvi.mock('../../api/axios', () => ({\r\n  __esModule: true,\r\n  default: { get: vi.fn() },\r\n  setAuthToken: vi.fn(),\r\n}));\r\n\r\nimport Navbar from '../Navbar.jsx';\r\n\r\ndescribe('Navbar mobile active link behavior (comprehensive)', () => {\r\n  const signedInPaths = [\r\n    ['/dashboard', 'Dashboard'],\r\n    ['/profile', 'Profile'],\r\n    ['/jobs', 'Jobs'],\r\n    ['/salary-benchmarks', 'Salary Benchmarks'],\r\n    ['/resumes', 'Resumes'],\r\n  ];\r\n\r\n  for (const [path, label] of signedInPaths) {\r\n    test(`mobile link '${label}' is active when route is '${path}' and others are not`, async () => {\r\n      const api = (await import('../../api/axios')).default;\r\n      api.get.mockResolvedValue({ data: { data: {} } });\r\n\r\n      const { container } = render(\r\n        <MemoryRouter initialEntries={[path]}>\r\n          <Navbar />\r\n        </MemoryRouter>\r\n      );\r\n\r\n      // open mobile menu and wait for DOM update\r\n      const toggle = container.querySelector('button[aria-label=\"Toggle navigation menu\"]');\r\n      fireEvent.click(toggle);\r\n      const mobile = container.querySelector('#mobile-menu');\r\n\r\n      await waitFor(() => {\r\n        const target = mobile.querySelector(`a[aria-label=\"${label}\"]`);\r\n        expect(target).toBeTruthy();\r\n        expect(target.className).toContain('bg-primary-900'); // active styling\r\n      });\r\n\r\n      // pick another link (first entry) and ensure it's not active when route differs\r\n      const other = mobile.querySelector('a[aria-label=\"Dashboard\"]');\r\n      if (label !== 'Dashboard') {\r\n        expect(other.classList.contains('bg-primary-900')).toBe(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Note: signed-out mobile active tests are covered in Navbar.signedout.test.jsx\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\Navbar.signedout.test.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":5,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":5,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":11,"column":31,"nodeType":"Identifier","messageId":"undef","endLine":11,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":13,"column":31,"nodeType":"Identifier","messageId":"undef","endLine":13,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":16,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":16,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":18,"column":19,"nodeType":"Identifier","messageId":"undef","endLine":18,"endColumn":21},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":19,"column":17,"nodeType":"Identifier","messageId":"undef","endLine":19,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":24,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":24,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":25,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":25,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":38,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":38,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":39,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":39,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":42,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":42,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":45,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":45,"endColumn":7},{"ruleId":"no-unused-vars","severity":2,"message":"'api' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":46,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":46,"endColumn":14,"suggestions":[{"messageId":"removeVar","data":{"varName":"api"},"fix":{"range":[1604,1658],"text":""},"desc":"Remove unused variable 'api'."}]},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":59,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":59,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":71,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":71,"endColumn":11}],"suppressedMessages":[],"errorCount":15,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render } from '@testing-library/react';\r\nimport { MemoryRouter } from 'react-router-dom';\r\n\r\n// Re-mock clerk to simulate signed-out user before importing the component\r\nvi.mock('@clerk/clerk-react', () => ({\r\n  __esModule: true,\r\n  ClerkProvider: ({ children }) => <>{children}</>,\r\n  SignedIn: ({ children }) => <>{children}</>,\r\n  SignedOut: ({ children }) => <>{children}</>,\r\n  UserButton: () => <div />,\r\n  useAuth: () => ({ getToken: vi.fn().mockResolvedValue(null), isSignedIn: false }),\r\n  useUser: () => ({ user: null }),\r\n  useClerk: () => ({ signOut: vi.fn() }),\r\n}));\r\n\r\nvi.mock('../../api/axios', () => ({\r\n  __esModule: true,\r\n  default: { get: vi.fn() },\r\n  setAuthToken: vi.fn(),\r\n}));\r\n\r\nimport Navbar from '../Navbar.jsx';\r\n\r\ndescribe('Navbar (signed out)', () => {\r\n  test('renders Register/Login links and does not call profile API', async () => {\r\n    const api = (await import('../../api/axios')).default;\r\n\r\n    const { getAllByLabelText } = render(\r\n      <MemoryRouter>\r\n        <Navbar />\r\n      </MemoryRouter>\r\n    );\r\n\r\n    // Both desktop and mobile should include Register and Login links (aria-label present)\r\n    const registers = getAllByLabelText('Register');\r\n    const logins = getAllByLabelText('Login');\r\n\r\n    expect(registers.length).toBeGreaterThanOrEqual(1);\r\n    expect(logins.length).toBeGreaterThanOrEqual(1);\r\n\r\n    // Profile fetch should not have been called when no user\r\n    expect(api.get).not.toHaveBeenCalled();\r\n  });\r\n\r\n  test('mobile Register active class when route is /register and mobile Login active when /login', async () => {\r\n    const api = (await import('../../api/axios')).default;\r\n\r\n    // Register active\r\n    const { container: c1, rerender } = render(\r\n      <MemoryRouter initialEntries={[\"/register\"]}>\r\n        <Navbar />\r\n      </MemoryRouter>\r\n    );\r\n    // open mobile menu\r\n    const toggle1 = c1.querySelector('button[aria-label=\"Toggle navigation menu\"]');\r\n    toggle1.click();\r\n    const mobile1 = c1.querySelector('#mobile-menu');\r\n    const regLink = mobile1.querySelector('a[aria-label=\"Register\"]');\r\n    expect(regLink.className).toContain('bg-primary-900');\r\n\r\n    // Login active\r\n    rerender(\r\n      <MemoryRouter initialEntries={[\"/login\"]}>\r\n        <Navbar />\r\n      </MemoryRouter>\r\n    );\r\n    const toggle2 = c1.querySelector('button[aria-label=\"Toggle navigation menu\"]');\r\n    toggle2.click();\r\n    const mobile2 = c1.querySelector('#mobile-menu');\r\n    const loginLink = mobile2.querySelector('a[aria-label=\"Login\"]');\r\n    expect(loginLink.className).toContain('bg-primary-900');\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\Navbar.test.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":26,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":26,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'beforeEach' is not defined.","line":27,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":27,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":34,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":34,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":43,"column":25,"nodeType":"Identifier","messageId":"undef","endLine":43,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":46,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":46,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":55,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":55,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":58,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":58,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":61,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":61,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":64,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":64,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":74,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":74,"endColumn":11}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\r\nimport { vi } from 'vitest';\r\nimport { MemoryRouter } from 'react-router-dom';\r\n\r\n// Mock Clerk components and hooks\r\nvi.mock('@clerk/clerk-react', () => ({\r\n  SignedIn: ({ children }) => <>{children}</>,\r\n  SignedOut: ({ children }) => <>{children}</>,\r\n  UserButton: () => <div data-testid=\"user-button\" />,\r\n  useAuth: () => ({ getToken: async () => 'token-123' }),\r\n  useUser: () => ({ user: { id: 'u1' } }),\r\n  useClerk: () => ({ signOut: vi.fn() }),\r\n}));\r\n\r\n// Mock api/axios\r\nconst mockGet = vi.fn();\r\nvi.mock('../../api/axios', () => ({\r\n  default: { get: (...args) => mockGet(...args) },\r\n  get: (...args) => mockGet(...args),\r\n  setAuthToken: () => {},\r\n}));\r\n\r\nimport Navbar, { DynamicInterviewPrepLink } from '../Navbar.jsx';\r\n\r\ndescribe('Navbar', () => {\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n    // Clear storage\r\n    window.localStorage.clear();\r\n    window.sessionStorage.clear();\r\n  });\r\n\r\n  test('fetches profile picture when user exists', async () => {\r\n    mockGet.mockResolvedValue({ data: { data: { picture: 'http://img' } } });\r\n\r\n    render(\r\n      <MemoryRouter>\r\n        <Navbar />\r\n      </MemoryRouter>\r\n    );\r\n\r\n    await waitFor(() => expect(mockGet).toHaveBeenCalledWith('/api/users/me'));\r\n  });\r\n\r\n  test('mobile menu toggles open/close', async () => {\r\n    render(\r\n      <MemoryRouter>\r\n        <Navbar />\r\n      </MemoryRouter>\r\n    );\r\n\r\n    const toggle = screen.getByRole('button', { name: /toggle navigation menu/i });\r\n    // initially closed\r\n    expect(toggle).toHaveAttribute('aria-expanded', 'false');\r\n\r\n    fireEvent.click(toggle);\r\n    expect(toggle).toHaveAttribute('aria-expanded', 'true');\r\n\r\n    fireEvent.click(toggle);\r\n    expect(toggle).toHaveAttribute('aria-expanded', 'false');\r\n  });\r\n\r\n  test('Interview Prep link points to active job when active job set', () => {\r\n    window.localStorage.setItem('activeJobId', 'job-123');\r\n\r\n    const { getByText } = render(\r\n      <MemoryRouter>\r\n        <DynamicInterviewPrepLink navLinkClass={() => 'navclass'} />\r\n      </MemoryRouter>\r\n    );\r\n\r\n    const link = getByText(/Interview Prep/i).closest('a');\r\n    expect(link).toHaveAttribute('href', '/jobs/job-123/interview-prep');\r\n  });\r\n});\r\n\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\ProfilePictureUpload.extra.test.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":5,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":5,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":7,"column":20,"nodeType":"Identifier","messageId":"undef","endLine":7,"endColumn":22},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":7,"column":37,"nodeType":"Identifier","messageId":"undef","endLine":7,"endColumn":39},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":8,"column":17,"nodeType":"Identifier","messageId":"undef","endLine":8,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":11,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":11,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":14,"column":31,"nodeType":"Identifier","messageId":"undef","endLine":14,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":14,"column":92,"nodeType":"Identifier","messageId":"undef","endLine":14,"endColumn":94},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":17,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":17,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":18,"column":16,"nodeType":"Identifier","messageId":"undef","endLine":18,"endColumn":18},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":19,"column":21,"nodeType":"Identifier","messageId":"undef","endLine":19,"endColumn":23},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":20,"column":21,"nodeType":"Identifier","messageId":"undef","endLine":20,"endColumn":23},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":21,"column":19,"nodeType":"Identifier","messageId":"undef","endLine":21,"endColumn":21},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":22,"column":15,"nodeType":"Identifier","messageId":"undef","endLine":22,"endColumn":17},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":25,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":25,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'beforeAll' is not defined.","line":30,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":30,"endColumn":12},{"ruleId":"no-undef","severity":2,"message":"'afterEach' is not defined.","line":37,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":37,"endColumn":12},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":38,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":38,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":43,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":43,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":50,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":50,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":57,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":57,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":61,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":61,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":64,"column":29,"nodeType":"Identifier","messageId":"undef","endLine":64,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":71,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":71,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":77,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":77,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":78,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":78,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":81,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":81,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'global' is not defined.","line":87,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":87,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":87,"column":34,"nodeType":"Identifier","messageId":"undef","endLine":87,"endColumn":36},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":92,"column":29,"nodeType":"Identifier","messageId":"undef","endLine":92,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":103,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":103,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":110,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":110,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":111,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":111,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":114,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":114,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":122,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":122,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":126,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":126,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":129,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":129,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":134,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":134,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":138,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":138,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":144,"column":25,"nodeType":"Identifier","messageId":"undef","endLine":144,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":147,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":147,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'global' is not defined.","line":153,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":153,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":153,"column":34,"nodeType":"Identifier","messageId":"undef","endLine":153,"endColumn":36},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":168,"column":23,"nodeType":"Identifier","messageId":"undef","endLine":168,"endColumn":29},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":172,"column":23,"nodeType":"Identifier","messageId":"undef","endLine":172,"endColumn":29},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":175,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":175,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":181,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":181,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":186,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":186,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":191,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":191,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":194,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":194,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":199,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":199,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":203,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":203,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":210,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":210,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":214,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":214,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":216,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":216,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":218,"column":29,"nodeType":"Identifier","messageId":"undef","endLine":218,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":228,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":228,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":229,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":229,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":230,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":230,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":234,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":234,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'global' is not defined.","line":239,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":239,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":239,"column":34,"nodeType":"Identifier","messageId":"undef","endLine":239,"endColumn":36},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":243,"column":29,"nodeType":"Identifier","messageId":"undef","endLine":243,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":253,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":253,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":259,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":259,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":260,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":260,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":262,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":262,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":266,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":266,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'global' is not defined.","line":272,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":272,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":272,"column":34,"nodeType":"Identifier","messageId":"undef","endLine":272,"endColumn":36},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":284,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":284,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":290,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":290,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":297,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":297,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":303,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":303,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":308,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":308,"endColumn":11}],"suppressedMessages":[],"errorCount":74,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { render, fireEvent, waitFor } from '@testing-library/react';\r\n\r\n// Mocks must be declared before importing the component so imports are mocked\r\nvi.mock('../../api/axios', () => ({\r\n  __esModule: true,\r\n  default: { post: vi.fn(), delete: vi.fn() },\r\n  setAuthToken: vi.fn(),\r\n}));\r\n\r\nvi.mock('@clerk/clerk-react', () => ({\r\n  __esModule: true,\r\n  ClerkProvider: ({ children }) => <>{children}</>,\r\n  useAuth: () => ({ getToken: vi.fn().mockResolvedValue('tok'), isSignedIn: true, signOut: vi.fn() }),\r\n}));\r\n\r\nvi.mock('../../utils/imageUtils', () => ({\r\n  resizeImage: vi.fn(),\r\n  isValidImageType: vi.fn(),\r\n  isValidImageSize: vi.fn(),\r\n  formatFileSize: vi.fn(),\r\n  blobToFile: vi.fn(),\r\n}));\r\n\r\ndescribe('ProfilePictureUpload - extra cases', () => {\r\n  let ProfilePictureUpload;\r\n  let api;\r\n  let imgUtils;\r\n\r\n  beforeAll(async () => {\r\n    const mod = await import('../ProfilePictureUpload.jsx');\r\n    ProfilePictureUpload = mod.default;\r\n    api = (await import('../../api/axios')).default;\r\n    imgUtils = await import('../../utils/imageUtils');\r\n  });\r\n\r\n  afterEach(() => {\r\n    vi.clearAllMocks();\r\n    // reset sessionStorage\r\n    sessionStorage.clear();\r\n  });\r\n\r\n  test('opens modal and closes when clicking backdrop', async () => {\r\n    const { container, queryByText } = render(<ProfilePictureUpload />);\r\n\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    // modal should be visible\r\n    expect(queryByText(/Edit Profile Picture/i)).toBeTruthy();\r\n\r\n    // click the overlay backdrop (fixed inset-0)\r\n    const overlay = container.querySelector('.fixed.inset-0');\r\n    fireEvent.click(overlay);\r\n\r\n    await waitFor(() => {\r\n      expect(queryByText(/Edit Profile Picture/i)).toBeNull();\r\n    });\r\n  });\r\n\r\n  test('delete is cancelled when user dismisses confirm', async () => {\r\n    api.delete.mockResolvedValue({});\r\n\r\n    const onDeleteSuccess = vi.fn();\r\n    const { container, getByText } = render(<ProfilePictureUpload currentPicture={'http://x'} onDeleteSuccess={onDeleteSuccess} />);\r\n\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    // mock confirm to cancel\r\n    vi.spyOn(window, 'confirm').mockReturnValue(false);\r\n\r\n    const deleteBtn = getByText(/Delete Picture/i);\r\n    fireEvent.click(deleteBtn);\r\n\r\n    // delete should not have been called and callback not invoked\r\n    expect(api.delete).not.toHaveBeenCalled();\r\n    expect(onDeleteSuccess).not.toHaveBeenCalled();\r\n  });\r\n\r\n  test('upload failure sets error and stops uploading', async () => {\r\n    // Prepare mocks so selection flows succeed\r\n    imgUtils.isValidImageType.mockReturnValue(true);\r\n    imgUtils.isValidImageSize.mockReturnValue(true);\r\n    imgUtils.resizeImage.mockResolvedValue(new Blob(['x'], { type: 'image/png' }));\r\n    imgUtils.blobToFile.mockImplementation((b, name) => new File([b], name, { type: b.type || 'image/png' }));\r\n    global.URL.createObjectURL = vi.fn(() => 'blob:preview');\r\n\r\n    // Make upload fail\r\n    api.post.mockRejectedValue(new Error('upload failed'));\r\n\r\n    const onUploadSuccess = vi.fn();\r\n    const { container, getByText, findByAltText, findByText } = render(<ProfilePictureUpload onUploadSuccess={onUploadSuccess} />);\r\n\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    const input = container.querySelector('#profile-picture-input-modal');\r\n    const file = new File(['imgdata'], 'avatar.png', { type: 'image/png' });\r\n    fireEvent.change(input, { target: { files: [file] } });\r\n\r\n    // preview should show\r\n    expect(await findByAltText('Preview')).toBeTruthy();\r\n\r\n    // click Save Changes -> upload will fail\r\n    const saveBtn = getByText(/Save Changes/i);\r\n    fireEvent.click(saveBtn);\r\n\r\n    // error should be displayed with message\r\n    expect(await findByText(/upload failed/i)).toBeTruthy();\r\n    expect(onUploadSuccess).not.toHaveBeenCalled();\r\n  });\r\n\r\n  test('hover overlay toggles opacity classes', async () => {\r\n    const { container } = render(<ProfilePictureUpload />);\r\n    const opener = container.querySelector('.group');\r\n\r\n    // hover enter\r\n    fireEvent.mouseEnter(opener);\r\n    // overlay div is absolute inset-0\r\n    const overlay = container.querySelector('.absolute.inset-0');\r\n    expect(overlay.className).toContain('opacity-50');\r\n\r\n    // hover leave\r\n    fireEvent.mouseLeave(opener);\r\n    expect(overlay.className).toContain('opacity-0');\r\n  });\r\n\r\n  test('clicking Save with no selected file closes modal', async () => {\r\n    const { container, queryByText, getByText } = render(<ProfilePictureUpload />);\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    expect(queryByText(/Edit Profile Picture/i)).toBeTruthy();\r\n\r\n    const saveBtn = getByText(/Save Changes/i);\r\n    // Save should be disabled when no file selected\r\n    expect(saveBtn).toBeDisabled();\r\n\r\n    // close modal via backdrop\r\n    const overlay = container.querySelector('.fixed.inset-0');\r\n    fireEvent.click(overlay);\r\n\r\n    await waitFor(() => expect(queryByText(/Edit Profile Picture/i)).toBeNull());\r\n  });\r\n\r\n  test('mouseOver changes Choose New Picture background color when enabled', async () => {\r\n    // prepare selection so the label is enabled\r\n    imgUtils.isValidImageType.mockReturnValue(true);\r\n    imgUtils.isValidImageSize.mockReturnValue(true);\r\n    imgUtils.resizeImage.mockResolvedValue(new Blob(['x'], { type: 'image/png' }));\r\n    imgUtils.blobToFile.mockImplementation((b, name) => new File([b], name, { type: b.type || 'image/png' }));\r\n    global.URL.createObjectURL = vi.fn(() => 'blob:preview');\r\n\r\n    const { container } = render(<ProfilePictureUpload />);\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    const input = container.querySelector('#profile-picture-input-modal');\r\n    const file = new File(['imgdata'], 'avatar.png', { type: 'image/png' });\r\n    fireEvent.change(input, { target: { files: [file] } });\r\n\r\n    // label should exist\r\n    const label = container.querySelector('label[for=\"profile-picture-input-modal\"]');\r\n    // simulate mouse over and wait for style change\r\n  fireEvent.mouseOver(label);\r\n  // jsdom returns computed colors in rgb(...) format, assert normalized rgb values\r\n  await waitFor(() => expect(label.style.backgroundColor).toBe('rgb(101, 106, 92)'));\r\n\r\n  // mouse out should restore\r\n  fireEvent.mouseOut(label);\r\n  await waitFor(() => expect(label.style.backgroundColor).toBe('rgb(119, 124, 109)'));\r\n  });\r\n\r\n  test('hover overlay appears on mouse enter and hides on leave', async () => {\r\n    const { container } = render(<ProfilePictureUpload />);\r\n    const opener = container.querySelector('.group');\r\n\r\n    // initially overlay should be opacity-0\r\n    let overlay = container.querySelector('.absolute.inset-0');\r\n    expect(overlay.className).toMatch(/opacity-0/);\r\n\r\n    // mouse enter\r\n    fireEvent.mouseEnter(opener);\r\n    overlay = container.querySelector('.absolute.inset-0');\r\n    expect(overlay.className).toMatch(/opacity-50/);\r\n\r\n    // mouse leave\r\n    fireEvent.mouseLeave(opener);\r\n    overlay = container.querySelector('.absolute.inset-0');\r\n    expect(overlay.className).toMatch(/opacity-0/);\r\n  });\r\n\r\n  test('save without selecting a file shows disabled Save and modal can be closed', async () => {\r\n    const { container, queryByText, getByText } = render(<ProfilePictureUpload />);\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    expect(queryByText(/Edit Profile Picture/i)).toBeTruthy();\r\n\r\n    const saveBtn = getByText(/Save Changes/i);\r\n    // Save should be disabled when no file selected\r\n    expect(saveBtn).toBeDisabled();\r\n\r\n    // close modal by clicking backdrop\r\n    const overlay = container.querySelector('.fixed.inset-0');\r\n    fireEvent.click(overlay);\r\n\r\n    await waitFor(() => {\r\n      expect(queryByText(/Edit Profile Picture/i)).toBeNull();\r\n    });\r\n  });\r\n\r\n  test('delete success calls onDeleteSuccess and closes modal', async () => {\r\n    api.delete.mockResolvedValue({});\r\n    vi.spyOn(window, 'confirm').mockReturnValue(true);\r\n\r\n    const onDeleteSuccess = vi.fn();\r\n    const { container, getByText, queryByText } = render(<ProfilePictureUpload currentPicture={'http://x'} onDeleteSuccess={onDeleteSuccess} />);\r\n\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    const deleteBtn = getByText(/Delete Picture/i);\r\n    fireEvent.click(deleteBtn);\r\n\r\n    await waitFor(() => {\r\n      expect(api.delete).toHaveBeenCalledWith('/api/users/profile-picture');\r\n      expect(onDeleteSuccess).toHaveBeenCalled();\r\n      expect(queryByText(/Edit Profile Picture/i)).toBeNull();\r\n    });\r\n  });\r\n\r\n  test('save success calls onUploadSuccess, resets input and closes modal', async () => {\r\n    imgUtils.isValidImageType.mockReturnValue(true);\r\n    imgUtils.isValidImageSize.mockReturnValue(true);\r\n    imgUtils.resizeImage.mockResolvedValue(new Blob(['x'], { type: 'image/png' }));\r\n    imgUtils.blobToFile.mockImplementation((b, name) => new File([b], name, { type: b.type || 'image/png' }));\r\n    global.URL.createObjectURL = vi.fn(() => 'blob:preview');\r\n\r\n    api.post.mockResolvedValue({ data: { data: { picture: 'http://example.com/new.png' } } });\r\n\r\n    const onUploadSuccess = vi.fn();\r\n    const { container, getByText, findByAltText, queryByText } = render(<ProfilePictureUpload onUploadSuccess={onUploadSuccess} />);\r\n\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    const input = container.querySelector('#profile-picture-input-modal');\r\n    const file = new File(['imgdata'], 'avatar.png', { type: 'image/png' });\r\n    fireEvent.change(input, { target: { files: [file] } });\r\n\r\n    expect(await findByAltText('Preview')).toBeTruthy();\r\n\r\n    const saveBtn = getByText(/Save Changes/i);\r\n    fireEvent.click(saveBtn);\r\n\r\n    await waitFor(() => {\r\n      expect(onUploadSuccess).toHaveBeenCalledWith('http://example.com/new.png');\r\n      expect(queryByText(/Edit Profile Picture/i)).toBeNull();\r\n      // file input should be cleared\r\n      expect(input.value).toBe('');\r\n    });\r\n  });\r\n\r\n  test('mouseover/mouseout handlers change inline styles on modal controls', async () => {\r\n    // Prepare preview so Save/Delete enabled\r\n    imgUtils.isValidImageType.mockReturnValue(true);\r\n    imgUtils.isValidImageSize.mockReturnValue(true);\r\n    imgUtils.resizeImage.mockResolvedValue(new Blob(['x'], { type: 'image/png' }));\r\n    imgUtils.blobToFile.mockImplementation((b, name) => new File([b], name, { type: b.type || 'image/png' }));\r\n    global.URL.createObjectURL = vi.fn(() => 'blob:preview');\r\n    api.post.mockResolvedValue({ data: { data: { picture: 'http://example.com/new.png' } } });\r\n\r\n    const { container, getByText, findByAltText } = render(<ProfilePictureUpload currentPicture={'http://x'} />);\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    const input = container.querySelector('#profile-picture-input-modal');\r\n    const file = new File(['imgdata'], 'avatar.png', { type: 'image/png' });\r\n    fireEvent.change(input, { target: { files: [file] } });\r\n\r\n    // wait for preview\r\n    expect(await findByAltText('Preview')).toBeTruthy();\r\n\r\n    // Close (top-right) button color changes on mouseover/out\r\n    const closeBtn = container.querySelector('button.absolute.top-3.right-3');\r\n    const beforeColor = closeBtn.style.color;\r\n    fireEvent.mouseOver(closeBtn);\r\n    expect(closeBtn.style.color).not.toBe(beforeColor);\r\n    fireEvent.mouseOut(closeBtn);\r\n\r\n    // Label hover changes background color\r\n    const label = container.querySelector('label[for=\"profile-picture-input-modal\"]');\r\n    const beforeBg = label.style.backgroundColor;\r\n    fireEvent.mouseOver(label);\r\n    expect(label.style.backgroundColor).not.toBe(beforeBg);\r\n    fireEvent.mouseOut(label);\r\n\r\n    // Delete and Save hover (ensure they exist and are enabled)\r\n    const deleteBtn = getByText(/Delete Picture/i);\r\n    fireEvent.mouseOver(deleteBtn);\r\n    expect(deleteBtn.style.backgroundColor).not.toBe('');\r\n    fireEvent.mouseOut(deleteBtn);\r\n\r\n    const saveBtn = getByText(/Save Changes/i);\r\n    fireEvent.mouseOver(saveBtn);\r\n    expect(saveBtn.style.backgroundColor).not.toBe('');\r\n    fireEvent.mouseOut(saveBtn);\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\ProfilePictureUpload.intensive.test.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":6,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":6,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":8,"column":20,"nodeType":"Identifier","messageId":"undef","endLine":8,"endColumn":22},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":8,"column":37,"nodeType":"Identifier","messageId":"undef","endLine":8,"endColumn":39},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":9,"column":17,"nodeType":"Identifier","messageId":"undef","endLine":9,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":13,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":13,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":16,"column":31,"nodeType":"Identifier","messageId":"undef","endLine":16,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":16,"column":92,"nodeType":"Identifier","messageId":"undef","endLine":16,"endColumn":94},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":20,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":20,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":21,"column":16,"nodeType":"Identifier","messageId":"undef","endLine":21,"endColumn":18},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":22,"column":21,"nodeType":"Identifier","messageId":"undef","endLine":22,"endColumn":23},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":23,"column":21,"nodeType":"Identifier","messageId":"undef","endLine":23,"endColumn":23},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":24,"column":19,"nodeType":"Identifier","messageId":"undef","endLine":24,"endColumn":21},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":25,"column":15,"nodeType":"Identifier","messageId":"undef","endLine":25,"endColumn":17},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":28,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":28,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'beforeAll' is not defined.","line":34,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":34,"endColumn":12},{"ruleId":"no-undef","severity":2,"message":"'beforeEach' is not defined.","line":42,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":42,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'global' is not defined.","line":50,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":50,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":50,"column":34,"nodeType":"Identifier","messageId":"undef","endLine":50,"endColumn":36},{"ruleId":"no-undef","severity":2,"message":"'afterEach' is not defined.","line":53,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":53,"endColumn":12},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":54,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":54,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":55,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":55,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":58,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":58,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":71,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":71,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":74,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":74,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":87,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":87,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":90,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":90,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":101,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":101,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":104,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":104,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":107,"column":29,"nodeType":"Identifier","messageId":"undef","endLine":107,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":121,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":121,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":128,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":128,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":130,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":130,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":134,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":134,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":137,"column":29,"nodeType":"Identifier","messageId":"undef","endLine":137,"endColumn":31},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":148,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":148,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":154,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":154,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":155,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":155,"endColumn":13}],"suppressedMessages":[],"errorCount":37,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { render, fireEvent, waitFor } from '@testing-library/react';\r\n// We'll import the component after setting up module mocks so the mocks are applied\r\n\r\n// Mock axios API module\r\nvi.mock('../../api/axios', () => ({\r\n  __esModule: true,\r\n  default: { post: vi.fn(), delete: vi.fn() },\r\n  setAuthToken: vi.fn(),\r\n}));\r\n\r\n// Mock clerk auth\r\nvi.mock('@clerk/clerk-react', () => ({\r\n  __esModule: true,\r\n  ClerkProvider: ({ children }) => <>{children}</>,\r\n  useAuth: () => ({ getToken: vi.fn().mockResolvedValue('tok'), isSignedIn: true, signOut: vi.fn() }),\r\n}));\r\n\r\n// Mock image utilities\r\nvi.mock('../../utils/imageUtils', () => ({\r\n  resizeImage: vi.fn(),\r\n  isValidImageType: vi.fn(),\r\n  isValidImageSize: vi.fn(),\r\n  formatFileSize: vi.fn((bytes) => `${Math.round(bytes / 1024)} KB`),\r\n  blobToFile: vi.fn((b, name) => new File([b], name, { type: b.type || 'image/png' })),\r\n}));\r\n\r\ndescribe('ProfilePictureUpload - intensive', () => {\r\n  // import the component and the mocked modules after mocks so that its imports are mocked\r\n  let ProfilePictureUpload;\r\n  let imgUtils;\r\n  let api;\r\n\r\n  beforeAll(async () => {\r\n    // dynamic imports will return the modules mocked by vi.mock above\r\n    const mod = await import('../ProfilePictureUpload.jsx');\r\n    ProfilePictureUpload = mod.default;\r\n    imgUtils = (await import('../../utils/imageUtils'));\r\n    api = (await import('../../api/axios')).default;\r\n  });\r\n\r\n  beforeEach(() => {\r\n    // reset/mockReturnValue on the mocked functions\r\n    if (imgUtils.isValidImageType?.mockReturnValue) imgUtils.isValidImageType.mockReturnValue(true);\r\n    if (imgUtils.isValidImageSize?.mockReturnValue) imgUtils.isValidImageSize.mockReturnValue(true);\r\n    if (imgUtils.resizeImage?.mockResolvedValue) imgUtils.resizeImage.mockResolvedValue(new Blob(['data'], { type: 'image/png' }));\r\n    if (imgUtils.formatFileSize?.mockReturnValue) imgUtils.formatFileSize.mockReturnValue(`${Math.round(6 * 1024)} KB`);\r\n    if (imgUtils.blobToFile?.mockImplementation) imgUtils.blobToFile.mockImplementation((b, name) => new File([b], name, { type: b.type || 'image/png' }));\r\n    // mock URL.createObjectURL\r\n    global.URL.createObjectURL = vi.fn(() => 'blob:preview');\r\n  });\r\n\r\n  afterEach(() => {\r\n    vi.restoreAllMocks();\r\n    vi.clearAllMocks();\r\n  });\r\n\r\n  test('shows error for invalid file type', async () => {\r\n    // make image type invalid for this case\r\n    imgUtils.isValidImageType.mockReturnValue(false);\r\n\r\n    const { container, findByText } = render(<ProfilePictureUpload />);\r\n    // open modal\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    const input = container.querySelector('#profile-picture-input-modal');\r\n    const file = new File(['x'], 'file.txt', { type: 'text/plain' });\r\n    fireEvent.change(input, { target: { files: [file] } });\r\n\r\n    expect(await findByText(/Invalid file type/i)).toBeTruthy();\r\n  });\r\n\r\n  test('shows error for oversized file', async () => {\r\n    imgUtils.isValidImageType.mockReturnValue(true);\r\n    imgUtils.isValidImageSize.mockReturnValue(false);\r\n    imgUtils.formatFileSize.mockReturnValue('6 MB');\r\n\r\n    const { container, findByText } = render(<ProfilePictureUpload />);\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    const input = container.querySelector('#profile-picture-input-modal');\r\n    const file = new File(['x'.repeat(1024)], 'big.png', { type: 'image/png', size: 6 * 1024 * 1024 });\r\n    fireEvent.change(input, { target: { files: [file] } });\r\n\r\n    expect(await findByText(/File is too large/i)).toBeTruthy();\r\n  });\r\n\r\n  test('handles resize failure gracefully', async () => {\r\n    imgUtils.resizeImage.mockRejectedValue(new Error('resize failed'));\r\n\r\n    const { container, findByText } = render(<ProfilePictureUpload />);\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    const input = container.querySelector('#profile-picture-input-modal');\r\n    const file = new File(['x'], 'img.png', { type: 'image/png' });\r\n    fireEvent.change(input, { target: { files: [file] } });\r\n\r\n    expect(await findByText(/Failed to process image/i)).toBeTruthy();\r\n  });\r\n\r\n  test('creates preview and saves successfully', async () => {\r\n    api.post.mockResolvedValue({ data: { data: { picture: 'http://example.com/pic.png' } } });\r\n\r\n    const onUploadSuccess = vi.fn();\r\n\r\n    const { container, getByText, findByAltText, queryByText } = render(\r\n      <ProfilePictureUpload onUploadSuccess={onUploadSuccess} />\r\n    );\r\n\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    const input = container.querySelector('#profile-picture-input-modal');\r\n    const file = new File(['imgdata'], 'avatar.png', { type: 'image/png' });\r\n    fireEvent.change(input, { target: { files: [file] } });\r\n\r\n    // wait for preview to appear\r\n    expect(await findByAltText('Preview')).toBeTruthy();\r\n\r\n    // click Save Changes\r\n    const saveBtn = getByText(/Save Changes/i);\r\n    fireEvent.click(saveBtn);\r\n\r\n    await waitFor(() => {\r\n      expect(onUploadSuccess).toHaveBeenCalledWith('http://example.com/pic.png');\r\n      // modal should be closed\r\n      expect(queryByText(/Edit Profile Picture/)).toBeNull();\r\n    });\r\n  });\r\n\r\n  test('delete flow calls onDeleteSuccess when confirmed', async () => {\r\n    api.delete.mockResolvedValue({});\r\n\r\n    const onDeleteSuccess = vi.fn();\r\n\r\n    // provide a currentPicture so Delete button is visible\r\n    const { container, getByText, queryByText } = render(\r\n      <ProfilePictureUpload currentPicture={'http://example.com/me.png'} onDeleteSuccess={onDeleteSuccess} />\r\n    );\r\n\r\n    const opener = container.querySelector('.group');\r\n    fireEvent.click(opener);\r\n\r\n    // mock confirm to accept\r\n    vi.spyOn(window, 'confirm').mockReturnValue(true);\r\n\r\n    const deleteBtn = getByText(/Delete Picture/i);\r\n    fireEvent.click(deleteBtn);\r\n\r\n    await waitFor(() => {\r\n      expect(onDeleteSuccess).toHaveBeenCalled();\r\n      expect(queryByText(/Edit Profile Picture/)).toBeNull();\r\n    });\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\ProfilePictureUpload.test.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":4,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":4,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":6,"column":20,"nodeType":"Identifier","messageId":"undef","endLine":6,"endColumn":22},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":6,"column":37,"nodeType":"Identifier","messageId":"undef","endLine":6,"endColumn":39},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":7,"column":17,"nodeType":"Identifier","messageId":"undef","endLine":7,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":10,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":10,"endColumn":3},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":13,"column":31,"nodeType":"Identifier","messageId":"undef","endLine":13,"endColumn":33},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":16,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":16,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'test' is not defined.","line":17,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":17,"endColumn":7}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render } from '@testing-library/react';\r\nimport ProfilePictureUpload from '../ProfilePictureUpload.jsx';\r\n\r\nvi.mock('../../api/axios', () => ({\r\n  __esModule: true,\r\n  default: { post: vi.fn(), delete: vi.fn() },\r\n  setAuthToken: vi.fn(),\r\n}));\r\n\r\nvi.mock('@clerk/clerk-react', () => ({\r\n  __esModule: true,\r\n  ClerkProvider: ({ children }) => <>{children}</>,\r\n  useAuth: () => ({ getToken: vi.fn().mockResolvedValue('tok') }),\r\n}));\r\n\r\ndescribe('ProfilePictureUpload', () => {\r\n  test('renders without crashing', () => {\r\n    render(<ProfilePictureUpload />);\r\n  });\r\n});\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\__tests__\\ProtectedRoute.test.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'container' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":108,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":108,"endColumn":22,"suggestions":[{"messageId":"removeVar","data":{"varName":"container"},"fix":{"range":[2940,3357],"text":""},"desc":"Remove unused variable 'container'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen, waitFor } from '@testing-library/react';\r\nimport { MemoryRouter, Routes, Route } from 'react-router-dom';\r\nimport { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport ProtectedRoute from '../ProtectedRoute';\r\n\r\n// Mock components for testing\r\nconst MockProtectedContent = () => <div>Protected Content</div>;\r\nconst MockLoginPage = () => <div>Login Page</div>;\r\n\r\n// Mock Clerk authentication\r\nconst mockUseAuth = vi.fn();\r\n\r\nvi.mock('@clerk/clerk-react', () => ({\r\n  useAuth: () => mockUseAuth(),\r\n}));\r\n\r\ndescribe('ProtectedRoute Component', () => {\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n  });\r\n\r\n  it('shows loading spinner while authentication is loading', () => {\r\n    mockUseAuth.mockReturnValue({\r\n      isLoaded: false,\r\n      isSignedIn: false,\r\n    });\r\n\r\n    render(\r\n      <MemoryRouter initialEntries={['/protected']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/protected\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <MockProtectedContent />\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    // Use getAllByText since there are multiple \"Loading...\" texts (visible and sr-only)\r\n    const loadingElements = screen.getAllByText(/loading/i);\r\n    expect(loadingElements.length).toBeGreaterThan(0);\r\n  });\r\n\r\n  it('redirects to login when user is not authenticated', async () => {\r\n    mockUseAuth.mockReturnValue({\r\n      isLoaded: true,\r\n      isSignedIn: false,\r\n    });\r\n\r\n    render(\r\n      <MemoryRouter initialEntries={['/protected']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/protected\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <MockProtectedContent />\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"/login\" element={<MockLoginPage />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Login Page')).toBeInTheDocument();\r\n    });\r\n  });\r\n\r\n  it('renders protected content when user is authenticated', async () => {\r\n    mockUseAuth.mockReturnValue({\r\n      isLoaded: true,\r\n      isSignedIn: true,\r\n    });\r\n\r\n    render(\r\n      <MemoryRouter initialEntries={['/protected']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/protected\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <MockProtectedContent />\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"/login\" element={<MockLoginPage />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Protected Content')).toBeInTheDocument();\r\n    });\r\n  });\r\n\r\n  it('preserves the intended destination for post-login redirect', async () => {\r\n    mockUseAuth.mockReturnValue({\r\n      isLoaded: true,\r\n      isSignedIn: false,\r\n    });\r\n\r\n    const { container } = render(\r\n      <MemoryRouter initialEntries={['/profile']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/profile\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <div>Profile Page</div>\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"/login\" element={<MockLoginPage />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Login Page')).toBeInTheDocument();\r\n    });\r\n\r\n    // The Navigate component passes state with the 'from' location\r\n    // This would be picked up by the Login component in the actual app\r\n  });\r\n\r\n  it('handles multiple protected routes correctly', async () => {\r\n    mockUseAuth.mockReturnValue({\r\n      isLoaded: true,\r\n      isSignedIn: true,\r\n    });\r\n\r\n    // Test dashboard route\r\n    const { unmount } = render(\r\n      <MemoryRouter initialEntries={['/dashboard']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/dashboard\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <div>Dashboard Content</div>\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"/login\" element={<MockLoginPage />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Dashboard Content')).toBeInTheDocument();\r\n    });\r\n\r\n    unmount();\r\n\r\n    // Test profile route separately\r\n    render(\r\n      <MemoryRouter initialEntries={['/profile']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/profile\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <div>Profile Content</div>\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"/login\" element={<MockLoginPage />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Profile Content')).toBeInTheDocument();\r\n    });\r\n  });\r\n\r\n  it('redirects to login after logout when user navigates back', async () => {\r\n    // First, user is authenticated\r\n    mockUseAuth.mockReturnValue({\r\n      isLoaded: true,\r\n      isSignedIn: true,\r\n    });\r\n\r\n    const { rerender } = render(\r\n      <MemoryRouter initialEntries={['/profile']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/profile\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <div>Profile Content</div>\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"/login\" element={<MockLoginPage />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Profile Content')).toBeInTheDocument();\r\n    });\r\n\r\n    // User logs out (simulate by changing auth state)\r\n    mockUseAuth.mockReturnValue({\r\n      isLoaded: true,\r\n      isSignedIn: false,\r\n    });\r\n\r\n    // User hits back button (simulate by re-rendering with same route)\r\n    rerender(\r\n      <MemoryRouter initialEntries={['/profile']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/profile\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <div>Profile Content</div>\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"/login\" element={<MockLoginPage />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    // Should redirect to login, not show error\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Login Page')).toBeInTheDocument();\r\n    });\r\n  });\r\n\r\n  it('does not show error page when navigating to protected route while logged out', async () => {\r\n    mockUseAuth.mockReturnValue({\r\n      isLoaded: true,\r\n      isSignedIn: false,\r\n    });\r\n\r\n    render(\r\n      <MemoryRouter initialEntries={['/dashboard']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/dashboard\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <div>Dashboard Content</div>\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"/login\" element={<MockLoginPage />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Login Page')).toBeInTheDocument();\r\n    });\r\n\r\n    // Ensure no error messages are displayed\r\n    expect(screen.queryByText(/error/i)).not.toBeInTheDocument();\r\n    expect(screen.queryByText(/something went wrong/i)).not.toBeInTheDocument();\r\n  });\r\n\r\n  it('handles authentication state changes gracefully', async () => {\r\n    // Start with loading state\r\n    mockUseAuth.mockReturnValue({\r\n      isLoaded: false,\r\n      isSignedIn: false,\r\n    });\r\n\r\n    const { rerender } = render(\r\n      <MemoryRouter initialEntries={['/profile']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/profile\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <div>Profile Content</div>\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"/login\" element={<MockLoginPage />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    // Use getAllByText since there are multiple \"Loading...\" texts\r\n    const loadingElements = screen.getAllByText(/loading/i);\r\n    expect(loadingElements.length).toBeGreaterThan(0);\r\n\r\n    // Authentication loads and user is not signed in\r\n    mockUseAuth.mockReturnValue({\r\n      isLoaded: true,\r\n      isSignedIn: false,\r\n    });\r\n\r\n    rerender(\r\n      <MemoryRouter initialEntries={['/profile']}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/profile\"\r\n            element={\r\n              <ProtectedRoute>\r\n                <div>Profile Content</div>\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"/login\" element={<MockLoginPage />} />\r\n        </Routes>\r\n      </MemoryRouter>\r\n    );\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText('Login Page')).toBeInTheDocument();\r\n    });\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\advisors\\AdvisorBillingPanel.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchBillingData'. Either include it or remove the dependency array.","line":43,"column":8,"nodeType":"ArrayExpression","endLine":43,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [fetchBillingData, relationship]","fix":{"range":[1542,1556],"text":"[fetchBillingData, relationship]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":537,"column":33,"nodeType":"JSXOpeningElement","endLine":537,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":560,"column":33,"nodeType":"JSXOpeningElement","endLine":560,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":613,"column":33,"nodeType":"JSXOpeningElement","endLine":613,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":636,"column":33,"nodeType":"JSXOpeningElement","endLine":636,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":651,"column":33,"nodeType":"JSXOpeningElement","endLine":651,"endColumn":89}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst BILLING_TYPES = {\r\n    hourly: { label: \"Hourly Rate\", icon: \"ΓÅ▒∩╕Å\" },\r\n    package: { label: \"Package Deal\", icon: \"≡ƒôª\" },\r\n    retainer: { label: \"Monthly Retainer\", icon: \"≡ƒôà\" },\r\n};\r\n\r\nconst PAYMENT_STATUS = {\r\n    pending: { label: \"Pending\", color: \"bg-yellow-100 text-yellow-800\" },\r\n    completed: { label: \"Completed\", color: \"bg-green-100 text-green-800\" },\r\n    failed: { label: \"Failed\", color: \"bg-red-100 text-red-800\" },\r\n    refunded: { label: \"Refunded\", color: \"bg-gray-100 text-gray-800\" },\r\n};\r\n\r\nexport default function AdvisorBillingPanel({ relationship, isAdvisor }) {\r\n    const [activeTab, setActiveTab] = useState(\"payments\");\r\n    const [billingAgreement, setBillingAgreement] = useState(null);\r\n    const [payments, setPayments] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [showPaymentModal, setShowPaymentModal] = useState(false);\r\n    const [showInvoiceModal, setShowInvoiceModal] = useState(false);\r\n    const [invoices, setInvoices] = useState([]);\r\n\r\n    // Payment form state\r\n    const [paymentForm, setPaymentForm] = useState({\r\n        amount: \"\",\r\n        description: \"\",\r\n        sessionId: \"\",\r\n    });\r\n\r\n    // Invoice form state\r\n    const [invoiceForm, setInvoiceForm] = useState({\r\n        amount: \"\",\r\n        description: \"\",\r\n        dueDate: \"\",\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchBillingData();\r\n    }, [relationship]);\r\n\r\n    const fetchBillingData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            // Fetch billing agreement\r\n            const billingRes = await fetch(`/api/external-advisors/billing/${relationship._id}`, { headers });\r\n            if (billingRes.ok) {\r\n                const billingData = await billingRes.json();\r\n                setBillingAgreement(billingData.billing);\r\n            }\r\n\r\n            // Fetch payment history\r\n            const paymentsRes = await fetch(`/api/external-advisors/payments/${relationship._id}`, { headers });\r\n            if (paymentsRes.ok) {\r\n                const paymentsData = await paymentsRes.json();\r\n                setPayments(paymentsData.payments || []);\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to load billing data: \" + err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const [paymentSuccess, setPaymentSuccess] = useState(\"\");\r\n\r\n    const handleRecordPayment = async (e) => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n\r\n        if (!paymentForm.amount || parseFloat(paymentForm.amount) <= 0) {\r\n            setError(\"Please enter a valid amount\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n                ...(token && { Authorization: `Bearer ${token}` }),\r\n            };\r\n\r\n            const response = await fetch(\"/api/external-advisors/payments\", {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify({\r\n                    relationshipId: relationship._id,\r\n                    amount: parseFloat(paymentForm.amount),\r\n                    description: paymentForm.description || \"Payment\",\r\n                    sessionId: paymentForm.sessionId || undefined,\r\n                }),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                setShowPaymentModal(false);\r\n                setPaymentForm({ amount: \"\", description: \"\", sessionId: \"\" });\r\n                setPaymentSuccess(`Payment of $${paymentForm.amount} recorded successfully!`);\r\n                setTimeout(() => setPaymentSuccess(\"\"), 5000);\r\n                fetchBillingData();\r\n            } else {\r\n                setError(data.message || \"Failed to record payment\");\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to record payment: \" + err.message);\r\n        }\r\n    };\r\n\r\n    const [invoiceSuccess, setInvoiceSuccess] = useState(\"\");\r\n\r\n    const handleGenerateInvoice = async (e) => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n\r\n        if (!invoiceForm.amount || parseFloat(invoiceForm.amount) <= 0) {\r\n            setError(\"Please enter a valid amount\");\r\n            return;\r\n        }\r\n\r\n        // Generate a simple invoice locally (can be enhanced with backend later)\r\n        const newInvoice = {\r\n            _id: Date.now().toString(),\r\n            invoiceNumber: `INV-${Date.now().toString().slice(-6)}`,\r\n            amount: parseFloat(invoiceForm.amount),\r\n            description: invoiceForm.description || \"Advisory Services\",\r\n            dueDate: invoiceForm.dueDate || new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\r\n            createdAt: new Date().toISOString(),\r\n            status: \"pending\",\r\n            relationshipId: relationship._id,\r\n        };\r\n\r\n        setInvoices([newInvoice, ...invoices]);\r\n        setShowInvoiceModal(false);\r\n        setInvoiceForm({ amount: \"\", description: \"\", dueDate: \"\" });\r\n        setInvoiceSuccess(`Invoice #${newInvoice.invoiceNumber} generated successfully!`);\r\n        setTimeout(() => setInvoiceSuccess(\"\"), 5000);\r\n        setActiveTab(\"invoices\");\r\n    };\r\n\r\n    const formatCurrency = (amount) => {\r\n        return new Intl.NumberFormat(\"en-US\", {\r\n            style: \"currency\",\r\n            currency: \"USD\",\r\n        }).format(amount);\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        if (!dateString) return \"N/A\";\r\n        const date = new Date(dateString);\r\n        if (isNaN(date.getTime())) return \"N/A\";\r\n        return date.toLocaleDateString(\"en-US\", {\r\n            year: \"numeric\",\r\n            month: \"short\",\r\n            day: \"numeric\",\r\n        });\r\n    };\r\n\r\n    const calculateTotalPaid = () => {\r\n        return payments\r\n            .filter((p) => p.status === \"completed\")\r\n            .reduce((sum, p) => sum + p.amount, 0);\r\n    };\r\n\r\n    const calculatePendingPayments = () => {\r\n        return payments\r\n            .filter((p) => p.status === \"pending\")\r\n            .reduce((sum, p) => sum + p.amount, 0);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center py-12\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Determine party names with proper fallbacks\r\n    const advisorDisplayName = relationship.advisorName\r\n        || (relationship.advisorId?.firstName && relationship.advisorId?.lastName\r\n            ? `${relationship.advisorId.firstName} ${relationship.advisorId.lastName}`\r\n            : null)\r\n        || relationship.advisorEmail\r\n        || \"Advisor\";\r\n\r\n    const clientDisplayName = relationship.senderName\r\n        || (relationship.userId?.firstName && relationship.userId?.lastName\r\n            ? `${relationship.userId.firstName} ${relationship.userId.lastName}`\r\n            : null)\r\n        || relationship.senderEmail\r\n        || \"Client\";\r\n\r\n    const otherPartyName = isAdvisor ? clientDisplayName : advisorDisplayName;\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-xl shadow-sm border\">\r\n            {/* Header */}\r\n            <div className=\"border-b px-6 py-4\">\r\n                <h2 className=\"text-xl font-bold text-gray-900\">Billing & Payments</h2>\r\n                <p className=\"text-sm text-gray-500\">\r\n                    {isAdvisor ? `Client: ${otherPartyName}` : `Advisor: ${otherPartyName}`}\r\n                </p>\r\n            </div>\r\n\r\n            {error && (\r\n                <div className=\"mx-6 mt-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg\">\r\n                    {error}\r\n                    <button onClick={() => setError(\"\")} className=\"ml-2 text-red-500 hover:text-red-700\">Γ£ò</button>\r\n                </div>\r\n            )}\r\n\r\n            {paymentSuccess && (\r\n                <div className=\"mx-6 mt-4 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg\">\r\n                    Γ£à {paymentSuccess}\r\n                    <button onClick={() => setPaymentSuccess(\"\")} className=\"ml-2 text-green-500 hover:text-green-700\">Γ£ò</button>\r\n                </div>\r\n            )}\r\n\r\n            {/* Tabs */}\r\n            <div className=\"border-b px-6\">\r\n                <div className=\"flex space-x-6\">\r\n                    {[\"overview\", \"payments\", \"invoices\"].map((tab) => (\r\n                        <button\r\n                            key={tab}\r\n                            onClick={() => setActiveTab(tab)}\r\n                            className={`py-4 border-b-2 font-medium text-sm transition-colors ${activeTab === tab\r\n                                    ? \"border-indigo-500 text-indigo-600\"\r\n                                    : \"border-transparent text-gray-500 hover:text-gray-700\"\r\n                                }`}\r\n                        >\r\n                            {tab.charAt(0).toUpperCase() + tab.slice(1)}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"p-6\">\r\n                {/* Overview Tab */}\r\n                {activeTab === \"overview\" && (\r\n                    <div className=\"space-y-6\">\r\n                        {/* Billing Agreement Summary */}\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                            <div className=\"bg-indigo-50 rounded-lg p-4\">\r\n                                <p className=\"text-sm text-indigo-600 font-medium\">Billing Type</p>\r\n                                <p className=\"text-2xl font-bold text-indigo-900 mt-1\">\r\n                                    {billingAgreement?.billingType\r\n                                        ? BILLING_TYPES[billingAgreement.billingType]?.label || \"Hourly Rate\"\r\n                                        : \"Hourly Rate\"}\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"bg-green-50 rounded-lg p-4\">\r\n                                <p className=\"text-sm text-green-600 font-medium\">Total Paid</p>\r\n                                <p className=\"text-2xl font-bold text-green-900 mt-1\">\r\n                                    {formatCurrency(calculateTotalPaid())}\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"bg-yellow-50 rounded-lg p-4\">\r\n                                <p className=\"text-sm text-yellow-600 font-medium\">Pending</p>\r\n                                <p className=\"text-2xl font-bold text-yellow-900 mt-1\">\r\n                                    {formatCurrency(calculatePendingPayments())}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Rate Information */}\r\n                        {billingAgreement && (\r\n                            <div className=\"bg-gray-50 rounded-lg p-6\">\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Rate Details</h3>\r\n                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                    {billingAgreement.billingType === \"hourly\" && (\r\n                                        <>\r\n                                            <div>\r\n                                                <span className=\"text-gray-600\">Hourly Rate:</span>\r\n                                                <span className=\"ml-2 font-medium\">\r\n                                                    {formatCurrency(billingAgreement.hourlyRate)}/hr\r\n                                                </span>\r\n                                            </div>\r\n                                            <div>\r\n                                                <span className=\"text-gray-600\">Minimum Hours:</span>\r\n                                                <span className=\"ml-2 font-medium\">\r\n                                                    {billingAgreement.minimumHours || 1} hour(s)\r\n                                                </span>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n\r\n                                    {billingAgreement.billingType === \"package\" && (\r\n                                        <>\r\n                                            <div>\r\n                                                <span className=\"text-gray-600\">Package Price:</span>\r\n                                                <span className=\"ml-2 font-medium\">\r\n                                                    {formatCurrency(billingAgreement.packagePrice)}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div>\r\n                                                <span className=\"text-gray-600\">Included Sessions:</span>\r\n                                                <span className=\"ml-2 font-medium\">\r\n                                                    {billingAgreement.packageSessions || \"Unlimited\"}\r\n                                                </span>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n\r\n                                    {billingAgreement.billingType === \"retainer\" && (\r\n                                        <>\r\n                                            <div>\r\n                                                <span className=\"text-gray-600\">Monthly Fee:</span>\r\n                                                <span className=\"ml-2 font-medium\">\r\n                                                    {formatCurrency(billingAgreement.retainerFee)}/month\r\n                                                </span>\r\n                                            </div>\r\n                                            <div>\r\n                                                <span className=\"text-gray-600\">Included Hours:</span>\r\n                                                <span className=\"ml-2 font-medium\">\r\n                                                    {billingAgreement.retainerHours || \"Unlimited\"} hrs/month\r\n                                                </span>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n\r\n                                    <div>\r\n                                        <span className=\"text-gray-600\">Payment Method:</span>\r\n                                        <span className=\"ml-2 font-medium capitalize\">\r\n                                            {typeof billingAgreement.paymentMethod === \"object\"\r\n                                                ? `${billingAgreement.paymentMethod.brand || \"\"} ****${billingAgreement.paymentMethod.last4 || \"\"}`.trim() || \"Card on file\"\r\n                                                : billingAgreement.paymentMethod || \"Not specified\"}\r\n                                        </span>\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <span className=\"text-gray-600\">Status:</span>\r\n                                        <span\r\n                                            className={`ml-2 px-2 py-1 rounded text-xs font-medium ${billingAgreement.isActive\r\n                                                    ? \"bg-green-100 text-green-800\"\r\n                                                    : \"bg-gray-100 text-gray-800\"\r\n                                                }`}\r\n                                        >\r\n                                            {billingAgreement.isActive ? \"Active\" : \"Inactive\"}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Quick Actions */}\r\n                        <div className=\"flex flex-wrap gap-3\">\r\n                            <button\r\n                                onClick={() => { setActiveTab(\"payments\"); setShowPaymentModal(true); }}\r\n                                className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n                            >\r\n                                ≡ƒÆ╡ Record Payment\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setShowInvoiceModal(true)}\r\n                                className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\"\r\n                            >\r\n                                ≡ƒôä Generate Invoice\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Payments Tab */}\r\n                {activeTab === \"payments\" && (\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">Payment History</h3>\r\n                            <button\r\n                                onClick={() => setShowPaymentModal(true)}\r\n                                className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm\"\r\n                            >\r\n                                + Record Payment\r\n                            </button>\r\n                        </div>\r\n\r\n                        {payments.length === 0 ? (\r\n                            <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\r\n                                <p className=\"text-gray-500 text-4xl mb-3\">≡ƒÆ╡</p>\r\n                                <p className=\"text-gray-600\">No payments recorded yet</p>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"overflow-x-auto\">\r\n                                <table className=\"w-full\">\r\n                                    <thead>\r\n                                        <tr className=\"text-left text-sm text-gray-500 border-b\">\r\n                                            <th className=\"pb-3 font-medium\">Date</th>\r\n                                            <th className=\"pb-3 font-medium\">Description</th>\r\n                                            <th className=\"pb-3 font-medium\">Amount</th>\r\n                                            <th className=\"pb-3 font-medium\">Status</th>\r\n                                            <th className=\"pb-3 font-medium\">Receipt</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {payments.map((payment) => (\r\n                                            <tr key={payment._id} className=\"border-b last:border-0\">\r\n                                                <td className=\"py-4 text-gray-900\">\r\n                                                    {formatDate(payment.paymentDate || payment.createdAt)}\r\n                                                </td>\r\n                                                <td className=\"py-4 text-gray-600\">\r\n                                                    {payment.description || \"Payment\"}\r\n                                                </td>\r\n                                                <td className=\"py-4 font-medium text-gray-900\">\r\n                                                    {formatCurrency(payment.amount)}\r\n                                                </td>\r\n                                                <td className=\"py-4\">\r\n                                                    <span\r\n                                                        className={`px-2 py-1 rounded text-xs font-medium ${PAYMENT_STATUS[payment.status]?.color || \"bg-gray-100\"\r\n                                                            }`}\r\n                                                    >\r\n                                                        {PAYMENT_STATUS[payment.status]?.label || payment.status}\r\n                                                    </span>\r\n                                                </td>\r\n                                                <td className=\"py-4\">\r\n                                                    {payment.receiptUrl ? (\r\n                                                        <a\r\n                                                            href={payment.receiptUrl}\r\n                                                            target=\"_blank\"\r\n                                                            rel=\"noopener noreferrer\"\r\n                                                            className=\"text-indigo-600 hover:text-indigo-800 text-sm\"\r\n                                                        >\r\n                                                            View\r\n                                                        </a>\r\n                                                    ) : (\r\n                                                        <span className=\"text-gray-400 text-sm\">ΓÇö</span>\r\n                                                    )}\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Invoices Tab */}\r\n                {activeTab === \"invoices\" && (\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">Invoices</h3>\r\n                            <button\r\n                                onClick={() => setShowInvoiceModal(true)}\r\n                                className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm\"\r\n                            >\r\n                                + Generate Invoice\r\n                            </button>\r\n                        </div>\r\n\r\n                        {invoiceSuccess && (\r\n                            <div className=\"p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg\">\r\n                                Γ£à {invoiceSuccess}\r\n                                <button onClick={() => setInvoiceSuccess(\"\")} className=\"ml-2 text-green-500 hover:text-green-700\">Γ£ò</button>\r\n                            </div>\r\n                        )}\r\n\r\n                        {invoices.length === 0 ? (\r\n                            <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\r\n                                <p className=\"text-gray-500 text-4xl mb-3\">≡ƒôï</p>\r\n                                <p className=\"text-gray-600\">No invoices generated yet</p>\r\n                                <p className=\"text-sm text-gray-400 mt-2\">\r\n                                    Click \"Generate Invoice\" to create your first invoice\r\n                                </p>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"overflow-x-auto\">\r\n                                <table className=\"w-full\">\r\n                                    <thead>\r\n                                        <tr className=\"text-left text-sm text-gray-500 border-b\">\r\n                                            <th className=\"pb-3 font-medium\">Invoice #</th>\r\n                                            <th className=\"pb-3 font-medium\">Description</th>\r\n                                            <th className=\"pb-3 font-medium\">Amount</th>\r\n                                            <th className=\"pb-3 font-medium\">Due Date</th>\r\n                                            <th className=\"pb-3 font-medium\">Status</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {invoices.map((invoice) => (\r\n                                            <tr key={invoice._id} className=\"border-b last:border-0\">\r\n                                                <td className=\"py-4 text-gray-900 font-medium\">\r\n                                                    {invoice.invoiceNumber}\r\n                                                </td>\r\n                                                <td className=\"py-4 text-gray-600\">\r\n                                                    {invoice.description || \"Advisory Services\"}\r\n                                                </td>\r\n                                                <td className=\"py-4 font-medium text-gray-900\">\r\n                                                    {formatCurrency(invoice.amount)}\r\n                                                </td>\r\n                                                <td className=\"py-4 text-gray-600\">\r\n                                                    {formatDate(invoice.dueDate)}\r\n                                                </td>\r\n                                                <td className=\"py-4\">\r\n                                                    <span className={`px-2 py-1 rounded text-xs font-medium ${invoice.status === \"paid\"\r\n                                                            ? \"bg-green-100 text-green-800\"\r\n                                                            : \"bg-yellow-100 text-yellow-800\"\r\n                                                        }`}>\r\n                                                        {invoice.status === \"paid\" ? \"Paid\" : \"Pending\"}\r\n                                                    </span>\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Payment Modal */}\r\n            {showPaymentModal && (\r\n                <div\r\n                    className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n                    style={{ backgroundColor: \"rgba(0,0,0,0.48)\" }}\r\n                >\r\n                    <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6\">\r\n                        <div className=\"flex justify-between items-center mb-6\">\r\n                            <h3 className=\"text-lg font-bold text-gray-900\">Record Payment</h3>\r\n                            <button\r\n                                onClick={() => setShowPaymentModal(false)}\r\n                                className=\"text-gray-400 hover:text-gray-600\"\r\n                            >\r\n                                Γ£ò\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleRecordPayment} className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Amount <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <div className=\"relative\">\r\n                                    <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\">\r\n                                        $\r\n                                    </span>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        step=\"0.01\"\r\n                                        min=\"0\"\r\n                                        value={paymentForm.amount}\r\n                                        onChange={(e) =>\r\n                                            setPaymentForm({ ...paymentForm, amount: e.target.value })\r\n                                        }\r\n                                        placeholder=\"0.00\"\r\n                                        required\r\n                                        className=\"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Description\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={paymentForm.description}\r\n                                    onChange={(e) =>\r\n                                        setPaymentForm({ ...paymentForm, description: e.target.value })\r\n                                    }\r\n                                    placeholder=\"e.g., Session payment, Monthly retainer...\"\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-end space-x-3 pt-4\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowPaymentModal(false)}\r\n                                    className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n                                >\r\n                                    Record Payment\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Invoice Modal */}\r\n            {showInvoiceModal && (\r\n                <div\r\n                    className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n                    style={{ backgroundColor: \"rgba(0,0,0,0.48)\" }}\r\n                >\r\n                    <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6\">\r\n                        <div className=\"flex justify-between items-center mb-6\">\r\n                            <h3 className=\"text-lg font-bold text-gray-900\">Generate Invoice</h3>\r\n                            <button\r\n                                onClick={() => setShowInvoiceModal(false)}\r\n                                className=\"text-gray-400 hover:text-gray-600\"\r\n                            >\r\n                                Γ£ò\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleGenerateInvoice} className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Amount <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <div className=\"relative\">\r\n                                    <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\">\r\n                                        $\r\n                                    </span>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        step=\"0.01\"\r\n                                        min=\"0\"\r\n                                        value={invoiceForm.amount}\r\n                                        onChange={(e) =>\r\n                                            setInvoiceForm({ ...invoiceForm, amount: e.target.value })\r\n                                        }\r\n                                        placeholder=\"0.00\"\r\n                                        required\r\n                                        className=\"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Description\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={invoiceForm.description}\r\n                                    onChange={(e) =>\r\n                                        setInvoiceForm({ ...invoiceForm, description: e.target.value })\r\n                                    }\r\n                                    placeholder=\"e.g., Career coaching session, Resume review...\"\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Due Date\r\n                                </label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={invoiceForm.dueDate}\r\n                                    onChange={(e) =>\r\n                                        setInvoiceForm({ ...invoiceForm, dueDate: e.target.value })\r\n                                    }\r\n                                    min={new Date().toISOString().split('T')[0]}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-end space-x-3 pt-4\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowInvoiceModal(false)}\r\n                                    className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n                                >\r\n                                    Generate Invoice\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nAdvisorBillingPanel.propTypes = {\r\n    relationship: PropTypes.object.isRequired,\r\n    isAdvisor: PropTypes.bool,\r\n};\r\n\r\nAdvisorBillingPanel.defaultProps = {\r\n    isAdvisor: false,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\advisors\\AdvisorDashboard.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'selectedAdvisor' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":30,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":30,"endColumn":27,"suggestions":[{"messageId":"removeVar","data":{"varName":"selectedAdvisor"},"fix":{"range":[1319,1334],"text":""},"desc":"Remove unused variable 'selectedAdvisor'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'setSelectedAdvisor' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":30,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":30,"endColumn":47,"suggestions":[{"messageId":"removeVar","data":{"varName":"setSelectedAdvisor"},"fix":{"range":[1334,1354],"text":""},"desc":"Remove unused variable 'setSelectedAdvisor'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'selectedClient' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":31,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":31,"endColumn":26,"suggestions":[{"messageId":"removeVar","data":{"varName":"selectedClient"},"fix":{"range":[1386,1400],"text":""},"desc":"Remove unused variable 'selectedClient'."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport InviteAdvisorModal from \"./InviteAdvisorModal\";\r\nimport AdvisorSessionManagement from \"./AdvisorSessionManagement\";\r\nimport AdvisorEvaluationForm from \"./AdvisorEvaluationForm\";\r\nimport AdvisorMessaging from \"./AdvisorMessaging\";\r\n\r\nconst ADVISOR_TYPE_LABELS = {\r\n    career_coach: \"Career Coach\",\r\n    executive_coach: \"Executive Coach\",\r\n    resume_writer: \"Resume Writer\",\r\n    interview_coach: \"Interview Coach\",\r\n    salary_negotiator: \"Salary Negotiator\",\r\n    industry_expert: \"Industry Expert\",\r\n    linkedin_specialist: \"LinkedIn Specialist\",\r\n    recruiter_advisor: \"Recruiter Advisor\",\r\n    other: \"Other\",\r\n};\r\n\r\nexport default function AdvisorDashboard() {\r\n    const [advisors, setAdvisors] = useState([]);\r\n    const [clients, setClients] = useState([]);\r\n    const [recommendations, setRecommendations] = useState([]);\r\n    const [sessions, setSessions] = useState([]);\r\n    const [pendingInvitations, setPendingInvitations] = useState({ sent: [], received: [] });\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [activeTab, setActiveTab] = useState(\"advisors\");\r\n    const [isInviteModalOpen, setIsInviteModalOpen] = useState(false);\r\n    const [selectedAdvisor, setSelectedAdvisor] = useState(null);\r\n    const [selectedClient, setSelectedClient] = useState(null);\r\n    const [showMessaging, setShowMessaging] = useState(null);\r\n    const [showEvaluation, setShowEvaluation] = useState(null);\r\n    const [showSessionManager, setShowSessionManager] = useState(null);\r\n    const [userRole, setUserRole] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetchDashboardData();\r\n    }, []);\r\n\r\n    const fetchDashboardData = async () => {\r\n        setLoading(true);\r\n        setError(\"\");\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            // Fetch advisors (current user as job seeker)\r\n            const advisorsRes = await fetch(\"/api/external-advisors/my-advisors\", { headers });\r\n            let advisorData = { data: [] };\r\n            if (advisorsRes.ok) {\r\n                advisorData = await advisorsRes.json();\r\n            }\r\n\r\n            // Fetch clients (current user as advisor)\r\n            const clientsRes = await fetch(\"/api/external-advisors/my-clients\", { headers });\r\n            let clientData = { data: [] };\r\n            if (clientsRes.ok) {\r\n                clientData = await clientsRes.json();\r\n            }\r\n\r\n            // Fetch recommendations\r\n            const recommendationsRes = await fetch(\"/api/external-advisors/recommendations\", { headers });\r\n            let recData = { data: [] };\r\n            if (recommendationsRes.ok) {\r\n                recData = await recommendationsRes.json();\r\n            }\r\n\r\n            // Fetch sessions\r\n            const sessionsRes = await fetch(\"/api/external-advisors/sessions?upcoming=true\", { headers });\r\n            let sessionData = { data: [] };\r\n            if (sessionsRes.ok) {\r\n                sessionData = await sessionsRes.json();\r\n            }\r\n\r\n            // Fetch pending invitations\r\n            const pendingRes = await fetch(\"/api/external-advisors/pending\", { headers });\r\n            let pendingData = { data: { sent: [], received: [] } };\r\n            if (pendingRes.ok) {\r\n                pendingData = await pendingRes.json();\r\n            }\r\n\r\n            setAdvisors(Array.isArray(advisorData.data) ? advisorData.data : []);\r\n            setClients(Array.isArray(clientData.data) ? clientData.data : []);\r\n            setRecommendations(Array.isArray(recData.data) ? recData.data : []);\r\n            setSessions(Array.isArray(sessionData.data) ? sessionData.data : []);\r\n            setPendingInvitations(pendingData.data || { sent: [], received: [] });\r\n\r\n            // Determine user role\r\n            const hasAdvisors = advisorData.data?.length > 0 || pendingData.data?.sent?.length > 0;\r\n            const hasClients = clientData.data?.length > 0 || pendingData.data?.received?.length > 0;\r\n\r\n            if (hasAdvisors && hasClients) {\r\n                setUserRole(\"both\");\r\n            } else if (hasClients) {\r\n                setUserRole(\"advisor\");\r\n                setActiveTab(\"clients\");\r\n            } else {\r\n                setUserRole(\"seeker\");\r\n            }\r\n\r\n            // Auto-switch to pending tab if there are received invitations\r\n            if (pendingData.data?.received?.length > 0) {\r\n                setActiveTab(\"pending\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Dashboard fetch error:\", err);\r\n            setError(\"Failed to load advisor dashboard: \" + err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAcceptInvitation = async (relationshipId) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            const response = await fetch(`/api/external-advisors/accept/${relationshipId}`, {\r\n                method: \"POST\",\r\n                headers,\r\n            });\r\n\r\n            if (response.ok) {\r\n                fetchDashboardData();\r\n            } else {\r\n                const data = await response.json();\r\n                setError(data.message || \"Failed to accept invitation\");\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to accept invitation: \" + err.message);\r\n        }\r\n    };\r\n\r\n    const handleRejectInvitation = async (relationshipId) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            const response = await fetch(`/api/external-advisors/reject/${relationshipId}`, {\r\n                method: \"POST\",\r\n                headers,\r\n            });\r\n\r\n            if (response.ok) {\r\n                fetchDashboardData();\r\n            } else {\r\n                const data = await response.json();\r\n                setError(data.message || \"Failed to reject invitation\");\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to reject invitation: \" + err.message);\r\n        }\r\n    };\r\n\r\n    const handleCancelRelationship = async (relationshipId) => {\r\n        if (!window.confirm(\"Are you sure you want to end this advisor relationship?\")) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            const response = await fetch(`/api/external-advisors/cancel/${relationshipId}`, {\r\n                method: \"POST\",\r\n                headers,\r\n            });\r\n\r\n            if (response.ok) {\r\n                fetchDashboardData();\r\n            } else {\r\n                const data = await response.json();\r\n                setError(data.message || \"Failed to end relationship\");\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to end relationship: \" + err.message);\r\n        }\r\n    };\r\n\r\n    const handleUpdateRecommendation = async (recommendationId, status, progressNotes) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n                ...(token && { Authorization: `Bearer ${token}` }),\r\n            };\r\n\r\n            const response = await fetch(`/api/external-advisors/recommendations/${recommendationId}`, {\r\n                method: \"PUT\",\r\n                headers,\r\n                body: JSON.stringify({ status, progressNotes }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                fetchDashboardData();\r\n            } else {\r\n                const data = await response.json();\r\n                setError(data.message || \"Failed to update recommendation\");\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to update recommendation: \" + err.message);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-64\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderAdvisorCard = (advisor, isPending = false) => (\r\n        <div\r\n            key={advisor._id}\r\n            className=\"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow\"\r\n        >\r\n            <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-14 h-14 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xl font-semibold\">\r\n                        {advisor.advisorId?.firstName?.[0] || advisor.advisorEmail?.[0]?.toUpperCase() || \"A\"}\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-semibold text-gray-900 text-lg\">\r\n                            {advisor.advisorId\r\n                                ? `${advisor.advisorId.firstName} ${advisor.advisorId.lastName}`\r\n                                : advisor.advisorEmail}\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-500\">\r\n                            {ADVISOR_TYPE_LABELS[advisor.advisorType] || advisor.advisorType}\r\n                        </p>\r\n                        <span className={`inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium ${advisor.status === \"accepted\"\r\n                                ? \"bg-green-100 text-green-700\"\r\n                                : advisor.status === \"pending\"\r\n                                    ? \"bg-yellow-100 text-yellow-700\"\r\n                                    : \"bg-gray-100 text-gray-700\"\r\n                            }`}>\r\n                            {advisor.status.charAt(0).toUpperCase() + advisor.status.slice(1)}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                {!isPending && advisor.status === \"accepted\" && (\r\n                    <div className=\"flex space-x-2\">\r\n                        <button\r\n                            onClick={() => setShowMessaging(advisor)}\r\n                            className=\"p-2 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors\"\r\n                            title=\"Message\"\r\n                        >\r\n                            ≡ƒÆ¼\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setShowSessionManager(advisor)}\r\n                            className=\"p-2 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors\"\r\n                            title=\"Schedule Session\"\r\n                        >\r\n                            ≡ƒôà\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setShowEvaluation(advisor)}\r\n                            className=\"p-2 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors\"\r\n                            title=\"Evaluate\"\r\n                        >\r\n                            Γ¡É\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {advisor.focusAreas?.length > 0 && (\r\n                <div className=\"mt-4\">\r\n                    <p className=\"text-sm text-gray-600 mb-2\">Focus Areas:</p>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        {advisor.focusAreas.slice(0, 4).map((area) => (\r\n                            <span\r\n                                key={area}\r\n                                className=\"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full\"\r\n                            >\r\n                                {area.replace(/_/g, \" \")}\r\n                            </span>\r\n                        ))}\r\n                        {advisor.focusAreas.length > 4 && (\r\n                            <span className=\"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full\">\r\n                                +{advisor.focusAreas.length - 4} more\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {advisor.status === \"accepted\" && (\r\n                <div className=\"mt-4 pt-4 border-t border-gray-100 flex justify-between items-center\">\r\n                    <div className=\"text-sm text-gray-500\">\r\n                        Connected since {new Date(advisor.acceptedAt).toLocaleDateString()}\r\n                    </div>\r\n                    <button\r\n                        onClick={() => handleCancelRelationship(advisor._id)}\r\n                        className=\"text-sm text-red-600 hover:text-red-700\"\r\n                    >\r\n                        End Relationship\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const renderClientCard = (client) => (\r\n        <div\r\n            key={client._id}\r\n            className=\"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow\"\r\n        >\r\n            <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-14 h-14 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center text-white text-xl font-semibold\">\r\n                        {client.userId?.firstName?.[0] || \"C\"}\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-semibold text-gray-900 text-lg\">\r\n                            {client.userId\r\n                                ? `${client.userId.firstName} ${client.userId.lastName}`\r\n                                : \"Client\"}\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-500\">{client.userId?.email}</p>\r\n                        <span className={`inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium ${client.status === \"accepted\"\r\n                                ? \"bg-green-100 text-green-700\"\r\n                                : \"bg-yellow-100 text-yellow-700\"\r\n                            }`}>\r\n                            {client.status.charAt(0).toUpperCase() + client.status.slice(1)}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                {client.status === \"accepted\" && (\r\n                    <div className=\"flex space-x-2\">\r\n                        <button\r\n                            onClick={() => setShowMessaging(client)}\r\n                            className=\"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors\"\r\n                            title=\"Message\"\r\n                        >\r\n                            ≡ƒÆ¼\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setShowSessionManager(client)}\r\n                            className=\"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors\"\r\n                            title=\"Schedule Session\"\r\n                        >\r\n                            ≡ƒôà\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setSelectedClient(client)}\r\n                            className=\"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors\"\r\n                            title=\"View Profile\"\r\n                        >\r\n                            ≡ƒæñ\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {client.focusAreas?.length > 0 && (\r\n                <div className=\"mt-4\">\r\n                    <p className=\"text-sm text-gray-600 mb-2\">Focus Areas:</p>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        {client.focusAreas.map((area) => (\r\n                            <span\r\n                                key={area}\r\n                                className=\"px-2 py-1 bg-green-50 text-green-700 text-xs rounded-full\"\r\n                            >\r\n                                {area.replace(/_/g, \" \")}\r\n                            </span>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {client.contractTerms?.completedSessions > 0 && (\r\n                <div className=\"mt-4 pt-4 border-t border-gray-100\">\r\n                    <div className=\"text-sm text-gray-600\">\r\n                        <span className=\"font-medium\">{client.contractTerms.completedSessions}</span> sessions completed\r\n                        {client.contractTerms.totalSessions && (\r\n                            <span> of {client.contractTerms.totalSessions}</span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const renderPendingInvitation = (invitation, type) => (\r\n        <div\r\n            key={invitation._id}\r\n            className=\"bg-white rounded-xl border-2 border-yellow-200 p-6\"\r\n        >\r\n            <div className=\"flex items-center space-x-2 text-yellow-600 mb-4\">\r\n                <span className=\"text-2xl\">≡ƒô¿</span>\r\n                <span className=\"font-medium\">\r\n                    {type === \"received\" ? \"Invitation to Advise\" : \"Pending Invitation\"}\r\n                </span>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-4 mb-4\">\r\n                <div className=\"w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-700 text-lg font-semibold\">\r\n                    {type === \"received\"\r\n                        ? invitation.userId?.firstName?.[0] || \"U\"\r\n                        : invitation.advisorEmail?.[0]?.toUpperCase() || \"A\"}\r\n                </div>\r\n                <div>\r\n                    <h3 className=\"font-semibold text-gray-900\">\r\n                        {type === \"received\"\r\n                            ? `${invitation.userId?.firstName} ${invitation.userId?.lastName}`\r\n                            : invitation.advisorEmail}\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                        {ADVISOR_TYPE_LABELS[invitation.advisorType]}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {invitation.invitationMessage && (\r\n                <div className=\"bg-gray-50 border-l-4 border-yellow-400 p-3 mb-4\">\r\n                    <p className=\"text-sm text-gray-700 italic\">\"{invitation.invitationMessage}\"</p>\r\n                </div>\r\n            )}\r\n\r\n            {invitation.focusAreas?.length > 0 && (\r\n                <div className=\"mb-4\">\r\n                    <p className=\"text-sm text-gray-600 mb-2\">Focus Areas:</p>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        {invitation.focusAreas.map((area) => (\r\n                            <span\r\n                                key={area}\r\n                                className=\"px-2 py-1 bg-yellow-50 text-yellow-700 text-xs rounded-full\"\r\n                            >\r\n                                {area.replace(/_/g, \" \")}\r\n                            </span>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {type === \"received\" && (\r\n                <div className=\"flex space-x-3\">\r\n                    <button\r\n                        onClick={() => handleAcceptInvitation(invitation._id)}\r\n                        className=\"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n                    >\r\n                        Γ£ô Accept\r\n                    </button>\r\n                    <button\r\n                        onClick={() => handleRejectInvitation(invitation._id)}\r\n                        className=\"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\"\r\n                    >\r\n                        Γ£ù Decline\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            {type === \"sent\" && (\r\n                <div className=\"text-sm text-gray-500\">\r\n                    Sent {new Date(invitation.createdAt).toLocaleDateString()}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const renderRecommendations = () => (\r\n        <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Recommendations from Advisors</h3>\r\n                <div className=\"text-sm text-gray-500\">\r\n                    {recommendations.filter(r => r.status === \"completed\").length} / {recommendations.length} completed\r\n                </div>\r\n            </div>\r\n\r\n            {recommendations.length === 0 ? (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                    No recommendations yet. Your advisors will add recommendations after your sessions.\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-4\">\r\n                    {recommendations.map((rec) => (\r\n                        <div\r\n                            key={rec._id}\r\n                            className={`bg-white rounded-xl border p-5 ${rec.status === \"completed\"\r\n                                    ? \"border-green-200\"\r\n                                    : rec.priority === \"critical\"\r\n                                        ? \"border-red-200\"\r\n                                        : rec.priority === \"high\"\r\n                                            ? \"border-orange-200\"\r\n                                            : \"border-gray-200\"\r\n                                }`}\r\n                        >\r\n                            <div className=\"flex items-start justify-between\">\r\n                                <div>\r\n                                    <div className=\"flex items-center space-x-2\">\r\n                                        <h4 className=\"font-semibold text-gray-900\">{rec.title}</h4>\r\n                                        <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${rec.priority === \"critical\"\r\n                                                ? \"bg-red-100 text-red-700\"\r\n                                                : rec.priority === \"high\"\r\n                                                    ? \"bg-orange-100 text-orange-700\"\r\n                                                    : rec.priority === \"medium\"\r\n                                                        ? \"bg-yellow-100 text-yellow-700\"\r\n                                                        : \"bg-gray-100 text-gray-700\"\r\n                                            }`}>\r\n                                            {rec.priority}\r\n                                        </span>\r\n                                    </div>\r\n                                    <p className=\"text-sm text-gray-600 mt-1\">{rec.description}</p>\r\n                                    {rec.advisorId && (\r\n                                        <p className=\"text-xs text-gray-400 mt-2\">\r\n                                            From: {rec.advisorId.firstName} {rec.advisorId.lastName}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                                <select\r\n                                    value={rec.status}\r\n                                    onChange={(e) => handleUpdateRecommendation(rec._id, e.target.value)}\r\n                                    className={`px-3 py-1 rounded-lg text-sm border ${rec.status === \"completed\"\r\n                                            ? \"bg-green-50 border-green-200 text-green-700\"\r\n                                            : rec.status === \"in_progress\"\r\n                                                ? \"bg-blue-50 border-blue-200 text-blue-700\"\r\n                                                : \"bg-gray-50 border-gray-200 text-gray-700\"\r\n                                        }`}\r\n                                >\r\n                                    <option value=\"pending\">Pending</option>\r\n                                    <option value=\"in_progress\">In Progress</option>\r\n                                    <option value=\"completed\">Completed</option>\r\n                                    <option value=\"dismissed\">Dismissed</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            {rec.targetDate && (\r\n                                <div className=\"mt-3 text-sm text-gray-500\">\r\n                                    Target: {new Date(rec.targetDate).toLocaleDateString()}\r\n                                </div>\r\n                            )}\r\n\r\n                            {rec.resources?.length > 0 && (\r\n                                <div className=\"mt-3\">\r\n                                    <p className=\"text-sm text-gray-600 mb-1\">Resources:</p>\r\n                                    <div className=\"flex flex-wrap gap-2\">\r\n                                        {rec.resources.map((resource, idx) => (\r\n                                            <a\r\n                                                key={idx}\r\n                                                href={resource.url}\r\n                                                target=\"_blank\"\r\n                                                rel=\"noopener noreferrer\"\r\n                                                className=\"text-sm text-indigo-600 hover:underline\"\r\n                                            >\r\n                                                ≡ƒôÄ {resource.title}\r\n                                            </a>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const renderUpcomingSessions = () => (\r\n        <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Upcoming Sessions</h3>\r\n\r\n            {sessions.length === 0 ? (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                    No upcoming sessions scheduled.\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-3\">\r\n                    {sessions.slice(0, 5).map((session) => (\r\n                        <div\r\n                            key={session._id}\r\n                            className=\"bg-white rounded-lg border border-gray-200 p-4 flex items-center justify-between\"\r\n                        >\r\n                            <div className=\"flex items-center space-x-4\">\r\n                                <div className=\"w-12 h-12 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 text-lg\">\r\n                                    ≡ƒôà\r\n                                </div>\r\n                                <div>\r\n                                    <h4 className=\"font-medium text-gray-900\">{session.title}</h4>\r\n                                    <p className=\"text-sm text-gray-500\">\r\n                                        {new Date(session.scheduledAt).toLocaleDateString()} at{\" \"}\r\n                                        {new Date(session.scheduledAt).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <span className={`px-2 py-1 rounded-full text-xs font-medium ${session.status === \"confirmed\"\r\n                                        ? \"bg-green-100 text-green-700\"\r\n                                        : \"bg-yellow-100 text-yellow-700\"\r\n                                    }`}>\r\n                                    {session.status}\r\n                                </span>\r\n                                {session.meetingLink && (\r\n                                    <a\r\n                                        href={session.meetingLink}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        className=\"px-3 py-1 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700\"\r\n                                    >\r\n                                        Join\r\n                                    </a>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const pendingReceivedCount = pendingInvitations.received?.length || 0;\r\n\r\n    return (\r\n        <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900\">Career Advisors</h1>\r\n                    <p className=\"text-gray-600 mt-1\">\r\n                        Connect with external career coaches and advisors for personalized guidance\r\n                    </p>\r\n                </div>\r\n                <button\r\n                    onClick={() => setIsInviteModalOpen(true)}\r\n                    className=\"px-5 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center space-x-2\"\r\n                >\r\n                    <span>+</span>\r\n                    <span>Invite Advisor</span>\r\n                </button>\r\n            </div>\r\n\r\n            {error && (\r\n                <div className=\"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg\">\r\n                    {error}\r\n                    <button onClick={() => setError(\"\")} className=\"ml-2 font-bold\">├ù</button>\r\n                </div>\r\n            )}\r\n\r\n            {/* Tabs */}\r\n            <div className=\"border-b border-gray-200 mb-6\">\r\n                <nav className=\"flex space-x-8\">\r\n                    <button\r\n                        onClick={() => setActiveTab(\"advisors\")}\r\n                        className={`pb-4 px-1 border-b-2 font-medium text-sm ${activeTab === \"advisors\"\r\n                                ? \"border-indigo-500 text-indigo-600\"\r\n                                : \"border-transparent text-gray-500 hover:text-gray-700\"\r\n                            }`}\r\n                    >\r\n                        My Advisors ({advisors.filter(a => a.status === \"accepted\").length})\r\n                    </button>\r\n                    {(userRole === \"advisor\" || userRole === \"both\") && (\r\n                        <button\r\n                            onClick={() => setActiveTab(\"clients\")}\r\n                            className={`pb-4 px-1 border-b-2 font-medium text-sm ${activeTab === \"clients\"\r\n                                    ? \"border-indigo-500 text-indigo-600\"\r\n                                    : \"border-transparent text-gray-500 hover:text-gray-700\"\r\n                                }`}\r\n                        >\r\n                            My Clients ({clients.filter(c => c.status === \"accepted\").length})\r\n                        </button>\r\n                    )}\r\n                    <button\r\n                        onClick={() => setActiveTab(\"pending\")}\r\n                        className={`pb-4 px-1 border-b-2 font-medium text-sm relative ${activeTab === \"pending\"\r\n                                ? \"border-indigo-500 text-indigo-600\"\r\n                                : \"border-transparent text-gray-500 hover:text-gray-700\"\r\n                            }`}\r\n                    >\r\n                        Pending\r\n                        {pendingReceivedCount > 0 && (\r\n                            <span className=\"ml-2 px-2 py-0.5 bg-red-500 text-white text-xs rounded-full\">\r\n                                {pendingReceivedCount}\r\n                            </span>\r\n                        )}\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setActiveTab(\"recommendations\")}\r\n                        className={`pb-4 px-1 border-b-2 font-medium text-sm ${activeTab === \"recommendations\"\r\n                                ? \"border-indigo-500 text-indigo-600\"\r\n                                : \"border-transparent text-gray-500 hover:text-gray-700\"\r\n                            }`}\r\n                    >\r\n                        Recommendations ({recommendations.length})\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setActiveTab(\"sessions\")}\r\n                        className={`pb-4 px-1 border-b-2 font-medium text-sm ${activeTab === \"sessions\"\r\n                                ? \"border-indigo-500 text-indigo-600\"\r\n                                : \"border-transparent text-gray-500 hover:text-gray-700\"\r\n                            }`}\r\n                    >\r\n                        Sessions ({sessions.length})\r\n                    </button>\r\n                </nav>\r\n            </div>\r\n\r\n            {/* Tab Content */}\r\n            {activeTab === \"advisors\" && (\r\n                <div>\r\n                    {advisors.filter(a => a.status === \"accepted\").length === 0 ? (\r\n                        <div className=\"text-center py-12\">\r\n                            <div className=\"text-6xl mb-4\">≡ƒÄô</div>\r\n                            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No advisors yet</h3>\r\n                            <p className=\"text-gray-600 mb-6\">\r\n                                Invite career coaches and advisors to help guide your job search journey.\r\n                            </p>\r\n                            <button\r\n                                onClick={() => setIsInviteModalOpen(true)}\r\n                                className=\"px-5 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\r\n                            >\r\n                                Invite Your First Advisor\r\n                            </button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            {advisors\r\n                                .filter(a => a.status === \"accepted\")\r\n                                .map((advisor) => renderAdvisorCard(advisor))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {activeTab === \"clients\" && (\r\n                <div>\r\n                    {clients.filter(c => c.status === \"accepted\").length === 0 ? (\r\n                        <div className=\"text-center py-12\">\r\n                            <div className=\"text-6xl mb-4\">≡ƒæÑ</div>\r\n                            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No clients yet</h3>\r\n                            <p className=\"text-gray-600\">\r\n                                When job seekers invite you as their advisor, they'll appear here.\r\n                            </p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            {clients\r\n                                .filter(c => c.status === \"accepted\")\r\n                                .map((client) => renderClientCard(client))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {activeTab === \"pending\" && (\r\n                <div className=\"space-y-8\">\r\n                    {pendingInvitations.received?.length > 0 && (\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Invitations to Review</h3>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                {pendingInvitations.received.map((inv) =>\r\n                                    renderPendingInvitation(inv, \"received\")\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {pendingInvitations.sent?.length > 0 && (\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Sent Invitations</h3>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                {pendingInvitations.sent.map((inv) =>\r\n                                    renderPendingInvitation(inv, \"sent\")\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {pendingInvitations.received?.length === 0 && pendingInvitations.sent?.length === 0 && (\r\n                        <div className=\"text-center py-12 text-gray-500\">\r\n                            No pending invitations\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {activeTab === \"recommendations\" && renderRecommendations()}\r\n\r\n            {activeTab === \"sessions\" && renderUpcomingSessions()}\r\n\r\n            {/* Modals */}\r\n            <InviteAdvisorModal\r\n                isOpen={isInviteModalOpen}\r\n                onClose={() => setIsInviteModalOpen(false)}\r\n                onInviteSent={fetchDashboardData}\r\n            />\r\n\r\n            {showMessaging && (\r\n                <div className=\"fixed inset-0 flex items-center justify-center z-50\" style={{ backgroundColor: \"rgba(0,0,0,0.48)\" }}>\r\n                    <div className=\"max-w-2xl w-full mx-4\">\r\n                        <AdvisorMessaging\r\n                            relationship={showMessaging}\r\n                            onClose={() => setShowMessaging(null)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {showEvaluation && (\r\n                <AdvisorEvaluationForm\r\n                    relationship={showEvaluation}\r\n                    onClose={() => setShowEvaluation(null)}\r\n                    onSubmitted={fetchDashboardData}\r\n                />\r\n            )}\r\n\r\n            {showSessionManager && (\r\n                <div className=\"fixed inset-0 flex items-center justify-center z-50\" style={{ backgroundColor: \"rgba(0,0,0,0.48)\" }}>\r\n                    <div className=\"max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n                        <AdvisorSessionManagement\r\n                            relationship={showSessionManager}\r\n                            onClose={() => setShowSessionManager(null)}\r\n                            onSessionCreated={fetchDashboardData}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nAdvisorDashboard.propTypes = {};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\advisors\\AdvisorEvaluationForm.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":248,"column":33,"nodeType":"JSXOpeningElement","endLine":248,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":261,"column":33,"nodeType":"JSXOpeningElement","endLine":261,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":274,"column":33,"nodeType":"JSXOpeningElement","endLine":274,"endColumn":89}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst RATING_CATEGORIES = [\r\n    { key: \"overall\", label: \"Overall Experience\", required: true },\r\n    { key: \"communication\", label: \"Communication\" },\r\n    { key: \"expertise\", label: \"Expertise & Knowledge\" },\r\n    { key: \"responsiveness\", label: \"Responsiveness\" },\r\n    { key: \"actionableAdvice\", label: \"Actionable Advice\" },\r\n    { key: \"professionalism\", label: \"Professionalism\" },\r\n    { key: \"valueForMoney\", label: \"Value for Money\" },\r\n    { key: \"goalProgress\", label: \"Progress Toward Goals\" },\r\n];\r\n\r\nexport default function AdvisorEvaluationForm({ relationship, sessionId = null, onClose, onSubmitted }) {\r\n    const [formData, setFormData] = useState({\r\n        evaluationType: sessionId ? \"session_feedback\" : \"periodic_review\",\r\n        ratings: {\r\n            overall: 0,\r\n            communication: 0,\r\n            expertise: 0,\r\n            responsiveness: 0,\r\n            actionableAdvice: 0,\r\n            professionalism: 0,\r\n            valueForMoney: 0,\r\n            goalProgress: 0,\r\n        },\r\n        feedback: {\r\n            strengths: \"\",\r\n            improvements: \"\",\r\n            highlights: \"\",\r\n            additionalComments: \"\",\r\n        },\r\n        goalsAchieved: [],\r\n        npsScore: null,\r\n        wouldRecommend: null,\r\n        wouldContinue: null,\r\n        isPublic: false,\r\n        isAnonymous: false,\r\n    });\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const [success, setSuccess] = useState(\"\");\r\n    const [step, setStep] = useState(1);\r\n\r\n    const handleRatingChange = (category, value) => {\r\n        setFormData((prev) => ({\r\n            ...prev,\r\n            ratings: {\r\n                ...prev.ratings,\r\n                [category]: value,\r\n            },\r\n        }));\r\n    };\r\n\r\n    const handleFeedbackChange = (field, value) => {\r\n        setFormData((prev) => ({\r\n            ...prev,\r\n            feedback: {\r\n                ...prev.feedback,\r\n                [field]: value,\r\n            },\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        if (formData.ratings.overall === 0) {\r\n            setError(\"Please provide an overall rating\");\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(\"\");\r\n\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n                ...(token && { Authorization: `Bearer ${token}` }),\r\n            };\r\n\r\n            // Only include ratings that are greater than 0 (user actually rated them)\r\n            const filteredRatings = Object.fromEntries(\r\n                Object.entries(formData.ratings).filter(([, value]) => value > 0)\r\n            );\r\n\r\n            const response = await fetch(\"/api/external-advisors/evaluations\", {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify({\r\n                    relationshipId: relationship._id,\r\n                    sessionId,\r\n                    ...formData,\r\n                    ratings: filteredRatings,\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                setSuccess(\"Evaluation submitted successfully!\");\r\n                setTimeout(() => {\r\n                    if (onSubmitted) onSubmitted();\r\n                    onClose();\r\n                }, 1500);\r\n            } else {\r\n                const data = await response.json();\r\n                console.error(\"Evaluation submission error:\", data);\r\n                setError(data.message || data.error || \"Failed to submit evaluation\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Evaluation fetch error:\", err);\r\n            setError(\"Failed to submit evaluation: \" + err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderStars = (category, value) => (\r\n        <div className=\"flex items-center space-x-1\">\r\n            {[1, 2, 3, 4, 5].map((star) => (\r\n                <button\r\n                    key={star}\r\n                    type=\"button\"\r\n                    onClick={() => handleRatingChange(category, star)}\r\n                    className={`text-2xl transition-colors ${star <= value ? \"text-yellow-400\" : \"text-gray-300 hover:text-yellow-200\"\r\n                        }`}\r\n                >\r\n                    Γÿà\r\n                </button>\r\n            ))}\r\n            <span className=\"ml-2 text-sm text-gray-500\">\r\n                {value > 0 ? `${value}/5` : \"Not rated\"}\r\n            </span>\r\n        </div>\r\n    );\r\n\r\n    const renderNPSScale = () => (\r\n        <div className=\"space-y-2\">\r\n            <p className=\"text-sm text-gray-600\">\r\n                On a scale of 0-10, how likely are you to recommend this advisor to a friend or colleague?\r\n            </p>\r\n            <div className=\"flex items-center space-x-1\">\r\n                {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((score) => (\r\n                    <button\r\n                        key={score}\r\n                        type=\"button\"\r\n                        onClick={() => setFormData({ ...formData, npsScore: score })}\r\n                        className={`w-8 h-8 rounded-full text-sm font-medium transition-colors ${formData.npsScore === score\r\n                                ? score <= 6\r\n                                    ? \"bg-red-500 text-white\"\r\n                                    : score <= 8\r\n                                        ? \"bg-yellow-500 text-white\"\r\n                                        : \"bg-green-500 text-white\"\r\n                                : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\r\n                            }`}\r\n                    >\r\n                        {score}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n            <div className=\"flex justify-between text-xs text-gray-400 px-1\">\r\n                <span>Not at all likely</span>\r\n                <span>Extremely likely</span>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    // Get advisor name with multiple fallbacks\r\n    const advisorName = relationship.advisorName\r\n        || relationship.advisorId?.name\r\n        || (relationship.advisorId?.firstName && relationship.advisorId?.lastName\r\n            ? `${relationship.advisorId.firstName} ${relationship.advisorId.lastName}`\r\n            : null)\r\n        || relationship.advisorEmail\r\n        || \"your advisor\";\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 flex items-center justify-center z-50\" style={{ backgroundColor: \"rgba(0,0,0,0.48)\" }}>\r\n            <div className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col\">\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n                    <div>\r\n                        <h2 className=\"text-xl font-bold text-gray-900\">Evaluate Your Advisor</h2>\r\n                        <p className=\"text-sm text-gray-500\">\r\n                            Share your feedback about {advisorName}\r\n                        </p>\r\n                    </div>\r\n                    <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600 text-xl\">Γ£ò</button>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"flex-1 overflow-y-auto p-6\">\r\n                    {error && (\r\n                        <div className=\"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    {success && (\r\n                        <div className=\"mb-4 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg\">\r\n                            Γ£ô {success}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Step 1: Ratings */}\r\n                    {step === 1 && (\r\n                        <div className=\"space-y-6\">\r\n                            <div>\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Rate Your Experience</h3>\r\n                                <div className=\"space-y-4\">\r\n                                    {RATING_CATEGORIES.map((category) => (\r\n                                        <div key={category.key} className=\"flex items-center justify-between\">\r\n                                            <label className=\"text-gray-700\">\r\n                                                {category.label}\r\n                                                {category.required && <span className=\"text-red-500 ml-1\">*</span>}\r\n                                            </label>\r\n                                            {renderStars(category.key, formData.ratings[category.key])}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"pt-4 border-t\">\r\n                                {renderNPSScale()}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Step 2: Qualitative Feedback */}\r\n                    {step === 2 && (\r\n                        <div className=\"space-y-6\">\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">Share Your Thoughts</h3>\r\n\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    What did {advisorName} do well?\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.feedback.strengths}\r\n                                    onChange={(e) => handleFeedbackChange(\"strengths\", e.target.value)}\r\n                                    placeholder=\"Describe the strengths and positive aspects...\"\r\n                                    rows={3}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    What could be improved?\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.feedback.improvements}\r\n                                    onChange={(e) => handleFeedbackChange(\"improvements\", e.target.value)}\r\n                                    placeholder=\"Share constructive suggestions for improvement...\"\r\n                                    rows={3}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Session highlights or memorable moments\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.feedback.highlights}\r\n                                    onChange={(e) => handleFeedbackChange(\"highlights\", e.target.value)}\r\n                                    placeholder=\"Any specific advice or moments that stood out...\"\r\n                                    rows={3}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Additional comments\r\n                                </label>\r\n                                <textarea\r\n                                    value={formData.feedback.additionalComments}\r\n                                    onChange={(e) => handleFeedbackChange(\"additionalComments\", e.target.value)}\r\n                                    placeholder=\"Anything else you'd like to share...\"\r\n                                    rows={3}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Step 3: Final Questions */}\r\n                    {step === 3 && (\r\n                        <div className=\"space-y-6\">\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">Final Questions</h3>\r\n\r\n                            <div className=\"space-y-4\">\r\n                                <div>\r\n                                    <label className=\"block text-gray-700 font-medium mb-3\">\r\n                                        Would you recommend {advisorName} to others?\r\n                                    </label>\r\n                                    <div className=\"flex space-x-4\">\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setFormData({ ...formData, wouldRecommend: true })}\r\n                                            className={`flex-1 px-4 py-3 rounded-lg border-2 transition-colors ${formData.wouldRecommend === true\r\n                                                    ? \"border-green-500 bg-green-50 text-green-700\"\r\n                                                    : \"border-gray-200 hover:border-gray-300\"\r\n                                                }`}\r\n                                        >\r\n                                            ≡ƒæì Yes, definitely\r\n                                        </button>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setFormData({ ...formData, wouldRecommend: false })}\r\n                                            className={`flex-1 px-4 py-3 rounded-lg border-2 transition-colors ${formData.wouldRecommend === false\r\n                                                    ? \"border-red-500 bg-red-50 text-red-700\"\r\n                                                    : \"border-gray-200 hover:border-gray-300\"\r\n                                                }`}\r\n                                        >\r\n                                            ≡ƒæÄ Not really\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-gray-700 font-medium mb-3\">\r\n                                        Would you continue working with {advisorName}?\r\n                                    </label>\r\n                                    <div className=\"flex space-x-4\">\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setFormData({ ...formData, wouldContinue: true })}\r\n                                            className={`flex-1 px-4 py-3 rounded-lg border-2 transition-colors ${formData.wouldContinue === true\r\n                                                    ? \"border-green-500 bg-green-50 text-green-700\"\r\n                                                    : \"border-gray-200 hover:border-gray-300\"\r\n                                                }`}\r\n                                        >\r\n                                            Γ£ô Yes\r\n                                        </button>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setFormData({ ...formData, wouldContinue: false })}\r\n                                            className={`flex-1 px-4 py-3 rounded-lg border-2 transition-colors ${formData.wouldContinue === false\r\n                                                    ? \"border-red-500 bg-red-50 text-red-700\"\r\n                                                    : \"border-gray-200 hover:border-gray-300\"\r\n                                                }`}\r\n                                        >\r\n                                            Γ£ù No\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"pt-4 border-t space-y-3\">\r\n                                <label className=\"flex items-center space-x-3 cursor-pointer\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={formData.isPublic}\r\n                                        onChange={(e) => setFormData({ ...formData, isPublic: e.target.checked })}\r\n                                        className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\r\n                                    />\r\n                                    <span className=\"text-gray-700\">\r\n                                        Make this review public (visible to other users looking for advisors)\r\n                                    </span>\r\n                                </label>\r\n\r\n                                {formData.isPublic && (\r\n                                    <label className=\"flex items-center space-x-3 cursor-pointer ml-7\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={formData.isAnonymous}\r\n                                            onChange={(e) => setFormData({ ...formData, isAnonymous: e.target.checked })}\r\n                                            className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\r\n                                        />\r\n                                        <span className=\"text-gray-700\">\r\n                                            Post anonymously (your name won't be shown)\r\n                                        </span>\r\n                                    </label>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Summary */}\r\n                            <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n                                <h4 className=\"font-medium text-gray-900 mb-3\">Review Summary</h4>\r\n                                <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                                    <div>\r\n                                        <span className=\"text-gray-600\">Overall Rating:</span>\r\n                                        <span className=\"ml-2 font-medium\">\r\n                                            {formData.ratings.overall > 0 ? `${formData.ratings.overall}/5 Γÿà` : \"Not rated\"}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"text-gray-600\">NPS Score:</span>\r\n                                        <span className=\"ml-2 font-medium\">\r\n                                            {formData.npsScore !== null ? formData.npsScore : \"Not provided\"}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"text-gray-600\">Would Recommend:</span>\r\n                                        <span className=\"ml-2 font-medium\">\r\n                                            {formData.wouldRecommend === true ? \"Yes\" : formData.wouldRecommend === false ? \"No\" : \"ΓÇö\"}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"text-gray-600\">Would Continue:</span>\r\n                                        <span className=\"ml-2 font-medium\">\r\n                                            {formData.wouldContinue === true ? \"Yes\" : formData.wouldContinue === false ? \"No\" : \"ΓÇö\"}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"sticky bottom-0 bg-white border-t px-6 py-4 flex justify-between\">\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={step === 1 ? onClose : () => setStep(step - 1)}\r\n                        className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                    >\r\n                        {step === 1 ? \"Cancel\" : \"Back\"}\r\n                    </button>\r\n\r\n                    <div className=\"flex items-center space-x-2\">\r\n                        {[1, 2, 3].map((s) => (\r\n                            <div\r\n                                key={s}\r\n                                className={`w-2 h-2 rounded-full ${s === step ? \"bg-indigo-600\" : s < step ? \"bg-indigo-300\" : \"bg-gray-300\"\r\n                                    }`}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n\r\n                    {step < 3 ? (\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => setStep(step + 1)}\r\n                            className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n                        >\r\n                            Continue\r\n                        </button>\r\n                    ) : (\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={handleSubmit}\r\n                            disabled={loading}\r\n                            className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50\"\r\n                        >\r\n                            {loading ? \"Submitting...\" : \"Submit Evaluation\"}\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nAdvisorEvaluationForm.propTypes = {\r\n    relationship: PropTypes.object.isRequired,\r\n    sessionId: PropTypes.string,\r\n    onClose: PropTypes.func.isRequired,\r\n    onSubmitted: PropTypes.func,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\advisors\\AdvisorImpactTracker.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchImpactData'. Either include it or remove the dependency array.","line":39,"column":8,"nodeType":"ArrayExpression","endLine":39,"endColumn":34,"suggestions":[{"desc":"Update the dependencies array to be: [fetchImpactData, relationship, timePeriod]","fix":{"range":[1458,1484],"text":"[fetchImpactData, relationship, timePeriod]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":331,"column":33,"nodeType":"JSXOpeningElement","endLine":331,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":350,"column":33,"nodeType":"JSXOpeningElement","endLine":350,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":365,"column":33,"nodeType":"JSXOpeningElement","endLine":365,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":380,"column":33,"nodeType":"JSXOpeningElement","endLine":380,"endColumn":89}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst IMPACT_CATEGORIES = [\r\n    { key: \"applications\", label: \"Job Applications\", icon: \"≡ƒô¥\", color: \"blue\" },\r\n    { key: \"interviews\", label: \"Interviews\", icon: \"≡ƒÄ»\", color: \"purple\" },\r\n    { key: \"offers\", label: \"Job Offers\", icon: \"≡ƒÄë\", color: \"green\" },\r\n    { key: \"networking\", label: \"Networking Events\", icon: \"≡ƒñ¥\", color: \"orange\" },\r\n    { key: \"skills\", label: \"Skills Developed\", icon: \"≡ƒôÜ\", color: \"indigo\" },\r\n];\r\n\r\nconst TIME_PERIODS = [\r\n    { value: \"week\", label: \"This Week\" },\r\n    { value: \"month\", label: \"This Month\" },\r\n    { value: \"quarter\", label: \"This Quarter\" },\r\n    { value: \"year\", label: \"This Year\" },\r\n    { value: \"all\", label: \"All Time\" },\r\n];\r\n\r\nexport default function AdvisorImpactTracker({ relationship, isAdvisor }) {\r\n    const [metrics, setMetrics] = useState([]);\r\n    const [summary, setSummary] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [timePeriod, setTimePeriod] = useState(\"month\");\r\n    const [showAddMetric, setShowAddMetric] = useState(false);\r\n\r\n    // New metric form\r\n    const [newMetric, setNewMetric] = useState({\r\n        metricType: \"applications\",\r\n        value: 1,\r\n        description: \"\",\r\n        relatedJobId: \"\",\r\n        milestone: \"\",\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchImpactData();\r\n    }, [relationship, timePeriod]);\r\n\r\n    const fetchImpactData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            // Fetch impact metrics\r\n            const metricsRes = await fetch(\r\n                `/api/external-advisors/impact/${relationship._id}?period=${timePeriod}`,\r\n                { headers }\r\n            );\r\n            if (metricsRes.ok) {\r\n                const data = await metricsRes.json();\r\n                setMetrics(data.metrics || []);\r\n                setSummary(data.summary || null);\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to load impact data: \" + err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAddMetric = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n                ...(token && { Authorization: `Bearer ${token}` }),\r\n            };\r\n\r\n            const response = await fetch(\"/api/external-advisors/impact\", {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify({\r\n                    relationshipId: relationship._id,\r\n                    ...newMetric,\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                setShowAddMetric(false);\r\n                setNewMetric({\r\n                    metricType: \"applications\",\r\n                    value: 1,\r\n                    description: \"\",\r\n                    relatedJobId: \"\",\r\n                    milestone: \"\",\r\n                });\r\n                fetchImpactData();\r\n            } else {\r\n                const data = await response.json();\r\n                setError(data.message || \"Failed to add metric\");\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to add metric: \" + err.message);\r\n        }\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n            month: \"short\",\r\n            day: \"numeric\",\r\n            year: \"numeric\",\r\n        });\r\n    };\r\n\r\n    const getImpactScore = () => {\r\n        if (!summary) return 0;\r\n        // Calculate a weighted impact score\r\n        const weights = {\r\n            applications: 1,\r\n            interviews: 3,\r\n            offers: 10,\r\n            networking: 2,\r\n            skills: 1.5,\r\n        };\r\n        let score = 0;\r\n        Object.entries(summary).forEach(([key, value]) => {\r\n            if (weights[key]) {\r\n                score += value * weights[key];\r\n            }\r\n        });\r\n        return Math.round(score);\r\n    };\r\n\r\n    const getProgressPercentage = (category) => {\r\n        if (!summary || !summary[category]) return 0;\r\n        // Arbitrary goals for visualization\r\n        const goals = {\r\n            applications: 20,\r\n            interviews: 10,\r\n            offers: 3,\r\n            networking: 15,\r\n            skills: 10,\r\n        };\r\n        return Math.min((summary[category] / goals[category]) * 100, 100);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center py-12\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const otherPartyName = isAdvisor\r\n        ? `${relationship.clientId?.firstName || \"\"} ${relationship.clientId?.lastName || \"\"}`\r\n        : `${relationship.advisorId?.firstName || \"\"} ${relationship.advisorId?.lastName || \"\"}`;\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-xl shadow-sm border\">\r\n            {/* Header */}\r\n            <div className=\"border-b px-6 py-4 flex flex-wrap justify-between items-center gap-4\">\r\n                <div>\r\n                    <h2 className=\"text-xl font-bold text-gray-900\">Impact Tracker</h2>\r\n                    <p className=\"text-sm text-gray-500\">\r\n                        Track how {isAdvisor ? otherPartyName : \"your advisor\"} is helping your job search\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-3\">\r\n                    <select\r\n                        value={timePeriod}\r\n                        onChange={(e) => setTimePeriod(e.target.value)}\r\n                        className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500\"\r\n                    >\r\n                        {TIME_PERIODS.map((period) => (\r\n                            <option key={period.value} value={period.value}>\r\n                                {period.label}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n\r\n                    {!isAdvisor && (\r\n                        <button\r\n                            onClick={() => setShowAddMetric(true)}\r\n                            className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm\"\r\n                        >\r\n                            + Log Progress\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {error && (\r\n                <div className=\"mx-6 mt-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg\">\r\n                    {error}\r\n                    <button onClick={() => setError(\"\")} className=\"ml-2 text-red-500 hover:text-red-700\">\r\n                        Γ£ò\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"p-6\">\r\n                {/* Impact Score Card */}\r\n                <div className=\"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white mb-6\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <p className=\"text-indigo-100 text-sm font-medium\">Total Impact Score</p>\r\n                            <p className=\"text-5xl font-bold mt-1\">{getImpactScore()}</p>\r\n                            <p className=\"text-indigo-200 text-sm mt-2\">\r\n                                Based on activities tracked {TIME_PERIODS.find((p) => p.value === timePeriod)?.label.toLowerCase()}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"text-6xl opacity-50\">≡ƒÜÇ</div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Category Breakdown */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6\">\r\n                    {IMPACT_CATEGORIES.map((category) => (\r\n                        <div key={category.key} className=\"bg-gray-50 rounded-lg p-4\">\r\n                            <div className=\"flex items-center justify-between mb-3\">\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <span className=\"text-2xl\">{category.icon}</span>\r\n                                    <span className=\"font-medium text-gray-900\">{category.label}</span>\r\n                                </div>\r\n                                <span className=\"text-2xl font-bold text-gray-900\">\r\n                                    {summary?.[category.key] || 0}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                <div\r\n                                    className={`h-2 rounded-full transition-all duration-500 ${category.color === \"blue\"\r\n                                            ? \"bg-blue-500\"\r\n                                            : category.color === \"purple\"\r\n                                                ? \"bg-purple-500\"\r\n                                                : category.color === \"green\"\r\n                                                    ? \"bg-green-500\"\r\n                                                    : category.color === \"orange\"\r\n                                                        ? \"bg-orange-500\"\r\n                                                        : \"bg-indigo-500\"\r\n                                        }`}\r\n                                    style={{ width: `${getProgressPercentage(category.key)}%` }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Recent Activity */}\r\n                <div>\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Recent Activity</h3>\r\n\r\n                    {metrics.length === 0 ? (\r\n                        <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\r\n                            <p className=\"text-gray-500 text-4xl mb-3\">≡ƒôè</p>\r\n                            <p className=\"text-gray-600\">No activity tracked yet</p>\r\n                            <p className=\"text-sm text-gray-400 mt-2\">\r\n                                Start logging your progress to see the impact of your advisor\r\n                            </p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"space-y-3\">\r\n                            {metrics.slice(0, 10).map((metric) => {\r\n                                const category = IMPACT_CATEGORIES.find((c) => c.key === metric.metricType);\r\n                                return (\r\n                                    <div\r\n                                        key={metric._id}\r\n                                        className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\r\n                                    >\r\n                                        <div className=\"flex items-center space-x-4\">\r\n                                            <span className=\"text-2xl\">{category?.icon || \"≡ƒôî\"}</span>\r\n                                            <div>\r\n                                                <p className=\"font-medium text-gray-900\">\r\n                                                    {category?.label || metric.metricType}\r\n                                                    {metric.value > 1 && (\r\n                                                        <span className=\"ml-2 text-indigo-600\">├ù{metric.value}</span>\r\n                                                    )}\r\n                                                </p>\r\n                                                {metric.description && (\r\n                                                    <p className=\"text-sm text-gray-500\">{metric.description}</p>\r\n                                                )}\r\n                                                {metric.milestone && (\r\n                                                    <span className=\"inline-block mt-1 px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs rounded-full\">\r\n                                                        ≡ƒÅå {metric.milestone}\r\n                                                    </span>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n                                        <span className=\"text-sm text-gray-400\">\r\n                                            {formatDate(metric.createdAt)}\r\n                                        </span>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Milestones Section */}\r\n                {summary?.milestones && summary.milestones.length > 0 && (\r\n                    <div className=\"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200\">\r\n                        <h3 className=\"font-semibold text-yellow-800 mb-3\">≡ƒÅå Milestones Achieved</h3>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                            {summary.milestones.map((milestone, index) => (\r\n                                <span\r\n                                    key={index}\r\n                                    className=\"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium\"\r\n                                >\r\n                                    {milestone}\r\n                                </span>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Add Metric Modal */}\r\n            {showAddMetric && (\r\n                <div\r\n                    className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n                    style={{ backgroundColor: \"rgba(0,0,0,0.48)\" }}\r\n                >\r\n                    <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6\">\r\n                        <div className=\"flex justify-between items-center mb-6\">\r\n                            <h3 className=\"text-lg font-bold text-gray-900\">Log Progress</h3>\r\n                            <button\r\n                                onClick={() => setShowAddMetric(false)}\r\n                                className=\"text-gray-400 hover:text-gray-600\"\r\n                            >\r\n                                Γ£ò\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleAddMetric} className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Category <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <select\r\n                                    value={newMetric.metricType}\r\n                                    onChange={(e) =>\r\n                                        setNewMetric({ ...newMetric, metricType: e.target.value })\r\n                                    }\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                >\r\n                                    {IMPACT_CATEGORIES.map((category) => (\r\n                                        <option key={category.key} value={category.key}>\r\n                                            {category.icon} {category.label}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Count\r\n                                </label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    value={newMetric.value}\r\n                                    onChange={(e) =>\r\n                                        setNewMetric({ ...newMetric, value: parseInt(e.target.value) || 1 })\r\n                                    }\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Description\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newMetric.description}\r\n                                    onChange={(e) =>\r\n                                        setNewMetric({ ...newMetric, description: e.target.value })\r\n                                    }\r\n                                    placeholder=\"e.g., Applied to Google, Completed interview prep...\"\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                    Milestone (optional)\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newMetric.milestone}\r\n                                    onChange={(e) =>\r\n                                        setNewMetric({ ...newMetric, milestone: e.target.value })\r\n                                    }\r\n                                    placeholder=\"e.g., First interview, Job offer received...\"\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-end space-x-3 pt-4\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowAddMetric(false)}\r\n                                    className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n                                >\r\n                                    Log Progress\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nAdvisorImpactTracker.propTypes = {\r\n    relationship: PropTypes.object.isRequired,\r\n    isAdvisor: PropTypes.bool,\r\n};\r\n\r\nAdvisorImpactTracker.defaultProps = {\r\n    isAdvisor: false,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\advisors\\AdvisorMessaging.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchMessages'. Either include it or remove the dependency array.","line":21,"column":8,"nodeType":"ArrayExpression","endLine":21,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMessages, relationship]","fix":{"range":[814,828],"text":"[fetchMessages, relationship]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'parseErr' is defined but never used.","line":42,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":42,"endColumn":34}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function AdvisorMessaging({ relationship, isAdvisor, onClose }) {\r\n    const [messages, setMessages] = useState([]);\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n    const [sending, setSending] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const messagesEndRef = useRef(null);\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchMessages();\r\n        // Poll for new messages every 10 seconds\r\n        const interval = setInterval(fetchMessages, 10000);\r\n        return () => clearInterval(interval);\r\n    }, [relationship]);\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    const fetchMessages = async () => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            const response = await fetch(\r\n                `/api/external-advisors/messages/${relationship._id}`,\r\n                { headers }\r\n            );\r\n\r\n            if (response.ok) {\r\n                const text = await response.text();\r\n                try {\r\n                    const data = JSON.parse(text);\r\n                    setMessages(data.data || data.messages || []);\r\n                } catch (parseErr) {\r\n                    console.error(\"Failed to parse response:\", text.substring(0, 200));\r\n                }\r\n            } else {\r\n                console.error(\"Messages fetch failed with status:\", response.status);\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Failed to fetch messages:\", err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSend = async (e) => {\r\n        e.preventDefault();\r\n        if (!newMessage.trim()) return;\r\n\r\n        setSending(true);\r\n        setError(\"\");\r\n\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n                ...(token && { Authorization: `Bearer ${token}` }),\r\n            };\r\n\r\n            const response = await fetch(\"/api/external-advisors/messages\", {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify({\r\n                    relationshipId: relationship._id,\r\n                    content: newMessage.trim(),\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                setNewMessage(\"\");\r\n                fetchMessages();\r\n            } else {\r\n                const data = await response.json();\r\n                // Provide helpful message for self-invitation test scenario\r\n                if (data.message?.includes(\"yourself\")) {\r\n                    setError(\"This is a self-referencing test relationship. To test messaging, invite a different user as your advisor.\");\r\n                } else {\r\n                    setError(data.message || \"Failed to send message\");\r\n                }\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to send message: \" + err.message);\r\n        } finally {\r\n            setSending(false);\r\n        }\r\n    };\r\n\r\n    const formatTime = (dateString) => {\r\n        const date = new Date(dateString);\r\n        const now = new Date();\r\n        const diffDays = Math.floor((now - date) / (1000 * 60 * 60 * 24));\r\n\r\n        if (diffDays === 0) {\r\n            return date.toLocaleTimeString(\"en-US\", {\r\n                hour: \"numeric\",\r\n                minute: \"2-digit\",\r\n            });\r\n        } else if (diffDays === 1) {\r\n            return \"Yesterday\";\r\n        } else if (diffDays < 7) {\r\n            return date.toLocaleDateString(\"en-US\", { weekday: \"short\" });\r\n        } else {\r\n            return date.toLocaleDateString(\"en-US\", {\r\n                month: \"short\",\r\n                day: \"numeric\",\r\n            });\r\n        }\r\n    };\r\n\r\n    // Determine names using the same fallback logic as other components\r\n    const advisorDisplayName = relationship.advisorName\r\n        || (relationship.advisorId?.firstName && relationship.advisorId?.lastName\r\n            ? `${relationship.advisorId.firstName} ${relationship.advisorId.lastName}`\r\n            : null)\r\n        || relationship.advisorEmail\r\n        || \"Advisor\";\r\n\r\n    const clientDisplayName = relationship.senderName\r\n        || (relationship.userId?.firstName && relationship.userId?.lastName\r\n            ? `${relationship.userId.firstName} ${relationship.userId.lastName}`\r\n            : null)\r\n        || relationship.senderEmail\r\n        || \"Client\";\r\n\r\n    const otherPartyName = isAdvisor ? clientDisplayName : advisorDisplayName;\r\n\r\n    // We don't need currentUserId for display - the backend determines message ownership\r\n    // based on the authenticated user\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-64\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-[500px] bg-white rounded-xl shadow-sm border\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between px-4 py-3 border-b bg-gray-50 rounded-t-xl\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center\">\r\n                        <span className=\"text-indigo-600 font-semibold\">\r\n                            {otherPartyName.charAt(0).toUpperCase()}\r\n                        </span>\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-semibold text-gray-900\">{otherPartyName}</h3>\r\n                        <p className=\"text-xs text-gray-500\">\r\n                            {isAdvisor ? \"Client\" : relationship.advisorType?.replace(/_/g, \" \")}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                {onClose && (\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600 p-1\"\r\n                    >\r\n                        Γ£ò\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n                {messages.length === 0 ? (\r\n                    <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n                        <span className=\"text-4xl mb-2\">≡ƒÆ¼</span>\r\n                        <p>No messages yet</p>\r\n                        <p className=\"text-sm\">Start the conversation!</p>\r\n                    </div>\r\n                ) : (\r\n                    messages.map((message) => {\r\n                        // Determine if this is our message\r\n                        const clientId = String(relationship.userId?._id || relationship.userId);\r\n                        const advisorId = String(relationship.advisorId?._id || relationship.advisorId);\r\n                        const messageSenderId = String(message.senderId?._id || message.senderId);\r\n\r\n                        // Check if this is a self-messaging scenario (same user as client and advisor)\r\n                        const isSelfRelationship = clientId === advisorId;\r\n\r\n                        let isOwnMessage;\r\n                        if (isSelfRelationship) {\r\n                            // For self-messaging: Echo messages appear as received, others as sent\r\n                            isOwnMessage = !message.content?.startsWith(\"Echo:\");\r\n                        } else {\r\n                            // Normal case: check based on role\r\n                            isOwnMessage = isAdvisor\r\n                                ? messageSenderId === advisorId\r\n                                : messageSenderId === clientId;\r\n                        }\r\n\r\n                        return (\r\n                            <div\r\n                                key={message._id}\r\n                                className={`flex ${isOwnMessage ? \"justify-end\" : \"justify-start\"}`}\r\n                            >\r\n                                <div\r\n                                    className={`max-w-[75%] rounded-2xl px-4 py-2 ${isOwnMessage\r\n                                            ? \"bg-indigo-600 text-white rounded-br-md\"\r\n                                            : \"bg-gray-100 text-gray-900 rounded-bl-md\"\r\n                                        }`}\r\n                                >\r\n                                    <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\r\n                                    <p\r\n                                        className={`text-xs mt-1 ${isOwnMessage ? \"text-indigo-200\" : \"text-gray-500\"\r\n                                            }`}\r\n                                    >\r\n                                        {formatTime(message.createdAt)}\r\n                                        {isOwnMessage && message.read && (\r\n                                            <span className=\"ml-1\">Γ£ôΓ£ô</span>\r\n                                        )}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            {/* Error */}\r\n            {error && (\r\n                <div className=\"px-4 py-2 bg-red-50 border-t border-red-200\">\r\n                    <p className=\"text-sm text-red-600\">{error}</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Input */}\r\n            <form onSubmit={handleSend} className=\"p-4 border-t bg-gray-50 rounded-b-xl\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={newMessage}\r\n                        onChange={(e) => setNewMessage(e.target.value)}\r\n                        placeholder=\"Type a message...\"\r\n                        disabled={sending}\r\n                        className=\"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50\"\r\n                    />\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={sending || !newMessage.trim()}\r\n                        className=\"p-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    >\r\n                        {sending ? (\r\n                            <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                <circle\r\n                                    className=\"opacity-25\"\r\n                                    cx=\"12\"\r\n                                    cy=\"12\"\r\n                                    r=\"10\"\r\n                                    stroke=\"currentColor\"\r\n                                    strokeWidth=\"4\"\r\n                                />\r\n                                <path\r\n                                    className=\"opacity-75\"\r\n                                    fill=\"currentColor\"\r\n                                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\"\r\n                                />\r\n                            </svg>\r\n                        ) : (\r\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeLinejoin=\"round\"\r\n                                    strokeWidth={2}\r\n                                    d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\r\n                                />\r\n                            </svg>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nAdvisorMessaging.propTypes = {\r\n    relationship: PropTypes.object.isRequired,\r\n    isAdvisor: PropTypes.bool,\r\n    onClose: PropTypes.func,\r\n};\r\n\r\nAdvisorMessaging.defaultProps = {\r\n    isAdvisor: false,\r\n    onClose: null,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\advisors\\AdvisorSessionManagement.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchSessions'. Either include it or remove the dependency array.","line":53,"column":8,"nodeType":"ArrayExpression","endLine":53,"endColumn":26,"suggestions":[{"desc":"Update the dependencies array to be: [fetchSessions, relationship._id]","fix":{"range":[2379,2397],"text":"[fetchSessions, relationship._id]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":239,"column":37,"nodeType":"JSXOpeningElement","endLine":239,"endColumn":101},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":252,"column":37,"nodeType":"JSXOpeningElement","endLine":252,"endColumn":101},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":267,"column":37,"nodeType":"JSXOpeningElement","endLine":267,"endColumn":101},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":279,"column":37,"nodeType":"JSXOpeningElement","endLine":279,"endColumn":101},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":295,"column":33,"nodeType":"JSXOpeningElement","endLine":295,"endColumn":97},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":317,"column":37,"nodeType":"JSXOpeningElement","endLine":317,"endColumn":101},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":332,"column":37,"nodeType":"JSXOpeningElement","endLine":332,"endColumn":101},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":346,"column":33,"nodeType":"JSXOpeningElement","endLine":346,"endColumn":97},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":359,"column":33,"nodeType":"JSXOpeningElement","endLine":359,"endColumn":97}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst SESSION_TYPES = [\r\n    { id: \"initial_consultation\", label: \"Initial Consultation\", description: \"First meeting to discuss goals\" },\r\n    { id: \"follow_up\", label: \"Follow-up Session\", description: \"Regular check-in session\" },\r\n    { id: \"resume_review\", label: \"Resume Review\", description: \"Deep dive into resume optimization\" },\r\n    { id: \"mock_interview\", label: \"Mock Interview\", description: \"Practice interview session\" },\r\n    { id: \"strategy_session\", label: \"Strategy Session\", description: \"Career strategy planning\" },\r\n    { id: \"goal_setting\", label: \"Goal Setting\", description: \"Define and refine career goals\" },\r\n    { id: \"progress_review\", label: \"Progress Review\", description: \"Review achievements and adjust plans\" },\r\n    { id: \"salary_negotiation\", label: \"Salary Negotiation\", description: \"Prepare for salary discussions\" },\r\n    { id: \"final_review\", label: \"Final Review\", description: \"Wrap-up and future planning\" },\r\n    { id: \"other\", label: \"Other\", description: \"Custom session type\" },\r\n];\r\n\r\nconst MEETING_TYPES = [\r\n    { id: \"video\", label: \"Video Call\", icon: \"≡ƒô╣\" },\r\n    { id: \"phone\", label: \"Phone Call\", icon: \"≡ƒô₧\" },\r\n    { id: \"in_person\", label: \"In Person\", icon: \"≡ƒÅó\" },\r\n    { id: \"chat\", label: \"Chat\", icon: \"≡ƒÆ¼\" },\r\n];\r\n\r\nconst DURATION_OPTIONS = [\r\n    { value: 30, label: \"30 minutes\" },\r\n    { value: 45, label: \"45 minutes\" },\r\n    { value: 60, label: \"1 hour\" },\r\n    { value: 90, label: \"1.5 hours\" },\r\n    { value: 120, label: \"2 hours\" },\r\n];\r\n\r\nexport default function AdvisorSessionManagement({ relationship, onClose, onSessionCreated }) {\r\n    const [sessions, setSessions] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [showNewSession, setShowNewSession] = useState(false);\r\n    const [selectedSession, setSelectedSession] = useState(null);\r\n\r\n    const [newSession, setNewSession] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        sessionType: \"follow_up\",\r\n        scheduledAt: \"\",\r\n        duration: 60,\r\n        meetingType: \"video\",\r\n        meetingLink: \"\",\r\n        meetingLocation: \"\",\r\n        agendaItems: [{ item: \"\", completed: false }],\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchSessions();\r\n    }, [relationship._id]);\r\n\r\n    const fetchSessions = async () => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            const response = await fetch(\r\n                `/api/external-advisors/sessions?relationshipId=${relationship._id}`,\r\n                { headers }\r\n            );\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setSessions(data.data || []);\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error fetching sessions:\", err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCreateSession = async () => {\r\n        if (!newSession.title || !newSession.scheduledAt) {\r\n            setError(\"Please fill in the session title and date/time\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n                ...(token && { Authorization: `Bearer ${token}` }),\r\n            };\r\n\r\n            const response = await fetch(\"/api/external-advisors/sessions\", {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify({\r\n                    relationshipId: relationship._id,\r\n                    ...newSession,\r\n                    agendaItems: newSession.agendaItems.filter(a => a.item.trim()),\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                setShowNewSession(false);\r\n                setNewSession({\r\n                    title: \"\",\r\n                    description: \"\",\r\n                    sessionType: \"follow_up\",\r\n                    scheduledAt: \"\",\r\n                    duration: 60,\r\n                    meetingType: \"video\",\r\n                    meetingLink: \"\",\r\n                    meetingLocation: \"\",\r\n                    agendaItems: [{ item: \"\", completed: false }],\r\n                });\r\n                fetchSessions();\r\n                if (onSessionCreated) onSessionCreated();\r\n            } else {\r\n                const data = await response.json();\r\n                setError(data.message || \"Failed to create session\");\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to create session: \" + err.message);\r\n        }\r\n    };\r\n\r\n    const handleUpdateSession = async (sessionId, updates) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n                ...(token && { Authorization: `Bearer ${token}` }),\r\n            };\r\n\r\n            const response = await fetch(`/api/external-advisors/sessions/${sessionId}`, {\r\n                method: \"PUT\",\r\n                headers,\r\n                body: JSON.stringify(updates),\r\n            });\r\n\r\n            if (response.ok) {\r\n                fetchSessions();\r\n                setSelectedSession(null);\r\n            } else {\r\n                const data = await response.json();\r\n                setError(data.message || \"Failed to update session\");\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to update session: \" + err.message);\r\n        }\r\n    };\r\n\r\n    const addAgendaItem = () => {\r\n        setNewSession(prev => ({\r\n            ...prev,\r\n            agendaItems: [...prev.agendaItems, { item: \"\", completed: false }],\r\n        }));\r\n    };\r\n\r\n    const updateAgendaItem = (index, value) => {\r\n        setNewSession(prev => ({\r\n            ...prev,\r\n            agendaItems: prev.agendaItems.map((item, i) =>\r\n                i === index ? { ...item, item: value } : item\r\n            ),\r\n        }));\r\n    };\r\n\r\n    const removeAgendaItem = (index) => {\r\n        setNewSession(prev => ({\r\n            ...prev,\r\n            agendaItems: prev.agendaItems.filter((_, i) => i !== index),\r\n        }));\r\n    };\r\n\r\n    const getStatusColor = (status) => {\r\n        switch (status) {\r\n            case \"confirmed\": return \"bg-green-100 text-green-700\";\r\n            case \"completed\": return \"bg-blue-100 text-blue-700\";\r\n            case \"cancelled\": return \"bg-red-100 text-red-700\";\r\n            case \"no_show\": return \"bg-gray-100 text-gray-700\";\r\n            case \"rescheduled\": return \"bg-yellow-100 text-yellow-700\";\r\n            default: return \"bg-yellow-100 text-yellow-700\";\r\n        }\r\n    };\r\n\r\n    const upcomingSessions = sessions.filter(\r\n        s => new Date(s.scheduledAt) >= new Date() && ![\"cancelled\", \"completed\"].includes(s.status)\r\n    );\r\n    const pastSessions = sessions.filter(\r\n        s => new Date(s.scheduledAt) < new Date() || [\"cancelled\", \"completed\"].includes(s.status)\r\n    );\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 flex items-center justify-center z-50\" style={{ backgroundColor: \"rgba(0,0,0,0.48)\" }}>\r\n            <div className=\"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col\">\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n                    <div>\r\n                        <h2 className=\"text-xl font-bold text-gray-900\">Session Management</h2>\r\n                        <p className=\"text-sm text-gray-500\">\r\n                            with {relationship.advisorId?.firstName || relationship.userId?.firstName || \"Advisor\"}\r\n                        </p>\r\n                    </div>\r\n                    <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600 text-xl\">Γ£ò</button>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"flex-1 overflow-y-auto p-6\">\r\n                    {error && (\r\n                        <div className=\"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg\">\r\n                            {error}\r\n                            <button onClick={() => setError(\"\")} className=\"ml-2 font-bold\">├ù</button>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Schedule New Session Button */}\r\n                    {!showNewSession && (\r\n                        <button\r\n                            onClick={() => setShowNewSession(true)}\r\n                            className=\"w-full mb-6 p-4 border-2 border-dashed border-indigo-300 rounded-xl text-indigo-600 hover:bg-indigo-50 transition-colors flex items-center justify-center space-x-2\"\r\n                        >\r\n                            <span className=\"text-xl\">+</span>\r\n                            <span>Schedule New Session</span>\r\n                        </button>\r\n                    )}\r\n\r\n                    {/* New Session Form */}\r\n                    {showNewSession && (\r\n                        <div className=\"mb-6 p-6 bg-indigo-50 rounded-xl space-y-4\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Schedule New Session</h3>\r\n                                <button\r\n                                    onClick={() => setShowNewSession(false)}\r\n                                    className=\"text-gray-400 hover:text-gray-600\"\r\n                                >\r\n                                    Γ£ò\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                        Session Title *\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={newSession.title}\r\n                                        onChange={(e) => setNewSession({ ...newSession, title: e.target.value })}\r\n                                        placeholder=\"e.g., Resume Review Session\"\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                        Session Type\r\n                                    </label>\r\n                                    <select\r\n                                        value={newSession.sessionType}\r\n                                        onChange={(e) => setNewSession({ ...newSession, sessionType: e.target.value })}\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                    >\r\n                                        {SESSION_TYPES.map((type) => (\r\n                                            <option key={type.id} value={type.id}>{type.label}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                        Date & Time *\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"datetime-local\"\r\n                                        value={newSession.scheduledAt}\r\n                                        onChange={(e) => setNewSession({ ...newSession, scheduledAt: e.target.value })}\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                        Duration\r\n                                    </label>\r\n                                    <select\r\n                                        value={newSession.duration}\r\n                                        onChange={(e) => setNewSession({ ...newSession, duration: parseInt(e.target.value) })}\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                    >\r\n                                        {DURATION_OPTIONS.map((opt) => (\r\n                                            <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Meeting Type\r\n                                </label>\r\n                                <div className=\"flex flex-wrap gap-3\">\r\n                                    {MEETING_TYPES.map((type) => (\r\n                                        <button\r\n                                            key={type.id}\r\n                                            type=\"button\"\r\n                                            onClick={() => setNewSession({ ...newSession, meetingType: type.id })}\r\n                                            className={`px-4 py-2 rounded-lg border-2 transition-colors ${newSession.meetingType === type.id\r\n                                                    ? \"border-indigo-500 bg-indigo-50 text-indigo-700\"\r\n                                                    : \"border-gray-200 hover:border-gray-300\"\r\n                                                }`}\r\n                                        >\r\n                                            {type.icon} {type.label}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {newSession.meetingType === \"video\" && (\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                        Meeting Link (Zoom, Google Meet, etc.)\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"url\"\r\n                                        value={newSession.meetingLink}\r\n                                        onChange={(e) => setNewSession({ ...newSession, meetingLink: e.target.value })}\r\n                                        placeholder=\"https://zoom.us/j/...\"\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            {newSession.meetingType === \"in_person\" && (\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                        Location\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={newSession.meetingLocation}\r\n                                        onChange={(e) => setNewSession({ ...newSession, meetingLocation: e.target.value })}\r\n                                        placeholder=\"e.g., Coffee Shop at 123 Main St\"\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                    Description\r\n                                </label>\r\n                                <textarea\r\n                                    value={newSession.description}\r\n                                    onChange={(e) => setNewSession({ ...newSession, description: e.target.value })}\r\n                                    placeholder=\"What would you like to discuss in this session?\"\r\n                                    rows={3}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Agenda Items\r\n                                </label>\r\n                                {newSession.agendaItems.map((item, index) => (\r\n                                    <div key={index} className=\"flex items-center space-x-2 mb-2\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={item.item}\r\n                                            onChange={(e) => updateAgendaItem(index, e.target.value)}\r\n                                            placeholder={`Agenda item ${index + 1}`}\r\n                                            className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                        />\r\n                                        {newSession.agendaItems.length > 1 && (\r\n                                            <button\r\n                                                onClick={() => removeAgendaItem(index)}\r\n                                                className=\"text-red-500 hover:text-red-700\"\r\n                                            >\r\n                                                Γ£ò\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                ))}\r\n                                <button\r\n                                    onClick={addAgendaItem}\r\n                                    className=\"text-sm text-indigo-600 hover:text-indigo-700\"\r\n                                >\r\n                                    + Add agenda item\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-end space-x-3 pt-4\">\r\n                                <button\r\n                                    onClick={() => setShowNewSession(false)}\r\n                                    className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    onClick={handleCreateSession}\r\n                                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\r\n                                >\r\n                                    Schedule Session\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Upcoming Sessions */}\r\n                    {upcomingSessions.length > 0 && (\r\n                        <div className=\"mb-8\">\r\n                            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Upcoming Sessions</h3>\r\n                            <div className=\"space-y-4\">\r\n                                {upcomingSessions.map((session) => (\r\n                                    <div\r\n                                        key={session._id}\r\n                                        className=\"bg-white rounded-lg border border-gray-200 p-5 hover:shadow-md transition-shadow\"\r\n                                    >\r\n                                        <div className=\"flex items-start justify-between\">\r\n                                            <div className=\"flex-1\">\r\n                                                <div className=\"flex items-center space-x-3\">\r\n                                                    <h4 className=\"font-semibold text-gray-900\">{session.title}</h4>\r\n                                                    <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${getStatusColor(session.status)}`}>\r\n                                                        {session.status}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <p className=\"text-sm text-gray-500 mt-1\">\r\n                                                    {SESSION_TYPES.find(t => t.id === session.sessionType)?.label}\r\n                                                </p>\r\n                                                <div className=\"flex items-center space-x-4 mt-2 text-sm text-gray-600\">\r\n                                                    <span>≡ƒôà {new Date(session.scheduledAt).toLocaleDateString()}</span>\r\n                                                    <span>≡ƒòÉ {new Date(session.scheduledAt).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}</span>\r\n                                                    <span>ΓÅ▒ {session.duration} min</span>\r\n                                                    <span>{MEETING_TYPES.find(m => m.id === session.meetingType)?.icon} {MEETING_TYPES.find(m => m.id === session.meetingType)?.label}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"flex items-center space-x-2\">\r\n                                                {session.meetingLink && (\r\n                                                    <a\r\n                                                        href={session.meetingLink}\r\n                                                        target=\"_blank\"\r\n                                                        rel=\"noopener noreferrer\"\r\n                                                        className=\"px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700\"\r\n                                                    >\r\n                                                        Join\r\n                                                    </a>\r\n                                                )}\r\n                                                <button\r\n                                                    onClick={() => handleUpdateSession(session._id, { status: \"cancelled\" })}\r\n                                                    className=\"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg text-sm\"\r\n                                                >\r\n                                                    Cancel\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {session.agendaItems?.length > 0 && (\r\n                                            <div className=\"mt-4 pt-4 border-t border-gray-100\">\r\n                                                <p className=\"text-sm font-medium text-gray-700 mb-2\">Agenda:</p>\r\n                                                <ul className=\"text-sm text-gray-600 space-y-1\">\r\n                                                    {session.agendaItems.map((item, idx) => (\r\n                                                        <li key={idx} className=\"flex items-center space-x-2\">\r\n                                                            <span className={item.completed ? \"line-through text-gray-400\" : \"\"}>\r\n                                                                ΓÇó {item.item}\r\n                                                            </span>\r\n                                                        </li>\r\n                                                    ))}\r\n                                                </ul>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Past Sessions */}\r\n                    {pastSessions.length > 0 && (\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Past Sessions</h3>\r\n                            <div className=\"space-y-3\">\r\n                                {pastSessions.map((session) => (\r\n                                    <div\r\n                                        key={session._id}\r\n                                        className=\"bg-gray-50 rounded-lg border border-gray-200 p-4\"\r\n                                    >\r\n                                        <div className=\"flex items-center justify-between\">\r\n                                            <div>\r\n                                                <div className=\"flex items-center space-x-3\">\r\n                                                    <h4 className=\"font-medium text-gray-900\">{session.title}</h4>\r\n                                                    <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${getStatusColor(session.status)}`}>\r\n                                                        {session.status}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <p className=\"text-sm text-gray-500 mt-1\">\r\n                                                    {new Date(session.scheduledAt).toLocaleDateString()} ΓÇó {session.duration} min\r\n                                                </p>\r\n                                            </div>\r\n                                            {session.sessionNotes && (\r\n                                                <button\r\n                                                    onClick={() => setSelectedSession(session)}\r\n                                                    className=\"text-sm text-indigo-600 hover:text-indigo-700\"\r\n                                                >\r\n                                                    View Notes\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n\r\n                                        {session.keyTakeaways?.length > 0 && (\r\n                                            <div className=\"mt-3 pt-3 border-t border-gray-200\">\r\n                                                <p className=\"text-sm font-medium text-gray-700\">Key Takeaways:</p>\r\n                                                <ul className=\"text-sm text-gray-600 mt-1\">\r\n                                                    {session.keyTakeaways.map((takeaway, idx) => (\r\n                                                        <li key={idx}>Γ£ô {takeaway}</li>\r\n                                                    ))}\r\n                                                </ul>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {loading && (\r\n                        <div className=\"flex items-center justify-center py-8\">\r\n                            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {!loading && sessions.length === 0 && !showNewSession && (\r\n                        <div className=\"text-center py-12 text-gray-500\">\r\n                            <div className=\"text-4xl mb-3\">≡ƒôà</div>\r\n                            <p>No sessions scheduled yet.</p>\r\n                            <p className=\"text-sm mt-1\">Schedule your first session with your advisor!</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Session Notes Modal */}\r\n            {selectedSession && (\r\n                <div className=\"fixed inset-0 flex items-center justify-center z-60\" style={{ backgroundColor: \"rgba(0,0,0,0.48)\" }}>\r\n                    <div className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto p-6\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h3 className=\"text-lg font-semibold text-gray-900\">{selectedSession.title} - Notes</h3>\r\n                            <button onClick={() => setSelectedSession(null)} className=\"text-gray-400 hover:text-gray-600\">Γ£ò</button>\r\n                        </div>\r\n\r\n                        {selectedSession.sessionNotes && (\r\n                            <div className=\"mb-4\">\r\n                                <h4 className=\"font-medium text-gray-700 mb-2\">Session Notes</h4>\r\n                                <p className=\"text-gray-600 whitespace-pre-wrap\">{selectedSession.sessionNotes}</p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {selectedSession.keyTakeaways?.length > 0 && (\r\n                            <div className=\"mb-4\">\r\n                                <h4 className=\"font-medium text-gray-700 mb-2\">Key Takeaways</h4>\r\n                                <ul className=\"space-y-1\">\r\n                                    {selectedSession.keyTakeaways.map((takeaway, idx) => (\r\n                                        <li key={idx} className=\"text-gray-600\">Γ£ô {takeaway}</li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        )}\r\n\r\n                        {selectedSession.actionItems?.length > 0 && (\r\n                            <div>\r\n                                <h4 className=\"font-medium text-gray-700 mb-2\">Action Items</h4>\r\n                                <ul className=\"space-y-2\">\r\n                                    {selectedSession.actionItems.map((item, idx) => (\r\n                                        <li key={idx} className={`text-gray-600 ${item.completed ? \"line-through text-gray-400\" : \"\"}`}>\r\n                                            {item.completed ? \"Γÿæ\" : \"ΓÿÉ\"} {item.item}\r\n                                            {item.dueDate && (\r\n                                                <span className=\"text-sm text-gray-400 ml-2\">\r\n                                                    Due: {new Date(item.dueDate).toLocaleDateString()}\r\n                                                </span>\r\n                                            )}\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nAdvisorSessionManagement.propTypes = {\r\n    relationship: PropTypes.object.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onSessionCreated: PropTypes.func,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\advisors\\InviteAdvisorModal.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":261,"column":17,"nodeType":"JSXOpeningElement","endLine":261,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":277,"column":17,"nodeType":"JSXOpeningElement","endLine":277,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":293,"column":17,"nodeType":"JSXOpeningElement","endLine":293,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":319,"column":17,"nodeType":"JSXOpeningElement","endLine":319,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":343,"column":17,"nodeType":"JSXOpeningElement","endLine":343,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":364,"column":17,"nodeType":"JSXOpeningElement","endLine":364,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":372,"column":25,"nodeType":"JSXOpeningElement","endLine":375,"endColumn":26},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":396,"column":17,"nodeType":"JSXOpeningElement","endLine":396,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":401,"column":21,"nodeType":"JSXOpeningElement","endLine":401,"endColumn":111},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":414,"column":21,"nodeType":"JSXOpeningElement","endLine":414,"endColumn":111},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":431,"column":29,"nodeType":"JSXOpeningElement","endLine":431,"endColumn":93},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":445,"column":33,"nodeType":"JSXOpeningElement","endLine":445,"endColumn":97},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":456,"column":33,"nodeType":"JSXOpeningElement","endLine":456,"endColumn":97},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":507,"column":9,"nodeType":"JSXOpeningElement","endLine":511,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":507,"column":9,"nodeType":"JSXOpeningElement","endLine":511,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":512,"column":13,"nodeType":"JSXOpeningElement","endLine":515,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":512,"column":13,"nodeType":"JSXOpeningElement","endLine":515,"endColumn":14}],"suppressedMessages":[],"errorCount":13,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ADVISOR_TYPES = [\r\n    { id: \"career_coach\", label: \"Career Coach\", description: \"Overall career guidance and strategy\" },\r\n    { id: \"executive_coach\", label: \"Executive Coach\", description: \"Leadership and executive positioning\" },\r\n    { id: \"resume_writer\", label: \"Resume Writer\", description: \"Professional resume optimization\" },\r\n    { id: \"interview_coach\", label: \"Interview Coach\", description: \"Interview preparation and practice\" },\r\n    { id: \"salary_negotiator\", label: \"Salary Negotiator\", description: \"Compensation and negotiation strategy\" },\r\n    { id: \"industry_expert\", label: \"Industry Expert\", description: \"Industry-specific insights and connections\" },\r\n    { id: \"linkedin_specialist\", label: \"LinkedIn Specialist\", description: \"LinkedIn profile and networking\" },\r\n    { id: \"recruiter_advisor\", label: \"Recruiter Advisor\", description: \"Inside knowledge on recruitment\" },\r\n    { id: \"other\", label: \"Other\", description: \"Other career support\" },\r\n];\r\n\r\nconst FOCUS_AREAS = [\r\n    { id: \"job_search_strategy\", label: \"Job Search Strategy\" },\r\n    { id: \"resume_optimization\", label: \"Resume Optimization\" },\r\n    { id: \"cover_letter_writing\", label: \"Cover Letter Writing\" },\r\n    { id: \"interview_preparation\", label: \"Interview Preparation\" },\r\n    { id: \"salary_negotiation\", label: \"Salary Negotiation\" },\r\n    { id: \"career_transition\", label: \"Career Transition\" },\r\n    { id: \"executive_positioning\", label: \"Executive Positioning\" },\r\n    { id: \"personal_branding\", label: \"Personal Branding\" },\r\n    { id: \"linkedin_optimization\", label: \"LinkedIn Optimization\" },\r\n    { id: \"networking_strategy\", label: \"Networking Strategy\" },\r\n    { id: \"industry_insights\", label: \"Industry Insights\" },\r\n    { id: \"skill_development\", label: \"Skill Development\" },\r\n    { id: \"work_life_balance\", label: \"Work-Life Balance\" },\r\n    { id: \"leadership_development\", label: \"Leadership Development\" },\r\n    { id: \"general_career_advice\", label: \"General Career Advice\" },\r\n];\r\n\r\nconst SHARED_DATA_OPTIONS = [\r\n    { key: \"shareResume\", label: \"Resume\", description: \"Your current resume\" },\r\n    { key: \"shareCoverLetters\", label: \"Cover Letters\", description: \"Your cover letters\" },\r\n    { key: \"shareApplications\", label: \"Applications\", description: \"Your job applications\" },\r\n    { key: \"shareInterviewPrep\", label: \"Interview Prep\", description: \"Interview preparation materials\" },\r\n    { key: \"shareGoals\", label: \"Goals\", description: \"Your career goals\" },\r\n    { key: \"shareSkillGaps\", label: \"Skill Gaps\", description: \"Skill gap analysis\" },\r\n    { key: \"shareProgress\", label: \"Progress\", description: \"Overall job search progress\" },\r\n    { key: \"shareSalaryInfo\", label: \"Salary Info\", description: \"Salary expectations and history\" },\r\n    { key: \"shareNetworkContacts\", label: \"Network Contacts\", description: \"Your professional contacts\" },\r\n];\r\n\r\nexport default function InviteAdvisorModal({ isOpen, onClose, onInviteSent }) {\r\n    const [step, setStep] = useState(1);\r\n    const [formData, setFormData] = useState({\r\n        advisorName: \"\",\r\n        advisorEmail: \"\",\r\n        advisorType: \"career_coach\",\r\n        invitationMessage: \"\",\r\n        focusAreas: [],\r\n        sharedData: {\r\n            shareResume: true,\r\n            shareCoverLetters: true,\r\n            shareApplications: true,\r\n            shareInterviewPrep: true,\r\n            shareGoals: true,\r\n            shareSkillGaps: true,\r\n            shareProgress: true,\r\n            shareSalaryInfo: false,\r\n            shareNetworkContacts: false,\r\n        },\r\n        contractTerms: {\r\n            isOpenEnded: true,\r\n            totalSessions: null,\r\n            startDate: null,\r\n            endDate: null,\r\n        },\r\n    });\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const [success, setSuccess] = useState(\"\");\r\n\r\n    const handleNameChange = (e) => {\r\n        setFormData({ ...formData, advisorName: e.target.value });\r\n    };\r\n\r\n    const handleEmailChange = (e) => {\r\n        setFormData({ ...formData, advisorEmail: e.target.value });\r\n        setError(\"\");\r\n    };\r\n\r\n    const handleAdvisorTypeChange = (type) => {\r\n        setFormData({ ...formData, advisorType: type });\r\n    };\r\n\r\n    const handleMessageChange = (e) => {\r\n        setFormData({ ...formData, invitationMessage: e.target.value });\r\n    };\r\n\r\n    const toggleFocusArea = (areaId) => {\r\n        setFormData((prev) => ({\r\n            ...prev,\r\n            focusAreas: prev.focusAreas.includes(areaId)\r\n                ? prev.focusAreas.filter((id) => id !== areaId)\r\n                : [...prev.focusAreas, areaId],\r\n        }));\r\n    };\r\n\r\n    const toggleSharedData = (key) => {\r\n        setFormData((prev) => ({\r\n            ...prev,\r\n            sharedData: {\r\n                ...prev.sharedData,\r\n                [key]: !prev.sharedData[key],\r\n            },\r\n        }));\r\n    };\r\n\r\n    const handleContractChange = (field, value) => {\r\n        setFormData((prev) => ({\r\n            ...prev,\r\n            contractTerms: {\r\n                ...prev.contractTerms,\r\n                [field]: value,\r\n            },\r\n        }));\r\n    };\r\n\r\n    const validateStep = () => {\r\n        if (step === 1) {\r\n            if (!formData.advisorName || !formData.advisorName.trim()) {\r\n                setError(\"Please enter the advisor's name\");\r\n                return false;\r\n            }\r\n            if (!formData.advisorEmail) {\r\n                setError(\"Please enter an advisor email address\");\r\n                return false;\r\n            }\r\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n            if (!emailRegex.test(formData.advisorEmail)) {\r\n                setError(\"Please enter a valid email address\");\r\n                return false;\r\n            }\r\n        }\r\n        setError(\"\");\r\n        return true;\r\n    };\r\n\r\n    const nextStep = () => {\r\n        if (validateStep()) {\r\n            setStep((prev) => Math.min(prev + 1, 4));\r\n        }\r\n    };\r\n\r\n    const prevStep = () => {\r\n        setStep((prev) => Math.max(prev - 1, 1));\r\n        setError(\"\");\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        if (!validateStep()) return;\r\n\r\n        setLoading(true);\r\n        setError(\"\");\r\n        setSuccess(\"\");\r\n\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n            };\r\n            if (token) {\r\n                headers.Authorization = `Bearer ${token}`;\r\n            }\r\n\r\n            const response = await fetch(\"/api/external-advisors/invite\", {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify(formData),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.message || \"Failed to send invitation\");\r\n            }\r\n\r\n            setSuccess(\"Advisor invitation sent successfully!\");\r\n\r\n            // Reset form\r\n            setFormData({\r\n                advisorName: \"\",\r\n                advisorEmail: \"\",\r\n                advisorType: \"career_coach\",\r\n                invitationMessage: \"\",\r\n                focusAreas: [],\r\n                sharedData: {\r\n                    shareResume: true,\r\n                    shareCoverLetters: true,\r\n                    shareApplications: true,\r\n                    shareInterviewPrep: true,\r\n                    shareGoals: true,\r\n                    shareSkillGaps: true,\r\n                    shareProgress: true,\r\n                    shareSalaryInfo: false,\r\n                    shareNetworkContacts: false,\r\n                },\r\n                contractTerms: {\r\n                    isOpenEnded: true,\r\n                    totalSessions: null,\r\n                    startDate: null,\r\n                    endDate: null,\r\n                },\r\n            });\r\n            setStep(1);\r\n\r\n            if (onInviteSent) {\r\n                onInviteSent();\r\n            }\r\n\r\n            setTimeout(() => {\r\n                onClose();\r\n                setSuccess(\"\");\r\n            }, 2000);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleBackdropClick = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    const renderStepIndicator = () => (\r\n        <div className=\"flex items-center justify-center mb-6\">\r\n            {[1, 2, 3, 4].map((s) => (\r\n                <React.Fragment key={s}>\r\n                    <div\r\n                        className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${s === step\r\n                                ? \"bg-indigo-600 text-white\"\r\n                                : s < step\r\n                                    ? \"bg-green-500 text-white\"\r\n                                    : \"bg-gray-200 text-gray-600\"\r\n                            }`}\r\n                    >\r\n                        {s < step ? \"Γ£ô\" : s}\r\n                    </div>\r\n                    {s < 4 && (\r\n                        <div\r\n                            className={`w-12 h-1 ${s < step ? \"bg-green-500\" : \"bg-gray-200\"\r\n                                }`}\r\n                        />\r\n                    )}\r\n                </React.Fragment>\r\n            ))}\r\n        </div>\r\n    );\r\n\r\n    const renderStep1 = () => (\r\n        <div className=\"space-y-6\">\r\n            <div>\r\n                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                    Advisor Name *\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    value={formData.advisorName}\r\n                    onChange={handleNameChange}\r\n                    placeholder=\"John Smith\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                />\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                    Enter the full name of the career advisor\r\n                </p>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                    Advisor Email *\r\n                </label>\r\n                <input\r\n                    type=\"email\"\r\n                    value={formData.advisorEmail}\r\n                    onChange={handleEmailChange}\r\n                    placeholder=\"advisor@example.com\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                />\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                    Enter the email of the career advisor you want to invite\r\n                </p>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-gray-700 font-medium mb-3\">\r\n                    Advisor Type\r\n                </label>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                    {ADVISOR_TYPES.map((type) => (\r\n                        <button\r\n                            key={type.id}\r\n                            type=\"button\"\r\n                            onClick={() => handleAdvisorTypeChange(type.id)}\r\n                            className={`p-3 rounded-lg border-2 text-left transition-all ${formData.advisorType === type.id\r\n                                    ? \"border-indigo-500 bg-indigo-50\"\r\n                                    : \"border-gray-200 hover:border-gray-300\"\r\n                                }`}\r\n                        >\r\n                            <div className=\"font-medium text-gray-900\">{type.label}</div>\r\n                            <div className=\"text-sm text-gray-500\">{type.description}</div>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderStep2 = () => (\r\n        <div className=\"space-y-6\">\r\n            <div>\r\n                <label className=\"block text-gray-700 font-medium mb-3\">\r\n                    Focus Areas\r\n                </label>\r\n                <p className=\"text-sm text-gray-500 mb-3\">\r\n                    Select the areas where you need the most guidance\r\n                </p>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n                    {FOCUS_AREAS.map((area) => (\r\n                        <button\r\n                            key={area.id}\r\n                            type=\"button\"\r\n                            onClick={() => toggleFocusArea(area.id)}\r\n                            className={`px-3 py-2 rounded-lg text-sm transition-all ${formData.focusAreas.includes(area.id)\r\n                                    ? \"bg-indigo-600 text-white\"\r\n                                    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                                }`}\r\n                        >\r\n                            {area.label}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-gray-700 font-medium mb-2\">\r\n                    Personal Message\r\n                </label>\r\n                <textarea\r\n                    value={formData.invitationMessage}\r\n                    onChange={handleMessageChange}\r\n                    placeholder=\"Introduce yourself and explain what you're looking for in a career advisor...\"\r\n                    rows={4}\r\n                    maxLength={1000}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                />\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                    {formData.invitationMessage.length}/1000 characters\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderStep3 = () => (\r\n        <div className=\"space-y-6\">\r\n            <div>\r\n                <label className=\"block text-gray-700 font-medium mb-3\">\r\n                    What would you like to share with your advisor?\r\n                </label>\r\n                <p className=\"text-sm text-gray-500 mb-4\">\r\n                    Control what information your advisor can access. You can change these settings later.\r\n                </p>\r\n                <div className=\"space-y-3\">\r\n                    {SHARED_DATA_OPTIONS.map((option) => (\r\n                        <label\r\n                            key={option.key}\r\n                            className=\"flex items-start p-3 rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer\"\r\n                        >\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={formData.sharedData[option.key]}\r\n                                onChange={() => toggleSharedData(option.key)}\r\n                                className=\"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\r\n                            />\r\n                            <div className=\"ml-3\">\r\n                                <div className=\"font-medium text-gray-900\">{option.label}</div>\r\n                                <div className=\"text-sm text-gray-500\">{option.description}</div>\r\n                            </div>\r\n                        </label>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderStep4 = () => (\r\n        <div className=\"space-y-6\">\r\n            <div>\r\n                <label className=\"block text-gray-700 font-medium mb-3\">\r\n                    Engagement Terms\r\n                </label>\r\n\r\n                <div className=\"space-y-4\">\r\n                    <label className=\"flex items-center p-3 rounded-lg border border-gray-200 cursor-pointer\">\r\n                        <input\r\n                            type=\"radio\"\r\n                            checked={formData.contractTerms.isOpenEnded}\r\n                            onChange={() => handleContractChange(\"isOpenEnded\", true)}\r\n                            className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300\"\r\n                        />\r\n                        <div className=\"ml-3\">\r\n                            <div className=\"font-medium text-gray-900\">Open-ended engagement</div>\r\n                            <div className=\"text-sm text-gray-500\">Continue until either party ends the relationship</div>\r\n                        </div>\r\n                    </label>\r\n\r\n                    <label className=\"flex items-center p-3 rounded-lg border border-gray-200 cursor-pointer\">\r\n                        <input\r\n                            type=\"radio\"\r\n                            checked={!formData.contractTerms.isOpenEnded}\r\n                            onChange={() => handleContractChange(\"isOpenEnded\", false)}\r\n                            className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300\"\r\n                        />\r\n                        <div className=\"ml-3\">\r\n                            <div className=\"font-medium text-gray-900\">Fixed-term engagement</div>\r\n                            <div className=\"text-sm text-gray-500\">Set specific dates or number of sessions</div>\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n\r\n                {!formData.contractTerms.isOpenEnded && (\r\n                    <div className=\"mt-4 p-4 bg-gray-50 rounded-lg space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                Number of Sessions (optional)\r\n                            </label>\r\n                            <input\r\n                                type=\"number\"\r\n                                min=\"1\"\r\n                                value={formData.contractTerms.totalSessions || \"\"}\r\n                                onChange={(e) => handleContractChange(\"totalSessions\", e.target.value ? parseInt(e.target.value) : null)}\r\n                                placeholder=\"e.g., 10\"\r\n                                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                    Start Date (optional)\r\n                                </label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={formData.contractTerms.startDate || \"\"}\r\n                                    onChange={(e) => handleContractChange(\"startDate\", e.target.value || null)}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                    End Date (optional)\r\n                                </label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={formData.contractTerms.endDate || \"\"}\r\n                                    onChange={(e) => handleContractChange(\"endDate\", e.target.value || null)}\r\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Summary */}\r\n            <div className=\"p-4 bg-indigo-50 rounded-lg\">\r\n                <h4 className=\"font-medium text-indigo-900 mb-3\">Invitation Summary</h4>\r\n                <dl className=\"space-y-2 text-sm\">\r\n                    <div className=\"flex justify-between\">\r\n                        <dt className=\"text-indigo-700\">Advisor Name:</dt>\r\n                        <dd className=\"font-medium text-indigo-900\">{formData.advisorName}</dd>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                        <dt className=\"text-indigo-700\">Advisor Email:</dt>\r\n                        <dd className=\"font-medium text-indigo-900\">{formData.advisorEmail}</dd>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                        <dt className=\"text-indigo-700\">Type:</dt>\r\n                        <dd className=\"font-medium text-indigo-900\">\r\n                            {ADVISOR_TYPES.find(t => t.id === formData.advisorType)?.label}\r\n                        </dd>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                        <dt className=\"text-indigo-700\">Focus Areas:</dt>\r\n                        <dd className=\"font-medium text-indigo-900\">\r\n                            {formData.focusAreas.length > 0 ? formData.focusAreas.length + \" selected\" : \"None selected\"}\r\n                        </dd>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                        <dt className=\"text-indigo-700\">Shared Data:</dt>\r\n                        <dd className=\"font-medium text-indigo-900\">\r\n                            {Object.values(formData.sharedData).filter(Boolean).length} categories\r\n                        </dd>\r\n                    </div>\r\n                </dl>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n            style={{ backgroundColor: \"rgba(0,0,0,0.48)\" }}\r\n            onClick={handleBackdropClick}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n                    <div>\r\n                        <h2 className=\"text-xl font-bold text-gray-900\">Invite Career Advisor</h2>\r\n                        <p className=\"text-sm text-gray-500\">\r\n                            Step {step} of 4: {\r\n                                step === 1 ? \"Advisor Details\" :\r\n                                    step === 2 ? \"Focus & Message\" :\r\n                                        step === 3 ? \"Data Sharing\" :\r\n                                            \"Terms & Review\"\r\n                            }\r\n                        </p>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600 text-xl\"\r\n                        aria-label=\"Close modal\"\r\n                    >\r\n                        Γ£ò\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"flex-1 overflow-y-auto p-6\">\r\n                    {renderStepIndicator()}\r\n\r\n                    {error && (\r\n                        <div className=\"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    {success && (\r\n                        <div className=\"mb-4 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg\">\r\n                            Γ£ô {success}\r\n                        </div>\r\n                    )}\r\n\r\n                    {step === 1 && renderStep1()}\r\n                    {step === 2 && renderStep2()}\r\n                    {step === 3 && renderStep3()}\r\n                    {step === 4 && renderStep4()}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"sticky bottom-0 bg-white border-t px-6 py-4 flex justify-between\">\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={step === 1 ? onClose : prevStep}\r\n                        className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                    >\r\n                        {step === 1 ? \"Cancel\" : \"Back\"}\r\n                    </button>\r\n\r\n                    {step < 4 ? (\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={nextStep}\r\n                            className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n                        >\r\n                            Continue\r\n                        </button>\r\n                    ) : (\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={handleSubmit}\r\n                            disabled={loading}\r\n                            className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        >\r\n                            {loading ? \"Sending...\" : \"Send Invitation\"}\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nInviteAdvisorModal.propTypes = {\r\n    isOpen: PropTypes.bool.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onInviteSent: PropTypes.func,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\career-simulation\\CareerPathSimulator.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":200,"column":19,"nodeType":"JSXOpeningElement","endLine":200,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":212,"column":19,"nodeType":"JSXOpeningElement","endLine":212,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":224,"column":19,"nodeType":"JSXOpeningElement","endLine":224,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":240,"column":19,"nodeType":"JSXOpeningElement","endLine":240,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":253,"column":19,"nodeType":"JSXOpeningElement","endLine":253,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":277,"column":17,"nodeType":"JSXOpeningElement","endLine":277,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":301,"column":21,"nodeType":"JSXOpeningElement","endLine":301,"endColumn":74},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":340,"column":21,"nodeType":"JSXOpeningElement","endLine":340,"endColumn":74},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":379,"column":21,"nodeType":"JSXOpeningElement","endLine":379,"endColumn":74}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { createCareerSimulation } from '../../api/careerSimulation';\r\nimport CareerSimulationResults from './CareerSimulationResults';\r\n\r\n/**\r\n * UC-128: Career Path Simulator Modal Component\r\n * Allows users to simulate career outcomes without adding new navigation\r\n */\r\nconst CareerPathSimulator = ({ currentJob = null, onClose }) => {\r\n  // Add custom slider styles\r\n  const sliderStyle = `\r\n    <style>\r\n      .custom-slider {\r\n        -webkit-appearance: none;\r\n        appearance: none;\r\n        width: 100%;\r\n        height: 8px;\r\n        border-radius: 8px;\r\n        outline: none;\r\n        background: transparent;\r\n      }\r\n      .custom-slider::-webkit-slider-track {\r\n        width: 100%;\r\n        height: 8px;\r\n        border-radius: 8px;\r\n        background: #E8EAE5;\r\n      }\r\n      .custom-slider::-webkit-slider-thumb {\r\n        -webkit-appearance: none;\r\n        appearance: none;\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        background: #777C6D;\r\n        cursor: pointer;\r\n        border: 3px solid white;\r\n        box-shadow: 0 2px 6px rgba(0,0,0,0.2);\r\n        transition: all 0.2s;\r\n      }\r\n      .custom-slider::-webkit-slider-thumb:hover {\r\n        background: #656A5C;\r\n        transform: scale(1.1);\r\n      }\r\n      .custom-slider::-moz-range-track {\r\n        width: 100%;\r\n        height: 8px;\r\n        border-radius: 8px;\r\n        background: #E8EAE5;\r\n      }\r\n      .custom-slider::-moz-range-thumb {\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        background: #777C6D;\r\n        cursor: pointer;\r\n        border: 3px solid white;\r\n        box-shadow: 0 2px 6px rgba(0,0,0,0.2);\r\n        transition: all 0.2s;\r\n      }\r\n      .custom-slider::-moz-range-thumb:hover {\r\n        background: #656A5C;\r\n        transform: scale(1.1);\r\n      }\r\n      .custom-slider::-moz-range-progress {\r\n        height: 8px;\r\n        border-radius: 8px;\r\n        background: #777C6D;\r\n      }\r\n    </style>\r\n  `;\r\n  const { getToken } = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n  const [simulation, setSimulation] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    currentRole: {\r\n      title: currentJob?.title || '',\r\n      salary: currentJob?.salary?.min || currentJob?.salary?.max || 80000,\r\n      level: 'Mid',\r\n      industry: currentJob?.industry || 'Technology',\r\n      yearsOfExperience: 3\r\n    },\r\n    targetRoles: currentJob ? [{\r\n      jobId: currentJob._id,\r\n      title: currentJob.title,\r\n      company: currentJob.company,\r\n      salary: currentJob.salary?.max || 100000,\r\n      industry: currentJob.industry || 'Technology'\r\n    }] : [],\r\n    timeHorizon: 10,\r\n    successCriteria: {\r\n      workLifeBalanceWeight: 0.33,\r\n      learningOpportunitiesWeight: 0.33,\r\n      impactWeight: 0.34\r\n    }\r\n  });\r\n\r\n  const handleInputChange = (section, field, value) => {\r\n    if (section === 'successCriteria') {\r\n      const newValue = parseFloat(value);\r\n      const currentCriteria = { ...formData.successCriteria, [field]: newValue };\r\n      const total = currentCriteria.workLifeBalanceWeight + currentCriteria.learningOpportunitiesWeight + currentCriteria.impactWeight;\r\n      \r\n      // Prevent total from exceeding 1.0 (100%)\r\n      if (total > 1.0) {\r\n        return; // Don't update if it would exceed 100%\r\n      }\r\n      \r\n      setFormData(prev => ({\r\n        ...prev,\r\n        successCriteria: currentCriteria\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [section]: {\r\n          ...prev[section],\r\n          [field]: field === 'salary' || field === 'yearsOfExperience' ? parseInt(value) : value\r\n        }\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      const response = await createCareerSimulation(formData, token);\r\n      \r\n      if (response.success) {\r\n        setSimulation(response.data.simulation);\r\n      } else {\r\n        setError(response.message || 'Failed to create simulation');\r\n      }\r\n    } catch (err) {\r\n      console.error('Career simulation error:', err);\r\n      setError(err.response?.data?.message || 'Failed to create simulation');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setSimulation(null);\r\n    setError(null);\r\n  };\r\n\r\n  // If simulation results are ready, show them\r\n  if (simulation) {\r\n    return (\r\n      <CareerSimulationResults\r\n        simulation={simulation}\r\n        onBack={handleReset}\r\n        onClose={onClose}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div dangerouslySetInnerHTML={{ __html: sliderStyle }} />\r\n      <div className=\"fixed inset-0 backdrop-blur-sm bg-white/10 flex items-center justify-center z-50 p-4\">\r\n        <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n          <div className=\"p-6\">\r\n          {/* Header */}\r\n          <div className=\"flex justify-between items-start mb-6\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">Career Path Simulator</h2>\r\n              <p className=\"text-sm text-gray-600 mt-1\">\r\n                Model different career trajectories and compare long-term outcomes\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            {/* Current Role Section */}\r\n            <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-3\">Current Role</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Job Title\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.currentRole.title}\r\n                    onChange={(e) => handleInputChange('currentRole', 'title', e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Current Salary ($)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={formData.currentRole.salary}\r\n                    onChange={(e) => handleInputChange('currentRole', 'salary', e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Experience Level\r\n                  </label>\r\n                  <select\r\n                    value={formData.currentRole.level}\r\n                    onChange={(e) => handleInputChange('currentRole', 'level', e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                  >\r\n                    <option value=\"Entry\">Entry</option>\r\n                    <option value=\"Mid\">Mid</option>\r\n                    <option value=\"Senior\">Senior</option>\r\n                    <option value=\"Lead\">Lead</option>\r\n                    <option value=\"Principal\">Principal</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Years of Experience\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={formData.currentRole.yearsOfExperience}\r\n                    onChange={(e) => handleInputChange('currentRole', 'yearsOfExperience', e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                    min=\"0\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Industry\r\n                  </label>\r\n                  <select\r\n                    value={formData.currentRole.industry}\r\n                    onChange={(e) => handleInputChange('currentRole', 'industry', e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                  >\r\n                    <option value=\"Technology\">Technology</option>\r\n                    <option value=\"Finance\">Finance</option>\r\n                    <option value=\"Healthcare\">Healthcare</option>\r\n                    <option value=\"Education\">Education</option>\r\n                    <option value=\"Manufacturing\">Manufacturing</option>\r\n                    <option value=\"Retail\">Retail</option>\r\n                    <option value=\"Consulting\">Consulting</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Simulation Settings */}\r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-3\">Simulation Settings</h3>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Time Horizon (Years)\r\n                </label>\r\n                <select\r\n                  value={formData.timeHorizon}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, timeHorizon: parseInt(e.target.value) }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                >\r\n                  <option value=\"5\">5 Years</option>\r\n                  <option value=\"10\">10 Years</option>\r\n                  <option value=\"15\">15 Years</option>\r\n                  <option value=\"20\">20 Years</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Success Criteria */}\r\n            <div className=\"bg-primary-50 p-5 rounded-xl border-2 border-primary-300\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-1\">Success Criteria Weights</h3>\r\n              <p className=\"text-xs text-gray-600 mb-4\">Adjust how much each factor matters (must total 100%)</p>\r\n              <div className=\"space-y-4\">\r\n                {/* Work-Life Balance */}\r\n                <div>\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <label className=\"text-sm font-medium text-gray-800\">\r\n                      Work-Life Balance\r\n                    </label>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => handleInputChange('successCriteria', 'workLifeBalanceWeight', Math.max(0, formData.successCriteria.workLifeBalanceWeight - 0.01))}\r\n                        className=\"w-7 h-7 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded text-gray-700 font-bold text-lg transition-colors\"\r\n                      >\r\n                        ΓêÆ\r\n                      </button>\r\n                      <span className=\"text-sm font-bold text-primary-700 w-12 text-center\">\r\n                        {Math.round(formData.successCriteria.workLifeBalanceWeight * 100)}%\r\n                      </span>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => handleInputChange('successCriteria', 'workLifeBalanceWeight', Math.min(1, formData.successCriteria.workLifeBalanceWeight + 0.01))}\r\n                        className=\"w-7 h-7 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded text-gray-700 font-bold text-lg transition-colors\"\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    step=\"1\"\r\n                    value={Math.round(formData.successCriteria.workLifeBalanceWeight * 100)}\r\n                    onChange={(e) => handleInputChange('successCriteria', 'workLifeBalanceWeight', e.target.value / 100)}\r\n                    className=\"custom-slider\"\r\n                    style={{\r\n                      background: `linear-gradient(to right, #777C6D 0%, #777C6D ${Math.round(formData.successCriteria.workLifeBalanceWeight * 100)}%, #E8EAE5 ${Math.round(formData.successCriteria.workLifeBalanceWeight * 100)}%, #E8EAE5 100%)`\r\n                    }}\r\n                  />\r\n                </div>\r\n                {/* Learning Opportunities */}\r\n                <div>\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <label className=\"text-sm font-medium text-gray-800\">\r\n                      Learning Opportunities\r\n                    </label>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => handleInputChange('successCriteria', 'learningOpportunitiesWeight', Math.max(0, formData.successCriteria.learningOpportunitiesWeight - 0.01))}\r\n                        className=\"w-7 h-7 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded text-gray-700 font-bold text-lg transition-colors\"\r\n                      >\r\n                        ΓêÆ\r\n                      </button>\r\n                      <span className=\"text-sm font-bold text-primary-700 w-12 text-center\">\r\n                        {Math.round(formData.successCriteria.learningOpportunitiesWeight * 100)}%\r\n                      </span>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => handleInputChange('successCriteria', 'learningOpportunitiesWeight', Math.min(1, formData.successCriteria.learningOpportunitiesWeight + 0.01))}\r\n                        className=\"w-7 h-7 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded text-gray-700 font-bold text-lg transition-colors\"\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    step=\"1\"\r\n                    value={Math.round(formData.successCriteria.learningOpportunitiesWeight * 100)}\r\n                    onChange={(e) => handleInputChange('successCriteria', 'learningOpportunitiesWeight', e.target.value / 100)}\r\n                    className=\"custom-slider\"\r\n                    style={{\r\n                      background: `linear-gradient(to right, #777C6D 0%, #777C6D ${Math.round(formData.successCriteria.learningOpportunitiesWeight * 100)}%, #E8EAE5 ${Math.round(formData.successCriteria.learningOpportunitiesWeight * 100)}%, #E8EAE5 100%)`\r\n                    }}\r\n                  />\r\n                </div>\r\n                {/* Impact & Advancement */}\r\n                <div>\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <label className=\"text-sm font-medium text-gray-800\">\r\n                      Impact & Advancement\r\n                    </label>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => handleInputChange('successCriteria', 'impactWeight', Math.max(0, formData.successCriteria.impactWeight - 0.01))}\r\n                        className=\"w-7 h-7 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded text-gray-700 font-bold text-lg transition-colors\"\r\n                      >\r\n                        ΓêÆ\r\n                      </button>\r\n                      <span className=\"text-sm font-bold text-primary-700 w-12 text-center\">\r\n                        {Math.round(formData.successCriteria.impactWeight * 100)}%\r\n                      </span>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => handleInputChange('successCriteria', 'impactWeight', Math.min(1, formData.successCriteria.impactWeight + 0.01))}\r\n                        className=\"w-7 h-7 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded text-gray-700 font-bold text-lg transition-colors\"\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    step=\"1\"\r\n                    value={Math.round(formData.successCriteria.impactWeight * 100)}\r\n                    onChange={(e) => handleInputChange('successCriteria', 'impactWeight', e.target.value / 100)}\r\n                    className=\"custom-slider\"\r\n                    style={{\r\n                      background: `linear-gradient(to right, #777C6D 0%, #777C6D ${Math.round(formData.successCriteria.impactWeight * 100)}%, #E8EAE5 ${Math.round(formData.successCriteria.impactWeight * 100)}%, #E8EAE5 100%)`\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className=\"text-xs border-t-2 border-primary-200 mt-2 pt-3\">\r\n                  <span className={((formData.successCriteria.workLifeBalanceWeight + formData.successCriteria.learningOpportunitiesWeight + formData.successCriteria.impactWeight) * 100) > 100 ? 'text-red-600 font-semibold' : 'text-blue-700 font-medium'}>\r\n                    Total: {((formData.successCriteria.workLifeBalanceWeight + formData.successCriteria.learningOpportunitiesWeight + formData.successCriteria.impactWeight) * 100).toFixed(0)}%\r\n                  </span>\r\n                  {((formData.successCriteria.workLifeBalanceWeight + formData.successCriteria.learningOpportunitiesWeight + formData.successCriteria.impactWeight) * 100) > 100 && (\r\n                    <span className=\"text-red-600 ml-2\">ΓÜá∩╕Å Cannot exceed 100%</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex gap-3 pt-4\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"flex-1 bg-accent-200 text-gray-900 px-6 py-3 rounded-lg hover:bg-accent-300 disabled:bg-gray-400 disabled:text-gray-600 font-bold shadow-lg transition-all text-base border-2 border-accent-400\"\r\n              >\r\n                {loading ? (\r\n                  <span className=\"flex items-center justify-center\">\r\n                    <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                    </svg>\r\n                    Simulating...\r\n                  </span>\r\n                ) : (\r\n                  'Run Simulation'\r\n                )}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                className=\"px-6 py-3 bg-white border-2 border-gray-700 text-gray-900 rounded-lg hover:bg-gray-100 font-bold transition-all shadow-md\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CareerPathSimulator;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\career-simulation\\CareerSimulationResults.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'index' is defined but never used.","line":15,"column":94,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":99,"suggestions":[{"messageId":"removeVar","data":{"varName":"index"},"fix":{"range":[828,835],"text":""},"desc":"Remove unused variable 'index'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":139,"column":13,"nodeType":"JSXOpeningElement","endLine":139,"endColumn":79}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { LineChart, Line, BarChart, Bar, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\n\r\n/**\r\n * UC-128: Career Simulation Results Display Component\r\n * Shows simulation outcomes with interactive visualizations\r\n */\r\nconst CareerSimulationResults = ({ simulation, onBack, onClose }) => {\r\n  const [selectedPath, setSelectedPath] = useState(simulation.recommendedPath.pathId);\r\n  const [selectedScenario, setSelectedScenario] = useState('realistic');\r\n\r\n  const currentPath = simulation.paths.find(p => p.pathId === selectedPath);\r\n\r\n  // Prepare timeline data for the selected path/scenario\r\n  const timelineData = currentPath?.scenarios[selectedScenario]?.milestones?.map((milestone, index) => ({\r\n    year: milestone.year,\r\n    salary: milestone.salary,\r\n    title: milestone.title,\r\n    level: milestone.level\r\n  })) || [];\r\n\r\n  // Prepare comparison data across paths\r\n  const pathComparisonData = simulation.paths.map(path => ({\r\n    name: path.pathName.length > 20 ? path.pathName.substring(0, 20) + '...' : path.pathName,\r\n    earnings: path.expectedLifetimeEarnings / 1000000, // Convert to millions\r\n    risk: path.riskScore,\r\n    success: path.successScore\r\n  }));\r\n\r\n  // Prepare characteristics radar data\r\n  const characteristicsData = currentPath ? [{\r\n    characteristic: 'Stability',\r\n    value: currentPath.pathCharacteristics.stabilityScore\r\n  }, {\r\n    characteristic: 'Growth',\r\n    value: currentPath.pathCharacteristics.growthPotential\r\n  }, {\r\n    characteristic: 'Learning',\r\n    value: currentPath.pathCharacteristics.learningCurve\r\n  }, {\r\n    characteristic: 'Balance',\r\n    value: currentPath.pathCharacteristics.workLifeBalance\r\n  }, {\r\n    characteristic: 'Demand',\r\n    value: currentPath.pathCharacteristics.marketDemand\r\n  }] : [];\r\n\r\n  // Scenario comparison for selected path\r\n  const scenarioComparisonData = currentPath ? [\r\n    {\r\n      scenario: 'Optimistic',\r\n      earnings: currentPath.scenarios.optimistic.totalEarnings / 1000000,\r\n      finalSalary: currentPath.scenarios.optimistic.finalSalary / 1000\r\n    },\r\n    {\r\n      scenario: 'Realistic',\r\n      earnings: currentPath.scenarios.realistic.totalEarnings / 1000000,\r\n      finalSalary: currentPath.scenarios.realistic.finalSalary / 1000\r\n    },\r\n    {\r\n      scenario: 'Pessimistic',\r\n      earnings: currentPath.scenarios.pessimistic.totalEarnings / 1000000,\r\n      finalSalary: currentPath.scenarios.pessimistic.finalSalary / 1000\r\n    }\r\n  ] : [];\r\n\r\n  const formatCurrency = (value) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0\r\n    }).format(value);\r\n  };\r\n\r\n  const getScenarioColor = (scenario) => {\r\n    return {\r\n      optimistic: '#10b981',\r\n      realistic: '#3b82f6',\r\n      pessimistic: '#f59e0b'\r\n    }[scenario] || '#6b7280';\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 backdrop-blur-sm bg-white/10 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"p-6\">\r\n          {/* Header */}\r\n          <div className=\"flex justify-between items-start mb-6\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">Career Path Simulation Results</h2>\r\n              <p className=\"text-sm text-gray-600 mt-1\">\r\n                {simulation.timeHorizon}-year outlook ΓÇó {simulation.paths.length} paths analyzed\r\n              </p>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={onBack}\r\n                className=\"px-4 py-2 bg-primary-50 text-primary-700 hover:bg-primary-100 rounded-lg font-semibold border-2 border-primary-300 transition-all\"\r\n              >\r\n                ΓåÉ Back\r\n              </button>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Recommended Path Banner */}\r\n          <div className=\"bg-primary-100 border-2 border-primary-400 p-6 rounded-xl mb-6 shadow-md\">\r\n            <div className=\"flex items-start justify-between flex-wrap gap-4\">\r\n              <div className=\"flex-1\">\r\n                <h3 className=\"font-bold text-lg text-gray-900 mb-2\">Recommended Path</h3>\r\n                <p className=\"text-2xl font-bold text-primary-800 mb-3\">\r\n                  {simulation.paths.find(p => p.pathId === simulation.recommendedPath.pathId)?.pathName}\r\n                </p>\r\n                {simulation.recommendedPath.reasoning && (\r\n                  <p className=\"text-sm text-gray-700 leading-relaxed\">\r\n                    {simulation.recommendedPath.reasoning}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div className=\"text-right bg-white px-4 py-3 rounded-lg border-2 border-primary-300 shadow-sm\">\r\n                <div className=\"text-xs font-semibold text-gray-600 uppercase mb-1\">Lifetime Earnings</div>\r\n                <div className=\"text-2xl font-bold text-primary-900\">\r\n                  {formatCurrency(simulation.paths.find(p => p.pathId === simulation.recommendedPath.pathId)?.expectedLifetimeEarnings || 0)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Path Selector */}\r\n          <div className=\"mb-6 bg-gray-50 p-4 rounded-xl border-2 border-gray-300\">\r\n            <label className=\"block text-sm font-semibold text-gray-900 mb-3\">\r\n              Select Path to Analyze\r\n            </label>\r\n            <div className=\"flex gap-3 flex-wrap\">\r\n              {simulation.paths.map(path => (\r\n                <button\r\n                  key={path.pathId}\r\n                  onClick={() => setSelectedPath(path.pathId)}\r\n                  className={`px-5 py-3 rounded-lg border-2 font-bold transition-all shadow-sm ${\r\n                    selectedPath === path.pathId\r\n                      ? 'bg-accent-200 text-gray-900 border-accent-500 shadow-md scale-105'\r\n                      : 'bg-white text-gray-900 border-gray-600 hover:bg-gray-50 hover:border-gray-700'\r\n                  }`}\r\n                >\r\n                  {path.pathName}\r\n                  {path.pathId === simulation.recommendedPath.pathId && (\r\n                    <span className=\"ml-2 text-xs font-semibold\">(Recommended)</span>\r\n                  )}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Key Metrics */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n            <div className=\"bg-primary-50 p-5 rounded-xl border-2 border-primary-300 shadow-sm\">\r\n              <div className=\"text-xs font-semibold text-gray-600 uppercase mb-2\">Lifetime Earnings</div>\r\n              <div className=\"text-xl font-bold text-primary-800\">\r\n                {formatCurrency(currentPath?.expectedLifetimeEarnings || 0)}\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-accent-50 p-5 rounded-xl border-2 border-accent-300 shadow-sm\">\r\n              <div className=\"text-xs font-semibold text-gray-600 uppercase mb-2\">Success Score</div>\r\n              <div className=\"text-xl font-bold text-accent-800\">\r\n                {currentPath?.successScore || 0}/100\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-secondary-100 p-5 rounded-xl border-2 border-secondary-400 shadow-sm\">\r\n              <div className=\"text-xs font-semibold text-gray-600 uppercase mb-2\">Risk Score</div>\r\n              <div className=\"text-xl font-bold text-secondary-800\">\r\n                {currentPath?.riskScore || 0}/100\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-primary-100 p-5 rounded-xl border-2 border-primary-400 shadow-sm\">\r\n              <div className=\"text-xs font-semibold text-gray-600 uppercase mb-2\">Avg Annual Growth</div>\r\n              <div className=\"text-xl font-bold text-primary-900\">\r\n                {currentPath?.averageSalaryGrowthRate || 0}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Scenario Selector & Timeline */}\r\n          <div className=\"mb-6\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h3 className=\"font-semibold text-gray-900\">Career Trajectory</h3>\r\n              <div className=\"flex gap-2\">\r\n                {['optimistic', 'realistic', 'pessimistic'].map(scenario => (\r\n                  <button\r\n                    key={scenario}\r\n                    onClick={() => setSelectedScenario(scenario)}\r\n                    className={`px-3 py-1 rounded-lg text-sm font-medium ${\r\n                      selectedScenario === scenario\r\n                        ? 'text-white'\r\n                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                    }`}\r\n                    style={selectedScenario === scenario ? { backgroundColor: getScenarioColor(scenario) } : {}}\r\n                  >\r\n                    {scenario.charAt(0).toUpperCase() + scenario.slice(1)}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white border border-gray-300 rounded-lg p-4 shadow-sm\">\r\n              <ResponsiveContainer width=\"100%\" height={320}>\r\n                <LineChart data={timelineData} margin={{ top: 5, right: 30, left: 20, bottom: 20 }}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                  <XAxis\r\n                    dataKey=\"year\"\r\n                    label={{ value: 'Year', position: 'insideBottom', offset: -10, style: { fontSize: 14 } }}\r\n                    tick={{ fontSize: 12 }}\r\n                  />\r\n                  <YAxis\r\n                    label={{ value: 'Salary ($)', angle: -90, position: 'insideLeft', style: { fontSize: 14 } }}\r\n                    tickFormatter={(value) => `$${(value / 1000).toFixed(0)}K`}\r\n                    tick={{ fontSize: 12 }}\r\n                    width={80}\r\n                  />\r\n                  <Tooltip\r\n                    formatter={(value) => formatCurrency(value)}\r\n                    labelFormatter={(label) => `Year ${label}`}\r\n                    contentStyle={{ backgroundColor: 'white', border: '1px solid #d1d5db', borderRadius: '6px' }}\r\n                  />\r\n                  <Legend wrapperStyle={{ paddingTop: '10px' }} />\r\n                  <Line\r\n                    type=\"monotone\"\r\n                    dataKey=\"salary\"\r\n                    stroke={getScenarioColor(selectedScenario)}\r\n                    strokeWidth={3}\r\n                    name=\"Salary\"\r\n                    dot={{ r: 5, fill: getScenarioColor(selectedScenario) }}\r\n                    activeDot={{ r: 7 }}\r\n                  />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Two-column layout for remaining visualizations */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Scenario Comparison */}\r\n            <div className=\"bg-white border border-gray-300 rounded-lg p-4 shadow-sm\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-4 text-lg\">Scenario Comparison</h3>\r\n              <ResponsiveContainer width=\"100%\" height={280}>\r\n                <BarChart data={scenarioComparisonData} margin={{ top: 5, right: 30, left: 10, bottom: 5 }}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                  <XAxis dataKey=\"scenario\" tick={{ fontSize: 12 }} />\r\n                  <YAxis\r\n                    yAxisId=\"left\"\r\n                    orientation=\"left\"\r\n                    label={{ value: 'Total ($M)', angle: -90, position: 'insideLeft', style: { fontSize: 12 } }}\r\n                    tick={{ fontSize: 11 }}\r\n                    width={60}\r\n                  />\r\n                  <YAxis\r\n                    yAxisId=\"right\"\r\n                    orientation=\"right\"\r\n                    label={{ value: 'Final Salary ($K)', angle: 90, position: 'insideRight', style: { fontSize: 12 } }}\r\n                    tick={{ fontSize: 11 }}\r\n                    width={60}\r\n                  />\r\n                  <Tooltip contentStyle={{ backgroundColor: 'white', border: '1px solid #d1d5db', borderRadius: '6px' }} />\r\n                  <Legend wrapperStyle={{ paddingTop: '10px', fontSize: '12px' }} />\r\n                  <Bar yAxisId=\"left\" dataKey=\"earnings\" fill=\"#3b82f6\" name=\"Total Earnings ($M)\" radius={[4, 4, 0, 0]} />\r\n                  <Bar yAxisId=\"right\" dataKey=\"finalSalary\" fill=\"#10b981\" name=\"Final Salary ($K)\" radius={[4, 4, 0, 0]} />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            {/* Path Characteristics Radar */}\r\n            <div className=\"bg-white border border-gray-300 rounded-lg p-4 shadow-sm\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-4 text-lg\">Path Characteristics</h3>\r\n              <ResponsiveContainer width=\"100%\" height={280}>\r\n                <RadarChart data={characteristicsData} margin={{ top: 20, right: 30, bottom: 20, left: 30 }}>\r\n                  <PolarGrid stroke=\"#d1d5db\" />\r\n                  <PolarAngleAxis dataKey=\"characteristic\" tick={{ fontSize: 12 }} />\r\n                  <PolarRadiusAxis angle={90} domain={[0, 100]} tick={{ fontSize: 11 }} />\r\n                  <Radar\r\n                    name=\"Scores\"\r\n                    dataKey=\"value\"\r\n                    stroke=\"#8b5cf6\"\r\n                    fill=\"#8b5cf6\"\r\n                    fillOpacity={0.5}\r\n                    strokeWidth={2}\r\n                  />\r\n                  <Tooltip contentStyle={{ backgroundColor: 'white', border: '1px solid #d1d5db', borderRadius: '6px' }} />\r\n                </RadarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Path Comparison Table */}\r\n          <div className=\"mt-6 bg-white border border-gray-300 rounded-lg p-4 shadow-sm\">\r\n            <h3 className=\"font-semibold text-gray-900 mb-4 text-lg\">All Paths Comparison</h3>\r\n            <ResponsiveContainer width=\"100%\" height={Math.max(200, simulation.paths.length * 60)}>\r\n              <BarChart \r\n                data={pathComparisonData} \r\n                layout=\"vertical\"\r\n                margin={{ top: 5, right: 30, left: 10, bottom: 5 }}\r\n              >\r\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                <XAxis \r\n                  type=\"number\" \r\n                  tickFormatter={(value) => `$${value.toFixed(1)}M`}\r\n                  tick={{ fontSize: 12 }}\r\n                />\r\n                <YAxis \r\n                  dataKey=\"name\" \r\n                  type=\"category\" \r\n                  width={180}\r\n                  tick={{ fontSize: 12 }}\r\n                />\r\n                <Tooltip \r\n                  formatter={(value) => `$${value.toFixed(2)}M`}\r\n                  contentStyle={{ backgroundColor: 'white', border: '1px solid #d1d5db', borderRadius: '6px' }}\r\n                />\r\n                <Legend wrapperStyle={{ paddingTop: '10px' }} />\r\n                <Bar \r\n                  dataKey=\"earnings\" \r\n                  fill=\"#3b82f6\" \r\n                  name=\"Lifetime Earnings ($M)\"\r\n                  radius={[0, 4, 4, 0]}\r\n                />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Key Decision Points */}\r\n          {currentPath?.scenarios[selectedScenario]?.keyDecisionPoints?.length > 0 && (\r\n            <div className=\"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-3\">Key Decision Points</h3>\r\n              <div className=\"space-y-2\">\r\n                {currentPath.scenarios[selectedScenario].keyDecisionPoints.map((point, index) => (\r\n                  <div key={index} className=\"flex items-start gap-3 bg-white p-3 rounded\">\r\n                    <div className=\"shrink-0 w-16 text-center\">\r\n                      <div className=\"text-xs text-gray-500\">Year {point.year}</div>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"font-medium text-gray-900\">{point.decision}</div>\r\n                      <div className=\"text-sm text-gray-600 mt-1\">{point.rationale}</div>\r\n                    </div>\r\n                    <div className=\"text-sm font-medium text-blue-600\">\r\n                      {point.impact > 0 ? '+' : ''}{point.impact}%\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CareerSimulationResults;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\collaboration\\FeedbackPanel.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'documentType' is assigned a value but never used.","line":13,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":15,"suggestions":[{"messageId":"removeVar","data":{"varName":"documentType"},"fix":{"range":[329,357],"text":""},"desc":"Remove unused variable 'documentType'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\n\r\n/**\r\n * UC-110: Collaborative Resume and Cover Letter Review\r\n * FeedbackPanel - Component for displaying and managing feedback comments\r\n */\r\nexport default function FeedbackPanel({\r\n  feedback = [],\r\n  onResolveFeedback,\r\n  onDismissFeedback,\r\n  isOwner = false,\r\n  isLoading = false,\r\n  documentType = 'resume' // 'resume' or 'coverLetter'\r\n}) {\r\n  const [filter, setFilter] = useState('all'); // 'all', 'open', 'resolved', 'dismissed'\r\n  const [expandedId, setExpandedId] = useState(null);\r\n  const [resolutionNote, setResolutionNote] = useState('');\r\n\r\n  const filteredFeedback = feedback.filter(item => {\r\n    if (filter === 'all') return true;\r\n    return item.status === filter;\r\n  });\r\n\r\n  const stats = {\r\n    total: feedback.length,\r\n    open: feedback.filter(f => f.status === 'open').length,\r\n    resolved: feedback.filter(f => f.status === 'resolved').length,\r\n    dismissed: feedback.filter(f => f.status === 'dismissed').length\r\n  };\r\n\r\n  // Group feedback by theme for summary\r\n  const themeSummary = feedback.reduce((acc, f) => {\r\n    const theme = f.feedbackTheme || 'other';\r\n    acc[theme] = (acc[theme] || 0) + 1;\r\n    return acc;\r\n  }, {});\r\n\r\n  const handleResolve = async (feedbackId) => {\r\n    await onResolveFeedback(feedbackId, { resolutionNote, status: 'resolved' });\r\n    setExpandedId(null);\r\n    setResolutionNote('');\r\n  };\r\n\r\n  const handleDismiss = async (feedbackId) => {\r\n    await onDismissFeedback(feedbackId, { status: 'dismissed' });\r\n    setExpandedId(null);\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const styles = {\r\n      open: 'bg-yellow-100 text-yellow-800',\r\n      resolved: 'bg-green-100 text-green-800',\r\n      dismissed: 'bg-gray-100 text-gray-600'\r\n    };\r\n    return styles[status] || styles.open;\r\n  };\r\n\r\n  const getThemeBadge = (theme) => {\r\n    const styles = {\r\n      clarity: 'bg-blue-100 text-blue-800',\r\n      impact: 'bg-purple-100 text-purple-800',\r\n      relevance: 'bg-orange-100 text-orange-800',\r\n      professionalism: 'bg-indigo-100 text-indigo-800',\r\n      customization: 'bg-pink-100 text-pink-800',\r\n      other: 'bg-gray-100 text-gray-600'\r\n    };\r\n    return styles[theme] || styles.other;\r\n  };\r\n\r\n  const getTypeBadge = (type) => {\r\n    const styles = {\r\n      general: 'bg-gray-100 text-gray-700',\r\n      grammar: 'bg-red-100 text-red-700',\r\n      content: 'bg-blue-100 text-blue-700',\r\n      tone: 'bg-purple-100 text-purple-700',\r\n      structure: 'bg-green-100 text-green-700',\r\n      formatting: 'bg-yellow-100 text-yellow-700'\r\n    };\r\n    return styles[type] || styles.general;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n      {/* Header with Stats */}\r\n      <div className=\"p-4 border-b border-gray-200\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-3\">Feedback & Comments</h3>\r\n        \r\n        {/* Stats Row */}\r\n        <div className=\"flex gap-4 mb-3\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-gray-800\">{stats.total}</div>\r\n            <div className=\"text-xs text-gray-500\">Total</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-yellow-600\">{stats.open}</div>\r\n            <div className=\"text-xs text-gray-500\">Open</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-green-600\">{stats.resolved}</div>\r\n            <div className=\"text-xs text-gray-500\">Resolved</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-gray-400\">{stats.dismissed}</div>\r\n            <div className=\"text-xs text-gray-500\">Dismissed</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Theme Summary */}\r\n        {Object.keys(themeSummary).length > 0 && (\r\n          <div className=\"mb-3\">\r\n            <div className=\"text-xs text-gray-500 mb-1\">Feedback Themes:</div>\r\n            <div className=\"flex flex-wrap gap-1\">\r\n              {Object.entries(themeSummary).map(([theme, count]) => (\r\n                <span key={theme} className={`px-2 py-0.5 rounded-full text-xs ${getThemeBadge(theme)}`}>\r\n                  {theme}: {count}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Filter Buttons */}\r\n        <div className=\"flex gap-2\">\r\n          {['all', 'open', 'resolved', 'dismissed'].map(f => (\r\n            <button\r\n              key={f}\r\n              onClick={() => setFilter(f)}\r\n              className={`px-3 py-1 text-sm rounded-full transition-colors ${\r\n                filter === f \r\n                  ? 'bg-[#777C6D] text-white' \r\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n              }`}\r\n            >\r\n              {f.charAt(0).toUpperCase() + f.slice(1)}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Feedback List */}\r\n      <div className=\"divide-y divide-gray-100 max-h-[500px] overflow-y-auto\">\r\n        {isLoading ? (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            <div className=\"animate-spin w-6 h-6 border-2 border-[#777C6D] border-t-transparent rounded-full mx-auto mb-2\"></div>\r\n            Loading feedback...\r\n          </div>\r\n        ) : filteredFeedback.length === 0 ? (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            <svg className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n            </svg>\r\n            <p>{filter === 'all' ? 'No feedback yet' : `No ${filter} feedback`}</p>\r\n          </div>\r\n        ) : (\r\n          filteredFeedback.map((item) => (\r\n            <div key={item._id} className=\"p-4 hover:bg-gray-50 transition-colors\">\r\n              <div className=\"flex justify-between items-start mb-2\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  {/* Author Avatar */}\r\n                  <div className=\"w-8 h-8 rounded-full bg-[#777C6D] text-white flex items-center justify-center text-sm font-medium\">\r\n                    {(item.authorName || item.authorEmail || 'A').charAt(0).toUpperCase()}\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-medium text-gray-800 text-sm\">\r\n                      {item.authorName || item.authorEmail || 'Anonymous'}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      {new Date(item.createdAt).toLocaleDateString()} at {new Date(item.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center gap-2\">\r\n                  {item.suggestionType && item.suggestionType !== 'general' && (\r\n                    <span className={`px-2 py-0.5 rounded text-xs ${getTypeBadge(item.suggestionType)}`}>\r\n                      {item.suggestionType}\r\n                    </span>\r\n                  )}\r\n                  <span className={`px-2 py-0.5 rounded text-xs ${getStatusBadge(item.status)}`}>\r\n                    {item.status}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Selected Text (if inline comment) */}\r\n              {item.selectedText && (\r\n                <div className=\"mb-2 p-2 bg-yellow-50 border-l-2 border-yellow-400 text-sm text-gray-600 italic\">\r\n                  \"{item.selectedText}\"\r\n                </div>\r\n              )}\r\n\r\n              {/* Comment */}\r\n              <p className=\"text-gray-700 text-sm mb-2\">{item.comment}</p>\r\n\r\n              {/* Theme Badge */}\r\n              {item.feedbackTheme && item.feedbackTheme !== 'other' && (\r\n                <span className={`px-2 py-0.5 rounded-full text-xs ${getThemeBadge(item.feedbackTheme)}`}>\r\n                  {item.feedbackTheme}\r\n                </span>\r\n              )}\r\n\r\n              {/* Resolution Note */}\r\n              {item.status === 'resolved' && item.resolutionNote && (\r\n                <div className=\"mt-2 p-2 bg-green-50 border-l-2 border-green-400 text-sm\">\r\n                  <span className=\"font-medium text-green-800\">Resolution:</span>\r\n                  <span className=\"text-gray-600 ml-1\">{item.resolutionNote}</span>\r\n                </div>\r\n              )}\r\n\r\n              {/* Owner Actions */}\r\n              {isOwner && item.status === 'open' && (\r\n                <div className=\"mt-3\">\r\n                  {expandedId === item._id ? (\r\n                    <div className=\"space-y-2\">\r\n                      <textarea\r\n                        value={resolutionNote}\r\n                        onChange={(e) => setResolutionNote(e.target.value)}\r\n                        placeholder=\"Add a resolution note (optional)...\"\r\n                        rows={2}\r\n                        className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-[#777C6D] focus:border-transparent resize-none\"\r\n                      />\r\n                      <div className=\"flex gap-2\">\r\n                        <button\r\n                          onClick={() => handleResolve(item._id)}\r\n                          className=\"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors\"\r\n                        >\r\n                          Mark Resolved\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDismiss(item._id)}\r\n                          className=\"px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors\"\r\n                        >\r\n                          Dismiss\r\n                        </button>\r\n                        <button\r\n                          onClick={() => { setExpandedId(null); setResolutionNote(''); }}\r\n                          className=\"px-3 py-1 text-sm text-gray-600 hover:text-gray-800\"\r\n                        >\r\n                          Cancel\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <button\r\n                      onClick={() => setExpandedId(item._id)}\r\n                      className=\"text-sm text-[#777C6D] hover:text-[#6a6f62]\"\r\n                    >\r\n                      Respond to feedback\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\collaboration\\ShareSettingsModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":108,"column":5,"nodeType":"JSXOpeningElement","endLine":112,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":108,"column":5,"nodeType":"JSXOpeningElement","endLine":112,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":113,"column":7,"nodeType":"JSXOpeningElement","endLine":116,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":113,"column":7,"nodeType":"JSXOpeningElement","endLine":116,"endColumn":8},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":194,"column":21,"nodeType":"JSXOpeningElement","endLine":194,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":198,"column":23,"nodeType":"JSXOpeningElement","endLine":198,"endColumn":137},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":212,"column":23,"nodeType":"JSXOpeningElement","endLine":212,"endColumn":137},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":232,"column":23,"nodeType":"JSXOpeningElement","endLine":232,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":297,"column":21,"nodeType":"JSXOpeningElement","endLine":297,"endColumn":85},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":342,"column":25,"nodeType":"JSXOpeningElement","endLine":342,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":356,"column":25,"nodeType":"JSXOpeningElement","endLine":356,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":370,"column":25,"nodeType":"JSXOpeningElement","endLine":370,"endColumn":89}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport Button from '../Button';\r\n\r\n/**\r\n * UC-110: Collaborative Resume and Cover Letter Review\r\n * ShareSettingsModal - Modal for configuring share settings including reviewers, permissions, and deadlines\r\n */\r\nexport default function ShareSettingsModal({\r\n  isOpen,\r\n  onClose,\r\n  onCreateShare,\r\n  documentName = 'Document',\r\n  documentType = 'resume', // 'resume' or 'coverLetter'\r\n  existingShares = [],\r\n  onRevokeShare,\r\n  isLoading = false\r\n}) {\r\n  const [privacy, setPrivacy] = useState('unlisted');\r\n  const [allowComments, setAllowComments] = useState(true);\r\n  const [canViewContact, setCanViewContact] = useState(false);\r\n  const [note, setNote] = useState('');\r\n  const [expiresAt, setExpiresAt] = useState('');\r\n  const [deadline, setDeadline] = useState('');\r\n  const [reviewers, setReviewers] = useState([{ email: '', name: '', role: 'Reviewer' }]);\r\n  const [showAdvanced, setShowAdvanced] = useState(false);\r\n  const [createdShareUrl, setCreatedShareUrl] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('create'); // 'create' or 'manage'\r\n\r\n  const handleAddReviewer = () => {\r\n    setReviewers([...reviewers, { email: '', name: '', role: 'Reviewer' }]);\r\n  };\r\n\r\n  const handleRemoveReviewer = (index) => {\r\n    setReviewers(reviewers.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleReviewerChange = (index, field, value) => {\r\n    const updated = [...reviewers];\r\n    updated[index][field] = value;\r\n    setReviewers(updated);\r\n    // Clear validation error when user starts typing an email\r\n    if (field === 'email' && value.trim()) {\r\n      setValidationError(null);\r\n    }\r\n  };\r\n\r\n  const [validationError, setValidationError] = useState(null);\r\n\r\n  const handleCreateShare = async () => {\r\n    const validReviewers = reviewers.filter(r => r.email.trim());\r\n    \r\n    // UC-110: Validate that private shares require at least one reviewer email\r\n    if (privacy === 'private' && validReviewers.length === 0) {\r\n      setValidationError('At least one reviewer email is required for private shares.');\r\n      return;\r\n    }\r\n    \r\n    setValidationError(null);\r\n    \r\n    const payload = {\r\n      privacy,\r\n      allowComments,\r\n      canViewContact,\r\n      note: note.trim() || null,\r\n      expiresAt: expiresAt || null,\r\n      deadline: deadline || null,\r\n      allowedReviewers: validReviewers\r\n    };\r\n\r\n    try {\r\n      const result = await onCreateShare(payload);\r\n      if (result?.url) {\r\n        setCreatedShareUrl(result.url);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to create share:', err);\r\n    }\r\n  };\r\n\r\n  const handleCopyLink = () => {\r\n    if (createdShareUrl) {\r\n      navigator.clipboard.writeText(createdShareUrl);\r\n      alert('Link copied to clipboard!');\r\n    }\r\n  };\r\n\r\n  const handleRevokeShare = async (token) => {\r\n    if (window.confirm('Are you sure you want to revoke this share link? Reviewers will no longer be able to access the document.')) {\r\n      await onRevokeShare(token);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setPrivacy('unlisted');\r\n    setAllowComments(true);\r\n    setCanViewContact(false);\r\n    setNote('');\r\n    setExpiresAt('');\r\n    setDeadline('');\r\n    setReviewers([{ email: '', name: '', role: 'Reviewer' }]);\r\n    setCreatedShareUrl(null);\r\n    setValidationError(null);\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"p-6 border-b border-gray-200\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <h2 className=\"text-2xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n              Share {documentName}\r\n            </h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-500 hover:text-gray-700 transition-colors\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Tabs */}\r\n          <div className=\"flex mt-4 border-b border-gray-200\">\r\n            <button\r\n              onClick={() => setActiveTab('create')}\r\n              className={`px-4 py-2 text-sm font-medium ${activeTab === 'create' ? 'text-[#777C6D] border-b-2 border-[#777C6D]' : 'text-gray-500 hover:text-gray-700'}`}\r\n            >\r\n              Create Share Link\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('manage')}\r\n              className={`px-4 py-2 text-sm font-medium ${activeTab === 'manage' ? 'text-[#777C6D] border-b-2 border-[#777C6D]' : 'text-gray-500 hover:text-gray-700'}`}\r\n            >\r\n              Manage Shares ({existingShares.filter(s => s.status === 'active').length})\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6 overflow-y-auto max-h-[60vh]\">\r\n          {activeTab === 'create' ? (\r\n            <>\r\n              {createdShareUrl ? (\r\n                /* Success State */\r\n                <div className=\"text-center py-8\">\r\n                  <div className=\"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4\">\r\n                    <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                    </svg>\r\n                  </div>\r\n                  <h3 className=\"text-lg font-semibold mb-2\">Share Link Created!</h3>\r\n                  <p className=\"text-gray-600 mb-4\">Your {documentType} is now shared. Copy the link below to send to reviewers.</p>\r\n                  \r\n                  <div className=\"bg-gray-100 rounded-lg p-3 flex items-center gap-2 mb-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      readOnly\r\n                      value={createdShareUrl}\r\n                      className=\"flex-1 bg-transparent border-none text-sm text-gray-700 outline-none\"\r\n                    />\r\n                    <button\r\n                      onClick={handleCopyLink}\r\n                      className=\"px-3 py-1 bg-[#777C6D] text-white rounded text-sm hover:bg-[#6a6f62] transition-colors\"\r\n                    >\r\n                      Copy\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"flex justify-center gap-3\">\r\n                    <Button variant=\"secondary\" onClick={resetForm}>\r\n                      Create Another\r\n                    </Button>\r\n                    <Button onClick={onClose}>\r\n                      Done\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                /* Create Form */\r\n                <div className=\"space-y-6\">\r\n                  {/* Privacy Setting */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Access Level\r\n                    </label>\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"privacy\"\r\n                          value=\"unlisted\"\r\n                          checked={privacy === 'unlisted'}\r\n                          onChange={(e) => { setPrivacy(e.target.value); setValidationError(null); }}\r\n                          className=\"mt-1\"\r\n                        />\r\n                        <div>\r\n                          <div className=\"font-medium\">Anyone with link</div>\r\n                          <div className=\"text-sm text-gray-500\">Anyone with the link can view and comment</div>\r\n                        </div>\r\n                      </label>\r\n                      <label className=\"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"privacy\"\r\n                          value=\"private\"\r\n                          checked={privacy === 'private'}\r\n                          onChange={(e) => { setPrivacy(e.target.value); setValidationError(null); }}\r\n                          className=\"mt-1\"\r\n                        />\r\n                        <div>\r\n                          <div className=\"font-medium\">Specific people only</div>\r\n                          <div className=\"text-sm text-gray-500\">Only designated reviewers can access</div>\r\n                        </div>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Designated Reviewers (for private) */}\r\n                  {privacy === 'private' && (\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        Designated Reviewers <span className=\"text-red-500\">*</span>\r\n                      </label>\r\n                      <p className=\"text-xs text-gray-500 mb-2\">\r\n                        At least one email is required for private shares. Only these users will be able to access and review the document.\r\n                      </p>\r\n                      {validationError && (\r\n                        <div className=\"mb-2 p-2 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700\">\r\n                          {validationError}\r\n                        </div>\r\n                      )}\r\n                      <div className=\"space-y-2\">\r\n                        {reviewers.map((reviewer, index) => (\r\n                          <div key={index} className=\"flex gap-2\">\r\n                            <input\r\n                              type=\"email\"\r\n                              placeholder=\"Email address\"\r\n                              value={reviewer.email}\r\n                              onChange={(e) => handleReviewerChange(index, 'email', e.target.value)}\r\n                              className=\"flex-1 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                            />\r\n                            <input\r\n                              type=\"text\"\r\n                              placeholder=\"Name (optional)\"\r\n                              value={reviewer.name}\r\n                              onChange={(e) => handleReviewerChange(index, 'name', e.target.value)}\r\n                              className=\"w-32 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                            />\r\n                            <select\r\n                              value={reviewer.role}\r\n                              onChange={(e) => handleReviewerChange(index, 'role', e.target.value)}\r\n                              className=\"w-28 px-2 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                            >\r\n                              <option value=\"Reviewer\">Reviewer</option>\r\n                              <option value=\"Mentor\">Mentor</option>\r\n                              <option value=\"Coach\">Coach</option>\r\n                              <option value=\"Peer\">Peer</option>\r\n                            </select>\r\n                            {reviewers.length > 1 && (\r\n                              <button\r\n                                onClick={() => handleRemoveReviewer(index)}\r\n                                className=\"px-2 text-red-500 hover:text-red-700\"\r\n                              >\r\n                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                                </svg>\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                        <button\r\n                          onClick={handleAddReviewer}\r\n                          className=\"text-sm text-[#777C6D] hover:text-[#6a6f62] flex items-center gap-1\"\r\n                        >\r\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n                          </svg>\r\n                          Add reviewer\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Permissions */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Permissions\r\n                    </label>\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"flex items-center gap-3\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={allowComments}\r\n                          onChange={(e) => setAllowComments(e.target.checked)}\r\n                          className=\"rounded text-[#777C6D] focus:ring-[#777C6D]\"\r\n                        />\r\n                        <span className=\"text-sm\">Allow comments and suggestions</span>\r\n                      </label>\r\n                      <label className=\"flex items-center gap-3\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={canViewContact}\r\n                          onChange={(e) => setCanViewContact(e.target.checked)}\r\n                          className=\"rounded text-[#777C6D] focus:ring-[#777C6D]\"\r\n                        />\r\n                        <span className=\"text-sm\">Show contact information (email, phone)</span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Advanced Options Toggle */}\r\n                  <button\r\n                    onClick={() => setShowAdvanced(!showAdvanced)}\r\n                    className=\"text-sm text-gray-600 hover:text-gray-800 flex items-center gap-1\"\r\n                  >\r\n                    <svg \r\n                      className={`w-4 h-4 transition-transform ${showAdvanced ? 'rotate-90' : ''}`} \r\n                      fill=\"none\" \r\n                      stroke=\"currentColor\" \r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                    </svg>\r\n                    Advanced Options\r\n                  </button>\r\n\r\n                  {showAdvanced && (\r\n                    <div className=\"space-y-4 pl-4 border-l-2 border-gray-200\">\r\n                      {/* Review Deadline */}\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          Review Deadline\r\n                        </label>\r\n                        <input\r\n                          type=\"datetime-local\"\r\n                          value={deadline}\r\n                          onChange={(e) => setDeadline(e.target.value)}\r\n                          className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        />\r\n                        <p className=\"text-xs text-gray-500 mt-1\">Reviewers will see this deadline</p>\r\n                      </div>\r\n\r\n                      {/* Link Expiration */}\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          Link Expiration\r\n                        </label>\r\n                        <input\r\n                          type=\"datetime-local\"\r\n                          value={expiresAt}\r\n                          onChange={(e) => setExpiresAt(e.target.value)}\r\n                          className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        />\r\n                        <p className=\"text-xs text-gray-500 mt-1\">Link will stop working after this time</p>\r\n                      </div>\r\n\r\n                      {/* Note */}\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          Note for Reviewers\r\n                        </label>\r\n                        <textarea\r\n                          value={note}\r\n                          onChange={(e) => setNote(e.target.value)}\r\n                          placeholder=\"Add context or instructions for reviewers...\"\r\n                          rows={2}\r\n                          className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-[#777C6D] focus:border-transparent resize-none\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </>\r\n          ) : (\r\n            /* Manage Shares Tab */\r\n            <div>\r\n              {existingShares.length === 0 ? (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                  <svg className=\"w-12 h-12 mx-auto mb-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n                  </svg>\r\n                  <p>No share links created yet</p>\r\n                  <button\r\n                    onClick={() => setActiveTab('create')}\r\n                    className=\"mt-2 text-[#777C6D] hover:underline\"\r\n                  >\r\n                    Create your first share link\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {existingShares.map((share, index) => (\r\n                    <div\r\n                      key={share.token || index}\r\n                      className={`p-4 border rounded-lg ${share.status === 'revoked' ? 'bg-gray-50 opacity-60' : 'bg-white'}`}\r\n                    >\r\n                      <div className=\"flex justify-between items-start\">\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2 mb-1\">\r\n                            <span className={`px-2 py-0.5 rounded text-xs font-medium ${\r\n                              share.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'\r\n                            }`}>\r\n                              {share.status === 'active' ? 'Active' : 'Revoked'}\r\n                            </span>\r\n                            <span className=\"px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-800\">\r\n                              {share.privacy === 'private' ? 'Private' : 'Anyone with link'}\r\n                            </span>\r\n                            {share.allowComments && (\r\n                              <span className=\"px-2 py-0.5 rounded text-xs bg-purple-100 text-purple-800\">\r\n                                Comments enabled\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                          \r\n                          <div className=\"text-xs text-gray-500 mt-2 space-y-1\">\r\n                            <p>Created: {new Date(share.createdAt).toLocaleDateString()}</p>\r\n                            {share.deadline && (\r\n                              <p>Deadline: {new Date(share.deadline).toLocaleDateString()}</p>\r\n                            )}\r\n                            {share.expiresAt && (\r\n                              <p>Expires: {new Date(share.expiresAt).toLocaleDateString()}</p>\r\n                            )}\r\n                            {share.allowedReviewers?.length > 0 && (\r\n                              <p>Reviewers: {share.allowedReviewers.map(r => r.email).join(', ')}</p>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n\r\n                        {share.status === 'active' && (\r\n                          <div className=\"flex gap-2\">\r\n                            <button\r\n                              onClick={() => {\r\n                                const url = `${window.location.origin}/share/${documentType === 'coverLetter' ? 'cover-letter/' : ''}${share.token}`;\r\n                                navigator.clipboard.writeText(url);\r\n                                alert('Link copied!');\r\n                              }}\r\n                              className=\"px-3 py-1 text-sm text-[#777C6D] border border-[#777C6D] rounded hover:bg-[#777C6D] hover:text-white transition-colors\"\r\n                            >\r\n                              Copy Link\r\n                            </button>\r\n                            <button\r\n                              onClick={() => handleRevokeShare(share.token)}\r\n                              className=\"px-3 py-1 text-sm text-red-600 border border-red-300 rounded hover:bg-red-50 transition-colors\"\r\n                            >\r\n                              Revoke\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        {activeTab === 'create' && !createdShareUrl && (\r\n          <div className=\"p-6 border-t border-gray-200 flex justify-end gap-3\">\r\n            <Button variant=\"secondary\" onClick={onClose}>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleCreateShare} disabled={isLoading}>\r\n              {isLoading ? 'Creating...' : 'Create Share Link'}\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\coverLetters\\AICoverLetterModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":62,"column":9,"nodeType":"JSXOpeningElement","endLine":66,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":62,"column":9,"nodeType":"JSXOpeningElement","endLine":66,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":67,"column":13,"nodeType":"JSXOpeningElement","endLine":70,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":67,"column":13,"nodeType":"JSXOpeningElement","endLine":70,"endColumn":14},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":103,"column":33,"nodeType":"JSXOpeningElement","endLine":103,"endColumn":97},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":178,"column":37,"nodeType":"JSXOpeningElement","endLine":178,"endColumn":101},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":202,"column":37,"nodeType":"JSXOpeningElement","endLine":202,"endColumn":101},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":225,"column":37,"nodeType":"JSXOpeningElement","endLine":225,"endColumn":101},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":280,"column":45,"nodeType":"JSXOpeningElement","endLine":280,"endColumn":109},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":299,"column":45,"nodeType":"JSXOpeningElement","endLine":299,"endColumn":109},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":318,"column":45,"nodeType":"JSXOpeningElement","endLine":318,"endColumn":109},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":336,"column":45,"nodeType":"JSXOpeningElement","endLine":336,"endColumn":109},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":443,"column":41,"nodeType":"JSXOpeningElement","endLine":443,"endColumn":105},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":530,"column":37,"nodeType":"JSXOpeningElement","endLine":530,"endColumn":101}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Button from '../Button';\r\nimport {\r\n    TONE_OPTIONS,\r\n    INDUSTRY_OPTIONS,\r\n    COMPANY_CULTURE_OPTIONS,\r\n    LENGTH_OPTIONS,\r\n    WRITING_STYLE_OPTIONS,\r\n    validateToneConsistency,\r\n    getRecommendedSettings\r\n} from '../../utils/coverLetterToneConfig';\r\n\r\n/**\r\n * AI Cover Letter Generation Modal Component\r\n * Handles the generation of AI-powered cover letters based on job postings\r\n */\r\nexport default function AICoverLetterModal({\r\n    showAICoverLetterModal,\r\n    setShowAICoverLetterModal,\r\n    isGeneratingAI,\r\n    setIsGeneratingAI,\r\n    aiJobId,\r\n    setAiJobId,\r\n    aiTone,\r\n    setAiTone,\r\n    aiIndustry,\r\n    setAiIndustry,\r\n    aiCompanyCulture,\r\n    setAiCompanyCulture,\r\n    aiLength,\r\n    setAiLength,\r\n    aiWritingStyle,\r\n    setAiWritingStyle,\r\n    aiCustomInstructions,\r\n    setAiCustomInstructions,\r\n    aiVariationCount,\r\n    setAiVariationCount,\r\n    aiGeneratedVariations,\r\n    setAiGeneratedVariations,\r\n    selectedAIVariation,\r\n    setSelectedAIVariation,\r\n    aiGenerationError,\r\n    setAiGenerationError,\r\n    aiConsistencyWarnings,\r\n    setAiConsistencyWarnings,\r\n    showAdvancedOptions,\r\n    setShowAdvancedOptions,\r\n    jobs,\r\n    authWrap,\r\n    generateAICoverLetter,\r\n    createCoverLetter,\r\n    loadSavedCoverLetters,\r\n    setCoverLetterSuccessMessage,\r\n    setAiCompanyName,\r\n    setAiPosition,\r\n    setAiJobDescription,\r\n    setCultureAnalysis\r\n}) {\r\n    if (!showAICoverLetterModal) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={() => !isGeneratingAI && setShowAICoverLetterModal(false)}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-6\">\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"p-2 rounded-lg bg-gradient-to-br from-purple-100 to-blue-100\">\r\n                                <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <div>\r\n                                <h2 className=\"text-2xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n                                    AI Cover Letter Generator\r\n                                </h2>\r\n                                <p className=\"text-sm text-gray-600 mt-1\">\r\n                                    Generate personalized cover letters based on job postings\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => !isGeneratingAI && setShowAICoverLetterModal(false)}\r\n                            disabled={isGeneratingAI}\r\n                            className=\"text-gray-500 hover:text-gray-700 disabled:opacity-50\"\r\n                        >\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n\r\n                    {!aiGeneratedVariations.length ? (\r\n                        /* Input Form */\r\n                        <div>\r\n                            <div className=\"mb-6\">\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Select Job to Tailor For *\r\n                                </label>\r\n                                <select\r\n                                    className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                                    value={aiJobId}\r\n                                    onChange={(e) => {\r\n                                        setAiJobId(e.target.value);\r\n                                        // Clear any previous errors when job is selected\r\n                                        if (e.target.value) {\r\n                                            setAiGenerationError('');\r\n\r\n                                            // Auto-recommend settings based on job\r\n                                            const selectedJob = jobs.find(j => j._id === e.target.value);\r\n                                            if (selectedJob) {\r\n                                                const recommendations = getRecommendedSettings(\r\n                                                    selectedJob.title,\r\n                                                    selectedJob.description,\r\n                                                    selectedJob.company\r\n                                                );\r\n\r\n                                                // Apply recommendations\r\n                                                setAiTone(recommendations.tone);\r\n                                                setAiIndustry(recommendations.industry);\r\n                                                setAiCompanyCulture(recommendations.companyCulture);\r\n                                                setAiLength(recommendations.length);\r\n                                                setAiWritingStyle(recommendations.writingStyle);\r\n\r\n                                                // Update warnings\r\n                                                const warnings = validateToneConsistency(\r\n                                                    recommendations.tone,\r\n                                                    recommendations.industry,\r\n                                                    recommendations.companyCulture\r\n                                                );\r\n                                                setAiConsistencyWarnings(warnings);\r\n                                            }\r\n                                        }\r\n                                    }}\r\n                                    disabled={isGeneratingAI}\r\n                                >\r\n                                    <option value=\"\">-- Select a job --</option>\r\n                                    {jobs.map((job) => (\r\n                                        <option key={job._id} value={job._id}>\r\n                                            {job.title} at {job.company}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                                {!jobs.length && (\r\n                                    <p className=\"text-sm text-orange-600 mt-2\">\r\n                                        ΓÜá∩╕Å You haven't added any jobs yet. Please add a job first to generate a cover letter.\r\n                                    </p>\r\n                                )}\r\n                            </div>\r\n\r\n                            {aiJobId && (\r\n                                <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n                                    <div className=\"flex items-start gap-2\">\r\n                                        <svg className=\"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                                        </svg>\r\n                                        <div>\r\n                                            <p className=\"font-semibold text-blue-900 text-sm mb-1\">Selected Job</p>\r\n                                            <p className=\"text-blue-800 text-sm\">\r\n                                                <strong>{jobs.find(j => j._id === aiJobId)?.title}</strong> at{' '}\r\n                                                <strong>{jobs.find(j => j._id === aiJobId)?.company}</strong>\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Tone and Style Configuration */}\r\n                            <div className=\"space-y-4 mb-6\">\r\n                                {/* Tone Selection */}\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                        Writing Tone *\r\n                                    </label>\r\n                                    <select\r\n                                        className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                        value={aiTone}\r\n                                        onChange={(e) => {\r\n                                            setAiTone(e.target.value);\r\n                                            // Update warnings when tone changes\r\n                                            const warnings = validateToneConsistency(e.target.value, aiIndustry, aiCompanyCulture);\r\n                                            setAiConsistencyWarnings(warnings);\r\n                                        }}\r\n                                        disabled={isGeneratingAI}\r\n                                    >\r\n                                        {TONE_OPTIONS.map(option => (\r\n                                            <option key={option.value} value={option.value}>\r\n                                                {option.label} - {option.description}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                {/* Industry Selection */}\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                        Industry\r\n                                    </label>\r\n                                    <select\r\n                                        className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                        value={aiIndustry}\r\n                                        onChange={(e) => {\r\n                                            setAiIndustry(e.target.value);\r\n                                            const warnings = validateToneConsistency(aiTone, e.target.value, aiCompanyCulture);\r\n                                            setAiConsistencyWarnings(warnings);\r\n                                        }}\r\n                                        disabled={isGeneratingAI}\r\n                                    >\r\n                                        {INDUSTRY_OPTIONS.map(option => (\r\n                                            <option key={option.value} value={option.value}>\r\n                                                {option.label}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                {/* Company Culture Selection */}\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                        Company Culture\r\n                                    </label>\r\n                                    <select\r\n                                        className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                        value={aiCompanyCulture}\r\n                                        onChange={(e) => {\r\n                                            setAiCompanyCulture(e.target.value);\r\n                                            const warnings = validateToneConsistency(aiTone, aiIndustry, e.target.value);\r\n                                            setAiConsistencyWarnings(warnings);\r\n                                        }}\r\n                                        disabled={isGeneratingAI}\r\n                                    >\r\n                                        {COMPANY_CULTURE_OPTIONS.map(option => (\r\n                                            <option key={option.value} value={option.value}>\r\n                                                {option.label} - {option.description}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                {/* Consistency Warnings */}\r\n                                {aiConsistencyWarnings.length > 0 && (\r\n                                    <div className=\"p-3 bg-amber-50 border border-amber-200 rounded-lg\">\r\n                                        {aiConsistencyWarnings.map((warning, idx) => (\r\n                                            <p key={idx} className=\"text-sm text-amber-800 mb-1 last:mb-0\">\r\n                                                {warning}\r\n                                            </p>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Advanced Options Toggle */}\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowAdvancedOptions(!showAdvancedOptions)}\r\n                                    className=\"flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-700\"\r\n                                    disabled={isGeneratingAI}\r\n                                >\r\n                                    <svg\r\n                                        className={`w-4 h-4 transition-transform ${showAdvancedOptions ? 'rotate-90' : ''}`}\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                    >\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                                    </svg>\r\n                                    {showAdvancedOptions ? 'Hide' : 'Show'} Advanced Options\r\n                                </button>\r\n\r\n                                {/* Advanced Options Panel */}\r\n                                {showAdvancedOptions && (\r\n                                    <div className=\"space-y-4 p-4 bg-gray-50 border border-gray-200 rounded-lg\">\r\n                                        {/* Length Selection */}\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                                Cover Letter Length\r\n                                            </label>\r\n                                            <select\r\n                                                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                                value={aiLength}\r\n                                                onChange={(e) => setAiLength(e.target.value)}\r\n                                                disabled={isGeneratingAI}\r\n                                            >\r\n                                                {LENGTH_OPTIONS.map(option => (\r\n                                                    <option key={option.value} value={option.value}>\r\n                                                        {option.label} - {option.description}\r\n                                                    </option>\r\n                                                ))}\r\n                                            </select>\r\n                                        </div>\r\n\r\n                                        {/* Writing Style Selection */}\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                                Writing Style\r\n                                            </label>\r\n                                            <select\r\n                                                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                                value={aiWritingStyle}\r\n                                                onChange={(e) => setAiWritingStyle(e.target.value)}\r\n                                                disabled={isGeneratingAI}\r\n                                            >\r\n                                                {WRITING_STYLE_OPTIONS.map(option => (\r\n                                                    <option key={option.value} value={option.value}>\r\n                                                        {option.label} - {option.description}\r\n                                                    </option>\r\n                                                ))}\r\n                                            </select>\r\n                                        </div>\r\n\r\n                                        {/* Custom Instructions */}\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                                Custom Instructions (Optional)\r\n                                            </label>\r\n                                            <textarea\r\n                                                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none\"\r\n                                                rows=\"3\"\r\n                                                placeholder=\"Any specific instructions or points to emphasize? (max 500 characters)\"\r\n                                                value={aiCustomInstructions}\r\n                                                onChange={(e) => setAiCustomInstructions(e.target.value.slice(0, 500))}\r\n                                                disabled={isGeneratingAI}\r\n                                            />\r\n                                            <p className=\"text-xs text-gray-500 mt-1\">\r\n                                                {aiCustomInstructions.length}/500 characters\r\n                                            </p>\r\n                                        </div>\r\n\r\n                                        {/* Variation Count */}\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                                Number of Variations\r\n                                            </label>\r\n                                            <select\r\n                                                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                                value={aiVariationCount}\r\n                                                onChange={(e) => setAiVariationCount(Number(e.target.value))}\r\n                                                disabled={isGeneratingAI}\r\n                                            >\r\n                                                <option value={1}>1 Variation</option>\r\n                                                <option value={2}>2 Variations</option>\r\n                                                <option value={3}>3 Variations</option>\r\n                                            </select>\r\n                                            <p className=\"text-xs text-gray-500 mt-1\">\r\n                                                Generate multiple versions to choose from\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {aiGenerationError && (\r\n                                <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n                                    <p className=\"text-sm text-red-800\">{aiGenerationError}</p>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"flex justify-end gap-3\">\r\n                                <Button\r\n                                    variant=\"secondary\"\r\n                                    onClick={() => setShowAICoverLetterModal(false)}\r\n                                    disabled={isGeneratingAI}\r\n                                >\r\n                                    Cancel\r\n                                </Button>\r\n                                <Button\r\n                                    variant=\"primary\"\r\n                                    onClick={async () => {\r\n                                        if (!aiJobId) {\r\n                                            setAiGenerationError('Please select a job to generate a cover letter for');\r\n                                            return;\r\n                                        }\r\n\r\n                                        try {\r\n                                            setIsGeneratingAI(true);\r\n                                            setAiGenerationError('');\r\n                                            await authWrap();\r\n\r\n                                            const response = await generateAICoverLetter({\r\n                                                jobId: aiJobId,\r\n                                                tone: aiTone,\r\n                                                variationCount: aiVariationCount,\r\n                                                industry: aiIndustry,\r\n                                                companyCulture: aiCompanyCulture,\r\n                                                length: aiLength,\r\n                                                writingStyle: aiWritingStyle,\r\n                                                customInstructions: aiCustomInstructions\r\n                                            });\r\n\r\n                                            setAiGeneratedVariations(response.data.data.variations);\r\n                                            setSelectedAIVariation(0);\r\n                                        } catch (err) {\r\n                                            console.error('AI generation failed:', err);\r\n                                            setAiGenerationError(err.response?.data?.message || 'Failed to generate cover letter. Please ensure your profile has work experience and try again.');\r\n                                        } finally {\r\n                                            setIsGeneratingAI(false);\r\n                                        }\r\n                                    }}\r\n                                    disabled={isGeneratingAI || !aiJobId}\r\n                                >\r\n                                    {isGeneratingAI ? (\r\n                                        <>\r\n                                            <svg className=\"animate-spin h-5 w-5 mr-2 inline-block\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                            </svg>\r\n                                            Researching company & generating...\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <svg className=\"w-5 h-5 mr-2 inline-block\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                                            </svg>\r\n                                            Generate Cover Letter\r\n                                        </>\r\n                                    )}\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        /* Results View */\r\n                        <div>\r\n                            <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <svg className=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                                    </svg>\r\n                                    <p className=\"text-sm text-green-800 font-medium\">\r\n                                        Successfully generated {aiGeneratedVariations.length} variation{aiGeneratedVariations.length > 1 ? 's' : ''}!\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Tone Adjustment and Regeneration */}\r\n                            <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n                                <div className=\"flex items-center gap-4 flex-wrap\">\r\n                                    <div className=\"flex-1 min-w-[200px]\">\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                            Adjust Tone\r\n                                        </label>\r\n                                        <select\r\n                                            className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                            value={aiTone}\r\n                                            onChange={(e) => {\r\n                                                setAiTone(e.target.value);\r\n                                                const warnings = validateToneConsistency(e.target.value, aiIndustry, aiCompanyCulture);\r\n                                                setAiConsistencyWarnings(warnings);\r\n                                            }}\r\n                                        >\r\n                                            {TONE_OPTIONS.map(option => (\r\n                                                <option key={option.value} value={option.value}>\r\n                                                    {option.label} - {option.description}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"flex items-end\">\r\n                                        <Button\r\n                                            variant=\"primary\"\r\n                                            onClick={async () => {\r\n                                                if (!aiJobId) {\r\n                                                    setAiGenerationError('Please select a job to regenerate for');\r\n                                                    return;\r\n                                                }\r\n\r\n                                                try {\r\n                                                    setIsGeneratingAI(true);\r\n                                                    setAiGenerationError('');\r\n                                                    await authWrap();\r\n\r\n                                                    const response = await generateAICoverLetter({\r\n                                                        jobId: aiJobId,\r\n                                                        tone: aiTone,\r\n                                                        variationCount: aiVariationCount,\r\n                                                        industry: aiIndustry,\r\n                                                        companyCulture: aiCompanyCulture,\r\n                                                        length: aiLength,\r\n                                                        writingStyle: aiWritingStyle,\r\n                                                        customInstructions: aiCustomInstructions\r\n                                                    });\r\n\r\n                                                    setAiGeneratedVariations(response.data.data.variations);\r\n                                                    setSelectedAIVariation(0);\r\n                                                } catch (err) {\r\n                                                    console.error('Regeneration failed:', err);\r\n                                                    setAiGenerationError(err.response?.data?.message || 'Failed to regenerate cover letter. Please try again.');\r\n                                                } finally {\r\n                                                    setIsGeneratingAI(false);\r\n                                                }\r\n                                            }}\r\n                                            disabled={isGeneratingAI || !aiJobId}\r\n                                        >\r\n                                            {isGeneratingAI ? (\r\n                                                <>\r\n                                                    <svg className=\"animate-spin h-4 w-4 mr-2 inline-block\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                                    </svg>\r\n                                                    Regenerating...\r\n                                                </>\r\n                                            ) : (\r\n                                                <>\r\n                                                    <svg className=\"w-4 h-4 mr-2 inline-block\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n                                                    </svg>\r\n                                                    Regenerate with New Tone\r\n                                                </>\r\n                                            )}\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                                {aiConsistencyWarnings.length > 0 && (\r\n                                    <div className=\"mt-3 p-2 bg-amber-50 border border-amber-200 rounded\">\r\n                                        {aiConsistencyWarnings.map((warning, idx) => (\r\n                                            <p key={idx} className=\"text-xs text-amber-800 mb-1 last:mb-0\">\r\n                                                {warning}\r\n                                            </p>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {aiVariationCount > 1 && (\r\n                                <div className=\"mb-6\">\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                        Select Variation\r\n                                    </label>\r\n                                    <div className=\"flex gap-2\">\r\n                                        {aiGeneratedVariations.map((_, index) => (\r\n                                            <button\r\n                                                key={index}\r\n                                                onClick={() => setSelectedAIVariation(index)}\r\n                                                className={`flex-1 py-2 px-4 rounded-lg border-2 transition ${selectedAIVariation === index\r\n                                                        ? 'border-purple-500 bg-purple-50 text-purple-700'\r\n                                                        : 'border-gray-300 hover:border-gray-400'\r\n                                                    }`}\r\n                                            >\r\n                                                Variation {index + 1}\r\n                                            </button>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"mb-6\">\r\n                                <div className=\"bg-gray-50 p-6 rounded-lg border border-gray-200 max-h-96 overflow-y-auto\">\r\n                                    <pre className=\"whitespace-pre-wrap font-sans text-sm leading-relaxed\">\r\n                                        {aiGeneratedVariations[selectedAIVariation]?.content}\r\n                                    </pre>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-between gap-3\">\r\n                                <Button\r\n                                    variant=\"secondary\"\r\n                                    onClick={() => {\r\n                                        setAiGeneratedVariations([]);\r\n                                        setSelectedAIVariation(0);\r\n                                    }}\r\n                                >\r\n                                    ΓåÉ Generate Another\r\n                                </Button>\r\n                                <div className=\"flex gap-3\">\r\n                                    <Button\r\n                                        variant=\"secondary\"\r\n                                        onClick={() => {\r\n                                            setShowAICoverLetterModal(false);\r\n                                            setAiGeneratedVariations([]);\r\n                                            setAiCompanyName('');\r\n                                            setAiPosition('');\r\n                                            setAiJobDescription('');\r\n                                            setCultureAnalysis(null);\r\n                                        }}\r\n                                    >\r\n                                        Close\r\n                                    </Button>\r\n                                    <Button\r\n                                        variant=\"primary\"\r\n                                        onClick={async () => {\r\n                                            try {\r\n                                                await authWrap();\r\n                                                const selectedContent = aiGeneratedVariations[selectedAIVariation].content;\r\n\r\n                                                // Validate content is not empty\r\n                                                if (!selectedContent || !selectedContent.trim()) {\r\n                                                    alert('Selected cover letter content is empty. Please try generating again.');\r\n                                                    return;\r\n                                                }\r\n\r\n                                                // Find the selected job to get company and position\r\n                                                const selectedJob = jobs.find(j => j._id === aiJobId);\r\n                                                const coverLetterName = selectedJob\r\n                                                    ? `${selectedJob.title} at ${selectedJob.company}`\r\n                                                    : 'AI Generated Cover Letter';\r\n\r\n                                                const response = await createCoverLetter({\r\n                                                    name: coverLetterName,\r\n                                                    content: selectedContent,\r\n                                                    style: aiTone,\r\n                                                    templateId: null\r\n                                                });\r\n\r\n                                                if (response && response.data && response.data.success) {\r\n                                                    setShowAICoverLetterModal(false);\r\n                                                    setAiGeneratedVariations([]);\r\n                                                    setAiJobId('');\r\n\r\n                                                    await loadSavedCoverLetters();\r\n                                                    setCoverLetterSuccessMessage('AI-generated cover letter saved successfully!');\r\n                                                    setTimeout(() => setCoverLetterSuccessMessage(null), 3000);\r\n                                                } else {\r\n                                                    throw new Error('Unexpected response format');\r\n                                                }\r\n                                            } catch (err) {\r\n                                                console.error('Save failed:', err);\r\n                                                const errorMessage = err.response?.data?.message || err.message || 'Unknown error occurred';\r\n                                                alert(`Failed to save cover letter: ${errorMessage}. Please try again.`);\r\n                                            }\r\n                                        }}\r\n                                    >\r\n                                        Save Cover Letter\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\coverLetters\\AddCoverLetterModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":38,"column":9,"nodeType":"JSXOpeningElement","endLine":42,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":38,"column":9,"nodeType":"JSXOpeningElement","endLine":42,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":43,"column":13,"nodeType":"JSXOpeningElement","endLine":46,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":43,"column":13,"nodeType":"JSXOpeningElement","endLine":46,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Button from '../Button';\r\n\r\n/**\r\n * Add Cover Letter Modal Component\r\n * Displays options for creating a new cover letter (template, AI, or from scratch)\r\n */\r\nexport default function AddCoverLetterModal({\r\n    showAddCoverLetterModal,\r\n    setShowAddCoverLetterModal,\r\n    loadCoverLetterTemplates,\r\n    setShowCoverLetterBrowser,\r\n    setAiJobId,\r\n    setAiTone,\r\n    setAiIndustry,\r\n    setAiCompanyCulture,\r\n    setAiLength,\r\n    setAiWritingStyle,\r\n    setAiCustomInstructions,\r\n    setAiVariationCount,\r\n    setAiGeneratedVariations,\r\n    setAiGenerationError,\r\n    setAiConsistencyWarnings,\r\n    setSelectedAIVariation,\r\n    setShowAdvancedOptions,\r\n    loadJobs,\r\n    setShowAICoverLetterModal,\r\n    setSelectedCoverLetterTemplate,\r\n    setCustomCoverLetterName,\r\n    setCustomCoverLetterContent,\r\n    setCustomCoverLetterStyle,\r\n    setIsCreatingCoverLetterTemplate,\r\n    setShowCoverLetterCustomize\r\n}) {\r\n    if (!showAddCoverLetterModal) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={() => setShowAddCoverLetterModal(false)}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-lg w-full\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-6\">\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <div>\r\n                            <h2 className=\"text-2xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n                                Create Cover Letter\r\n                            </h2>\r\n                            <p className=\"text-sm text-gray-600 mt-1\">\r\n                                Choose how you want to create your cover letter\r\n                            </p>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setShowAddCoverLetterModal(false)}\r\n                            className=\"text-gray-500 hover:text-gray-700\"\r\n                        >\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        {/* Option 1: Select Template */}\r\n                        <button\r\n                            onClick={() => {\r\n                                setShowAddCoverLetterModal(false);\r\n                                loadCoverLetterTemplates();\r\n                                setShowCoverLetterBrowser(true);\r\n                            }}\r\n                            className=\"w-full p-6 border-2 border-gray-300 rounded-lg hover:border-[#777C6D] hover:bg-gray-50 transition text-left\"\r\n                        >\r\n                            <div className=\"flex items-start gap-4\">\r\n                                <div className=\"p-3 rounded-lg\" style={{ backgroundColor: \"#E8EAE3\" }}>\r\n                                    <svg className=\"w-6 h-6\" style={{ color: \"#4F5348\" }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <h3 className=\"font-semibold text-lg mb-2\" style={{ color: \"#4F5348\" }}>\r\n                                        Use a Template\r\n                                    </h3>\r\n                                    <p className=\"text-sm text-gray-600 mb-2\">\r\n                                        Choose from professional templates designed for different industries and styles\r\n                                    </p>\r\n                                    <ul className=\"text-xs text-gray-500 space-y-1\">\r\n                                        <li>ΓÇó 5 professional writing styles</li>\r\n                                        <li>ΓÇó Industry-specific guidance</li>\r\n                                        <li>ΓÇó Customizable placeholders</li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </button>\r\n\r\n                        {/* Option 2: AI Generate */}\r\n                        <button\r\n                            onClick={async () => {\r\n                                setShowAddCoverLetterModal(false);\r\n                                // Reset AI state\r\n                                setAiJobId('');\r\n                                setAiTone('formal');\r\n                                setAiIndustry('general');\r\n                                setAiCompanyCulture('corporate');\r\n                                setAiLength('standard');\r\n                                setAiWritingStyle('hybrid');\r\n                                setAiCustomInstructions('');\r\n                                setAiVariationCount(1);\r\n                                setAiGeneratedVariations([]);\r\n                                setAiGenerationError('');\r\n                                setAiConsistencyWarnings([]);\r\n                                setSelectedAIVariation(0);\r\n                                setShowAdvancedOptions(false);\r\n                                // Load jobs for the dropdown\r\n                                await loadJobs();\r\n                                setShowAICoverLetterModal(true);\r\n                            }}\r\n                            className=\"w-full p-6 border-2 border-gray-300 rounded-lg hover:border-[#777C6D] hover:bg-gray-50 transition text-left\"\r\n                        >\r\n                            <div className=\"flex items-start gap-4\">\r\n                                <div className=\"p-3 rounded-lg bg-gradient-to-br from-purple-100 to-blue-100\">\r\n                                    <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <div className=\"flex items-center gap-2 mb-2\">\r\n                                        <h3 className=\"font-semibold text-lg\" style={{ color: \"#4F5348\" }}>\r\n                                            AI Generate\r\n                                        </h3>\r\n                                        <span className=\"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-full\">\r\n                                            NEW\r\n                                        </span>\r\n                                    </div>\r\n                                    <p className=\"text-sm text-gray-600 mb-2\">\r\n                                        Let AI create a personalized cover letter based on the job posting and your profile\r\n                                    </p>\r\n                                    <ul className=\"text-xs text-gray-500 space-y-1\">\r\n                                        <li>ΓÇó Personalized content for any job</li>\r\n                                        <li>ΓÇó Highlights relevant experience</li>\r\n                                        <li>ΓÇó Multiple variations available</li>\r\n                                        <li>ΓÇó Company culture analysis</li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </button>\r\n\r\n                        {/* Option 3: Create from Scratch */}\r\n                        <button\r\n                            onClick={() => {\r\n                                setShowAddCoverLetterModal(false);\r\n                                setSelectedCoverLetterTemplate({\r\n                                    name: 'New Cover Letter',\r\n                                    industry: 'general',\r\n                                    style: 'formal',\r\n                                    content: '',\r\n                                    description: ''\r\n                                });\r\n                                setCustomCoverLetterName('My Cover Letter');\r\n                                setCustomCoverLetterContent('');\r\n                                setCustomCoverLetterStyle('formal');\r\n                                setIsCreatingCoverLetterTemplate(false); // Creating a cover letter, not a template\r\n                                setShowCoverLetterCustomize(true);\r\n                            }}\r\n                            className=\"w-full p-6 border-2 border-gray-300 rounded-lg hover:border-[#777C6D] hover:bg-gray-50 transition text-left\"\r\n                        >\r\n                            <div className=\"flex items-start gap-4\">\r\n                                <div className=\"p-3 rounded-lg\" style={{ backgroundColor: \"#E8EAE3\" }}>\r\n                                    <svg className=\"w-6 h-6\" style={{ color: \"#4F5348\" }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <h3 className=\"font-semibold text-lg mb-2\" style={{ color: \"#4F5348\" }}>\r\n                                        Create from Scratch\r\n                                    </h3>\r\n                                    <p className=\"text-sm text-gray-600\">\r\n                                        Start with a blank canvas and write your own custom cover letter\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"mt-6 flex justify-end\">\r\n                        <Button\r\n                            variant=\"secondary\"\r\n                            onClick={() => setShowAddCoverLetterModal(false)}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\coverLetters\\CoverLetterAnalyticsModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":15,"column":9,"nodeType":"JSXOpeningElement","endLine":19,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":15,"column":9,"nodeType":"JSXOpeningElement","endLine":19,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":20,"column":13,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":20,"column":13,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":14},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":197,"column":29,"nodeType":"JSXAttribute","endLine":197,"endColumn":99},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":198,"column":29,"nodeType":"JSXAttribute","endLine":198,"endColumn":98}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Cover Letter Template Analytics Modal Component\r\n * Displays usage analytics and statistics for cover letter templates\r\n */\r\nexport default function CoverLetterAnalyticsModal({\r\n    showCoverLetterAnalytics,\r\n    setShowCoverLetterAnalytics,\r\n    coverLetterAnalytics\r\n}) {\r\n    if (!showCoverLetterAnalytics || !coverLetterAnalytics) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={() => setShowCoverLetterAnalytics(false)}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-6\">\r\n                    {/* Header */}\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <h2 className=\"text-2xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n                            Template Usage Analytics\r\n                        </h2>\r\n                        <button\r\n                            onClick={() => setShowCoverLetterAnalytics(false)}\r\n                            className=\"text-gray-500 hover:text-gray-700\"\r\n                        >\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Summary Cards */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n                        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <p className=\"text-sm text-blue-600 font-medium\">Total Templates</p>\r\n                                    <p className=\"text-3xl font-bold text-blue-900\">{coverLetterAnalytics.summary.totalTemplates}</p>\r\n                                </div>\r\n                                <svg className=\"w-12 h-12 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                                </svg>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <p className=\"text-sm text-green-600 font-medium\">Total Usage</p>\r\n                                    <p className=\"text-3xl font-bold text-green-900\">{coverLetterAnalytics.summary.totalUsage}</p>\r\n                                </div>\r\n                                <svg className=\"w-12 h-12 text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\r\n                                </svg>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <p className=\"text-sm text-purple-600 font-medium\">Average Usage</p>\r\n                                    <p className=\"text-3xl font-bold text-purple-900\">{coverLetterAnalytics.summary.avgUsage}</p>\r\n                                </div>\r\n                                <svg className=\"w-12 h-12 text-purple-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n                                </svg>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Most Used Template */}\r\n                    {coverLetterAnalytics.mostUsedTemplate && (\r\n                        <div className=\"mb-6\">\r\n                            <h3 className=\"text-lg font-semibold mb-3\" style={{ color: \"#4F5348\" }}>\r\n                                Most Used Template\r\n                            </h3>\r\n                            <div className=\"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div>\r\n                                        <p className=\"text-xl font-bold text-yellow-900\">{coverLetterAnalytics.mostUsedTemplate.name}</p>\r\n                                        <div className=\"flex gap-2 mt-2\">\r\n                                            <span className=\"text-xs px-2 py-1 bg-yellow-100 text-yellow-700 rounded capitalize\">\r\n                                                {coverLetterAnalytics.mostUsedTemplate.industry}\r\n                                            </span>\r\n                                            <span className=\"text-xs px-2 py-1 bg-orange-100 text-orange-700 rounded capitalize\">\r\n                                                {coverLetterAnalytics.mostUsedTemplate.style}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"text-3xl font-bold text-yellow-900\">{coverLetterAnalytics.mostUsedTemplate.usageCount}</p>\r\n                                        <p className=\"text-sm text-yellow-700\">times used</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Top 5 Templates */}\r\n                    <div className=\"mb-6\">\r\n                        <h3 className=\"text-lg font-semibold mb-3\" style={{ color: \"#4F5348\" }}>\r\n                            Top 5 Templates by Usage\r\n                        </h3>\r\n                        <div className=\"space-y-2\">\r\n                            {coverLetterAnalytics.topTemplates.map((template, index) => (\r\n                                <div key={template.id} className=\"flex items-center justify-between bg-gray-50 rounded-lg p-3 border border-gray-200\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-gray-200 text-gray-700 font-bold\">\r\n                                            {index + 1}\r\n                                        </div>\r\n                                        <div>\r\n                                            <p className=\"font-medium text-gray-900\">{template.name}</p>\r\n                                            <div className=\"flex gap-2 mt-1\">\r\n                                                <span className=\"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded capitalize\">\r\n                                                    {template.industry}\r\n                                                </span>\r\n                                                <span className=\"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded capitalize\">\r\n                                                    {template.style}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"text-xl font-bold text-gray-900\">{template.usageCount}</p>\r\n                                        <p className=\"text-xs text-gray-600\">uses</p>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Usage by Industry and Style */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n                        {/* By Industry */}\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold mb-3\" style={{ color: \"#4F5348\" }}>\r\n                                Usage by Industry\r\n                            </h3>\r\n                            <div className=\"space-y-2\">\r\n                                {Object.entries(coverLetterAnalytics.usageByIndustry).map(([industry, data]) => (\r\n                                    <div key={industry} className=\"bg-gray-50 rounded-lg p-3 border border-gray-200\">\r\n                                        <div className=\"flex items-center justify-between mb-2\">\r\n                                            <span className=\"font-medium text-gray-900 capitalize\">{industry}</span>\r\n                                            <span className=\"text-sm text-gray-600\">{data.usage} uses</span>\r\n                                        </div>\r\n                                        <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                            <div\r\n                                                className=\"bg-blue-500 h-2 rounded-full\"\r\n                                                style={{ width: `${(data.usage / coverLetterAnalytics.summary.totalUsage) * 100}%` }}\r\n                                            />\r\n                                        </div>\r\n                                        <p className=\"text-xs text-gray-600 mt-1\">{data.count} templates</p>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* By Style */}\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold mb-3\" style={{ color: \"#4F5348\" }}>\r\n                                Usage by Style\r\n                            </h3>\r\n                            <div className=\"space-y-2\">\r\n                                {Object.entries(coverLetterAnalytics.usageByStyle).map(([style, data]) => (\r\n                                    <div key={style} className=\"bg-gray-50 rounded-lg p-3 border border-gray-200\">\r\n                                        <div className=\"flex items-center justify-between mb-2\">\r\n                                            <span className=\"font-medium text-gray-900 capitalize\">{style}</span>\r\n                                            <span className=\"text-sm text-gray-600\">{data.usage} uses</span>\r\n                                        </div>\r\n                                        <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                            <div\r\n                                                className=\"bg-purple-500 h-2 rounded-full\"\r\n                                                style={{ width: `${(data.usage / coverLetterAnalytics.summary.totalUsage) * 100}%` }}\r\n                                            />\r\n                                        </div>\r\n                                        <p className=\"text-xs text-gray-600 mt-1\">{data.count} templates</p>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Close Button */}\r\n                    <div className=\"flex justify-end\">\r\n                        <button\r\n                            onClick={() => setShowCoverLetterAnalytics(false)}\r\n                            className=\"px-6 py-2 text-white rounded-lg transition\"\r\n                            style={{ backgroundColor: '#777C6D' }}\r\n                            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                        >\r\n                            Close\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\coverLetters\\CoverLetterCustomizeModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":29,"column":5,"nodeType":"JSXOpeningElement","endLine":33,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":29,"column":5,"nodeType":"JSXOpeningElement","endLine":33,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":34,"column":7,"nodeType":"JSXOpeningElement","endLine":37,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":34,"column":7,"nodeType":"JSXOpeningElement","endLine":37,"endColumn":8},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":54,"column":13,"nodeType":"JSXOpeningElement","endLine":54,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":68,"column":15,"nodeType":"JSXOpeningElement","endLine":68,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":91,"column":15,"nodeType":"JSXOpeningElement","endLine":91,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":110,"column":13,"nodeType":"JSXOpeningElement","endLine":110,"endColumn":77}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Button from '../Button';\r\n\r\nexport default function CoverLetterCustomizeModal({\r\n  isOpen,\r\n  selectedTemplate,\r\n  onClose,\r\n  customName,\r\n  setCustomName,\r\n  customContent,\r\n  setCustomContent,\r\n  customStyle,\r\n  setCustomStyle,\r\n  isCreatingTemplate,\r\n  onTemplateChange,\r\n  onSave\r\n}) {\r\n  if (!isOpen || !selectedTemplate) return null;\r\n\r\n  const styleOptions = [\r\n    { value: 'formal', label: 'Formal' },\r\n    { value: 'modern', label: 'Modern' },\r\n    { value: 'creative', label: 'Creative' },\r\n    { value: 'technical', label: 'Technical' },\r\n    { value: 'executive', label: 'Executive' }\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"p-6\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h2 className=\"text-2xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n              Customize Cover Letter\r\n            </h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-500 hover:text-gray-700\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Template Name\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n              value={customName}\r\n              onChange={(e) => setCustomName(e.target.value)}\r\n              placeholder=\"e.g., My Software Engineer Cover Letter\"\r\n            />\r\n          </div>\r\n\r\n          {isCreatingTemplate && (\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Template Style\r\n              </label>\r\n              <select\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                value={selectedTemplate.style || 'formal'}\r\n                onChange={(e) => onTemplateChange({\r\n                  ...selectedTemplate,\r\n                  style: e.target.value\r\n                })}\r\n              >\r\n                {styleOptions.map((option) => (\r\n                  <option key={option.value} value={option.value}>{option.label}</option>\r\n                ))}\r\n              </select>\r\n              <p className=\"text-sm text-gray-500 mt-2\">\r\n                Choose a style that best represents this template\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {!isCreatingTemplate && (\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Cover Letter Style\r\n              </label>\r\n              <select\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                value={customStyle}\r\n                onChange={(e) => setCustomStyle(e.target.value)}\r\n              >\r\n                {styleOptions.map((option) => (\r\n                  <option key={option.value} value={option.value}>{option.label}</option>\r\n                ))}\r\n              </select>\r\n              <p className=\"text-sm text-gray-500 mt-2\">\r\n                Choose a style for your cover letter\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Cover Letter Content\r\n            </label>\r\n            <p className=\"text-sm text-gray-600 mb-4\">\r\n              Replace the placeholders in brackets (e.g., [POSITION], [COMPANY]) with your specific information.\r\n            </p>\r\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4\">\r\n              <p className=\"text-sm text-yellow-800\">\r\n                <strong>Tip:</strong> Common placeholders include [YOUR_NAME], [POSITION], [COMPANY], [HIRING_MANAGER_NAME],\r\n                [FIELD], [SKILLS], [ACHIEVEMENT], etc.\r\n              </p>\r\n            </div>\r\n            <textarea\r\n              className=\"w-full h-96 p-4 border border-gray-300 rounded-lg font-sans text-sm\"\r\n              value={customContent}\r\n              onChange={(e) => setCustomContent(e.target.value)}\r\n              placeholder=\"Customize your cover letter here...\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-3\">\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={onClose}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={onSave}\r\n            >\r\n              {isCreatingTemplate ? 'Create Template' : 'Save Cover Letter'}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\coverLetters\\CoverLetterImportModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":22,"column":9,"nodeType":"JSXOpeningElement","endLine":26,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":22,"column":9,"nodeType":"JSXOpeningElement","endLine":26,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":27,"column":13,"nodeType":"JSXOpeningElement","endLine":30,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":27,"column":13,"nodeType":"JSXOpeningElement","endLine":30,"endColumn":14},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":59,"column":25,"nodeType":"JSXOpeningElement","endLine":59,"endColumn":89}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Button from '../Button';\r\n\r\n/**\r\n * Cover Letter Import Modal Component\r\n * Allows users to import cover letter text and create a template from it\r\n */\r\nexport default function CoverLetterImportModal({\r\n    showCoverLetterImport,\r\n    setShowCoverLetterImport,\r\n    importCoverLetterJson,\r\n    setImportCoverLetterJson,\r\n    customCoverLetterName,\r\n    setCustomCoverLetterName,\r\n    authWrap,\r\n    createCoverLetterTemplate,\r\n    loadCoverLetterTemplates\r\n}) {\r\n    if (!showCoverLetterImport) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={() => setShowCoverLetterImport(false)}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-2xl w-full\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-6\">\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <h2 className=\"text-2xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n                            Import Cover Letter Template\r\n                        </h2>\r\n                        <button\r\n                            onClick={() => setShowCoverLetterImport(false)}\r\n                            className=\"text-gray-500 hover:text-gray-700\"\r\n                        >\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"mb-6\">\r\n                        <p className=\"text-sm text-gray-600 mb-4\">\r\n                            Paste your cover letter text below. We'll create a template from it.\r\n                        </p>\r\n                        <textarea\r\n                            className=\"w-full h-64 p-4 border border-gray-300 rounded-lg text-sm\"\r\n                            value={importCoverLetterJson}\r\n                            onChange={(e) => setImportCoverLetterJson(e.target.value)}\r\n                            placeholder=\"Dear Hiring Manager,&#10;&#10;I am writing to express my interest in...&#10;&#10;Paste your cover letter text here and we'll create a template from it.\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"mb-6\">\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Template Name (Optional)\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                            value={customCoverLetterName}\r\n                            onChange={(e) => setCustomCoverLetterName(e.target.value)}\r\n                            placeholder=\"e.g., My Marketing Cover Letter\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-end gap-3\">\r\n                        <Button\r\n                            variant=\"secondary\"\r\n                            onClick={() => {\r\n                                setShowCoverLetterImport(false);\r\n                                setImportCoverLetterJson('');\r\n                                setCustomCoverLetterName('');\r\n                            }}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"primary\"\r\n                            onClick={async () => {\r\n                                try {\r\n                                    if (!importCoverLetterJson.trim()) {\r\n                                        alert(\"Please paste your cover letter text.\");\r\n                                        return;\r\n                                    }\r\n\r\n                                    await authWrap();\r\n\r\n                                    // Create template from plain text\r\n                                    const templateName = customCoverLetterName.trim() || 'Imported Cover Letter';\r\n                                    await createCoverLetterTemplate({\r\n                                        name: templateName,\r\n                                        industry: 'general',\r\n                                        style: 'formal',\r\n                                        description: 'Imported from text',\r\n                                        content: importCoverLetterJson.trim(),\r\n                                        isTemplate: true  // Import as a reusable template\r\n                                    });\r\n\r\n                                    setShowCoverLetterImport(false);\r\n                                    setImportCoverLetterJson('');\r\n                                    setCustomCoverLetterName('');\r\n                                    await loadCoverLetterTemplates();\r\n                                    alert(\"Cover letter template imported successfully!\");\r\n                                } catch (err) {\r\n                                    console.error(\"Import failed:\", err);\r\n                                    alert(\"Failed to import cover letter. Please try again.\");\r\n                                }\r\n                            }}\r\n                        >\r\n                            Import Template\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\coverLetters\\CoverLetterShareFeedbackPanel.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":36,"column":5,"nodeType":"JSXOpeningElement","endLine":40,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":36,"column":5,"nodeType":"JSXOpeningElement","endLine":40,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":41,"column":7,"nodeType":"JSXOpeningElement","endLine":44,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":41,"column":7,"nodeType":"JSXOpeningElement","endLine":44,"endColumn":8},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":95,"column":19,"nodeType":"JSXOpeningElement","endLine":95,"endColumn":71},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":111,"column":21,"nodeType":"JSXOpeningElement","endLine":111,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":122,"column":19,"nodeType":"JSXOpeningElement","endLine":122,"endColumn":71},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":132,"column":19,"nodeType":"JSXOpeningElement","endLine":132,"endColumn":71},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":141,"column":19,"nodeType":"JSXOpeningElement","endLine":141,"endColumn":71},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":157,"column":21,"nodeType":"JSXAttribute","endLine":157,"endColumn":91},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":158,"column":21,"nodeType":"JSXAttribute","endLine":158,"endColumn":90}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Card from '../Card';\r\n\r\n/**\r\n * Cover Letter Share & Feedback Panel Component (UC-110)\r\n * Displays share links and feedback management for cover letter owners\r\n */\r\nexport default function CoverLetterShareFeedbackPanel({\r\n  showCoverLetterSharePanel,\r\n  setShowCoverLetterSharePanel,\r\n  shareForCoverLetter,\r\n  coverLetterSuccessMessage,\r\n  coverLetterShareForm,\r\n  setCoverLetterShareForm,\r\n  coverLetterShareActionLoading,\r\n  handleGenerateCoverLetterShare,\r\n  createdCoverLetterShareUrl,\r\n  isLoadingCoverLetterShares,\r\n  coverLetterShareLinks,\r\n  loadCoverLetterShares,\r\n  handleRevokeCoverLetterShare,\r\n  isLoadingCoverLetterOwnerFeedback,\r\n  coverLetterOwnerFeedback,\r\n  setCoverLetterOwnerFeedback,\r\n  loadCoverLetterOwnerFeedback,\r\n  handleExportCoverLetterFeedback,\r\n  handleResolveCoverLetterFeedback,\r\n  handleUpdateCoverLetterApproval,\r\n  authWrap,\r\n  apiResolveCoverLetterFeedback,\r\n  getPayload\r\n}) {\r\n  if (!showCoverLetterSharePanel || !shareForCoverLetter) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={() => setShowCoverLetterSharePanel(false)}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-lg shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto border border-gray-200\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10\">\r\n          <div>\r\n            <h3 className=\"text-2xl font-heading font-semibold\">Share & Feedback ΓÇö {shareForCoverLetter.name}</h3>\r\n            {shareForCoverLetter.approvalStatus && (\r\n              <span className={`text-sm px-2 py-1 rounded mt-1 inline-block ${shareForCoverLetter.approvalStatus === 'approved' ? 'bg-green-100 text-green-700' :\r\n                shareForCoverLetter.approvalStatus === 'needs_revision' ? 'bg-yellow-100 text-yellow-700' :\r\n                  'bg-gray-100 text-gray-700'\r\n                }`}>\r\n                Status: {shareForCoverLetter.approvalStatus.replace('_', ' ')}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            {/* Approval buttons */}\r\n            <button\r\n              onClick={() => handleUpdateCoverLetterApproval('approved')}\r\n              className=\"px-3 py-1 text-sm rounded bg-green-100 text-green-700 hover:bg-green-200 transition\"\r\n            >\r\n              Mark Approved\r\n            </button>\r\n            <button\r\n              onClick={() => handleUpdateCoverLetterApproval('needs_revision')}\r\n              className=\"px-3 py-1 text-sm rounded bg-yellow-100 text-yellow-700 hover:bg-yellow-200 transition\"\r\n            >\r\n              Needs Revision\r\n            </button>\r\n            <button\r\n              onClick={() => setShowCoverLetterSharePanel(false)}\r\n              className=\"text-gray-400 hover:text-gray-600 transition\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {coverLetterSuccessMessage && (\r\n          <div className=\"mx-6 mt-6 p-4 border rounded-lg\" style={{ backgroundColor: '#F0FDF4', borderColor: '#BBF7D0' }}>\r\n            <p className=\"font-medium\" style={{ color: '#166534' }}>{coverLetterSuccessMessage}</p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"p-6 grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {/* Create New Share */}\r\n          <Card variant=\"outlined\">\r\n            <div className=\"p-4\">\r\n              <h4 className=\"text-lg font-heading font-semibold mb-3\">Create new share link</h4>\r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <label className=\"text-sm text-gray-700 block mb-1\">Privacy</label>\r\n                  <select\r\n                    className=\"w-full border rounded px-3 py-2\"\r\n                    value={coverLetterShareForm.privacy}\r\n                    onChange={(e) => setCoverLetterShareForm(prev => ({ ...prev, privacy: e.target.value }))}\r\n                  >\r\n                    <option value=\"unlisted\">Unlisted (anyone with link)</option>\r\n                    <option value=\"private\">Private (allow-listed reviewers only)</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <input id=\"clAllowComments\" type=\"checkbox\" className=\"h-4 w-4\" checked={coverLetterShareForm.allowComments} onChange={(e) => setCoverLetterShareForm(prev => ({ ...prev, allowComments: e.target.checked }))} />\r\n                  <label htmlFor=\"clAllowComments\" className=\"text-sm\">Allow comments</label>\r\n                </div>\r\n                {coverLetterShareForm.privacy === 'private' && (\r\n                  <div>\r\n                    <label className=\"text-sm text-gray-700 block mb-1\">Allowed reviewer emails (comma-separated)</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"w-full border rounded px-3 py-2\"\r\n                      placeholder=\"name@example.com, other@example.com\"\r\n                      value={coverLetterShareForm.allowedReviewersText}\r\n                      onChange={(e) => setCoverLetterShareForm(prev => ({ ...prev, allowedReviewersText: e.target.value }))}\r\n                    />\r\n                  </div>\r\n                )}\r\n                <div>\r\n                  <label className=\"text-sm text-gray-700 block mb-1\">Note (optional)</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"w-full border rounded px-3 py-2\"\r\n                    placeholder=\"e.g., For career advisor review\"\r\n                    value={coverLetterShareForm.note}\r\n                    onChange={(e) => setCoverLetterShareForm(prev => ({ ...prev, note: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-700 block mb-1\">Feedback deadline (optional)</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"w-full border rounded px-3 py-2\"\r\n                    value={coverLetterShareForm.deadline}\r\n                    onChange={(e) => setCoverLetterShareForm(prev => ({ ...prev, deadline: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-700 block mb-1\">Link expiry (days, optional)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    className=\"w-full border rounded px-3 py-2\"\r\n                    placeholder=\"e.g., 7\"\r\n                    value={coverLetterShareForm.expiresInDays}\r\n                    onChange={(e) => setCoverLetterShareForm(prev => ({ ...prev, expiresInDays: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <button\r\n                    onClick={handleGenerateCoverLetterShare}\r\n                    disabled={coverLetterShareActionLoading}\r\n                    className=\"px-4 py-2 text-white rounded-lg transition focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50\"\r\n                    style={{ backgroundColor: '#2563EB' }}\r\n                    onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#1D4ED8'}\r\n                    onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#2563EB'}\r\n                  >\r\n                    {coverLetterShareActionLoading ? 'CreatingΓÇª' : 'Create link'}\r\n                  </button>\r\n                  {createdCoverLetterShareUrl && (\r\n                    <button\r\n                      onClick={() => navigator.clipboard.writeText(createdCoverLetterShareUrl)}\r\n                      className=\"px-3 py-2 border rounded text-sm\"\r\n                      title={createdCoverLetterShareUrl}\r\n                    >Copy URL</button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Existing Share Links */}\r\n          <Card variant=\"outlined\">\r\n            <div className=\"p-4\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h4 className=\"text-lg font-heading font-semibold\">Existing links</h4>\r\n                <button\r\n                  onClick={() => loadCoverLetterShares(shareForCoverLetter._id)}\r\n                  className=\"text-sm px-3 py-1 border rounded\"\r\n                >Refresh</button>\r\n              </div>\r\n              {isLoadingCoverLetterShares ? (\r\n                <div className=\"text-sm text-gray-500\">LoadingΓÇª</div>\r\n              ) : (coverLetterShareLinks && coverLetterShareLinks.length > 0 ? (\r\n                <div className=\"space-y-2\">\r\n                  {coverLetterShareLinks.map((s) => (\r\n                    <div key={s.token} className={`p-3 border rounded flex items-center justify-between ${s.status === 'revoked' ? 'opacity-60' : ''}`}>\r\n                      <div className=\"min-w-0\">\r\n                        <p className=\"text-sm font-medium\">{s.privacy === 'private' ? 'Private' : 'Unlisted'} ΓÇó {s.allowComments ? 'Comments on' : 'Comments off'}</p>\r\n                        <p className=\"text-xs text-gray-600 truncate\">Token: {s.token}</p>\r\n                        {s.expiresAt && (\r\n                          <p className=\"text-xs text-gray-500\">Expires: {new Date(s.expiresAt).toLocaleString()}</p>\r\n                        )}\r\n                        {s.deadline && (\r\n                          <p className=\"text-xs text-gray-500\">Feedback deadline: {new Date(s.deadline).toLocaleDateString()}</p>\r\n                        )}\r\n                        <p className=\"text-xs text-gray-500\">Status: {s.status}</p>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n                        {s.status !== 'revoked' && (\r\n                          <>\r\n                            <button\r\n                              onClick={() => navigator.clipboard.writeText(`${window.location.origin}/share/cover-letter/${s.token}`)}\r\n                              className=\"px-2 py-1 border rounded text-xs\"\r\n                            >Copy URL</button>\r\n                            <button\r\n                              onClick={() => handleRevokeCoverLetterShare(s.token)}\r\n                              className=\"px-2 py-1 border rounded text-xs text-red-600 border-red-300\"\r\n                            >Revoke</button>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-sm text-gray-500\">No share links yet.</p>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Feedback Management */}\r\n          <Card variant=\"outlined\" className=\"lg:col-span-2\">\r\n            <div className=\"p-4\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h4 className=\"text-lg font-heading font-semibold\">Feedback</h4>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button onClick={() => loadCoverLetterOwnerFeedback(shareForCoverLetter._id)} className=\"text-sm px-3 py-1 border rounded\">Refresh</button>\r\n                  <button onClick={() => handleExportCoverLetterFeedback('csv')} className=\"text-sm px-3 py-1 border rounded\">Export CSV</button>\r\n                  <button onClick={() => handleExportCoverLetterFeedback('json')} className=\"text-sm px-3 py-1 border rounded\">Export JSON</button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Feedback Stats */}\r\n              {coverLetterOwnerFeedback && coverLetterOwnerFeedback.length > 0 && (\r\n                <div className=\"mb-4 flex gap-4 flex-wrap\">\r\n                  <div className=\"px-3 py-2 bg-gray-100 rounded\">\r\n                    <span className=\"text-sm font-medium\">Total: </span>\r\n                    <span className=\"text-sm\">{coverLetterOwnerFeedback.length}</span>\r\n                  </div>\r\n                  <div className=\"px-3 py-2 bg-blue-50 rounded\">\r\n                    <span className=\"text-sm font-medium text-blue-700\">Open: </span>\r\n                    <span className=\"text-sm text-blue-700\">{coverLetterOwnerFeedback.filter(f => f.status === 'open').length}</span>\r\n                  </div>\r\n                  <div className=\"px-3 py-2 bg-green-50 rounded\">\r\n                    <span className=\"text-sm font-medium text-green-700\">Resolved: </span>\r\n                    <span className=\"text-sm text-green-700\">{coverLetterOwnerFeedback.filter(f => f.status === 'resolved').length}</span>\r\n                  </div>\r\n                  <div className=\"px-3 py-2 bg-yellow-50 rounded\">\r\n                    <span className=\"text-sm font-medium text-yellow-700\">Dismissed: </span>\r\n                    <span className=\"text-sm text-yellow-700\">{coverLetterOwnerFeedback.filter(f => f.status === 'dismissed').length}</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {isLoadingCoverLetterOwnerFeedback ? (\r\n                <div className=\"text-sm text-gray-500\">LoadingΓÇª</div>\r\n              ) : (coverLetterOwnerFeedback && coverLetterOwnerFeedback.length > 0 ? (\r\n                <div className=\"divide-y\">\r\n                  {coverLetterOwnerFeedback.map(fb => (\r\n                    <div key={fb._id} className=\"py-3 flex items-start justify-between gap-4\">\r\n                      <div className=\"min-w-0\">\r\n                        <div className=\"flex items-center gap-2 flex-wrap\">\r\n                          <p className=\"text-sm font-medium\">{fb.authorName || fb.authorEmail || 'Anonymous'}</p>\r\n                          <span className=\"text-xs text-gray-500\">{new Date(fb.createdAt).toLocaleString()}</span>\r\n                          {fb.feedbackTheme && (\r\n                            <span className=\"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded\">{fb.feedbackTheme}</span>\r\n                          )}\r\n                          {fb.suggestionType && (\r\n                            <span className={`text-xs px-2 py-0.5 rounded ${fb.suggestionType === 'critical' ? 'bg-red-100 text-red-700' :\r\n                              fb.suggestionType === 'suggestion' ? 'bg-blue-100 text-blue-700' :\r\n                                'bg-gray-100 text-gray-700'\r\n                              }`}>{fb.suggestionType}</span>\r\n                          )}\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-800 whitespace-pre-wrap mt-1\">{fb.comment}</p>\r\n                        {fb.selectionStart !== undefined && fb.selectionEnd !== undefined && (\r\n                          <p className=\"text-xs text-gray-500 mt-1 italic\">Inline comment (chars {fb.selectionStart}-{fb.selectionEnd})</p>\r\n                        )}\r\n                        {fb.status === 'resolved' && (\r\n                          <p className=\"text-xs text-green-700 mt-1\">Γ£ô Resolved {fb.resolvedAt ? new Date(fb.resolvedAt).toLocaleString() : ''}{fb.resolutionNote ? ` ΓÇó ${fb.resolutionNote}` : ''}</p>\r\n                        )}\r\n                        {fb.status === 'dismissed' && (\r\n                          <p className=\"text-xs text-yellow-700 mt-1\">Γ£ù Dismissed{fb.resolutionNote ? ` ΓÇó ${fb.resolutionNote}` : ''}</p>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"flex-shrink-0 flex gap-1\">\r\n                        {fb.status === 'open' && (\r\n                          <>\r\n                            <button onClick={() => handleResolveCoverLetterFeedback(fb)} className=\"px-2 py-1 border rounded text-xs text-green-600 border-green-300 hover:bg-green-50\">Resolve</button>\r\n                            <button onClick={async () => {\r\n                              try {\r\n                                await authWrap();\r\n                                const note = window.prompt('Add a dismissal note (optional):', '');\r\n                                const resp = await apiResolveCoverLetterFeedback(fb._id, { resolutionNote: note || '', status: 'dismissed' });\r\n                                const payload = getPayload(resp);\r\n                                const updated = payload.feedback || payload;\r\n                                setCoverLetterOwnerFeedback(prev => prev.map(it => it._id === updated._id ? updated : it));\r\n                              } catch (e) {\r\n                                console.error('Dismiss cover letter feedback failed', e);\r\n                              }\r\n                            }} className=\"px-2 py-1 border rounded text-xs text-yellow-600 border-yellow-300 hover:bg-yellow-50\">Dismiss</button>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-sm text-gray-500\">No feedback yet.</p>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\coverLetters\\CoverLetterShareModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":19,"column":9,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":19,"column":9,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":24,"column":13,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":24,"column":13,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Button from '../Button';\r\n\r\n/**\r\n * Cover Letter Share Modal Component\r\n * Allows users to make templates public or private\r\n */\r\nexport default function CoverLetterShareModal({\r\n    showCoverLetterShare,\r\n    setShowCoverLetterShare,\r\n    shareTemplateId,\r\n    authWrap,\r\n    shareCoverLetterTemplate,\r\n    loadCoverLetterTemplates\r\n}) {\r\n    if (!showCoverLetterShare) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={() => setShowCoverLetterShare(false)}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-md w-full\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-6\">\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <h2 className=\"text-2xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n                            Share Template\r\n                        </h2>\r\n                        <button\r\n                            onClick={() => setShowCoverLetterShare(false)}\r\n                            className=\"text-gray-500 hover:text-gray-700\"\r\n                        >\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"mb-6\">\r\n                        <p className=\"text-sm text-gray-600 mb-4\">\r\n                            Choose how you want to share this template:\r\n                        </p>\r\n                        <div className=\"space-y-3\">\r\n                            <button\r\n                                onClick={async () => {\r\n                                    try {\r\n                                        await authWrap();\r\n                                        await shareCoverLetterTemplate(shareTemplateId, { isShared: true });\r\n                                        setShowCoverLetterShare(false);\r\n                                        loadCoverLetterTemplates();\r\n                                        alert(\"Template is now publicly shared!\");\r\n                                    } catch (err) {\r\n                                        console.error(\"Share failed:\", err);\r\n                                        alert(\"Failed to share template\");\r\n                                    }\r\n                                }}\r\n                                className=\"w-full p-4 border-2 border-gray-300 rounded-lg hover:border-[#777C6D] transition text-left\"\r\n                            >\r\n                                <div className=\"font-semibold mb-1\">Make Public</div>\r\n                                <div className=\"text-sm text-gray-600\">Anyone can view and use this template</div>\r\n                            </button>\r\n                            <button\r\n                                onClick={async () => {\r\n                                    try {\r\n                                        await authWrap();\r\n                                        await shareCoverLetterTemplate(shareTemplateId, { isShared: false });\r\n                                        setShowCoverLetterShare(false);\r\n                                        loadCoverLetterTemplates();\r\n                                        alert(\"Template is now private\");\r\n                                    } catch (err) {\r\n                                        console.error(\"Unshare failed:\", err);\r\n                                        alert(\"Failed to update sharing settings\");\r\n                                    }\r\n                                }}\r\n                                className=\"w-full p-4 border-2 border-gray-300 rounded-lg hover:border-[#777C6D] transition text-left\"\r\n                            >\r\n                                <div className=\"font-semibold mb-1\">Make Private</div>\r\n                                <div className=\"text-sm text-gray-600\">Only you can see this template</div>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-end\">\r\n                        <Button\r\n                            variant=\"secondary\"\r\n                            onClick={() => setShowCoverLetterShare(false)}\r\n                        >\r\n                            Close\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\coverLetters\\CoverLetterTemplateBrowserModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":33,"column":9,"nodeType":"JSXOpeningElement","endLine":37,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":33,"column":9,"nodeType":"JSXOpeningElement","endLine":37,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":38,"column":13,"nodeType":"JSXOpeningElement","endLine":41,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":38,"column":13,"nodeType":"JSXOpeningElement","endLine":41,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Card from '../Card';\r\nimport Button from '../Button';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\n\r\n/**\r\n * Cover Letter Template Browser Modal Component\r\n * Displays a grid of available cover letter templates with filtering options\r\n */\r\nexport default function CoverLetterTemplateBrowserModal({\r\n    showCoverLetterBrowser,\r\n    setShowCoverLetterBrowser,\r\n    coverLetterFilters,\r\n    setCoverLetterFilters,\r\n    loadCoverLetterTemplates,\r\n    coverLetterLoading,\r\n    coverLetterTemplates,\r\n    setSelectedCoverLetterTemplate,\r\n    setShowCoverLetterPreview,\r\n    authWrap,\r\n    setCustomCoverLetterName,\r\n    setCustomCoverLetterContent,\r\n    setCustomCoverLetterStyle,\r\n    setIsCreatingCoverLetterTemplate,\r\n    setShowCoverLetterCustomize,\r\n    exportCoverLetterTemplate,\r\n    setShareTemplateId,\r\n    setShowCoverLetterShare\r\n}) {\r\n    if (!showCoverLetterBrowser) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={() => setShowCoverLetterBrowser(false)}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-6\">\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <h2 className=\"text-2xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n                            Cover Letter Templates\r\n                        </h2>\r\n                        <button\r\n                            onClick={() => setShowCoverLetterBrowser(false)}\r\n                            className=\"text-gray-500 hover:text-gray-700\"\r\n                        >\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Filters */}\r\n                    <div className=\"mb-6\">\r\n                        <div className=\"flex gap-4 mb-4\">\r\n                            <select\r\n                                value={coverLetterFilters.style}\r\n                                onChange={(e) => {\r\n                                    const newFilters = { ...coverLetterFilters, style: e.target.value };\r\n                                    setCoverLetterFilters(newFilters);\r\n                                    loadCoverLetterTemplates(newFilters);\r\n                                }}\r\n                                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg\"\r\n                            >\r\n                                <option value=\"\">All Styles</option>\r\n                                <option value=\"formal\">Formal</option>\r\n                                <option value=\"modern\">Modern</option>\r\n                                <option value=\"creative\">Creative</option>\r\n                                <option value=\"technical\">Technical</option>\r\n                                <option value=\"executive\">Executive</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Template Grid */}\r\n                    {coverLetterLoading ? (\r\n                        <div className=\"text-center py-12\">\r\n                            <LoadingSpinner />\r\n                        </div>\r\n                    ) : coverLetterTemplates.length === 0 ? (\r\n                        <div className=\"text-center py-12 text-gray-500\">\r\n                            <p>No templates found</p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                            {(() => {\r\n                                // Deduplicate default templates - keep only one per name\r\n                                const defaultTemplateNames = [\r\n                                    'Formal Professional',\r\n                                    'Modern Professional',\r\n                                    'Creative Expression',\r\n                                    'Technical Professional',\r\n                                    'Executive Leadership',\r\n                                    'Technology Professional',\r\n                                    'Business Professional',\r\n                                    'Healthcare Professional'\r\n                                ];\r\n                                const seenNames = new Set();\r\n                                const uniqueTemplates = coverLetterTemplates.filter(template => {\r\n                                    const isDefaultSystemTemplate = defaultTemplateNames.includes(template.name);\r\n\r\n                                    if (isDefaultSystemTemplate) {\r\n                                        if (seenNames.has(template.name)) {\r\n                                            return false; // Skip duplicate by name\r\n                                        }\r\n                                        seenNames.add(template.name);\r\n                                        return true;\r\n                                    }\r\n                                    return true; // Keep all custom templates\r\n                                });\r\n\r\n                                return uniqueTemplates.map((template) => (\r\n                                    <Card\r\n                                        key={template._id}\r\n                                        variant=\"outlined\"\r\n                                        interactive\r\n                                        className=\"p-4 hover:border-[#777C6D] transition\"\r\n                                    >\r\n                                        <div className=\"flex justify-between items-start mb-3\">\r\n                                            <div>\r\n                                                <h3 className=\"font-semibold text-lg\">{template.name}</h3>\r\n                                                <div className=\"flex gap-2 mt-1\">\r\n                                                    <span className=\"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded capitalize\">\r\n                                                        {template.style} Style\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <p className=\"text-sm text-gray-600 mb-4 line-clamp-2\">\r\n                                            {template.description}\r\n                                        </p>\r\n                                        <div className=\"flex flex-col gap-2\">\r\n                                            <div className=\"flex gap-2\">\r\n                                                <Button\r\n                                                    variant=\"secondary\"\r\n                                                    size=\"small\"\r\n                                                    onClick={() => {\r\n                                                        setSelectedCoverLetterTemplate(template);\r\n                                                        setShowCoverLetterPreview(true);\r\n                                                    }}\r\n                                                >\r\n                                                    Preview\r\n                                                </Button>\r\n                                                <Button\r\n                                                    variant=\"primary\"\r\n                                                    size=\"small\"\r\n                                                    onClick={async () => {\r\n                                                        try {\r\n                                                            await authWrap();\r\n                                                            setSelectedCoverLetterTemplate(template);\r\n                                                            setShowCoverLetterBrowser(false);\r\n\r\n                                                            // Initialize the customization form\r\n                                                            setCustomCoverLetterName(`${template.name} - Customized`);\r\n                                                            setCustomCoverLetterContent(template.content);\r\n                                                            setCustomCoverLetterStyle(template.style || 'formal');\r\n                                                            setIsCreatingCoverLetterTemplate(false); // Using template to create cover letter\r\n                                                            setShowCoverLetterCustomize(true);\r\n                                                        } catch (err) {\r\n                                                            console.error(\"Failed to prepare template:\", err);\r\n                                                        }\r\n                                                    }}\r\n                                                >\r\n                                                    Use\r\n                                                </Button>\r\n                                            </div>\r\n                                            <div className=\"flex gap-2\">\r\n                                                <button\r\n                                                    onClick={async () => {\r\n                                                        try {\r\n                                                            await authWrap();\r\n                                                            const response = await exportCoverLetterTemplate(template._id);\r\n                                                            const dataStr = JSON.stringify(response.data.data.template, null, 2);\r\n                                                            const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n                                                            const url = URL.createObjectURL(dataBlob);\r\n                                                            const link = document.createElement('a');\r\n                                                            link.href = url;\r\n                                                            link.download = `${template.name.replace(/\\s+/g, '_')}_template.json`;\r\n                                                            link.click();\r\n                                                            URL.revokeObjectURL(url);\r\n                                                        } catch (err) {\r\n                                                            console.error(\"Export failed:\", err);\r\n                                                            alert(\"Failed to export template\");\r\n                                                        }\r\n                                                    }}\r\n                                                    className=\"flex-1 text-xs px-2 py-1 border border-gray-300 rounded hover:bg-gray-50 transition\"\r\n                                                >\r\n                                                    Export\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => {\r\n                                                        setShareTemplateId(template._id);\r\n                                                        setShowCoverLetterShare(true);\r\n                                                    }}\r\n                                                    className=\"flex-1 text-xs px-2 py-1 border border-gray-300 rounded hover:bg-gray-50 transition\"\r\n                                                >\r\n                                                    Share\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </Card>\r\n                                ));\r\n                            })()}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\coverLetters\\ManageCoverLetterTemplatesModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":26,"column":9,"nodeType":"JSXOpeningElement","endLine":30,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":26,"column":9,"nodeType":"JSXOpeningElement","endLine":30,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":31,"column":13,"nodeType":"JSXOpeningElement","endLine":34,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":31,"column":13,"nodeType":"JSXOpeningElement","endLine":34,"endColumn":14},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":58,"column":33,"nodeType":"JSXAttribute","endLine":58,"endColumn":103},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":59,"column":33,"nodeType":"JSXAttribute","endLine":59,"endColumn":102},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":70,"column":33,"nodeType":"JSXAttribute","endLine":70,"endColumn":103},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":71,"column":33,"nodeType":"JSXAttribute","endLine":71,"endColumn":102},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":162,"column":57,"nodeType":"JSXAttribute","endLine":162,"endColumn":127},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":163,"column":57,"nodeType":"JSXAttribute","endLine":163,"endColumn":126}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\n\r\n/**\r\n * Manage Cover Letter Templates Modal Component\r\n * Allows users to view, create, import, and delete cover letter templates\r\n */\r\nexport default function ManageCoverLetterTemplatesModal({\r\n    showManageCoverLetterTemplates,\r\n    setShowManageCoverLetterTemplates,\r\n    setSelectedCoverLetterTemplate,\r\n    setCustomCoverLetterName,\r\n    setCustomCoverLetterContent,\r\n    setIsCreatingCoverLetterTemplate,\r\n    setShowCoverLetterCustomize,\r\n    setShowCoverLetterImport,\r\n    coverLetterLoading,\r\n    coverLetterTemplates,\r\n    authWrap,\r\n    deleteCoverLetterTemplate,\r\n    loadCoverLetterTemplates\r\n}) {\r\n    if (!showManageCoverLetterTemplates) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={() => setShowManageCoverLetterTemplates(false)}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-6\">\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <h2 className=\"text-2xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n                            Manage Templates\r\n                        </h2>\r\n                        <div className=\"flex gap-3\">\r\n                            <button\r\n                                onClick={() => {\r\n                                    setShowManageCoverLetterTemplates(false);\r\n                                    setSelectedCoverLetterTemplate({\r\n                                        name: 'New Template',\r\n                                        industry: 'general',\r\n                                        style: 'formal',\r\n                                        content: '',\r\n                                        description: ''\r\n                                    });\r\n                                    setCustomCoverLetterName('My Custom Template');\r\n                                    setCustomCoverLetterContent('');\r\n                                    setIsCreatingCoverLetterTemplate(true); // Creating a template, not a cover letter\r\n                                    setShowCoverLetterCustomize(true);\r\n                                }}\r\n                                className=\"px-4 py-2 text-white rounded-lg transition\"\r\n                                style={{ backgroundColor: '#777C6D' }}\r\n                                onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                                onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                            >\r\n                                Create Template\r\n                            </button>\r\n                            <button\r\n                                onClick={() => {\r\n                                    setShowManageCoverLetterTemplates(false);\r\n                                    setShowCoverLetterImport(true);\r\n                                }}\r\n                                className=\"px-4 py-2 text-white rounded-lg transition\"\r\n                                style={{ backgroundColor: '#777C6D' }}\r\n                                onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                                onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                            >\r\n                                Import Template\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setShowManageCoverLetterTemplates(false)}\r\n                                className=\"text-gray-500 hover:text-gray-700\"\r\n                            >\r\n                                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {coverLetterLoading ? (\r\n                        <div className=\"text-center py-12\">\r\n                            <LoadingSpinner />\r\n                        </div>\r\n                    ) : coverLetterTemplates.length === 0 ? (\r\n                        <div className=\"text-center py-12\">\r\n                            <p className=\"text-gray-600\">No templates available</p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                            {(() => {\r\n                                // Deduplicate default templates - keep only one per name\r\n                                const defaultTemplateNames = [\r\n                                    'Formal Professional',\r\n                                    'Modern Professional',\r\n                                    'Creative Expression',\r\n                                    'Technical Professional',\r\n                                    'Executive Leadership',\r\n                                    'Technology Professional',\r\n                                    'Business Professional',\r\n                                    'Healthcare Professional'\r\n                                ];\r\n                                const seenNames = new Set();\r\n                                const uniqueTemplates = coverLetterTemplates.filter(template => {\r\n                                    const isDefaultSystemTemplate = defaultTemplateNames.includes(template.name);\r\n\r\n                                    if (isDefaultSystemTemplate) {\r\n                                        if (seenNames.has(template.name)) {\r\n                                            return false; // Skip duplicate by name\r\n                                        }\r\n                                        seenNames.add(template.name);\r\n                                        return true;\r\n                                    }\r\n                                    return true; // Keep all custom templates\r\n                                });\r\n\r\n                                return uniqueTemplates.map((template) => {\r\n                                    // Check if this is a default system template\r\n                                    const isDefaultSystemTemplate = defaultTemplateNames.includes(template.name);\r\n\r\n                                    return (\r\n                                        <div\r\n                                            key={template._id}\r\n                                            className=\"border-2 border-gray-300 rounded-lg overflow-hidden hover:border-[#777C6D] transition\"\r\n                                        >\r\n                                            <div className=\"bg-white p-4 h-64 overflow-hidden\">\r\n                                                <div className=\"text-xs font-mono whitespace-pre-wrap text-gray-700 line-clamp-[14]\">\r\n                                                    {template.content}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"border-t border-gray-200 p-4 bg-gray-50\">\r\n                                                <div className=\"flex items-start justify-between mb-3\">\r\n                                                    <div className=\"flex-1\">\r\n                                                        <h3 className=\"font-semibold truncate\" style={{ color: \"#4F5348\" }}>\r\n                                                            {template.name}\r\n                                                        </h3>\r\n                                                        <p className=\"text-xs text-gray-600 mt-1\">{template.description || template.style}</p>\r\n                                                    </div>\r\n                                                    {template.isDefault && (\r\n                                                        <span className=\"ml-2 px-2 py-1 text-xs rounded\" style={{ backgroundColor: \"#E8EAE3\", color: \"#4F5348\" }}>\r\n                                                            Default\r\n                                                        </span>\r\n                                                    )}\r\n                                                </div>\r\n                                                <div className=\"flex gap-2\">\r\n                                                    <button\r\n                                                        onClick={() => {\r\n                                                            setSelectedCoverLetterTemplate(template);\r\n                                                            setCustomCoverLetterName(`${template.name} - Copy`);\r\n                                                            setCustomCoverLetterContent(template.content);\r\n                                                            setIsCreatingCoverLetterTemplate(false);\r\n                                                            setShowManageCoverLetterTemplates(false);\r\n                                                            setShowCoverLetterCustomize(true);\r\n                                                        }}\r\n                                                        className={`${isDefaultSystemTemplate ? 'w-full' : 'flex-1'} px-3 py-2 text-sm text-white rounded transition`}\r\n                                                        style={{ backgroundColor: '#777C6D' }}\r\n                                                        onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                                                        onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                                                    >\r\n                                                        Use Template\r\n                                                    </button>\r\n                                                    {!isDefaultSystemTemplate && (\r\n                                                        <button\r\n                                                            onClick={async () => {\r\n                                                                if (confirm(`Delete \"${template.name}\"?`)) {\r\n                                                                    try {\r\n                                                                        await authWrap();\r\n                                                                        await deleteCoverLetterTemplate(template._id);\r\n                                                                        await loadCoverLetterTemplates();\r\n                                                                        setShowManageCoverLetterTemplates(true);\r\n                                                                        alert(\"Template deleted successfully!\");\r\n                                                                    } catch (err) {\r\n                                                                        console.error(\"Delete failed:\", err);\r\n                                                                        alert(\"Failed to delete template\");\r\n                                                                    }\r\n                                                                }\r\n                                                            }}\r\n                                                            className=\"px-3 py-2 text-sm text-red-600 hover:text-red-700 border border-red-300 rounded transition\"\r\n                                                            title=\"Delete Template\"\r\n                                                        >\r\n                                                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                                                            </svg>\r\n                                                        </button>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                });\r\n                            })()}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\coverLetters\\ViewEditCoverLetterModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":54,"column":9,"nodeType":"JSXOpeningElement","endLine":61,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":54,"column":9,"nodeType":"JSXOpeningElement","endLine":61,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":62,"column":13,"nodeType":"JSXOpeningElement","endLine":65,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":62,"column":13,"nodeType":"JSXOpeningElement","endLine":65,"endColumn":14},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":96,"column":37,"nodeType":"JSXAttribute","endLine":96,"endColumn":107},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":97,"column":37,"nodeType":"JSXAttribute","endLine":97,"endColumn":106},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":123,"column":33,"nodeType":"JSXOpeningElement","endLine":123,"endColumn":97},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":132,"column":33,"nodeType":"JSXOpeningElement","endLine":132,"endColumn":97},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":141,"column":33,"nodeType":"JSXOpeningElement","endLine":141,"endColumn":97},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":167,"column":37,"nodeType":"JSXAttribute","endLine":167,"endColumn":107},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":168,"column":37,"nodeType":"JSXAttribute","endLine":168,"endColumn":106},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":181,"column":33,"nodeType":"JSXOpeningElement","endLine":181,"endColumn":97},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":198,"column":45,"nodeType":"JSXOpeningElement","endLine":198,"endColumn":109},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":221,"column":45,"nodeType":"JSXOpeningElement","endLine":221,"endColumn":109},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":322,"column":33,"nodeType":"JSXOpeningElement","endLine":322,"endColumn":97},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":388,"column":37,"nodeType":"JSXAttribute","endLine":388,"endColumn":107},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":389,"column":37,"nodeType":"JSXAttribute","endLine":389,"endColumn":106}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Button from '../Button';\r\nimport CoverLetterEditor from '../CoverLetterEditor';\r\nimport {\r\n    TONE_OPTIONS,\r\n    validateToneConsistency\r\n} from '../../utils/coverLetterToneConfig';\r\n\r\n/**\r\n * View/Edit Cover Letter Modal Component\r\n * Handles viewing and editing of cover letters with AI regeneration support\r\n */\r\nexport default function ViewEditCoverLetterModal({\r\n    showViewCoverLetterModal,\r\n    setShowViewCoverLetterModal,\r\n    viewingCoverLetter,\r\n    setViewingCoverLetter,\r\n    isCoverLetterEditMode,\r\n    setIsCoverLetterEditMode,\r\n    customCoverLetterName,\r\n    setCustomCoverLetterName,\r\n    customCoverLetterStyle,\r\n    setCustomCoverLetterStyle,\r\n    customCoverLetterContent,\r\n    setCustomCoverLetterContent,\r\n    formatCoverLetterContent,\r\n    setExportingCoverLetter,\r\n    setShowCoverLetterExportModal,\r\n    editingCoverLetter,\r\n    setEditingCoverLetter,\r\n    selectedJobForRegeneration,\r\n    setSelectedJobForRegeneration,\r\n    jobs,\r\n    loadJobs,\r\n    aiIndustry,\r\n    aiCompanyCulture,\r\n    aiConsistencyWarnings,\r\n    setAiConsistencyWarnings,\r\n    isGeneratingAI,\r\n    setIsGeneratingAI,\r\n    authWrap,\r\n    generateAICoverLetter,\r\n    aiLength,\r\n    aiWritingStyle,\r\n    editorContentKey,\r\n    setEditorContentKey,\r\n    apiUpdateCoverLetter,\r\n    loadSavedCoverLetters,\r\n    onViewLinkedJobs\r\n}) {\r\n    if (!showViewCoverLetterModal || !viewingCoverLetter) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={() => {\r\n                setShowViewCoverLetterModal(false);\r\n                setIsCoverLetterEditMode(false);\r\n            }}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-6\">\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <h2 className=\"text-2xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n                            {isCoverLetterEditMode ? 'Edit Cover Letter' : 'View Cover Letter'}\r\n                        </h2>\r\n                        <div className=\"flex items-center gap-3\">\r\n                            {/* View Linked Jobs Button */}\r\n                            <button\r\n                                onClick={() => onViewLinkedJobs && onViewLinkedJobs(viewingCoverLetter)}\r\n                                className=\"px-3 py-2 text-sm bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition flex items-center gap-2 border border-blue-200\"\r\n                            >\r\n                                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\" />\r\n                                </svg>\r\n                                View Linked Jobs\r\n                            </button>\r\n                            {!isCoverLetterEditMode && (\r\n                                <button\r\n                                    onClick={async () => {\r\n                                        setEditingCoverLetter(viewingCoverLetter);\r\n                                        setIsCoverLetterEditMode(true);\r\n                                        // Initialize selected job for regeneration\r\n                                        setSelectedJobForRegeneration(viewingCoverLetter?.jobId || '');\r\n                                        // Ensure jobs are loaded\r\n                                        if (jobs.length === 0) {\r\n                                            await loadJobs();\r\n                                        }\r\n                                    }}\r\n                                    className=\"px-4 py-2 text-white rounded-lg transition flex items-center gap-2\"\r\n                                    style={{ backgroundColor: '#777C6D' }}\r\n                                    onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                                    onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                                >\r\n                                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                                    </svg>\r\n                                    Edit\r\n                                </button>\r\n                            )}\r\n                            <button\r\n                                onClick={() => {\r\n                                    setShowViewCoverLetterModal(false);\r\n                                    setIsCoverLetterEditMode(false);\r\n                                }}\r\n                                className=\"text-gray-500 hover:text-gray-700\"\r\n                            >\r\n                                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {!isCoverLetterEditMode ? (\r\n                        /* VIEW MODE */\r\n                        <>\r\n                            <div className=\"mb-6\">\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Cover Letter Name\r\n                                </label>\r\n                                <div className=\"w-full p-3 border border-gray-300 rounded-lg bg-gray-50\">\r\n                                    {customCoverLetterName}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"mb-6\">\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Cover Letter Style\r\n                                </label>\r\n                                <div className=\"w-full p-3 border border-gray-300 rounded-lg bg-gray-50 capitalize\">\r\n                                    {customCoverLetterStyle}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"mb-6\">\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Cover Letter Content\r\n                                </label>\r\n                                <div\r\n                                    className=\"cover-letter-content w-full p-4 border border-gray-300 rounded-lg bg-gray-50 min-h-[400px]\"\r\n                                    dangerouslySetInnerHTML={{ __html: formatCoverLetterContent(customCoverLetterContent) }}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-end gap-3\">\r\n                                <button\r\n                                    onClick={() => {\r\n                                        setShowViewCoverLetterModal(false);\r\n                                        setIsCoverLetterEditMode(false);\r\n                                    }}\r\n                                    className=\"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\r\n                                >\r\n                                    Close\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => {\r\n                                        setExportingCoverLetter(viewingCoverLetter);\r\n                                        setShowCoverLetterExportModal(true);\r\n                                    }}\r\n                                    className=\"px-6 py-2 text-white rounded-lg transition flex items-center gap-2\"\r\n                                    style={{ backgroundColor: '#4F5348' }}\r\n                                    onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#3a3d34'}\r\n                                    onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#4F5348'}\r\n                                >\r\n                                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n                                    </svg>\r\n                                    Export\r\n                                </button>\r\n                            </div>\r\n                        </>\r\n                    ) : (\r\n                        /* EDIT MODE */\r\n                        <>\r\n                            <div className=\"mb-6\">\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Cover Letter Name\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                                    value={customCoverLetterName}\r\n                                    onChange={(e) => setCustomCoverLetterName(e.target.value)}\r\n                                    placeholder=\"e.g., My Software Engineer Cover Letter\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Tone Adjustment and Regeneration */}\r\n                            <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n                                <div className=\"space-y-4\">\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                                Adjust Tone\r\n                                            </label>\r\n                                            <select\r\n                                                className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                                value={customCoverLetterStyle}\r\n                                                onChange={(e) => {\r\n                                                    setCustomCoverLetterStyle(e.target.value);\r\n                                                    // Update warnings when tone changes (if we have industry/culture info)\r\n                                                    if (selectedJobForRegeneration || viewingCoverLetter?.jobId) {\r\n                                                        const warnings = validateToneConsistency(e.target.value, aiIndustry, aiCompanyCulture);\r\n                                                        setAiConsistencyWarnings(warnings);\r\n                                                    }\r\n                                                }}\r\n                                            >\r\n                                                {TONE_OPTIONS.map(option => (\r\n                                                    <option key={option.value} value={option.value}>\r\n                                                        {option.label} - {option.description}\r\n                                                    </option>\r\n                                                ))}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                                Select Job for Regeneration *\r\n                                            </label>\r\n                                            <select\r\n                                                className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                                value={selectedJobForRegeneration || viewingCoverLetter?.jobId || ''}\r\n                                                onChange={(e) => {\r\n                                                    setSelectedJobForRegeneration(e.target.value);\r\n                                                    // Update warnings when job changes\r\n                                                    if (e.target.value) {\r\n                                                        const selectedJob = jobs.find(j => j._id === e.target.value);\r\n                                                        if (selectedJob) {\r\n                                                            const warnings = validateToneConsistency(customCoverLetterStyle, aiIndustry, aiCompanyCulture);\r\n                                                            setAiConsistencyWarnings(warnings);\r\n                                                        }\r\n                                                    }\r\n                                                }}\r\n                                            >\r\n                                                <option value=\"\">Select a job...</option>\r\n                                                {jobs.filter(job => !job.archived).map(job => (\r\n                                                    <option key={job._id} value={job._id}>\r\n                                                        {job.title} at {job.company}\r\n                                                    </option>\r\n                                                ))}\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex justify-end\">\r\n                                        <Button\r\n                                            variant=\"primary\"\r\n                                            onClick={async () => {\r\n                                                const jobIdToUse = selectedJobForRegeneration || viewingCoverLetter?.jobId;\r\n\r\n                                                if (!jobIdToUse) {\r\n                                                    alert('Please select a job to regenerate the cover letter for.');\r\n                                                    return;\r\n                                                }\r\n\r\n                                                try {\r\n                                                    setIsGeneratingAI(true);\r\n                                                    await authWrap();\r\n\r\n                                                    const response = await generateAICoverLetter({\r\n                                                        jobId: jobIdToUse,\r\n                                                        tone: customCoverLetterStyle,\r\n                                                        variationCount: 1,\r\n                                                        industry: aiIndustry || 'general',\r\n                                                        companyCulture: aiCompanyCulture || 'corporate',\r\n                                                        length: aiLength || 'standard',\r\n                                                        writingStyle: aiWritingStyle || 'hybrid',\r\n                                                        customInstructions: ''\r\n                                                    });\r\n\r\n                                                    if (response.data.data.variations && response.data.data.variations.length > 0) {\r\n                                                        // Update the content with the regenerated version\r\n                                                        const newContent = response.data.data.variations[0].content;\r\n                                                        setCustomCoverLetterContent(newContent);\r\n                                                        // Force editor to re-render with new content\r\n                                                        setEditorContentKey(prev => prev + 1);\r\n                                                        alert('Cover letter regenerated with new tone! Review the changes and click Save to update.');\r\n                                                    }\r\n                                                } catch (err) {\r\n                                                    console.error('Regeneration failed:', err);\r\n                                                    alert(err.response?.data?.message || 'Failed to regenerate cover letter. Please ensure your profile has work experience and try again.');\r\n                                                } finally {\r\n                                                    setIsGeneratingAI(false);\r\n                                                }\r\n                                            }}\r\n                                            disabled={isGeneratingAI || (!selectedJobForRegeneration && !viewingCoverLetter?.jobId)}\r\n                                        >\r\n                                            {isGeneratingAI ? (\r\n                                                <>\r\n                                                    <svg className=\"animate-spin h-4 w-4 mr-2 inline-block\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                                    </svg>\r\n                                                    Regenerating...\r\n                                                </>\r\n                                            ) : (\r\n                                                <>\r\n                                                    <svg className=\"w-4 h-4 mr-2 inline-block\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n                                                    </svg>\r\n                                                    Regenerate with New Tone\r\n                                                </>\r\n                                            )}\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                                {aiConsistencyWarnings.length > 0 && (selectedJobForRegeneration || viewingCoverLetter?.jobId) && (\r\n                                    <div className=\"mt-3 p-2 bg-amber-50 border border-amber-200 rounded\">\r\n                                        {aiConsistencyWarnings.map((warning, idx) => (\r\n                                            <p key={idx} className=\"text-xs text-amber-800 mb-1 last:mb-0\">\r\n                                                {warning}\r\n                                            </p>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            <div className=\"mb-6\">\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Cover Letter Content\r\n                                </label>\r\n                                <CoverLetterEditor\r\n                                    key={editorContentKey}\r\n                                    initialContent={formatCoverLetterContent(customCoverLetterContent)}\r\n                                    onChange={(content) => setCustomCoverLetterContent(content)}\r\n                                    coverLetterId={editingCoverLetter._id}\r\n                                    onSave={async (content) => {\r\n                                        setCustomCoverLetterContent(content);\r\n                                    }}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-end gap-3\">\r\n                                <button\r\n                                    onClick={() => {\r\n                                        // Restore original values\r\n                                        setCustomCoverLetterName(viewingCoverLetter.name);\r\n                                        setCustomCoverLetterContent(viewingCoverLetter.content);\r\n                                        setCustomCoverLetterStyle(viewingCoverLetter.style || 'formal');\r\n                                        setIsCoverLetterEditMode(false);\r\n                                    }}\r\n                                    className=\"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    onClick={async () => {\r\n                                        try {\r\n                                            if (!customCoverLetterName.trim()) {\r\n                                                alert(\"Please enter a name for your cover letter.\");\r\n                                                return;\r\n                                            }\r\n                                            if (!customCoverLetterContent.trim()) {\r\n                                                alert(\"Please enter cover letter content.\");\r\n                                                return;\r\n                                            }\r\n\r\n                                            await authWrap();\r\n                                            await apiUpdateCoverLetter(editingCoverLetter._id, {\r\n                                                name: customCoverLetterName,\r\n                                                content: customCoverLetterContent,\r\n                                                style: customCoverLetterStyle\r\n                                            });\r\n\r\n                                            // Update the viewing cover letter with new data\r\n                                            setViewingCoverLetter({\r\n                                                ...viewingCoverLetter,\r\n                                                name: customCoverLetterName,\r\n                                                content: customCoverLetterContent,\r\n                                                style: customCoverLetterStyle\r\n                                            });\r\n\r\n                                            setIsCoverLetterEditMode(false);\r\n                                            setEditingCoverLetter(null);\r\n\r\n                                            await loadSavedCoverLetters();\r\n                                            alert(\"Cover letter updated successfully!\");\r\n                                        } catch (err) {\r\n                                            console.error(\"Update failed:\", err);\r\n                                            alert(\"Failed to update cover letter. Please try again.\");\r\n                                        }\r\n                                    }}\r\n                                    className=\"px-6 py-2 text-white rounded-lg transition\"\r\n                                    style={{ backgroundColor: '#777C6D' }}\r\n                                    onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                                    onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                                >\r\n                                    Save Changes\r\n                                </button>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\interviewPrep\\QuestionCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\interviewPrep\\QuestionFilters.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\interviewPrep\\StatsPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\interviewPrep\\__tests__\\QuestionCard.test.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":4,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":4,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":21,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":21,"endColumn":5},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":23,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":23,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":24,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":24,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":25,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":25,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":26,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":26,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":29,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":29,"endColumn":5},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":33,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":33,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":34,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":34,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":37,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":37,"endColumn":5},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":38,"column":21,"nodeType":"Identifier","messageId":"undef","endLine":38,"endColumn":23},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":42,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":42,"endColumn":11}],"suppressedMessages":[],"errorCount":12,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen, fireEvent } from '@testing-library/react';\r\nimport { QuestionCard } from '../../interviewPrep/QuestionCard.jsx';\r\n\r\ndescribe('QuestionCard', () => {\r\n  const baseQuestion = {\r\n    _id: 'q1',\r\n    text: 'Describe a time you led a team through a difficult challenge.',\r\n    category: 'Behavioral',\r\n    difficulty: 'Medium',\r\n    linkedSkills: ['leadership','communication'],\r\n    practiced: false,\r\n    companyContext: 'PrepCo / Technology',\r\n    starGuide: {\r\n      situation: 'Team faced legacy system migration under time pressure.',\r\n      task: 'Outline objective & constraints.',\r\n      action: 'Detail steps, coordination, conflict resolution.',\r\n      result: 'Improved reliability & reduced downtime.'\r\n    }\r\n  };\r\n\r\n  it('renders question text and badges', () => {\r\n    render(<QuestionCard q={baseQuestion} onToggle={() => {}} />);\r\n    expect(screen.getByText(/Describe a time/)).toBeInTheDocument();\r\n    expect(screen.getByText('Behavioral')).toBeInTheDocument();\r\n    expect(screen.getByText('Medium')).toBeInTheDocument();\r\n    expect(screen.getByText('PrepCo / Technology')).toBeInTheDocument();\r\n  });\r\n\r\n  it('expands STAR guide when Show STAR clicked', () => {\r\n    render(<QuestionCard q={baseQuestion} onToggle={() => {}} />);\r\n    const toggleBtn = screen.getByRole('button', { name: /Show STAR/i });\r\n    fireEvent.click(toggleBtn);\r\n    expect(screen.getByText(/Situation/)).toBeInTheDocument();\r\n    expect(screen.getByText(/Team faced legacy system migration/)).toBeInTheDocument();\r\n  });\r\n\r\n  it('calls onToggle when practice button clicked', () => {\r\n    const handler = vi.fn();\r\n    render(<QuestionCard q={baseQuestion} onToggle={handler} />);\r\n    const practiceBtn = screen.getByRole('button', { name: /Mark Practiced/i });\r\n    fireEvent.click(practiceBtn);\r\n    expect(handler).toHaveBeenCalledWith('q1');\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\interviewPrep\\__tests__\\QuestionFilters.test.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":4,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":4,"endColumn":9},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":12,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":12,"endColumn":5},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":13,"column":24,"nodeType":"Identifier","messageId":"undef","endLine":13,"endColumn":26},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":17,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":17,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":20,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":20,"endColumn":5},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":26,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":26,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":29,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":29,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":30,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":30,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":36,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":36,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":39,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":39,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":45,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":45,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":48,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":48,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":54,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":54,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":57,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":57,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":63,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":63,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":67,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":67,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":68,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":68,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":74,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":74,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":77,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":77,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":83,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":83,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":86,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":86,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":92,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":92,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":95,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":95,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":101,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":101,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":105,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":105,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":106,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":106,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":113,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":113,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":116,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":116,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":123,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":123,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":127,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":127,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":128,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":128,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":140,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":140,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":141,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":141,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":142,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":142,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":143,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":143,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":144,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":144,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":145,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":145,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'describe' is not defined.","line":149,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":149,"endColumn":11},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":150,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":150,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":152,"column":61,"nodeType":"Identifier","messageId":"undef","endLine":152,"endColumn":63},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":155,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":155,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":158,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":158,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":160,"column":61,"nodeType":"Identifier","messageId":"undef","endLine":160,"endColumn":63},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":163,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":163,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":166,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":166,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":168,"column":61,"nodeType":"Identifier","messageId":"undef","endLine":168,"endColumn":63},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":171,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":171,"endColumn":13},{"ruleId":"no-undef","severity":2,"message":"'it' is not defined.","line":174,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":174,"endColumn":7},{"ruleId":"no-undef","severity":2,"message":"'vi' is not defined.","line":176,"column":61,"nodeType":"Identifier","messageId":"undef","endLine":176,"endColumn":63},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":179,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":179,"endColumn":13}],"suppressedMessages":[],"errorCount":50,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen, fireEvent } from '@testing-library/react';\r\nimport { QuestionFilters } from '../../interviewPrep/QuestionFilters.jsx';\r\n\r\ndescribe('QuestionFilters', () => {\r\n  const defaultFilters = { \r\n    categories: new Set(['Behavioral','Technical','Situational']), \r\n    difficulties: new Set(), \r\n    practice: 'All', \r\n    search: '' \r\n  };\r\n\r\n  it('allows toggling category filter', () => {\r\n    const setFilters = vi.fn();\r\n    render(<QuestionFilters filters={defaultFilters} setFilters={setFilters} />);\r\n    const behavioralBtn = screen.getByRole('button', { name: /Behavioral/i });\r\n    fireEvent.click(behavioralBtn);\r\n    expect(setFilters).toHaveBeenCalled();\r\n  });\r\n\r\n  it('updates search input', () => {\r\n    let current = { ...defaultFilters, categories: new Set(defaultFilters.categories) };\r\n    const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n    render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n    const input = screen.getByPlaceholderText(/Search text or skill/i);\r\n    fireEvent.change(input, { target: { value: 'lead' } });\r\n    expect(current.search).toBe('lead');\r\n  });\r\n\r\n  describe('toggleCategory', () => {\r\n    it('removes category when already selected', () => {\r\n      let current = { ...defaultFilters, categories: new Set(['Behavioral', 'Technical', 'Situational']) };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      fireEvent.click(screen.getByRole('button', { name: /Behavioral/i }));\r\n      expect(current.categories.has('Behavioral')).toBe(false);\r\n    });\r\n\r\n    it('adds category when not selected', () => {\r\n      let current = { ...defaultFilters, categories: new Set(['Technical', 'Situational']) };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      fireEvent.click(screen.getByRole('button', { name: /Behavioral/i }));\r\n      expect(current.categories.has('Behavioral')).toBe(true);\r\n    });\r\n\r\n    it('toggles Technical category', () => {\r\n      let current = { ...defaultFilters, categories: new Set(['Behavioral', 'Technical', 'Situational']) };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      fireEvent.click(screen.getByRole('button', { name: /Technical/i }));\r\n      expect(current.categories.has('Technical')).toBe(false);\r\n    });\r\n\r\n    it('toggles Situational category', () => {\r\n      let current = { ...defaultFilters, categories: new Set(['Behavioral', 'Technical', 'Situational']) };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      fireEvent.click(screen.getByRole('button', { name: /Situational/i }));\r\n      expect(current.categories.has('Situational')).toBe(false);\r\n    });\r\n  });\r\n\r\n  describe('toggleDifficulty', () => {\r\n    it('adds difficulty when not selected', () => {\r\n      let current = { ...defaultFilters, categories: new Set(defaultFilters.categories), difficulties: new Set() };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      fireEvent.click(screen.getByRole('button', { name: /Easy/i }));\r\n      expect(current.difficulties.has('Easy')).toBe(true);\r\n    });\r\n\r\n    it('removes difficulty when already selected', () => {\r\n      let current = { ...defaultFilters, categories: new Set(defaultFilters.categories), difficulties: new Set(['Easy']) };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      fireEvent.click(screen.getByRole('button', { name: /Easy/i }));\r\n      expect(current.difficulties.has('Easy')).toBe(false);\r\n    });\r\n\r\n    it('toggles Medium difficulty', () => {\r\n      let current = { ...defaultFilters, categories: new Set(defaultFilters.categories), difficulties: new Set() };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      fireEvent.click(screen.getByRole('button', { name: /Medium/i }));\r\n      expect(current.difficulties.has('Medium')).toBe(true);\r\n    });\r\n\r\n    it('toggles Hard difficulty', () => {\r\n      let current = { ...defaultFilters, categories: new Set(defaultFilters.categories), difficulties: new Set() };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      fireEvent.click(screen.getByRole('button', { name: /Hard/i }));\r\n      expect(current.difficulties.has('Hard')).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('practice filter', () => {\r\n    it('updates practice filter when changed to Practiced', () => {\r\n      let current = { ...defaultFilters, categories: new Set(defaultFilters.categories) };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      const select = screen.getByRole('combobox');\r\n      fireEvent.change(select, { target: { value: 'Practiced' } });\r\n      expect(current.practice).toBe('Practiced');\r\n    });\r\n\r\n    it('updates practice filter when changed to Unpracticed', () => {\r\n      let current = { ...defaultFilters, categories: new Set(defaultFilters.categories) };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      const select = screen.getByRole('combobox');\r\n      fireEvent.change(select, { target: { value: 'Unpracticed' } });\r\n      expect(current.practice).toBe('Unpracticed');\r\n    });\r\n  });\r\n\r\n  describe('reset button', () => {\r\n    it('resets all filters to defaults when clicked', () => {\r\n      let current = { \r\n        categories: new Set(['Behavioral']), \r\n        difficulties: new Set(['Hard']), \r\n        practice: 'Practiced', \r\n        search: 'something' \r\n      };\r\n      const setFilters = (updater) => { current = typeof updater === 'function' ? updater(current) : updater; };\r\n      render(<QuestionFilters filters={current} setFilters={setFilters} />);\r\n      \r\n      fireEvent.click(screen.getByRole('button', { name: /Reset/i }));\r\n      \r\n      expect(current.categories.has('Behavioral')).toBe(true);\r\n      expect(current.categories.has('Technical')).toBe(true);\r\n      expect(current.categories.has('Situational')).toBe(true);\r\n      expect(current.difficulties.size).toBe(0);\r\n      expect(current.practice).toBe('All');\r\n      expect(current.search).toBe('');\r\n    });\r\n  });\r\n\r\n  describe('styling', () => {\r\n    it('applies active styling to selected categories', () => {\r\n      const filters = { ...defaultFilters, categories: new Set(['Behavioral']) };\r\n      render(<QuestionFilters filters={filters} setFilters={vi.fn()} />);\r\n      \r\n      const behavioralBtn = screen.getByRole('button', { name: /Behavioral/i });\r\n      expect(behavioralBtn.className).toContain('bg-blue-600');\r\n    });\r\n\r\n    it('applies inactive styling to unselected categories', () => {\r\n      const filters = { ...defaultFilters, categories: new Set(['Behavioral']) };\r\n      render(<QuestionFilters filters={filters} setFilters={vi.fn()} />);\r\n      \r\n      const technicalBtn = screen.getByRole('button', { name: /Technical/i });\r\n      expect(technicalBtn.className).toContain('bg-white');\r\n    });\r\n\r\n    it('applies active styling to selected difficulties', () => {\r\n      const filters = { ...defaultFilters, categories: new Set(defaultFilters.categories), difficulties: new Set(['Easy']) };\r\n      render(<QuestionFilters filters={filters} setFilters={vi.fn()} />);\r\n      \r\n      const easyBtn = screen.getByRole('button', { name: /Easy/i });\r\n      expect(easyBtn.className).toContain('bg-indigo-600');\r\n    });\r\n\r\n    it('applies inactive styling to unselected difficulties', () => {\r\n      const filters = { ...defaultFilters, categories: new Set(defaultFilters.categories), difficulties: new Set() };\r\n      render(<QuestionFilters filters={filters} setFilters={vi.fn()} />);\r\n      \r\n      const easyBtn = screen.getByRole('button', { name: /Easy/i });\r\n      expect(easyBtn.className).toContain('bg-white');\r\n    });\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\interviews\\InterviewAnalyticsTab.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'navigate' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":10,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":17,"suggestions":[{"messageId":"removeVar","data":{"varName":"navigate"},"fix":{"range":[439,470],"text":""},"desc":"Remove unused variable 'navigate'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadAnalytics'. Either include it or remove the dependency array.","line":20,"column":6,"nodeType":"ArrayExpression","endLine":20,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [loadAnalytics]","fix":{"range":[848,850],"text":"[loadAnalytics]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"@clerk/clerk-react\";\r\nimport Card from \"../Card\";\r\nimport Button from \"../Button\";\r\nimport { setAuthToken } from \"../../api/axios\";\r\nimport { getInterviewPerformanceAnalytics, generateTestData, clearTestData } from \"../../api/interviewAnalytics\";\r\n\r\nexport default function InterviewAnalyticsTab({ onDataChange }) {\r\n  const navigate = useNavigate();\r\n  const { getToken } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n  const [analytics, setAnalytics] = useState(null);\r\n  const [activeSubTab, setActiveSubTab] = useState(\"overview\");\r\n  const [generatingData, setGeneratingData] = useState(false);\r\n  const [clearingData, setClearingData] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadAnalytics();\r\n  }, []);\r\n\r\n  const loadAnalytics = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const response = await getInterviewPerformanceAnalytics();\r\n      setAnalytics(response.data?.data?.analytics || response.data?.analytics);\r\n    } catch (error) {\r\n      console.error(\"Error loading analytics:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGenerateTestData = async () => {\r\n    if (!confirm('This will clear existing data and generate 25 test interviews. Continue?')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setGeneratingData(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await generateTestData();\r\n      await loadAnalytics();\r\n      if (onDataChange) onDataChange();\r\n      alert('Γ£à Test data generated successfully! Explore the tabs to see your analytics.');\r\n    } catch (error) {\r\n      console.error(\"Error generating test data:\", error);\r\n      alert('Failed to generate test data. Check console for details.');\r\n    } finally {\r\n      setGeneratingData(false);\r\n    }\r\n  };\r\n\r\n  const handleClearTestData = async () => {\r\n    if (!confirm('This will delete ALL your interview data. Are you sure?')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setClearingData(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await clearTestData();\r\n      await loadAnalytics();\r\n      if (onDataChange) onDataChange();\r\n      alert('Γ£à All data cleared successfully!');\r\n    } catch (error) {\r\n      console.error(\"Error clearing test data:\", error);\r\n      alert('Failed to clear data. Check console for details.');\r\n    } finally {\r\n      setClearingData(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!analytics || analytics.overview?.totalInterviews === 0) {\r\n    return (\r\n      <Card>\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"text-6xl mb-4\">≡ƒôè</div>\r\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n            {!analytics ? \"Unable to Load Analytics\" : \"No Interview Data Yet\"}\r\n          </h3>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            {!analytics \r\n              ? \"There was an error loading your interview analytics.\"\r\n              : \"Get started by adding interview data or generating test data to explore the analytics.\"}\r\n          </p>\r\n          <div className=\"flex gap-3 justify-center\">\r\n            {!analytics && <Button onClick={loadAnalytics}>Try Again</Button>}\r\n            <Button \r\n              onClick={handleGenerateTestData}\r\n              disabled={generatingData}\r\n              className=\"bg-purple-600 hover:bg-purple-700\"\r\n            >\r\n              {generatingData ? \"Generating...\" : \"≡ƒÄ▓ Generate Test Data\"}\r\n            </Button>\r\n          </div>\r\n          <div className=\"mt-6 p-4 bg-blue-50 rounded-lg text-left max-w-2xl mx-auto\">\r\n            <p className=\"text-sm text-blue-800 font-semibold mb-2\">\r\n              ≡ƒÄ▓ What happens when you generate test data?\r\n            </p>\r\n            <ul className=\"text-sm text-blue-700 space-y-1 list-disc list-inside\">\r\n              <li>Creates 25 realistic interviews across major companies</li>\r\n              <li>18 job postings in various industries</li>\r\n              <li>8 mock interview sessions</li>\r\n              <li>Mix of completed and scheduled interviews</li>\r\n              <li>Realistic outcomes, ratings, and performance data</li>\r\n              <li>Full analytics across all tabs</li>\r\n            </ul>\r\n            <p className=\"text-xs text-blue-600 mt-3\">\r\n              ΓÜá∩╕Å This will clear any existing interview data you have.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const subTabs = [\r\n    { id: \"overview\", label: \"Overview\", icon: \"≡ƒôè\" },\r\n    { id: \"conversion\", label: \"Conversion Rates\", icon: \"≡ƒÄ»\" },\r\n    { id: \"performance\", label: \"Performance\", icon: \"≡ƒôê\" },\r\n    { id: \"insights\", label: \"Insights\", icon: \"≡ƒÆí\" },\r\n    { id: \"recommendations\", label: \"Recommendations\", icon: \"≡ƒÄô\" },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      {/* Header Actions */}\r\n      <div className=\"flex justify-end gap-2 mb-4\">\r\n        <Button \r\n          onClick={handleGenerateTestData}\r\n          disabled={generatingData}\r\n          className=\"bg-purple-600 hover:bg-purple-700 text-white\"\r\n        >\r\n          {generatingData ? \"Generating...\" : \"≡ƒÄ▓ Generate Test Data\"}\r\n        </Button>\r\n        <Button \r\n          onClick={handleClearTestData}\r\n          disabled={clearingData}\r\n          variant=\"secondary\"\r\n          className=\"text-red-600 border-red-300 hover:bg-red-50\"\r\n        >\r\n          {clearingData ? \"Clearing...\" : \"≡ƒùæ∩╕Å Clear Data\"}\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Sub-Navigation Tabs */}\r\n      <div className=\"mb-6 border-b border-gray-200\">\r\n        <div className=\"flex space-x-6 overflow-x-auto\">\r\n          {subTabs.map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveSubTab(tab.id)}\r\n              className={`pb-3 px-1 font-medium text-sm whitespace-nowrap ${\r\n                activeSubTab === tab.id\r\n                  ? \"border-b-2 border-primary text-primary\"\r\n                  : \"text-gray-500 hover:text-gray-700\"\r\n              }`}\r\n            >\r\n              <span className=\"mr-1\">{tab.icon}</span>\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      {activeSubTab === \"overview\" && <OverviewTab analytics={analytics} />}\r\n      {activeSubTab === \"conversion\" && <ConversionTab analytics={analytics} />}\r\n      {activeSubTab === \"performance\" && <PerformanceTab analytics={analytics} />}\r\n      {activeSubTab === \"insights\" && <InsightsTab analytics={analytics} />}\r\n      {activeSubTab === \"recommendations\" && <RecommendationsTab analytics={analytics} />}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Overview Tab Component\r\nfunction OverviewTab({ analytics }) {\r\n  const { overview, conversionRates, improvementTracking } = analytics;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Key Metrics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <MetricCard icon=\"≡ƒôà\" label=\"Total Interviews\" value={overview.totalInterviews} color=\"blue\" />\r\n        <MetricCard icon=\"Γ£à\" label=\"Completed\" value={overview.completedInterviews} color=\"green\" />\r\n        <MetricCard icon=\"≡ƒÄ»\" label=\"Success Rate\" value={`${conversionRates.successRate}%`} color=\"purple\" />\r\n        <MetricCard icon=\"Γ¡É\" label=\"Avg Rating\" value={overview.averageRating || \"ΓÇö\"} color=\"yellow\" />\r\n      </div>\r\n\r\n      {/* Conversion Funnel */}\r\n      <Card>\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Interview Funnel</h3>\r\n        <div className=\"space-y-3\">\r\n          <FunnelStage label=\"Scheduled\" count={conversionRates.funnel.scheduled.count} percentage={conversionRates.funnel.scheduled.percentage} color=\"blue\" />\r\n          <FunnelStage label=\"Completed\" count={conversionRates.funnel.completed.count} percentage={conversionRates.funnel.completed.percentage} color=\"green\" />\r\n          <FunnelStage label=\"Successful\" count={conversionRates.funnel.successful.count} percentage={conversionRates.funnel.successful.percentage} color=\"purple\" />\r\n          <FunnelStage label=\"Offers\" count={conversionRates.funnel.offers.count} percentage={conversionRates.funnel.offers.percentage} color=\"yellow\" />\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Improvement Trend */}\r\n      <Card>\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance Trend</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div>\r\n            <p className=\"text-sm text-gray-600\">{improvementTracking.recentPerformance.period}</p>\r\n            <p className=\"text-2xl font-bold text-gray-900\">{improvementTracking.recentPerformance.successRate}%</p>\r\n            <p className=\"text-xs text-gray-500\">{improvementTracking.recentPerformance.count} interviews</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-600\">Trend</p>\r\n            <div className=\"flex items-center space-x-2\">\r\n              {improvementTracking.trend === \"improving\" && <span className=\"text-2xl\">≡ƒôê</span>}\r\n              {improvementTracking.trend === \"declining\" && <span className=\"text-2xl\">≡ƒôë</span>}\r\n              {improvementTracking.trend === \"stable\" && <span className=\"text-2xl\">Γ₧í∩╕Å</span>}\r\n              <p className=\"text-lg font-semibold capitalize\">{improvementTracking.trend}</p>\r\n            </div>\r\n            <p className=\"text-xs text-gray-500\">{improvementTracking.improvementScore > 0 ? \"+\" : \"\"}{improvementTracking.improvementScore} points</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-600\">Practice Impact</p>\r\n            <p className=\"text-lg font-semibold text-gray-900\">{improvementTracking.mockSessionsCompleted} mock{improvementTracking.mockSessionsCompleted !== 1 ? \"s\" : \"\"}</p>\r\n            <p className=\"text-xs text-gray-500\">{improvementTracking.practiceImpact}</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Conversion Rates Tab\r\nfunction ConversionTab({ analytics }) {\r\n  const { conversionRates, benchmarks } = analytics;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <Card>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Your Rates</h3>\r\n          <div className=\"space-y-4\">\r\n            <RateRow label=\"Completion Rate\" value={conversionRates.completionRate} description={`${conversionRates.completed} of ${conversionRates.scheduled} scheduled`} />\r\n            <RateRow label=\"Success Rate\" value={conversionRates.successRate} description={`${conversionRates.successful} successful outcomes`} />\r\n            <RateRow label=\"Offer Rate\" value={conversionRates.offerRate} description={`${conversionRates.offers} offers received`} />\r\n            <RateRow label=\"Progression Rate\" value={conversionRates.progressionRate} description=\"Moved to next interview round\" />\r\n          </div>\r\n        </Card>\r\n\r\n        <Card>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Industry Benchmarks</h3>\r\n          <div className=\"space-y-4\">\r\n            <BenchmarkRow label=\"Success Rate\" userValue={benchmarks.user.successRate} industryValue={benchmarks.industry.successRate} comparison={benchmarks.comparison.successRate} />\r\n            <BenchmarkRow label=\"Offer Rate\" userValue={benchmarks.user.offerRate} industryValue={benchmarks.industry.interviewToOfferRate} comparison={benchmarks.comparison.offerRate} />\r\n            <div className=\"pt-4 border-t border-gray-200\">\r\n              <p className=\"text-sm text-gray-600 mb-2\">Industry Standards</p>\r\n              <div className=\"space-y-2 text-sm\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Avg Interviews per Offer:</span>\r\n                  <span className=\"font-semibold\">{benchmarks.industry.avgInterviewsPerOffer}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Avg Prep Time:</span>\r\n                  <span className=\"font-semibold\">{benchmarks.industry.avgPrepTime} hours</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      <Card>\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Conversion Funnel Visualization</h3>\r\n        <div className=\"space-y-2\">\r\n          <FunnelBar label=\"Scheduled\" count={conversionRates.funnel.scheduled.count} percentage={100} color=\"bg-blue-500\" />\r\n          <FunnelBar label=\"Completed\" count={conversionRates.funnel.completed.count} percentage={conversionRates.funnel.completed.percentage} color=\"bg-green-500\" />\r\n          <FunnelBar label=\"Successful\" count={conversionRates.funnel.successful.count} percentage={conversionRates.funnel.successful.percentage} color=\"bg-purple-500\" />\r\n          <FunnelBar label=\"Offers\" count={conversionRates.funnel.offers.count} percentage={conversionRates.funnel.offers.percentage} color=\"bg-yellow-500\" />\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Performance Tab\r\nfunction PerformanceTab({ analytics }) {\r\n  const { strengthsWeaknesses, formatComparison, companyTypeAnalysis } = analytics;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <Card>\r\n          <h3 className=\"text-lg font-semibold text-green-700 mb-4\">≡ƒÆ¬ Your Strengths</h3>\r\n          {strengthsWeaknesses.strongest.length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {strengthsWeaknesses.strongest.map((item, idx) => (\r\n                <PerformanceItem key={idx} type={item.interviewType} successRate={item.successRate} total={item.total} avgRating={item.avgRating} isStrength={true} />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-gray-600\">Complete more interviews to identify strengths</p>\r\n          )}\r\n        </Card>\r\n\r\n        <Card>\r\n          <h3 className=\"text-lg font-semibold text-orange-700 mb-4\">≡ƒÄ» Areas to Improve</h3>\r\n          {strengthsWeaknesses.weakest.length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {strengthsWeaknesses.weakest.map((item, idx) => (\r\n                <PerformanceItem key={idx} type={item.interviewType} successRate={item.successRate} total={item.total} avgRating={item.avgRating} isStrength={false} />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-gray-600\">Complete more interviews for analysis</p>\r\n          )}\r\n        </Card>\r\n      </div>\r\n\r\n      <Card>\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance by Interview Format</h3>\r\n        {formatComparison.byFormat.length > 0 ? (\r\n          <div className=\"space-y-3\">\r\n            {formatComparison.byFormat.map((format, idx) => (\r\n              <div key={idx} className=\"border-b border-gray-200 pb-3 last:border-0\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <div>\r\n                    <span className=\"font-medium text-gray-900\">{format.format}</span>\r\n                    <span className=\"ml-2 text-sm text-gray-500\">({format.total} interview{format.total !== 1 ? \"s\" : \"\"})</span>\r\n                  </div>\r\n                  <span className=\"text-lg font-bold text-gray-900\">{format.successRate}%</span>\r\n                </div>\r\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                  <div className=\"bg-blue-600 h-2 rounded-full\" style={{ width: `${format.successRate}%` }} />\r\n                </div>\r\n                <p className=\"text-xs text-gray-500 mt-1\">Avg duration: {format.avgDuration} minutes</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <p className=\"text-gray-600\">No interview format data available</p>\r\n        )}\r\n      </Card>\r\n\r\n      <Card>\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance by Industry</h3>\r\n        {companyTypeAnalysis.byIndustry.length > 0 ? (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Industry</th>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Interviews</th>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Success Rate</th>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Offer Rate</th>\r\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Avg Rating</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {companyTypeAnalysis.byIndustry.map((industry, idx) => (\r\n                  <tr key={idx}>\r\n                    <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">{industry.industry}</td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">{industry.total}</td>\r\n                    <td className=\"px-4 py-3 text-sm\">\r\n                      <span className={`font-semibold ${industry.successRate >= 50 ? 'text-green-600' : industry.successRate >= 30 ? 'text-yellow-600' : 'text-red-600'}`}>\r\n                        {industry.successRate}%\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">{industry.offerRate}%</td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">{industry.avgRating || \"ΓÇö\"}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <p className=\"text-gray-600\">No industry data available</p>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Insights Tab\r\nfunction InsightsTab({ analytics }) {\r\n  const { insights, improvementTracking } = analytics;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">≡ƒÆí Strategic Insights</h3>\r\n        {insights.length > 0 ? (\r\n          <div className=\"space-y-4\">\r\n            {insights.map((insight, idx) => (\r\n              <div key={idx} className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                <div className=\"flex items-start space-x-3\">\r\n                  <span className=\"text-2xl\">≡ƒÆí</span>\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-sm font-semibold text-blue-900 mb-1\">{insight.category}</p>\r\n                    <p className=\"text-sm text-blue-800 mb-2\">{insight.insight}</p>\r\n                    <p className=\"text-sm text-blue-700\"><strong>Recommendation:</strong> {insight.recommendation}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <p className=\"text-gray-600\">Complete more interviews to generate strategic insights</p>\r\n        )}\r\n      </Card>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <Card>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Recent Performance</h3>\r\n          <div className=\"space-y-3\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Period</p>\r\n              <p className=\"text-lg font-semibold text-gray-900\">{improvementTracking.recentPerformance.period}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Interviews Completed</p>\r\n              <p className=\"text-lg font-semibold text-gray-900\">{improvementTracking.recentPerformance.count}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Success Rate</p>\r\n              <p className=\"text-2xl font-bold text-green-600\">{improvementTracking.recentPerformance.successRate}%</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Historical Performance</h3>\r\n          <div className=\"space-y-3\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Period</p>\r\n              <p className=\"text-lg font-semibold text-gray-900\">{improvementTracking.olderPerformance.period}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Interviews Completed</p>\r\n              <p className=\"text-lg font-semibold text-gray-900\">{improvementTracking.olderPerformance.count}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Success Rate</p>\r\n              <p className=\"text-2xl font-bold text-gray-600\">{improvementTracking.olderPerformance.successRate}%</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      <Card>\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Practice & Improvement</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"text-center p-4 bg-purple-50 rounded-lg\">\r\n            <p className=\"text-3xl font-bold text-purple-600\">{improvementTracking.mockSessionsCompleted}</p>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Mock Interviews</p>\r\n          </div>\r\n          <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\r\n            <p className=\"text-3xl font-bold text-blue-600 capitalize\">{improvementTracking.trend}</p>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Performance Trend</p>\r\n          </div>\r\n          <div className=\"text-center p-4 bg-green-50 rounded-lg\">\r\n            <p className={`text-3xl font-bold ${improvementTracking.improvementScore > 0 ? 'text-green-600' : improvementTracking.improvementScore < 0 ? 'text-red-600' : 'text-gray-600'}`}>\r\n              {improvementTracking.improvementScore > 0 ? '+' : ''}{improvementTracking.improvementScore}%\r\n            </p>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Change in Success Rate</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Recommendations Tab\r\nfunction RecommendationsTab({ analytics }) {\r\n  const { recommendations } = analytics;\r\n\r\n  const priorityColors = {\r\n    High: \"bg-red-50 border-red-200\",\r\n    Medium: \"bg-yellow-50 border-yellow-200\",\r\n    Low: \"bg-blue-50 border-blue-200\",\r\n  };\r\n\r\n  const priorityBadges = {\r\n    High: \"bg-red-100 text-red-800\",\r\n    Medium: \"bg-yellow-100 text-yellow-800\",\r\n    Low: \"bg-blue-100 text-blue-800\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200\">\r\n        <div className=\"flex items-start space-x-3\">\r\n          <span className=\"text-3xl\">≡ƒÄô</span>\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Personalized Recommendations</h3>\r\n            <p className=\"text-gray-700\">Based on your interview performance data, here are targeted recommendations to improve your success rate.</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {recommendations.length > 0 ? (\r\n        <div className=\"space-y-4\">\r\n          {recommendations.map((rec, idx) => (\r\n            <Card key={idx} className={`border ${priorityColors[rec.priority]}`}>\r\n              <div className=\"flex items-start justify-between mb-3\">\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center space-x-2 mb-2\">\r\n                    <span className={`px-2 py-1 rounded-full text-xs font-semibold ${priorityBadges[rec.priority]}`}>{rec.priority} Priority</span>\r\n                    <span className=\"text-xs text-gray-500\">{rec.category}</span>\r\n                  </div>\r\n                  <h4 className=\"text-lg font-semibold text-gray-900 mb-1\">{rec.title}</h4>\r\n                  <p className=\"text-sm text-gray-700 mb-3\">{rec.description}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <p className=\"text-sm font-medium text-gray-900 mb-2\">Action Steps:</p>\r\n                <ul className=\"space-y-1\">\r\n                  {rec.actions.map((action, actionIdx) => (\r\n                    <li key={actionIdx} className=\"text-sm text-gray-700 flex items-start\">\r\n                      <span className=\"text-green-500 mr-2\">Γ£ô</span>\r\n                      <span>{action}</span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n              <div className=\"bg-white bg-opacity-60 rounded p-2 text-xs\">\r\n                <span className=\"font-medium text-gray-700\">Expected Impact:</span>{\" \"}\r\n                <span className=\"text-gray-600\">{rec.expectedImpact}</span>\r\n              </div>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <Card>\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-6xl mb-4\">≡ƒÄ»</div>\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No Recommendations Yet</h3>\r\n            <p className=\"text-gray-600\">Complete more interviews to receive personalized recommendations.</p>\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Reusable Components\r\nfunction MetricCard({ icon, label, value, color }) {\r\n  const colorClasses = { blue: \"text-blue-600\", green: \"text-green-600\", purple: \"text-purple-600\", yellow: \"text-yellow-600\" };\r\n  return (\r\n    <Card>\r\n      <div className=\"flex items-center space-x-3\">\r\n        <div className=\"text-3xl\">{icon}</div>\r\n        <div>\r\n          <p className=\"text-sm text-gray-600\">{label}</p>\r\n          <p className={`text-2xl font-bold ${colorClasses[color]}`}>{value}</p>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction FunnelStage({ label, count, percentage, color }) {\r\n  const colorClasses = { blue: \"bg-blue-500\", green: \"bg-green-500\", purple: \"bg-purple-500\", yellow: \"bg-yellow-500\" };\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-between items-center mb-1\">\r\n        <span className=\"text-sm font-medium text-gray-700\">{label}</span>\r\n        <span className=\"text-sm text-gray-600\">{count} ({percentage}%)</span>\r\n      </div>\r\n      <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n        <div className={`h-3 rounded-full ${colorClasses[color]}`} style={{ width: `${percentage}%` }} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RateRow({ label, value, description }) {\r\n  return (\r\n    <div className=\"border-b border-gray-200 pb-3 last:border-0\">\r\n      <div className=\"flex justify-between items-center mb-1\">\r\n        <span className=\"text-sm font-medium text-gray-700\">{label}</span>\r\n        <span className=\"text-xl font-bold text-gray-900\">{value}%</span>\r\n      </div>\r\n      <p className=\"text-xs text-gray-500\">{description}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction BenchmarkRow({ label, userValue, industryValue, comparison }) {\r\n  return (\r\n    <div className=\"border-b border-gray-200 pb-3 last:border-0\">\r\n      <div className=\"flex justify-between items-center mb-2\">\r\n        <span className=\"text-sm font-medium text-gray-700\">{label}</span>\r\n        <div className=\"text-right\">\r\n          <p className=\"text-lg font-bold text-gray-900\">{userValue}%</p>\r\n          <p className=\"text-xs text-gray-500\">vs {industryValue}% industry</p>\r\n        </div>\r\n      </div>\r\n      <p className={`text-xs font-medium ${comparison.includes('above') ? 'text-green-600' : comparison.includes('below') ? 'text-red-600' : 'text-gray-600'}`}>\r\n        You are {comparison} industry average\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FunnelBar({ label, count, percentage, color }) {\r\n  return (\r\n    <div className=\"flex items-center space-x-3\">\r\n      <div className=\"w-24 text-sm font-medium text-gray-700\">{label}</div>\r\n      <div className=\"flex-1\">\r\n        <div className=\"w-full bg-gray-200 rounded-full h-8 relative\">\r\n          <div className={`h-8 rounded-full ${color} transition-all duration-500`} style={{ width: `${percentage}%` }} />\r\n          <div className=\"absolute inset-0 flex items-center justify-center text-sm font-semibold text-gray-900\">{count} ({percentage}%)</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PerformanceItem({ type, successRate, total, avgRating, isStrength }) {\r\n  return (\r\n    <div className={`p-3 rounded-lg ${isStrength ? 'bg-green-50' : 'bg-orange-50'}`}>\r\n      <div className=\"flex justify-between items-start mb-1\">\r\n        <span className=\"font-medium text-gray-900\">{type}</span>\r\n        <span className={`text-lg font-bold ${isStrength ? 'text-green-700' : 'text-orange-700'}`}>{successRate}%</span>\r\n      </div>\r\n      <div className=\"flex justify-between text-xs text-gray-600\">\r\n        <span>{total} interview{total !== 1 ? 's' : ''}</span>\r\n        {avgRating && <span>Avg rating: {avgRating}/5</span>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\interviews\\InterviewPerformanceTab.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\interviews\\InterviewPredictionsTab.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'analytics' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":12,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":19,"suggestions":[{"messageId":"removeVar","data":{"varName":"analytics"},"fix":{"range":[578,587],"text":""},"desc":"Remove unused variable 'analytics'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","line":19,"column":6,"nodeType":"ArrayExpression","endLine":19,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchData]","fix":{"range":[823,825],"text":"[fetchData]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":185,"column":15,"nodeType":"JSXOpeningElement","endLine":191,"endColumn":16},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":185,"column":15,"nodeType":"JSXOpeningElement","endLine":191,"endColumn":16}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"@clerk/clerk-react\";\r\nimport { getUpcomingPredictions, getAnalytics, recalculatePrediction } from \"../../api/interviewPredictions\";\r\nimport { setAuthToken } from \"../../api/axios\";\r\nimport { RefreshCw, TrendingUp, Target, AlertCircle, BarChart3 } from \"lucide-react\";\r\n\r\nexport default function InterviewPredictionsTab() {\r\n  const navigate = useNavigate();\r\n  const { getToken } = useAuth();\r\n  const [predictions, setPredictions] = useState([]);\r\n  const [analytics, setAnalytics] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [recalculating, setRecalculating] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      \r\n      const [predictionsRes, analyticsRes] = await Promise.all([\r\n        getUpcomingPredictions(),\r\n        getAnalytics().catch(() => ({ data: { data: null } })),\r\n      ]);\r\n\r\n      setPredictions(predictionsRes.data?.data?.predictions || []);\r\n      setAnalytics(analyticsRes.data?.data || null);\r\n    } catch (err) {\r\n      console.error(\"Error fetching predictions:\", err);\r\n      setError(err.response?.data?.message || \"Failed to load predictions\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRecalculate = async (interviewId) => {\r\n    setRecalculating(interviewId);\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await recalculatePrediction(interviewId);\r\n      await fetchData();\r\n    } catch (err) {\r\n      console.error(\"Error recalculating prediction:\", err);\r\n      alert(\"Failed to recalculate prediction\");\r\n    } finally {\r\n      setRecalculating(null);\r\n    }\r\n  };\r\n\r\n  const getSuccessColor = (probability) => {\r\n    if (probability >= 75) return \"text-green-600\";\r\n    if (probability >= 50) return \"text-yellow-600\";\r\n    return \"text-red-600\";\r\n  };\r\n\r\n  const getSuccessBgColor = (probability) => {\r\n    if (probability >= 75) return \"bg-green-50 border-green-200\";\r\n    if (probability >= 50) return \"bg-yellow-50 border-yellow-200\";\r\n    return \"bg-red-50 border-red-200\";\r\n  };\r\n\r\n  const getConfidenceLabel = (score) => {\r\n    if (score >= 80) return \"Very High\";\r\n    if (score >= 60) return \"High\";\r\n    if (score >= 40) return \"Medium\";\r\n    return \"Low\";\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    return new Date(date).toLocaleDateString(\"en-US\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      year: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading predictions...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* Header Actions */}\r\n      <div className=\"flex justify-end mb-4\">\r\n        <button\r\n          onClick={fetchData}\r\n          className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n        >\r\n          <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n          Refresh\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center\">\r\n          <AlertCircle className=\"h-5 w-5 text-red-600 mr-3\" />\r\n          <p className=\"text-red-800\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {predictions.length === 0 ? (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-12 text-center\">\r\n          <Target className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\r\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n            No Upcoming Interviews\r\n          </h3>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Schedule interviews to see success predictions and personalized recommendations.\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-6\">\r\n          {/* Summary Cards */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Total Upcoming</p>\r\n                  <p className=\"text-2xl font-bold text-gray-900 mt-1\">\r\n                    {predictions.length}\r\n                  </p>\r\n                </div>\r\n                <div className=\"bg-blue-100 rounded-full p-3\">\r\n                  <Target className=\"h-6 w-6 text-blue-600\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Highest Success Rate</p>\r\n                  <p className=\"text-2xl font-bold text-green-600 mt-1\">\r\n                    {predictions.length > 0\r\n                      ? `${Math.max(...predictions.map((p) => p.successProbability))}%`\r\n                      : \"N/A\"}\r\n                  </p>\r\n                </div>\r\n                <div className=\"bg-green-100 rounded-full p-3\">\r\n                  <TrendingUp className=\"h-6 w-6 text-green-600\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Avg Success Rate</p>\r\n                  <p className=\"text-2xl font-bold text-gray-900 mt-1\">\r\n                    {predictions.length > 0\r\n                      ? `${Math.round(\r\n                          predictions.reduce((sum, p) => sum + p.successProbability, 0) /\r\n                            predictions.length\r\n                        )}%`\r\n                      : \"N/A\"}\r\n                  </p>\r\n                </div>\r\n                <div className=\"bg-purple-100 rounded-full p-3\">\r\n                  <BarChart3 className=\"h-6 w-6 text-purple-600\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Predictions List */}\r\n          <div className=\"space-y-4\">\r\n            {predictions.map((prediction) => (\r\n              <div\r\n                key={prediction._id}\r\n                className={`bg-white rounded-lg shadow-sm border-2 p-6 hover:shadow-md transition-shadow cursor-pointer ${getSuccessBgColor(\r\n                  prediction.successProbability\r\n                )}`}\r\n                onClick={() => navigate(`/interview-predictions/${prediction.interviewId._id}`)}\r\n              >\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-xl font-semibold text-gray-900\">\r\n                      {prediction.interviewId?.title || \"Interview\"}\r\n                    </h3>\r\n                    <p className=\"text-gray-600 mt-1\">\r\n                      {prediction.interviewId?.company} ΓÇó{\" \"}\r\n                      {prediction.interviewId?.interviewType}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-500 mt-1\">\r\n                      {formatDate(prediction.interviewId?.scheduledDate)}\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      handleRecalculate(prediction.interviewId._id);\r\n                    }}\r\n                    disabled={recalculating === prediction.interviewId._id}\r\n                    className=\"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50\"\r\n                    title=\"Recalculate prediction\"\r\n                  >\r\n                    <RefreshCw\r\n                      className={`h-5 w-5 ${\r\n                        recalculating === prediction.interviewId._id ? \"animate-spin\" : \"\"\r\n                      }`}\r\n                    />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  {/* Success Probability */}\r\n                  <div className=\"text-center p-4 bg-white rounded-lg\">\r\n                    <p className=\"text-sm text-gray-600 mb-1\">Success Probability</p>\r\n                    <p className={`text-3xl font-bold ${getSuccessColor(prediction.successProbability)}`}>\r\n                      {prediction.successProbability}%\r\n                    </p>\r\n                    <div className=\"mt-2 w-full bg-gray-200 rounded-full h-2\">\r\n                      <div\r\n                        className={`h-2 rounded-full ${\r\n                          prediction.successProbability >= 75\r\n                            ? \"bg-green-600\"\r\n                            : prediction.successProbability >= 50\r\n                            ? \"bg-yellow-600\"\r\n                            : \"bg-red-600\"\r\n                        }`}\r\n                        style={{ width: `${prediction.successProbability}%` }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Confidence Score */}\r\n                  <div className=\"text-center p-4 bg-white rounded-lg\">\r\n                    <p className=\"text-sm text-gray-600 mb-1\">Confidence</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">\r\n                      {getConfidenceLabel(prediction.confidenceScore)}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-500 mt-1\">\r\n                      {prediction.confidenceScore}% data complete\r\n                    </p>\r\n                  </div>\r\n\r\n                  {/* Recommendations */}\r\n                  <div className=\"text-center p-4 bg-white rounded-lg\">\r\n                    <p className=\"text-sm text-gray-600 mb-1\">Action Items</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">\r\n                      {prediction.recommendations?.filter((r) => !r.completed).length || 0}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-500 mt-1\">\r\n                      {prediction.recommendations?.filter((r) => r.priority === \"High\" && !r.completed)\r\n                        .length || 0}{\" \"}\r\n                      high priority\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Top Recommendations Preview */}\r\n                {prediction.recommendations &&\r\n                  prediction.recommendations.filter((r) => !r.completed).length > 0 && (\r\n                    <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                      <p className=\"text-sm font-semibold text-gray-700 mb-2\">\r\n                        Top Recommendations:\r\n                      </p>\r\n                      <div className=\"space-y-1\">\r\n                        {prediction.recommendations\r\n                          .filter((r) => !r.completed)\r\n                          .slice(0, 2)\r\n                          .map((rec, idx) => (\r\n                            <div key={idx} className=\"flex items-start\">\r\n                              <span\r\n                                className={`text-xs px-2 py-1 rounded mr-2 ${\r\n                                  rec.priority === \"High\"\r\n                                    ? \"bg-red-100 text-red-700\"\r\n                                    : \"bg-yellow-100 text-yellow-700\"\r\n                                }`}\r\n                              >\r\n                                {rec.priority}\r\n                              </span>\r\n                              <p className=\"text-sm text-gray-700\">{rec.title}</p>\r\n                            </div>\r\n                          ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\mentors\\InviteMentorModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":157,"column":9,"nodeType":"JSXOpeningElement","endLine":161,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":157,"column":9,"nodeType":"JSXOpeningElement","endLine":161,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":162,"column":13,"nodeType":"JSXOpeningElement","endLine":162,"endColumn":148},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":162,"column":13,"nodeType":"JSXOpeningElement","endLine":162,"endColumn":148},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":191,"column":25,"nodeType":"JSXOpeningElement","endLine":191,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":206,"column":25,"nodeType":"JSXOpeningElement","endLine":206,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":222,"column":25,"nodeType":"JSXOpeningElement","endLine":222,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":240,"column":25,"nodeType":"JSXOpeningElement","endLine":240,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":264,"column":25,"nodeType":"JSXOpeningElement","endLine":264,"endColumn":81},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":300,"column":29,"nodeType":"JSXAttribute","endLine":300,"endColumn":111},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":301,"column":29,"nodeType":"JSXAttribute","endLine":301,"endColumn":110}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst FOCUS_AREAS = [\r\n    { id: \"job_search_strategy\", label: \"Job Search Strategy\" },\r\n    { id: \"resume_review\", label: \"Resume Review\" },\r\n    { id: \"interview_prep\", label: \"Interview Prep\" },\r\n    { id: \"salary_negotiation\", label: \"Salary Negotiation\" },\r\n    { id: \"career_direction\", label: \"Career Direction\" },\r\n    { id: \"skill_development\", label: \"Skill Development\" },\r\n    { id: \"networking\", label: \"Networking\" },\r\n    { id: \"general_support\", label: \"General Support\" },\r\n];\r\n\r\nconst SHARED_DATA_OPTIONS = [\r\n    { key: \"shareResume\", label: \"Resume\" },\r\n    { key: \"shareCoverLetters\", label: \"Cover Letters\" },\r\n    { key: \"shareApplications\", label: \"Applications\" },\r\n    { key: \"shareInterviewPrep\", label: \"Interview Prep\" },\r\n    { key: \"shareGoals\", label: \"Goals\" },\r\n    { key: \"shareSkillGaps\", label: \"Skill Gaps\" },\r\n    { key: \"shareProgress\", label: \"Progress\" },\r\n];\r\n\r\nexport default function InviteMentorModal({ isOpen, onClose, onInviteSent }) {\r\n    const [formData, setFormData] = useState({\r\n        mentorEmail: \"\",\r\n        relationshipType: \"mentor\",\r\n        invitationMessage: \"\",\r\n        focusAreas: [],\r\n        sharedData: {\r\n            shareResume: true,\r\n            shareCoverLetters: true,\r\n            shareApplications: true,\r\n            shareInterviewPrep: true,\r\n            shareGoals: true,\r\n            shareSkillGaps: true,\r\n            shareProgress: true,\r\n        },\r\n    });\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const [success, setSuccess] = useState(\"\");\r\n\r\n    const handleEmailChange = (e) => {\r\n        setFormData({ ...formData, mentorEmail: e.target.value });\r\n        setError(\"\");\r\n    };\r\n\r\n    const handleRelationshipTypeChange = (e) => {\r\n        setFormData({ ...formData, relationshipType: e.target.value });\r\n    };\r\n\r\n    const handleMessageChange = (e) => {\r\n        setFormData({ ...formData, invitationMessage: e.target.value });\r\n    };\r\n\r\n    const toggleFocusArea = (areaId) => {\r\n        setFormData((prev) => ({\r\n            ...prev,\r\n            focusAreas: prev.focusAreas.includes(areaId)\r\n                ? prev.focusAreas.filter((id) => id !== areaId)\r\n                : [...prev.focusAreas, areaId],\r\n        }));\r\n    };\r\n\r\n    const toggleSharedData = (key) => {\r\n        setFormData((prev) => ({\r\n            ...prev,\r\n            sharedData: {\r\n                ...prev.sharedData,\r\n                [key]: !prev.sharedData[key],\r\n            },\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(\"\");\r\n\r\n        if (!formData.mentorEmail) {\r\n            setError(\"Please enter a mentor email address\");\r\n            return;\r\n        }\r\n\r\n        // Validate email format\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        if (!emailRegex.test(formData.mentorEmail)) {\r\n            setError(\"Please enter a valid email address\");\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n            };\r\n            if (token) {\r\n                headers.Authorization = `Bearer ${token}`;\r\n            }\r\n\r\n            const response = await fetch(\"/api/mentors/invite\", {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify(formData),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.message || \"Failed to send invitation\");\r\n            }\r\n\r\n            setSuccess(\"Mentor invitation sent successfully!\");\r\n            setFormData({\r\n                mentorEmail: \"\",\r\n                relationshipType: \"mentor\",\r\n                invitationMessage: \"\",\r\n                focusAreas: [],\r\n                sharedData: {\r\n                    shareResume: true,\r\n                    shareCoverLetters: true,\r\n                    shareApplications: true,\r\n                    shareInterviewPrep: true,\r\n                    shareGoals: true,\r\n                    shareSkillGaps: true,\r\n                    shareProgress: true,\r\n                },\r\n            });\r\n\r\n            if (onInviteSent) {\r\n                onInviteSent();\r\n            }\r\n\r\n            setTimeout(() => {\r\n                onClose();\r\n            }, 2000);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleBackdropClick = (e) => {\r\n        // Only close if clicking directly on the backdrop, not the modal content\r\n        if (e.target === e.currentTarget) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n            style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n            onClick={handleBackdropClick}\r\n        >\r\n            <div className=\"bg-white rounded-lg shadow-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n                    <h2 className=\"text-2xl font-bold text-gray-900\">Invite a Mentor</h2>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600\"\r\n                        aria-label=\"Close modal\"\r\n                    >\r\n                        Γ£ò\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <form onSubmit={handleSubmit} className=\"p-6\">\r\n                    {error && (\r\n                        <div className=\"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    {success && (\r\n                        <div className=\"mb-4 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg\">\r\n                            {success}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Email Input */}\r\n                    <div className=\"mb-6\">\r\n                        <label className=\"block text-gray-700 font-medium mb-2\">\r\n                            Mentor Email *\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={formData.mentorEmail}\r\n                            onChange={handleEmailChange}\r\n                            placeholder=\"mentor@example.com\"\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Relationship Type */}\r\n                    <div className=\"mb-6\">\r\n                        <label className=\"block text-gray-700 font-medium mb-2\">\r\n                            Relationship Type\r\n                        </label>\r\n                        <select\r\n                            value={formData.relationshipType}\r\n                            onChange={handleRelationshipTypeChange}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                        >\r\n                            <option value=\"mentor\">Mentor</option>\r\n                            <option value=\"career_coach\">Career Coach</option>\r\n                            <option value=\"peer_mentor\">Peer Mentor</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Invitation Message */}\r\n                    <div className=\"mb-6\">\r\n                        <label className=\"block text-gray-700 font-medium mb-2\">\r\n                            Personal Message (Optional)\r\n                        </label>\r\n                        <textarea\r\n                            value={formData.invitationMessage}\r\n                            onChange={handleMessageChange}\r\n                            placeholder=\"Tell them why you'd like their guidance...\"\r\n                            maxLength={500}\r\n                            rows=\"3\"\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                        />\r\n                        <p className=\"text-sm text-gray-500 mt-1\">\r\n                            {formData.invitationMessage.length}/500\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Focus Areas */}\r\n                    <div className=\"mb-6\">\r\n                        <label className=\"block text-gray-700 font-medium mb-3\">\r\n                            Focus Areas (What you need help with)\r\n                        </label>\r\n                        <div className=\"grid grid-cols-2 gap-3\">\r\n                            {FOCUS_AREAS.map((area) => (\r\n                                <label\r\n                                    key={area.id}\r\n                                    className=\"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer\"\r\n                                >\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={formData.focusAreas.includes(area.id)}\r\n                                        onChange={() => toggleFocusArea(area.id)}\r\n                                        className=\"w-4 h-4 rounded\"\r\n                                        style={{ accentColor: '#777C6D' }}\r\n                                    />\r\n                                    <span className=\"ml-2 text-gray-700\">{area.label}</span>\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Shared Data */}\r\n                    <div className=\"mb-6\">\r\n                        <label className=\"block text-gray-700 font-medium mb-3\">\r\n                            What Data Would You Like to Share?\r\n                        </label>\r\n                        <div className=\"space-y-2\">\r\n                            {SHARED_DATA_OPTIONS.map((option) => (\r\n                                <label\r\n                                    key={option.key}\r\n                                    className=\"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer\"\r\n                                >\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={formData.sharedData[option.key]}\r\n                                        onChange={() => toggleSharedData(option.key)}\r\n                                        className=\"w-4 h-4 rounded\"\r\n                                        style={{ accentColor: '#777C6D' }}\r\n                                    />\r\n                                    <span className=\"ml-2 text-gray-700\">{option.label}</span>\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Buttons */}\r\n                    <div className=\"flex gap-3 mt-8\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={onClose}\r\n                            className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-medium\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"flex-1 px-4 py-2 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            style={{ backgroundColor: '#777C6D' }}\r\n                            onMouseOver={e => !loading && (e.currentTarget.style.backgroundColor = '#656A5C')}\r\n                            onMouseOut={e => !loading && (e.currentTarget.style.backgroundColor = '#777C6D')}\r\n                        >\r\n                            {loading ? (\r\n                                <span>Sending...</span>\r\n                            ) : (\r\n                                <span>Send Invitation</span>\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nInviteMentorModal.propTypes = {\r\n    isOpen: PropTypes.bool.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onInviteSent: PropTypes.func,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\mentors\\MenteeDetailView.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchMenteeDetails'. Either include it or remove the dependency array.","line":15,"column":8,"nodeType":"ArrayExpression","endLine":15,"endColumn":18,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMenteeDetails, menteeId]","fix":{"range":[644,654],"text":"[fetchMenteeDetails, menteeId]"}}]},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":714,"column":33,"nodeType":"JSXAttribute","endLine":714,"endColumn":101},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":715,"column":33,"nodeType":"JSXAttribute","endLine":715,"endColumn":100}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function MenteeDetailView({ menteeId, onClose }) {\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [activeTab, setActiveTab] = useState(\"overview\"); // 'overview', 'progress', 'insights', 'materials'\r\n    const [profile, setProfile] = useState(null);\r\n    const [progress, setProgress] = useState(null);\r\n    const [insights, setInsights] = useState(null);\r\n    const [engagement, setEngagement] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetchMenteeDetails();\r\n    }, [menteeId]);\r\n\r\n    const fetchMenteeDetails = async () => {\r\n        setLoading(true);\r\n        setError(\"\");\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            // Fetch mentee profile\r\n            const profileRes = await fetch(`/api/mentors/mentee/${menteeId}/profile`, { headers });\r\n            if (profileRes.ok) {\r\n                const profileData = await profileRes.json();\r\n                setProfile(profileData.data);\r\n            }\r\n\r\n            // Fetch mentee progress\r\n            const progressRes = await fetch(`/api/mentors/mentee/${menteeId}/progress`, { headers });\r\n            if (progressRes.ok) {\r\n                const progressData = await progressRes.json();\r\n                setProgress(progressData.data);\r\n            }\r\n\r\n            // Fetch mentee insights\r\n            const insightsRes = await fetch(`/api/mentors/mentee/${menteeId}/insights`, { headers });\r\n            if (insightsRes.ok) {\r\n                const insightsData = await insightsRes.json();\r\n                setInsights(insightsData.data);\r\n            }\r\n\r\n            // Fetch engagement metrics\r\n            const engagementRes = await fetch(`/api/mentors/mentee/${menteeId}/engagement`, { headers });\r\n            if (engagementRes.ok) {\r\n                const engagementData = await engagementRes.json();\r\n                setEngagement(engagementData.data);\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error fetching mentee details:\", err);\r\n            setError(\"Failed to load mentee details\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n                <div className=\"bg-white rounded-lg p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n                    <div className=\"flex items-center justify-center h-64\">\r\n                        <div className=\"text-center\">\r\n                            <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mx-auto mb-4\" style={{ borderTopColor: '#777C6D', borderBottomColor: '#777C6D' }}></div>\r\n                            <p className=\"text-gray-600\">Loading mentee details...</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n                {/* Header */}\r\n                <div className=\"p-6 border-b border-gray-200 flex items-start justify-between\">\r\n                    <div className=\"flex items-start gap-4\">\r\n                        {profile?.mentee?.profilePicture ? (\r\n                            <img\r\n                                src={profile.mentee.profilePicture}\r\n                                alt={profile.mentee.firstName}\r\n                                className=\"w-16 h-16 rounded-full\"\r\n                            />\r\n                        ) : (\r\n                            <div className=\"w-16 h-16 rounded-full flex items-center justify-center\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                <span className=\"text-2xl font-bold\" style={{ color: '#777C6D' }}>\r\n                                    {profile?.mentee?.firstName?.charAt(0) || \"M\"}\r\n                                </span>\r\n                            </div>\r\n                        )}\r\n                        <div>\r\n                            <h2 className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                                {profile?.mentee?.firstName} {profile?.mentee?.lastName}\r\n                            </h2>\r\n                            <p className=\"text-gray-600\">{profile?.mentee?.email}</p>\r\n                            {profile?.mentee?.headline && (\r\n                                <p className=\"text-sm text-gray-700 mt-1\">{profile.mentee.headline}</p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-500 hover:text-gray-700 text-2xl font-bold\"\r\n                    >\r\n                        ├ù\r\n                    </button>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"mx-6 mt-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Tabs */}\r\n                <div className=\"px-6 border-b border-gray-200\">\r\n                    <nav className=\"-mb-px flex space-x-8\">\r\n                        {[\"overview\", \"progress\", \"insights\", \"materials\"].map((tab) => (\r\n                            <button\r\n                                key={tab}\r\n                                onClick={() => setActiveTab(tab)}\r\n                                className={`${\r\n                                    activeTab === tab\r\n                                        ? \"border-[#777C6D] text-[#777C6D]\"\r\n                                        : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n                                } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors capitalize`}\r\n                            >\r\n                                {tab}\r\n                            </button>\r\n                        ))}\r\n                    </nav>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"flex-1 overflow-y-auto p-6\">\r\n                    {activeTab === \"overview\" && (\r\n                        <OverviewTab \r\n                            profile={profile} \r\n                            progress={progress} \r\n                            engagement={engagement} \r\n                        />\r\n                    )}\r\n                    {activeTab === \"progress\" && <ProgressTab progress={progress} profile={profile} />}\r\n                    {activeTab === \"insights\" && <InsightsTab insights={insights} />}\r\n                    {activeTab === \"materials\" && <MaterialsTab profile={profile} />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Overview Tab Component\r\nfunction OverviewTab({ profile, progress, engagement }) {\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* KPI Cards */}\r\n            {progress && (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <span className=\"text-sm text-gray-600\">Applications</span>\r\n                            <span className=\"text-2xl\">≡ƒôï</span>\r\n                        </div>\r\n                        <p className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                            {progress.kpis.applications.total}\r\n                        </p>\r\n                        {progress.kpis.applications.change > 0 && (\r\n                            <p className=\"text-sm text-green-600 mt-1\">\r\n                                +{progress.kpis.applications.change} in last {progress.period} days\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <span className=\"text-sm text-gray-600\">Interviews</span>\r\n                            <span className=\"text-2xl\">≡ƒÄñ</span>\r\n                        </div>\r\n                        <p className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                            {progress.kpis.interviews.total}\r\n                        </p>\r\n                        {progress.kpis.interviews.change > 0 && (\r\n                            <p className=\"text-sm text-green-600 mt-1\">\r\n                                +{progress.kpis.interviews.change} in last {progress.period} days\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <span className=\"text-sm text-gray-600\">Goal Completion</span>\r\n                            <span className=\"text-2xl\">≡ƒÄ»</span>\r\n                        </div>\r\n                        <p className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                            {progress.kpis.goals.completionRate.toFixed(0)}%\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">\r\n                            {progress.kpis.goals.completed} of {progress.kpis.goals.total} goals\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Engagement Score */}\r\n            {engagement && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Engagement Score\r\n                    </h3>\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"relative w-24 h-24\">\r\n                            <svg className=\"w-24 h-24 transform -rotate-90\">\r\n                                <circle\r\n                                    cx=\"48\"\r\n                                    cy=\"48\"\r\n                                    r=\"40\"\r\n                                    stroke=\"#E8EAE5\"\r\n                                    strokeWidth=\"8\"\r\n                                    fill=\"none\"\r\n                                />\r\n                                <circle\r\n                                    cx=\"48\"\r\n                                    cy=\"48\"\r\n                                    r=\"40\"\r\n                                    stroke=\"#777C6D\"\r\n                                    strokeWidth=\"8\"\r\n                                    fill=\"none\"\r\n                                    strokeDasharray={`${(engagement.engagementScore.score / 100) * 251.2} 251.2`}\r\n                                />\r\n                            </svg>\r\n                            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                                <span className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                                    {engagement.engagementScore.score}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                            <p className=\"text-lg font-semibold\" style={{ color: '#4F5348' }}>\r\n                                {engagement.engagementScore.rating}\r\n                            </p>\r\n                            <div className=\"mt-2 space-y-1 text-sm text-gray-600\">\r\n                                <p>≡ƒÆ¼ {engagement.messageCount} messages</p>\r\n                                <p>Γ£ô {engagement.acknowledgmentRate}% feedback acknowledged</p>\r\n                                <p>≡ƒÄ» {engagement.recommendationCompletionRate}% recommendations completed</p>\r\n                            </div>\r\n                            {engagement.lastActive && (\r\n                                <p className=\"mt-2 text-xs text-gray-500\">\r\n                                    Last active: {new Date(engagement.lastActive).toLocaleDateString()}\r\n                                </p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Mentee Summary */}\r\n            {profile?.mentee?.summary && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-3\" style={{ color: '#4F5348' }}>\r\n                        About\r\n                    </h3>\r\n                    <p className=\"text-gray-700\">{profile.mentee.summary}</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n// Progress Tab Component\r\nfunction ProgressTab({ progress, profile }) {\r\n    if (!progress) {\r\n        return <div className=\"text-center text-gray-600\">No progress data available</div>;\r\n    }\r\n\r\n    const { sharedData } = profile || {};\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* KPIs Overview */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                    <p className=\"text-sm text-gray-600\">Total Applications</p>\r\n                    <p className=\"text-3xl font-bold mt-2\" style={{ color: '#4F5348' }}>\r\n                        {progress.kpis?.applications?.total || 0}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                        +{progress.kpis?.applications?.change || 0} in last {progress.period} days\r\n                    </p>\r\n                </div>\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                    <p className=\"text-sm text-gray-600\">Total Interviews</p>\r\n                    <p className=\"text-3xl font-bold mt-2\" style={{ color: '#4F5348' }}>\r\n                        {progress.kpis?.interviews?.total || 0}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                        +{progress.kpis?.interviews?.change || 0} in last {progress.period} days\r\n                    </p>\r\n                </div>\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                    <p className=\"text-sm text-gray-600\">Goals Completed</p>\r\n                    <p className=\"text-3xl font-bold mt-2\" style={{ color: '#4F5348' }}>\r\n                        {progress.kpis?.goals?.completed || 0}/{progress.kpis?.goals?.total || 0}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                        {Math.round(progress.kpis?.goals?.completionRate || 0)}% completion rate\r\n                    </p>\r\n                </div>\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                    <p className=\"text-sm text-gray-600\">Engagement Score</p>\r\n                    <p className=\"text-3xl font-bold mt-2\" style={{ color: '#4F5348' }}>\r\n                        {progress.kpis?.engagement?.activityScore || 0}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Activity level</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Active Goals Detail */}\r\n            {sharedData?.goals && sharedData.goals.length > 0 ? (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Active Goals ({sharedData.goals.length})\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                        {sharedData.goals.map((goal) => (\r\n                            <div key={goal._id} className=\"border-l-4 border-[#777C6D] pl-4 py-3\">\r\n                                <div className=\"flex items-start justify-between\">\r\n                                    <div className=\"flex-1\">\r\n                                        <p className=\"font-semibold text-gray-800\">{goal.title}</p>\r\n                                        {goal.description && (\r\n                                            <p className=\"text-sm text-gray-600 mt-1\">{goal.description}</p>\r\n                                        )}\r\n                                        <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\r\n                                            <span>Target: {new Date(goal.targetDate).toLocaleDateString()}</span>\r\n                                            {goal.milestones && (\r\n                                                <span>ΓÇó {goal.milestones.filter(m => m.completed).length}/{goal.milestones.length} milestones</span>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                    <span className={`px-3 py-1 text-xs rounded-full font-medium ${\r\n                                        goal.status === 'completed' ? 'bg-green-100 text-green-800' :\r\n                                        goal.status === 'in_progress' ? 'bg-blue-100 text-blue-800' :\r\n                                        'bg-gray-100 text-gray-800'\r\n                                    }`}>\r\n                                        {goal.status?.replace(/_/g, ' ')}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6 text-center text-gray-500\">\r\n                    <p>No active goals shared</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Recent Applications Detail */}\r\n            {sharedData?.applications && sharedData.applications.length > 0 ? (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Recent Applications ({sharedData.applications.length})\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                        {sharedData.applications.map((app) => (\r\n                            <div key={app._id} className=\"flex items-center justify-between p-3 rounded\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                <div className=\"flex-1\">\r\n                                    <p className=\"font-semibold text-gray-800\">{app.title}</p>\r\n                                    <p className=\"text-sm text-gray-600\">{app.company}</p>\r\n                                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                                        Applied: {new Date(app.dateApplied || app.createdAt).toLocaleDateString()}\r\n                                    </p>\r\n                                </div>\r\n                                <span className={`px-3 py-1 text-xs rounded-full font-medium ${\r\n                                    app.status === 'Offer' ? 'bg-green-100 text-green-800' :\r\n                                    app.status === 'Interview' ? 'bg-blue-100 text-blue-800' :\r\n                                    app.status === 'Applied' ? 'bg-yellow-100 text-yellow-800' :\r\n                                    app.status === 'Rejected' ? 'bg-red-100 text-red-800' :\r\n                                    'bg-gray-100 text-gray-800'\r\n                                }`}>\r\n                                    {app.status}\r\n                                </span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6 text-center text-gray-500\">\r\n                    <p>No applications shared</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Upcoming Interviews Detail */}\r\n            {sharedData?.interviews && sharedData.interviews.length > 0 ? (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Interview Schedule ({sharedData.interviews.length})\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                        {sharedData.interviews.map((interview) => (\r\n                            <div key={interview._id} className=\"border-l-4 border-blue-500 pl-4 py-3\">\r\n                                <div className=\"flex items-start justify-between\">\r\n                                    <div className=\"flex-1\">\r\n                                        <p className=\"font-semibold text-gray-800\">{interview.title || 'Interview'}</p>\r\n                                        <p className=\"text-sm text-gray-600\">{interview.company}</p>\r\n                                        <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\r\n                                            <span>≡ƒôà {new Date(interview.scheduledDate).toLocaleDateString()}</span>\r\n                                            <span>≡ƒòÉ {new Date(interview.scheduledDate).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>\r\n                                            {interview.interviewType && <span>ΓÇó {interview.interviewType}</span>}\r\n                                        </div>\r\n                                    </div>\r\n                                    <span className=\"px-3 py-1 text-xs rounded-full font-medium bg-purple-100 text-purple-800\">\r\n                                        {interview.status || 'Scheduled'}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6 text-center text-gray-500\">\r\n                    <p>No interviews shared</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Recent Milestones */}\r\n            {progress.achievedMilestones && progress.achievedMilestones.length > 0 && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Recent Milestones Achieved\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                        {progress.achievedMilestones.map((milestone, idx) => (\r\n                            <div key={idx} className=\"flex items-start gap-3 p-3 rounded\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                <span className=\"text-2xl\">≡ƒÅå</span>\r\n                                <div className=\"flex-1\">\r\n                                    <p className=\"font-semibold text-gray-800\">{milestone.milestoneTitle}</p>\r\n                                    <p className=\"text-sm text-gray-600\">{milestone.goalTitle}</p>\r\n                                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                                        Completed: {new Date(milestone.completedDate).toLocaleDateString()}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Activity Trends */}\r\n            <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                    Activity Trends (Last {progress.period} days)\r\n                </h3>\r\n                <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center justify-between p-3 rounded\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                        <span className=\"text-gray-700\">Applications</span>\r\n                        <span className={`font-semibold ${progress.trends.applications === 'up' ? 'text-green-600' : 'text-gray-600'}`}>\r\n                            {progress.trends.applications === 'up' ? '≡ƒôê Increasing' : 'Γ₧í∩╕Å Stable'}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between p-3 rounded\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                        <span className=\"text-gray-700\">Interviews</span>\r\n                        <span className={`font-semibold ${progress.trends.interviews === 'up' ? 'text-green-600' : 'text-gray-600'}`}>\r\n                            {progress.trends.interviews === 'up' ? '≡ƒôê Increasing' : 'Γ₧í∩╕Å Stable'}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Insights Tab Component\r\nfunction InsightsTab({ insights }) {\r\n    if (!insights) {\r\n        return <div className=\"text-center text-gray-600\">No insights available</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Strengths */}\r\n            {insights.strengths.length > 0 && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\" style={{ color: '#4F5348' }}>\r\n                        <span className=\"text-2xl\">≡ƒÆ¬</span> Strengths\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                        {insights.strengths.map((strength, idx) => (\r\n                            <div key={idx} className=\"p-4 rounded-lg bg-green-50 border border-green-200\">\r\n                                <p className=\"font-semibold text-green-800\">{strength.area}</p>\r\n                                <p className=\"text-sm text-green-700 mt-1\">{strength.description}</p>\r\n                                <span className=\"inline-block mt-2 px-2 py-1 text-xs font-medium rounded bg-green-200 text-green-800\">\r\n                                    {strength.impact} impact\r\n                                </span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Areas for Improvement */}\r\n            {insights.areasForImprovement.length > 0 && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\" style={{ color: '#4F5348' }}>\r\n                        <span className=\"text-2xl\">≡ƒÄ»</span> Areas for Improvement\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                        {insights.areasForImprovement.map((area, idx) => (\r\n                            <div key={idx} className=\"p-4 rounded-lg bg-yellow-50 border border-yellow-200\">\r\n                                <p className=\"font-semibold text-yellow-800\">{area.area}</p>\r\n                                <p className=\"text-sm text-yellow-700 mt-1\">{area.description}</p>\r\n                                <span className=\"inline-block mt-2 px-2 py-1 text-xs font-medium rounded bg-yellow-200 text-yellow-800\">\r\n                                    {area.impact} impact\r\n                                </span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Actionable Recommendations */}\r\n            {insights.actionableRecommendations.length > 0 && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\" style={{ color: '#4F5348' }}>\r\n                        <span className=\"text-2xl\">≡ƒÆí</span> Actionable Recommendations\r\n                    </h3>\r\n                    <div className=\"space-y-4\">\r\n                        {insights.actionableRecommendations.map((rec, idx) => (\r\n                            <div key={idx} className=\"p-4 rounded-lg border-2 border-[#777C6D]\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                <div className=\"flex items-start justify-between mb-2\">\r\n                                    <p className=\"font-semibold text-gray-800\">{rec.title}</p>\r\n                                    <span className={`px-2 py-1 text-xs font-medium rounded ${\r\n                                        rec.priority === 'high' ? 'bg-red-100 text-red-800' :\r\n                                        rec.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\r\n                                        'bg-green-100 text-green-800'\r\n                                    }`}>\r\n                                        {rec.priority}\r\n                                    </span>\r\n                                </div>\r\n                                <p className=\"text-sm text-gray-700 mb-2\">{rec.description}</p>\r\n                                <p className=\"text-xs text-gray-600 italic\">\r\n                                    Expected impact: {rec.estimatedImpact}\r\n                                </p>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Achievement Patterns */}\r\n            {insights.achievementPatterns.length > 0 && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\" style={{ color: '#4F5348' }}>\r\n                        <span className=\"text-2xl\">≡ƒôè</span> Achievement Patterns\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                        {insights.achievementPatterns.map((pattern, idx) => (\r\n                            <div key={idx} className=\"p-4 rounded\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                <p className=\"font-semibold text-gray-800\">{pattern.pattern}</p>\r\n                                <p className=\"text-sm text-gray-600 mt-1\">{pattern.description}</p>\r\n                                <p className=\"text-sm text-gray-700 mt-2 italic\">{pattern.insight}</p>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n// Materials Tab Component\r\nfunction MaterialsTab({ profile }) {\r\n    const [selectedResume, setSelectedResume] = React.useState(null);\r\n\r\n    if (!profile) {\r\n        return <div className=\"text-center text-gray-600\">No materials available</div>;\r\n    }\r\n\r\n    const { sharedData } = profile;\r\n\r\n    const handleViewResume = (resume) => {\r\n        setSelectedResume(resume);\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Resumes */}\r\n            {sharedData?.resumes && sharedData.resumes.length > 0 && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Resumes ({sharedData.resumes.length})\r\n                    </h3>\r\n                    <div className=\"space-y-2\">\r\n                        {sharedData.resumes.map((resume) => (\r\n                            <div key={resume._id} className=\"flex items-center justify-between p-3 rounded\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                <div>\r\n                                    <p className=\"font-medium text-gray-800\">{resume.name || 'Resume'}</p>\r\n                                    <p className=\"text-xs text-gray-600\">\r\n                                        Updated: {new Date(resume.updatedAt).toLocaleDateString()}\r\n                                    </p>\r\n                                </div>\r\n                                <button \r\n                                    onClick={() => handleViewResume(resume)}\r\n                                    className=\"px-3 py-1 text-sm text-white rounded transition hover:opacity-80\" \r\n                                    style={{ backgroundColor: '#777C6D' }}\r\n                                >\r\n                                    View\r\n                                </button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Resume Preview Modal */}\r\n            {selectedResume && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4\">\r\n                    <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n                        {/* Modal Header */}\r\n                        <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\r\n                            <h3 className=\"text-xl font-bold\" style={{ color: '#4F5348' }}>\r\n                                {selectedResume.name}\r\n                            </h3>\r\n                            <button\r\n                                onClick={() => setSelectedResume(null)}\r\n                                className=\"text-gray-500 hover:text-gray-700 text-2xl leading-none\"\r\n                            >\r\n                                ├ù\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Modal Content */}\r\n                        <div className=\"flex-1 overflow-y-auto p-6\">\r\n                            {/* Summary */}\r\n                            {selectedResume.sections?.summary && (\r\n                                <div className=\"mb-6\">\r\n                                    <h4 className=\"text-lg font-semibold mb-2\" style={{ color: '#4F5348' }}>Summary</h4>\r\n                                    <p className=\"text-gray-700 whitespace-pre-wrap\">{selectedResume.sections.summary}</p>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Experience */}\r\n                            {selectedResume.sections?.experience && selectedResume.sections.experience.length > 0 && (\r\n                                <div className=\"mb-6\">\r\n                                    <h4 className=\"text-lg font-semibold mb-3\" style={{ color: '#4F5348' }}>Experience</h4>\r\n                                    <div className=\"space-y-4\">\r\n                                        {selectedResume.sections.experience.map((exp, idx) => (\r\n                                            <div key={idx} className=\"border-l-2 border-gray-300 pl-4\">\r\n                                                <p className=\"font-semibold text-gray-800\">{exp.title}</p>\r\n                                                <p className=\"text-sm text-gray-600\">{exp.company}</p>\r\n                                                <p className=\"text-xs text-gray-500\">{exp.startDate} - {exp.endDate || 'Present'}</p>\r\n                                                {exp.description && <p className=\"text-sm text-gray-700 mt-2 whitespace-pre-wrap\">{exp.description}</p>}\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Education */}\r\n                            {selectedResume.sections?.education && selectedResume.sections.education.length > 0 && (\r\n                                <div className=\"mb-6\">\r\n                                    <h4 className=\"text-lg font-semibold mb-3\" style={{ color: '#4F5348' }}>Education</h4>\r\n                                    <div className=\"space-y-4\">\r\n                                        {selectedResume.sections.education.map((edu, idx) => (\r\n                                            <div key={idx} className=\"border-l-2 border-gray-300 pl-4\">\r\n                                                <p className=\"font-semibold text-gray-800\">{edu.degree}</p>\r\n                                                <p className=\"text-sm text-gray-600\">{edu.school}</p>\r\n                                                <p className=\"text-xs text-gray-500\">{edu.graduationDate}</p>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Skills */}\r\n                            {selectedResume.sections?.skills && selectedResume.sections.skills.length > 0 && (\r\n                                <div className=\"mb-6\">\r\n                                    <h4 className=\"text-lg font-semibold mb-3\" style={{ color: '#4F5348' }}>Skills</h4>\r\n                                    <div className=\"flex flex-wrap gap-2\">\r\n                                        {selectedResume.sections.skills.map((skill, idx) => (\r\n                                            <span \r\n                                                key={idx} \r\n                                                className=\"px-3 py-1 text-sm rounded\"\r\n                                                style={{ backgroundColor: '#E8EAE5', color: '#4F5348' }}\r\n                                            >\r\n                                                {skill}\r\n                                            </span>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Projects */}\r\n                            {selectedResume.sections?.projects && selectedResume.sections.projects.length > 0 && (\r\n                                <div className=\"mb-6\">\r\n                                    <h4 className=\"text-lg font-semibold mb-3\" style={{ color: '#4F5348' }}>Projects</h4>\r\n                                    <div className=\"space-y-4\">\r\n                                        {selectedResume.sections.projects.map((project, idx) => (\r\n                                            <div key={idx} className=\"border-l-2 border-gray-300 pl-4\">\r\n                                                <p className=\"font-semibold text-gray-800\">{project.name}</p>\r\n                                                {project.description && <p className=\"text-sm text-gray-700 mt-1 whitespace-pre-wrap\">{project.description}</p>}\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Modal Footer */}\r\n                        <div className=\"p-4 border-t border-gray-200 flex justify-end\">\r\n                            <button\r\n                                onClick={() => setSelectedResume(null)}\r\n                                className=\"px-4 py-2 text-white rounded transition\"\r\n                                style={{ backgroundColor: '#777C6D' }}\r\n                                onMouseOver={e => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                                onMouseOut={e => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                            >\r\n                                Close\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Applications */}\r\n            {sharedData?.applications && sharedData.applications.length > 0 && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Recent Applications ({sharedData.applications.length})\r\n                    </h3>\r\n                    <div className=\"space-y-2\">\r\n                        {sharedData.applications.map((app) => (\r\n                            <div key={app._id} className=\"flex items-center justify-between p-3 rounded\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                <div>\r\n                                    <p className=\"font-medium text-gray-800\">{app.title}</p>\r\n                                    <p className=\"text-sm text-gray-600\">{app.company}</p>\r\n                                    <span className=\"text-xs px-2 py-1 rounded bg-blue-100 text-blue-800 mt-1 inline-block\">\r\n                                        {app.status}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Goals */}\r\n            {sharedData?.goals && sharedData.goals.length > 0 && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Active Goals ({sharedData.goals.length})\r\n                    </h3>\r\n                    <div className=\"space-y-2\">\r\n                        {sharedData.goals.map((goal) => (\r\n                            <div key={goal._id} className=\"flex items-center justify-between p-3 rounded\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                <div className=\"flex-1\">\r\n                                    <p className=\"font-medium text-gray-800\">{goal.title}</p>\r\n                                    <p className=\"text-xs text-gray-600\">\r\n                                        Target: {new Date(goal.targetDate).toLocaleDateString()}\r\n                                    </p>\r\n                                </div>\r\n                                <span className={`text-xs px-2 py-1 rounded ${\r\n                                    goal.status === 'completed' ? 'bg-green-100 text-green-800' :\r\n                                    goal.status === 'in_progress' ? 'bg-blue-100 text-blue-800' :\r\n                                    'bg-gray-100 text-gray-800'\r\n                                }`}>\r\n                                    {goal.status}\r\n                                </span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Interviews */}\r\n            {sharedData?.interviews && sharedData.interviews.length > 0 && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Interview Schedule ({sharedData.interviews.length})\r\n                    </h3>\r\n                    <div className=\"space-y-2\">\r\n                        {sharedData.interviews.map((interview) => (\r\n                            <div key={interview._id} className=\"flex items-center justify-between p-3 rounded\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                <div>\r\n                                    <p className=\"font-medium text-gray-800\">{interview.title}</p>\r\n                                    <p className=\"text-sm text-gray-600\">{interview.company}</p>\r\n                                    <p className=\"text-xs text-gray-600 mt-1\">\r\n                                        {new Date(interview.scheduledDate).toLocaleString()}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nMenteeDetailView.propTypes = {\r\n    menteeId: PropTypes.string.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nOverviewTab.propTypes = {\r\n    profile: PropTypes.object,\r\n    progress: PropTypes.object,\r\n    engagement: PropTypes.object,\r\n};\r\n\r\nProgressTab.propTypes = {\r\n    progress: PropTypes.object,\r\n    profile: PropTypes.object,\r\n};\r\n\r\nInsightsTab.propTypes = {\r\n    insights: PropTypes.object,\r\n};\r\n\r\nMaterialsTab.propTypes = {\r\n    profile: PropTypes.object,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\mentors\\MentorDashboard.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'acceptInvitationByToken'. Either include it or remove the dependency array.","line":31,"column":8,"nodeType":"ArrayExpression","endLine":31,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [acceptInvitationByToken]","fix":{"range":[1629,1631],"text":"[acceptInvitationByToken]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchDashboardData'. Either include it or remove the dependency array.","line":61,"column":8,"nodeType":"ArrayExpression","endLine":61,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchDashboardData]","fix":{"range":[2886,2888],"text":"[fetchDashboardData]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'parseErr' is defined but never used.","line":77,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":77,"endColumn":34},{"ruleId":"no-unused-vars","severity":2,"message":"'parseErr' is defined but never used.","line":90,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":90,"endColumn":34},{"ruleId":"no-unused-vars","severity":2,"message":"'parseErr' is defined but never used.","line":103,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":103,"endColumn":34},{"ruleId":"no-unused-vars","severity":2,"message":"'parseErr' is defined but never used.","line":116,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":116,"endColumn":34},{"ruleId":"no-unused-vars","severity":2,"message":"'parseErr' is defined but never used.","line":129,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":129,"endColumn":34},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":297,"column":25,"nodeType":"JSXAttribute","endLine":297,"endColumn":93},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":298,"column":25,"nodeType":"JSXAttribute","endLine":298,"endColumn":92},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":427,"column":41,"nodeType":"JSXAttribute","endLine":427,"endColumn":109},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":428,"column":41,"nodeType":"JSXAttribute","endLine":428,"endColumn":108},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":700,"column":25,"nodeType":"JSXAttribute","endLine":700,"endColumn":93},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":701,"column":25,"nodeType":"JSXAttribute","endLine":701,"endColumn":92},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":773,"column":25,"nodeType":"JSXAttribute","endLine":773,"endColumn":93},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":774,"column":25,"nodeType":"JSXAttribute","endLine":774,"endColumn":92},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":827,"column":21,"nodeType":"JSXAttribute","endLine":827,"endColumn":89},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":828,"column":21,"nodeType":"JSXAttribute","endLine":828,"endColumn":88},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":891,"column":33,"nodeType":"JSXAttribute","endLine":891,"endColumn":115},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":892,"column":33,"nodeType":"JSXAttribute","endLine":892,"endColumn":114}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport InviteMentorModal from \"./InviteMentorModal\";\r\nimport MenteeDetailView from \"./MenteeDetailView\";\r\nimport MessagingModal from \"./MessagingModal\";\r\n\r\nexport default function MentorDashboard() {\r\n    const [mentors, setMentors] = useState([]);\r\n    const [mentees, setMentees] = useState([]);\r\n    const [feedback, setFeedback] = useState([]);\r\n    const [recommendations, setRecommendations] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [isInviteModalOpen, setIsInviteModalOpen] = useState(false);\r\n    const [activeTab, setActiveTab] = useState(\"mentors\"); // 'mentors', 'mentees', 'feedback', 'recommendations'\r\n    const [userRole, setUserRole] = useState(null); // 'mentee' or 'mentor' or both\r\n    const [tokenAcceptMessage, setTokenAcceptMessage] = useState(\"\");\r\n\r\n    const [mentorDashboardData, setMentorDashboardData] = useState(null);\r\n    const [selectedMenteeId, setSelectedMenteeId] = useState(null);\r\n    const [pendingInvitations, setPendingInvitations] = useState({ sent: [], received: [] });\r\n    const [messagingModal, setMessagingModal] = useState({ isOpen: false, relationshipId: null, recipientName: \"\", recipientId: null });\r\n\r\n    // Handle pending mentor token from signup\r\n    useEffect(() => {\r\n        const pendingToken = localStorage.getItem(\"pendingMentorToken\");\r\n        if (pendingToken) {\r\n            acceptInvitationByToken(pendingToken);\r\n            localStorage.removeItem(\"pendingMentorToken\");\r\n        }\r\n    }, []);\r\n\r\n    const acceptInvitationByToken = async (token) => {\r\n        try {\r\n            const authToken = localStorage.getItem(\"token\");\r\n            const res = await fetch(`/api/mentors/accept-token/${token}`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    ...(authToken ? { Authorization: `Bearer ${authToken}` } : {})\r\n                },\r\n            });\r\n            const data = await res.json();\r\n            if (res.ok) {\r\n                setTokenAcceptMessage(\"≡ƒÄë Mentor invitation accepted successfully! You are now connected.\");\r\n                setActiveTab(\"mentees\");\r\n                fetchDashboardData();\r\n            } else {\r\n                setTokenAcceptMessage(data.message || \"Could not accept invitation automatically. Please check your pending invitations.\");\r\n                setActiveTab(\"pending\");\r\n            }\r\n        } catch (e) {\r\n            console.error(\"Token accept error:\", e);\r\n            setTokenAcceptMessage(\"Could not accept invitation automatically. Please check your pending invitations.\");\r\n            setActiveTab(\"pending\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchDashboardData();\r\n    }, []);\r\n\r\n    const fetchDashboardData = async () => {\r\n        setLoading(true);\r\n        setError(\"\");\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            // Fetch mentors (current user as mentee)\r\n            const mentorsRes = await fetch(\"/api/mentors/my-mentors\", { headers });\r\n            let mentorData = { data: [] };\r\n            if (mentorsRes.ok) {\r\n                const text = await mentorsRes.text();\r\n                try {\r\n                    mentorData = JSON.parse(text);\r\n                } catch (parseErr) {\r\n                    console.error(\"Failed to parse mentors response:\", text);\r\n                    throw new Error(\"Server returned invalid response\");\r\n                }\r\n            }\r\n\r\n            // Fetch mentees (current user as mentor)\r\n            const menteesRes = await fetch(\"/api/mentors/my-mentees\", { headers });\r\n            let menteeData = { data: [] };\r\n            if (menteesRes.ok) {\r\n                const text = await menteesRes.text();\r\n                try {\r\n                    menteeData = JSON.parse(text);\r\n                } catch (parseErr) {\r\n                    console.error(\"Failed to parse mentees response:\", text);\r\n                    menteeData = { data: [] };\r\n                }\r\n            }\r\n\r\n            // Fetch received feedback\r\n            const feedbackRes = await fetch(\"/api/mentors/feedback/received\", { headers });\r\n            let feedbackData = { data: [] };\r\n            if (feedbackRes.ok) {\r\n                const text = await feedbackRes.text();\r\n                try {\r\n                    feedbackData = JSON.parse(text);\r\n                } catch (parseErr) {\r\n                    console.error(\"Failed to parse feedback response:\", text);\r\n                    feedbackData = { data: [] };\r\n                }\r\n            }\r\n\r\n            // Fetch recommendations\r\n            const recommendationsRes = await fetch(\"/api/mentors/recommendations\", { headers });\r\n            let recommendationsData = { data: [] };\r\n            if (recommendationsRes.ok) {\r\n                const text = await recommendationsRes.text();\r\n                try {\r\n                    recommendationsData = JSON.parse(text);\r\n                } catch (parseErr) {\r\n                    console.error(\"Failed to parse recommendations response:\", text);\r\n                    recommendationsData = { data: [] };\r\n                }\r\n            }\r\n\r\n            // Fetch pending invitations\r\n            const pendingRes = await fetch(\"/api/mentors/pending\", { headers });\r\n            let pendingData = { data: { sent: [], received: [] } };\r\n            if (pendingRes.ok) {\r\n                const text = await pendingRes.text();\r\n                try {\r\n                    pendingData = JSON.parse(text);\r\n                } catch (parseErr) {\r\n                    console.error(\"Failed to parse pending invitations response:\", text);\r\n                    pendingData = { data: { sent: [], received: [] } };\r\n                }\r\n            }\r\n\r\n            setMentors(Array.isArray(mentorData.data) ? mentorData.data : []);\r\n            setMentees(Array.isArray(menteeData.data) ? menteeData.data : []);\r\n            setFeedback(Array.isArray(feedbackData.data) ? feedbackData.data : []);\r\n            setRecommendations(Array.isArray(recommendationsData.data) ? recommendationsData.data : []);\r\n\r\n            const pendingInvitationsData = pendingData.data || { sent: [], received: [] };\r\n            setPendingInvitations(pendingInvitationsData);\r\n\r\n            // Auto-switch to pending tab if there are received invitations\r\n            if (pendingInvitationsData.received && pendingInvitationsData.received.length > 0) {\r\n                setActiveTab(\"pending\");\r\n            }\r\n\r\n            // Determine user role\r\n            if (Array.isArray(mentorData.data) && mentorData.data?.length > 0) setUserRole(\"mentee\");\r\n            if (Array.isArray(menteeData.data) && menteeData.data?.length > 0) {\r\n                setUserRole((prev) => (prev ? \"both\" : \"mentor\"));\r\n\r\n                // Fetch specialized mentor dashboard data if user is a mentor\r\n                fetchMentorDashboard(headers);\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Dashboard fetch error:\", err);\r\n            setError(\"Failed to load mentor dashboard: \" + err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchMentorDashboard = async (headers) => {\r\n        try {\r\n            const dashboardRes = await fetch(\"/api/mentors/dashboard\", { headers });\r\n            if (dashboardRes.ok) {\r\n                const dashboardData = await dashboardRes.json();\r\n                setMentorDashboardData(dashboardData.data);\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error fetching mentor dashboard data:\", err);\r\n        }\r\n    };\r\n\r\n    const handleAcceptInvitation = async (relationshipId) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            const response = await fetch(`/api/mentors/accept/${relationshipId}`, {\r\n                method: \"POST\",\r\n                headers,\r\n            });\r\n\r\n            if (response.ok) {\r\n                // Refresh dashboard data\r\n                fetchDashboardData();\r\n            } else {\r\n                const data = await response.json();\r\n                setError(data.message || \"Failed to accept invitation\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error accepting invitation:\", err);\r\n            setError(\"Failed to accept invitation\");\r\n        }\r\n    };\r\n\r\n    const handleDeclineInvitation = async (relationshipId) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            const response = await fetch(`/api/mentors/reject/${relationshipId}`, {\r\n                method: \"POST\",\r\n                headers,\r\n            });\r\n\r\n            if (response.ok) {\r\n                // Refresh dashboard data\r\n                fetchDashboardData();\r\n            } else {\r\n                const data = await response.json();\r\n                setError(data.message || \"Failed to decline invitation\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error declining invitation:\", err);\r\n            setError(\"Failed to decline invitation\");\r\n        }\r\n    };\r\n\r\n    const handleInviteSent = () => {\r\n        fetchDashboardData();\r\n    };\r\n\r\n    const handleAcknowledgeFeedback = async (feedbackId) => {\r\n        try {\r\n            const response = await fetch(`/api/mentors/feedback/${feedbackId}/acknowledge`, {\r\n                method: \"PUT\",\r\n            });\r\n\r\n            if (response.ok) {\r\n                setFeedback((prev) =>\r\n                    prev.map((f) =>\r\n                        f._id === feedbackId ? { ...f, acknowledged: true } : f\r\n                    )\r\n                );\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error acknowledging feedback:\", err);\r\n        }\r\n    };\r\n\r\n    const handleUpdateRecommendation = async (\r\n        recommendationId,\r\n        newStatus,\r\n        progressNotes\r\n    ) => {\r\n        try {\r\n            const response = await fetch(\r\n                `/api/mentors/recommendations/${recommendationId}`,\r\n                {\r\n                    method: \"PUT\",\r\n                    headers: { \"Content-Type\": \"application/json\" },\r\n                    body: JSON.stringify({ status: newStatus, progressNotes }),\r\n                }\r\n            );\r\n\r\n            if (response.ok) {\r\n                setRecommendations((prev) =>\r\n                    prev.map((r) =>\r\n                        r._id === recommendationId ? { ...r, status: newStatus } : r\r\n                    )\r\n                );\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error updating recommendation:\", err);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-64\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mx-auto mb-4\" style={{ borderTopColor: '#777C6D', borderBottomColor: '#777C6D' }}></div>\r\n                    <p className=\"text-gray-600\">Loading mentor dashboard...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen\" style={{ backgroundColor: \"#E4E6E0\" }}>\r\n            <div className=\"max-w-7xl mx-auto pt-12 pb-12 px-4\">\r\n                {/* Header */}\r\n                <div className=\"mb-6 flex justify-between items-center\">\r\n                    <div>\r\n                        <h1 className=\"text-3xl font-bold mb-2\" style={{ color: \"#4F5348\" }}>Mentor Hub</h1>\r\n                        <p style={{ color: \"#656A5C\" }}>\r\n                            Collaborate with mentors and coaches to guide your job search\r\n                        </p>\r\n                    </div>\r\n                    <button\r\n                        onClick={() => setIsInviteModalOpen(true)}\r\n                        className=\"px-4 py-2 text-white rounded-lg transition font-medium\"\r\n                        style={{ backgroundColor: '#777C6D' }}\r\n                        onMouseOver={e => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                        onMouseOut={e => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                    >\r\n                        + Invite Mentor\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Token acceptance message */}\r\n                {tokenAcceptMessage && (\r\n                    <div className={`mb-4 p-4 rounded-lg flex items-center justify-between ${tokenAcceptMessage.includes(\"successfully\")\r\n                            ? \"bg-green-50 border border-green-200 text-green-700\"\r\n                            : \"bg-yellow-50 border border-yellow-200 text-yellow-700\"\r\n                        }`}>\r\n                        <span>{tokenAcceptMessage}</span>\r\n                        <button\r\n                            onClick={() => setTokenAcceptMessage(\"\")}\r\n                            className=\"ml-2 font-bold hover:opacity-70\"\r\n                        >\r\n                            ├ù\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {error && (\r\n                    <div className=\"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Pending Invitations Alert */}\r\n                {pendingInvitations.received.length > 0 && activeTab !== \"pending\" && (\r\n                    <div className=\"mb-4 p-4 bg-yellow-50 border-2 border-yellow-400 rounded-lg flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <span className=\"text-2xl\">≡ƒîƒ</span>\r\n                            <div>\r\n                                <p className=\"font-semibold text-yellow-900\">\r\n                                    You have {pendingInvitations.received.length} pending mentor invitation{pendingInvitations.received.length > 1 ? 's' : ''}!\r\n                                </p>\r\n                                <p className=\"text-sm text-yellow-700\">\r\n                                    Someone wants you to be their mentor. Review and respond to the invitation.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setActiveTab(\"pending\")}\r\n                            className=\"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition font-medium whitespace-nowrap\"\r\n                        >\r\n                            View Invitations\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Tab Navigation */}\r\n                <div className=\"mb-6\">\r\n                    <div className=\"border-b border-gray-200\">\r\n                        <nav className=\"-mb-px flex space-x-8\">\r\n                            <button\r\n                                onClick={() => setActiveTab(\"mentors\")}\r\n                                className={`${activeTab === \"mentors\"\r\n                                    ? \"border-[#777C6D] text-[#777C6D]\"\r\n                                    : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n                                    } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors`}\r\n                            >\r\n                                My Mentors ({mentors.length})\r\n                            </button>\r\n                            {pendingInvitations.received.length > 0 && (\r\n                                <button\r\n                                    onClick={() => setActiveTab(\"pending\")}\r\n                                    className={`${activeTab === \"pending\"\r\n                                        ? \"border-[#777C6D] text-[#777C6D]\"\r\n                                        : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n                                        } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors relative`}\r\n                                >\r\n                                    Pending Invitations ({pendingInvitations.received.length})\r\n                                    <span className=\"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full\">\r\n                                        {pendingInvitations.received.length}\r\n                                    </span>\r\n                                </button>\r\n                            )}\r\n                            {userRole === \"mentor\" || userRole === \"both\" ? (\r\n                                <button\r\n                                    onClick={() => setActiveTab(\"mentees\")}\r\n                                    className={`${activeTab === \"mentees\"\r\n                                        ? \"border-[#777C6D] text-[#777C6D]\"\r\n                                        : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n                                        } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors`}\r\n                                >\r\n                                    My Mentees ({mentees.length})\r\n                                </button>\r\n                            ) : null}\r\n                            {feedback.length > 0 && (\r\n                                <button\r\n                                    onClick={() => setActiveTab(\"feedback\")}\r\n                                    className={`${activeTab === \"feedback\"\r\n                                        ? \"border-[#777C6D] text-[#777C6D]\"\r\n                                        : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n                                        } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors`}\r\n                                >\r\n                                    Feedback ({feedback.length})\r\n                                </button>\r\n                            )}\r\n                            {recommendations.length > 0 && (\r\n                                <button\r\n                                    onClick={() => setActiveTab(\"recommendations\")}\r\n                                    className={`${activeTab === \"recommendations\"\r\n                                        ? \"border-[#777C6D] text-[#777C6D]\"\r\n                                        : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\r\n                                        } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors`}\r\n                                >\r\n                                    Recommendations ({recommendations.length})\r\n                                </button>\r\n                            )}\r\n                        </nav>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Tab Content */}\r\n                <div className=\"mt-6\">\r\n                    {/* My Mentors Tab */}\r\n                    {activeTab === \"mentors\" && (\r\n                        <div>\r\n                            {mentors.length === 0 ? (\r\n                                <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n                                    <p className=\"text-gray-600 mb-4\">\r\n                                        You haven't invited any mentors yet\r\n                                    </p>\r\n                                    <button\r\n                                        onClick={() => setIsInviteModalOpen(true)}\r\n                                        className=\"px-4 py-2 text-white rounded-lg transition\"\r\n                                        style={{ backgroundColor: '#777C6D' }}\r\n                                        onMouseOver={e => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                                        onMouseOut={e => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                                    >\r\n                                        Invite Your First Mentor\r\n                                    </button>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"grid gap-4\">\r\n                                    {mentors.map((mentor) => (\r\n                                        <MentorCard\r\n                                            key={mentor._id}\r\n                                            mentor={mentor}\r\n                                            onMessage={(relationshipId, recipientName, recipientId) =>\r\n                                                setMessagingModal({ isOpen: true, relationshipId, recipientName, recipientId })\r\n                                            }\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Pending Invitations Tab */}\r\n                    {activeTab === \"pending\" && (\r\n                        <div>\r\n                            {pendingInvitations.received.length === 0 ? (\r\n                                <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n                                    <p className=\"text-gray-600\">No pending invitations</p>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"grid gap-4\">\r\n                                    {pendingInvitations.received.map((invitation) => (\r\n                                        <PendingInvitationCard\r\n                                            key={invitation._id}\r\n                                            invitation={invitation}\r\n                                            onAccept={handleAcceptInvitation}\r\n                                            onDecline={handleDeclineInvitation}\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* My Mentees Tab */}\r\n                    {activeTab === \"mentees\" && (\r\n                        <div>\r\n                            {/* Mentor Dashboard Overview */}\r\n                            {mentorDashboardData && (\r\n                                <div className=\"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                                    <div className=\"bg-white rounded-lg shadow p-4\">\r\n                                        <div className=\"flex items-center justify-between\">\r\n                                            <div>\r\n                                                <p className=\"text-sm text-gray-600\">Total Mentees</p>\r\n                                                <p className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                                                    {mentorDashboardData.menteeCount}\r\n                                                </p>\r\n                                            </div>\r\n                                            <div className=\"w-10 h-10 rounded-full flex items-center justify-center\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                                <span className=\"text-xl\">≡ƒæÑ</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"bg-white rounded-lg shadow p-4\">\r\n                                        <div className=\"flex items-center justify-between\">\r\n                                            <div>\r\n                                                <p className=\"text-sm text-gray-600\">Unread Messages</p>\r\n                                                <p className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                                                    {mentorDashboardData.unreadMessages}\r\n                                                </p>\r\n                                            </div>\r\n                                            <div className=\"w-10 h-10 rounded-full flex items-center justify-center\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                                <span className=\"text-xl\">≡ƒÆ¼</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"bg-white rounded-lg shadow p-4\">\r\n                                        <div className=\"flex items-center justify-between\">\r\n                                            <div>\r\n                                                <p className=\"text-sm text-gray-600\">Pending Recommendations</p>\r\n                                                <p className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                                                    {mentorDashboardData.pendingRecommendations}\r\n                                                </p>\r\n                                            </div>\r\n                                            <div className=\"w-10 h-10 rounded-full flex items-center justify-center\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                                <span className=\"text-xl\">≡ƒÆí</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"bg-white rounded-lg shadow p-4\">\r\n                                        <div className=\"flex items-center justify-between\">\r\n                                            <div>\r\n                                                <p className=\"text-sm text-gray-600\">Recent Feedback</p>\r\n                                                <p className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                                                    {mentorDashboardData.recentFeedback?.length || 0}\r\n                                                </p>\r\n                                            </div>\r\n                                            <div className=\"w-10 h-10 rounded-full flex items-center justify-center\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                                <span className=\"text-xl\">≡ƒô¥</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Recent Activity */}\r\n                            {mentorDashboardData?.recentActivity && mentorDashboardData.recentActivity.length > 0 && (\r\n                                <div className=\"mb-6 bg-white rounded-lg shadow p-4\">\r\n                                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>Recent Activity</h3>\r\n                                    <div className=\"space-y-3\">\r\n                                        {mentorDashboardData.recentActivity.slice(0, 5).map((activity, idx) => (\r\n                                            <div key={idx} className=\"flex items-start gap-3 pb-3 border-b border-gray-100 last:border-0\">\r\n                                                <div className=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                                                    <span className=\"text-sm\">\r\n                                                        {activity.type === 'feedback' ? '≡ƒô¥' : '≡ƒÆí'}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div className=\"flex-1\">\r\n                                                    <p className=\"text-sm text-gray-800\">{activity.description}</p>\r\n                                                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                                                        {new Date(activity.date).toLocaleDateString()} at {new Date(activity.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {mentees.length === 0 ? (\r\n                                <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n                                    <p className=\"text-gray-600\">No mentees yet</p>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"grid gap-4\">\r\n                                    {mentees.map((mentee) => (\r\n                                        <MenteeCard\r\n                                            key={mentee._id}\r\n                                            mentee={mentee}\r\n                                            onViewDetails={(menteeId) => setSelectedMenteeId(menteeId)}\r\n                                            onMessage={(relationshipId, recipientName, recipientId) =>\r\n                                                setMessagingModal({ isOpen: true, relationshipId, recipientName, recipientId })\r\n                                            }\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Feedback Tab */}\r\n                    {activeTab === \"feedback\" && (\r\n                        <div>\r\n                            {feedback.length === 0 ? (\r\n                                <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n                                    <p className=\"text-gray-600\">No feedback yet</p>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"space-y-4\">\r\n                                    {feedback.map((item) => (\r\n                                        <FeedbackCard\r\n                                            key={item._id}\r\n                                            feedback={item}\r\n                                            onAcknowledge={handleAcknowledgeFeedback}\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Recommendations Tab */}\r\n                    {activeTab === \"recommendations\" && (\r\n                        <div>\r\n                            {recommendations.length === 0 ? (\r\n                                <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n                                    <p className=\"text-gray-600\">No recommendations yet</p>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"space-y-4\">\r\n                                    {recommendations.map((rec) => (\r\n                                        <RecommendationCard\r\n                                            key={rec._id}\r\n                                            recommendation={rec}\r\n                                            onUpdate={handleUpdateRecommendation}\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Invite Modal */}\r\n                <InviteMentorModal\r\n                    isOpen={isInviteModalOpen}\r\n                    onClose={() => setIsInviteModalOpen(false)}\r\n                    onInviteSent={handleInviteSent}\r\n                />\r\n\r\n                {/* Mentee Detail View Modal */}\r\n                {selectedMenteeId && (\r\n                    <MenteeDetailView\r\n                        menteeId={selectedMenteeId}\r\n                        onClose={() => setSelectedMenteeId(null)}\r\n                    />\r\n                )}\r\n\r\n                {/* Messaging Modal */}\r\n                {messagingModal.isOpen && (\r\n                    <MessagingModal\r\n                        relationshipId={messagingModal.relationshipId}\r\n                        recipientName={messagingModal.recipientName}\r\n                        recipientId={messagingModal.recipientId}\r\n                        onClose={() => setMessagingModal({ isOpen: false, relationshipId: null, recipientName: \"\", recipientId: null })}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Mentor Card Component\r\nfunction MentorCard({ mentor, onMessage }) {\r\n    return (\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition\">\r\n            <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex items-start gap-4\">\r\n                    {mentor.mentorId?.profilePicture ? (\r\n                        <img\r\n                            src={mentor.mentorId.profilePicture}\r\n                            alt={mentor.mentorId.firstName}\r\n                            className=\"w-12 h-12 rounded-full\"\r\n                        />\r\n                    ) : (\r\n                        <div className=\"w-12 h-12 rounded-full flex items-center justify-center\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                            <span className=\"font-bold\" style={{ color: '#777C6D' }}>\r\n                                {mentor.mentorId?.firstName?.charAt(0) || \"M\"}\r\n                            </span>\r\n                        </div>\r\n                    )}\r\n                    <div>\r\n                        <h3 className=\"font-semibold text-gray-800\">\r\n                            {mentor.mentorId?.firstName} {mentor.mentorId?.lastName}\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-600\">{mentor.mentorId?.email}</p>\r\n                        <div className=\"mt-2 flex gap-2\">\r\n                            {mentor.focusAreas?.map((area) => (\r\n                                <span\r\n                                    key={area}\r\n                                    className=\"inline-block px-2 py-1 text-xs rounded\"\r\n                                    style={{ backgroundColor: '#E8EAE5', color: '#4F5348' }}\r\n                                >\r\n                                    {area.replace(/_/g, \" \")}\r\n                                </span>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex flex-col gap-2\">\r\n                    <span className=\"px-3 py-1 bg-green-100 text-green-700 text-sm rounded-full font-medium text-center\">\r\n                        Connected\r\n                    </span>\r\n                    <button\r\n                        onClick={() => onMessage(\r\n                            mentor._id,\r\n                            mentor.mentorId?.firstName && mentor.mentorId?.lastName\r\n                                ? `${mentor.mentorId.firstName} ${mentor.mentorId.lastName}`\r\n                                : mentor.mentorId?.email || \"Your Mentor\",\r\n                            mentor.mentorId?._id\r\n                        )}\r\n                        className=\"px-3 py-1 text-white text-sm rounded transition\"\r\n                        style={{ backgroundColor: '#777C6D' }}\r\n                        onMouseOver={e => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                        onMouseOut={e => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                    >\r\n                        Message\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nMentorCard.propTypes = {\r\n    mentor: PropTypes.object.isRequired,\r\n    onMessage: PropTypes.func.isRequired,\r\n};\r\n\r\n// Mentee Card Component\r\nfunction MenteeCard({ mentee, onViewDetails, onMessage }) {\r\n    return (\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition\">\r\n            <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex items-start gap-4 flex-1\">\r\n                    {mentee.menteeId?.profilePicture ? (\r\n                        <img\r\n                            src={mentee.menteeId.profilePicture}\r\n                            alt={mentee.menteeId.firstName}\r\n                            className=\"w-12 h-12 rounded-full\"\r\n                        />\r\n                    ) : (\r\n                        <div className=\"w-12 h-12 rounded-full flex items-center justify-center\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                            <span className=\"font-bold\" style={{ color: '#777C6D' }}>\r\n                                {mentee.menteeId?.firstName?.charAt(0) || \"M\"}\r\n                            </span>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"flex-1\">\r\n                        <h3 className=\"font-semibold text-gray-800\">\r\n                            {mentee.menteeId?.firstName} {mentee.menteeId?.lastName}\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-600\">{mentee.menteeId?.email}</p>\r\n                        <p className=\"text-sm text-gray-700 mt-1\">\r\n                            Type: mentee\r\n                        </p>\r\n                        <div className=\"mt-2 flex gap-2\">\r\n                            {mentee.focusAreas?.map((area) => (\r\n                                <span\r\n                                    key={area}\r\n                                    className=\"inline-block px-2 py-1 text-xs rounded\"\r\n                                    style={{ backgroundColor: '#E8EAE5', color: '#4F5348' }}\r\n                                >\r\n                                    {area.replace(/_/g, \" \")}\r\n                                </span>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <button\r\n                        onClick={() => onViewDetails && onViewDetails(mentee.menteeId._id)}\r\n                        className=\"px-3 py-1 border border-[#777C6D] text-[#777C6D] text-sm rounded transition hover:bg-[#E8EAE5]\"\r\n                    >\r\n                        View Progress\r\n                    </button>\r\n                    <button\r\n                        onClick={() => onMessage(\r\n                            mentee._id,\r\n                            mentee.menteeId?.firstName && mentee.menteeId?.lastName\r\n                                ? `${mentee.menteeId.firstName} ${mentee.menteeId.lastName}`\r\n                                : mentee.menteeId?.email || \"Your Mentee\",\r\n                            mentee.menteeId?._id\r\n                        )}\r\n                        className=\"px-3 py-1 text-white text-sm rounded transition\"\r\n                        style={{ backgroundColor: '#777C6D' }}\r\n                        onMouseOver={e => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                        onMouseOut={e => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                    >\r\n                        Message\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Feedback Card Component\r\nfunction FeedbackCard({ feedback, onAcknowledge }) {\r\n    return (\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition\">\r\n            <div className=\"flex items-start justify-between mb-2\">\r\n                <h3 className=\"font-semibold text-gray-800\">\r\n                    Feedback on {feedback.type?.replace(/_/g, \" \")}\r\n                </h3>\r\n                {feedback.rating && (\r\n                    <div className=\"flex items-center gap-1\">\r\n                        {[...Array(5)].map((_, i) => (\r\n                            <span\r\n                                key={i}\r\n                                className={\r\n                                    i < feedback.rating ? \"text-yellow-400\" : \"text-gray-300\"\r\n                                }\r\n                            >\r\n                                Γÿà\r\n                            </span>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <p className=\"text-gray-700 mb-3\">{feedback.content}</p>\r\n\r\n            {feedback.suggestions?.length > 0 && (\r\n                <div className=\"mb-4 p-3 rounded\" style={{ backgroundColor: '#E8EAE5' }}>\r\n                    <h4 className=\"font-medium text-gray-800 mb-2\">Suggestions:</h4>\r\n                    <ul className=\"space-y-1\">\r\n                        {feedback.suggestions.map((suggestion, idx) => (\r\n                            <li key={idx} className=\"text-sm text-gray-700\">\r\n                                ΓÇó {suggestion.title}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n\r\n            {!feedback.acknowledged && (\r\n                <button\r\n                    onClick={() => onAcknowledge(feedback._id)}\r\n                    className=\"px-3 py-1 text-white text-sm rounded transition\"\r\n                    style={{ backgroundColor: '#777C6D' }}\r\n                    onMouseOver={e => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                    onMouseOut={e => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                >\r\n                    Acknowledge\r\n                </button>\r\n            )}\r\n            {feedback.acknowledged && (\r\n                <span className=\"text-sm text-green-600 font-medium\">\r\n                    Γ£ô Acknowledged\r\n                </span>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n// Recommendation Card Component\r\nfunction RecommendationCard({ recommendation, onUpdate }) {\r\n    const [isUpdating, setIsUpdating] = useState(false);\r\n    const [notes, setNotes] = useState(recommendation.progressNotes || \"\");\r\n\r\n    const handleStatusChange = async (newStatus) => {\r\n        setIsUpdating(true);\r\n        await onUpdate(recommendation._id, newStatus, notes);\r\n        setIsUpdating(false);\r\n    };\r\n\r\n    const priorityColor = {\r\n        high: \"bg-red-100 text-red-700\",\r\n        medium: \"bg-yellow-100 text-yellow-700\",\r\n        low: \"bg-green-100 text-green-700\",\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition\">\r\n            <div className=\"flex items-start justify-between mb-2\">\r\n                <h3 className=\"font-semibold text-gray-800\">{recommendation.title}</h3>\r\n                <span\r\n                    className={`px-3 py-1 text-sm rounded-full font-medium ${priorityColor[recommendation.priority] || priorityColor.medium\r\n                        }`}\r\n                >\r\n                    {recommendation.priority}\r\n                </span>\r\n            </div>\r\n\r\n            <p className=\"text-gray-700 mb-3\">{recommendation.description}</p>\r\n\r\n            {recommendation.targetDate && (\r\n                <p className=\"text-sm text-gray-600 mb-3\">\r\n                    Target: {new Date(recommendation.targetDate).toLocaleDateString()}\r\n                </p>\r\n            )}\r\n\r\n            <div className=\"mb-3\">\r\n                <p className=\"text-sm font-medium text-gray-700 mb-1\">Status:</p>\r\n                <div className=\"flex gap-2\">\r\n                    {[\"pending\", \"in_progress\", \"completed\"].map((status) => {\r\n                        const isActive = recommendation.status === status;\r\n                        return (\r\n                            <button\r\n                                key={status}\r\n                                onClick={() => handleStatusChange(status)}\r\n                                disabled={isUpdating}\r\n                                className={`px-3 py-1 text-sm rounded transition ${isActive ? \"text-white\" : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"}`}\r\n                                style={isActive ? { backgroundColor: '#777C6D' } : {}}\r\n                                onMouseOver={e => isActive && (e.currentTarget.style.backgroundColor = '#656A5C')}\r\n                                onMouseOut={e => isActive && (e.currentTarget.style.backgroundColor = '#777C6D')}\r\n                            >\r\n                                {status.replace(/_/g, \" \")}\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            <textarea\r\n                value={notes}\r\n                onChange={(e) => setNotes(e.target.value)}\r\n                placeholder=\"Add progress notes...\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2\"\r\n                style={{ focusRingColor: '#777C6D' }}\r\n                rows=\"2\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\n// Pending Invitation Card Component\r\nfunction PendingInvitationCard({ invitation, onAccept, onDecline }) {\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n    const handleAccept = async () => {\r\n        setIsProcessing(true);\r\n        await onAccept(invitation._id);\r\n        setIsProcessing(false);\r\n    };\r\n\r\n    const handleDecline = async () => {\r\n        setIsProcessing(true);\r\n        await onDecline(invitation._id);\r\n        setIsProcessing(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white border-2 border-yellow-200 rounded-lg p-6 hover:shadow-md transition\">\r\n            <div className=\"flex items-start justify-between mb-4\">\r\n                <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-2 mb-2\">\r\n                        <span className=\"text-2xl\">≡ƒîƒ</span>\r\n                        <h3 className=\"text-lg font-semibold\" style={{ color: '#4F5348' }}>\r\n                            Mentorship Invitation\r\n                        </h3>\r\n                    </div>\r\n                    <p className=\"text-gray-700 mb-2\">\r\n                        <strong>{invitation.menteeId?.firstName} {invitation.menteeId?.lastName}</strong> has invited you to be their mentor\r\n                    </p>\r\n                    {invitation.invitationMessage && (\r\n                        <div className=\"bg-gray-50 border-l-4 border-[#777C6D] p-3 mb-3\">\r\n                            <p className=\"text-sm text-gray-600 italic\">\"{invitation.invitationMessage}\"</p>\r\n                        </div>\r\n                    )}\r\n                    {invitation.focusAreas && invitation.focusAreas.length > 0 && (\r\n                        <div className=\"mb-3\">\r\n                            <p className=\"text-sm font-medium text-gray-700 mb-1\">Focus Areas:</p>\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                                {invitation.focusAreas.map((area, idx) => (\r\n                                    <span key={idx} className=\"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded\">\r\n                                        {area.replace(/_/g, ' ')}\r\n                                    </span>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <p className=\"text-xs text-gray-500\">\r\n                        Relationship Type: <span className=\"font-medium\">{invitation.relationshipType.replace(/_/g, ' ')}</span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3\">\r\n                <button\r\n                    onClick={handleAccept}\r\n                    disabled={isProcessing}\r\n                    className=\"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\r\n                >\r\n                    {isProcessing ? \"Processing...\" : \"Γ£ô Accept Invitation\"}\r\n                </button>\r\n                <button\r\n                    onClick={handleDecline}\r\n                    disabled={isProcessing}\r\n                    className=\"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\r\n                >\r\n                    {isProcessing ? \"Processing...\" : \"Γ£ù Decline\"}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nMentorCard.propTypes = {\r\n    mentor: PropTypes.object.isRequired,\r\n};\r\n\r\nMenteeCard.propTypes = {\r\n    mentee: PropTypes.object.isRequired,\r\n    onViewDetails: PropTypes.func,\r\n    onMessage: PropTypes.func.isRequired,\r\n};\r\n\r\nFeedbackCard.propTypes = {\r\n    feedback: PropTypes.object.isRequired,\r\n    onAcknowledge: PropTypes.func.isRequired,\r\n};\r\n\r\nRecommendationCard.propTypes = {\r\n    recommendation: PropTypes.object.isRequired,\r\n    onUpdate: PropTypes.func.isRequired,\r\n};\r\n\r\nPendingInvitationCard.propTypes = {\r\n    invitation: PropTypes.object.isRequired,\r\n    onAccept: PropTypes.func.isRequired,\r\n    onDecline: PropTypes.func.isRequired,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\mentors\\MentorMessaging.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'unreadCounts' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":11,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":24,"suggestions":[{"messageId":"removeVar","data":{"varName":"unreadCounts"},"fix":{"range":[472,484],"text":""},"desc":"Remove unused variable 'unreadCounts'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'setUnreadCounts' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":11,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":41,"suggestions":[{"messageId":"removeVar","data":{"varName":"setUnreadCounts"},"fix":{"range":[484,501],"text":""},"desc":"Remove unused variable 'setUnreadCounts'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchMentors'. Either include it or remove the dependency array.","line":16,"column":8,"nodeType":"ArrayExpression","endLine":16,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMentors]","fix":{"range":[619,621],"text":"[fetchMentors]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function MentorMessaging() {\r\n    const [mentors, setMentors] = useState([]);\r\n    const [selectedMentor, setSelectedMentor] = useState(null);\r\n    const [messages, setMessages] = useState([]);\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [unreadCounts, setUnreadCounts] = useState({});\r\n    const messagesEndRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        fetchMentors();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (selectedMentor) {\r\n            fetchMessages(selectedMentor._id);\r\n            // Poll for new messages every 3 seconds\r\n            const interval = setInterval(() => {\r\n                fetchMessages(selectedMentor._id);\r\n            }, 3000);\r\n            return () => clearInterval(interval);\r\n        }\r\n    }, [selectedMentor]);\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    const fetchMentors = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            const response = await fetch(\"/api/mentors/my-mentors\", { headers });\r\n            const data = response.ok ? await response.json() : { data: [] };\r\n            const mentorsArray = Array.isArray(data.data) ? data.data : [];\r\n            setMentors(mentorsArray);\r\n            if (mentorsArray?.length > 0 && !selectedMentor) {\r\n                setSelectedMentor(mentorsArray[0]);\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error fetching mentors:\", err);\r\n            setError(\"Failed to load mentors: \" + err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchMessages = async (relationshipId) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            const response = await fetch(\r\n                `/api/mentors/messages/${relationshipId}`,\r\n                { headers }\r\n            );\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setMessages(Array.isArray(data.data) ? data.data : []);\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error fetching messages:\", err);\r\n        }\r\n    };\r\n\r\n    const handleSendMessage = async (e) => {\r\n        e.preventDefault();\r\n        if (!newMessage.trim() || !selectedMentor) return;\r\n\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n            };\r\n            if (token) {\r\n                headers.Authorization = `Bearer ${token}`;\r\n            }\r\n\r\n            const response = await fetch(\"/api/mentors/messages\", {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify({\r\n                    relationshipId: selectedMentor._id,\r\n                    recipientId: selectedMentor.mentorId?._id,\r\n                    content: newMessage,\r\n                    type: \"text\",\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                setNewMessage(\"\");\r\n                await fetchMessages(selectedMentor._id);\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to send message: \" + err.message);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-64\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n                    <p className=\"text-gray-600\">Loading messages...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg shadow-lg h-[600px] flex overflow-hidden\">\r\n            {/* Mentors List */}\r\n            <div className=\"w-64 border-r border-gray-200 flex flex-col\">\r\n                <div className=\"p-4 border-b border-gray-200\">\r\n                    <h2 className=\"font-semibold text-gray-800\">Messages</h2>\r\n                </div>\r\n\r\n                <div className=\"flex-1 overflow-y-auto\">\r\n                    {mentors.length === 0 ? (\r\n                        <div className=\"p-4 text-center text-gray-600\">\r\n                            <p className=\"text-sm\">No mentors yet</p>\r\n                        </div>\r\n                    ) : (\r\n                        mentors.map((mentor) => (\r\n                            <button\r\n                                key={mentor._id}\r\n                                onClick={() => setSelectedMentor(mentor)}\r\n                                className={`w-full text-left p-4 border-b border-gray-100 hover:bg-gray-50 transition ${selectedMentor?._id === mentor._id ? \"bg-blue-50\" : \"\"\r\n                                    }`}\r\n                            >\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    {mentor.mentorId?.profilePicture ? (\r\n                                        <img\r\n                                            src={mentor.mentorId.profilePicture}\r\n                                            alt={mentor.mentorId.firstName}\r\n                                            className=\"w-10 h-10 rounded-full\"\r\n                                        />\r\n                                    ) : (\r\n                                        <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center\">\r\n                                            <span className=\"text-blue-600 font-bold\">\r\n                                                {mentor.mentorId?.firstName?.charAt(0) || \"M\"}\r\n                                            </span>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <p className=\"font-medium text-gray-800 truncate\">\r\n                                            {mentor.mentorId?.firstName} {mentor.mentorId?.lastName}\r\n                                        </p>\r\n                                        <p className=\"text-xs text-gray-600\">\r\n                                            {mentor.relationshipType?.replace(/_/g, \" \")}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </button>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Messages Area */}\r\n            <div className=\"flex-1 flex flex-col\">\r\n                {selectedMentor ? (\r\n                    <>\r\n                        {/* Header */}\r\n                        <div className=\"p-4 border-b border-gray-200 flex items-center gap-3\">\r\n                            {selectedMentor.mentorId?.profilePicture ? (\r\n                                <img\r\n                                    src={selectedMentor.mentorId.profilePicture}\r\n                                    alt={selectedMentor.mentorId.firstName}\r\n                                    className=\"w-10 h-10 rounded-full\"\r\n                                />\r\n                            ) : (\r\n                                <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center\">\r\n                                    <span className=\"text-blue-600 font-bold\">\r\n                                        {selectedMentor.mentorId?.firstName?.charAt(0) || \"M\"}\r\n                                    </span>\r\n                                </div>\r\n                            )}\r\n                            <div>\r\n                                <p className=\"font-semibold text-gray-800\">\r\n                                    {selectedMentor.mentorId?.firstName}{\" \"}\r\n                                    {selectedMentor.mentorId?.lastName}\r\n                                </p>\r\n                                <p className=\"text-xs text-gray-600\">\r\n                                    {selectedMentor.relationshipType?.replace(/_/g, \" \")}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {error && (\r\n                            <div className=\"px-4 pt-4\">\r\n                                <div className=\"p-2 bg-red-50 border border-red-200 text-red-700 text-sm rounded\">\r\n                                    {error}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Messages */}\r\n                        <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n                            {messages.length === 0 ? (\r\n                                <div className=\"h-full flex items-center justify-center text-gray-600\">\r\n                                    <p className=\"text-center\">\r\n                                        No messages yet. Start the conversation!\r\n                                    </p>\r\n                                </div>\r\n                            ) : (\r\n                                messages.map((msg) => (\r\n                                    <div\r\n                                        key={msg._id}\r\n                                        className={`flex ${msg.senderId._id === msg.senderId._id\r\n                                                ? \"justify-end\"\r\n                                                : \"justify-start\"\r\n                                            }`}\r\n                                    >\r\n                                        <div\r\n                                            className={`max-w-xs px-4 py-2 rounded-lg ${msg.senderId._id === msg.senderId._id\r\n                                                    ? \"bg-blue-600 text-white\"\r\n                                                    : \"bg-gray-100 text-gray-800\"\r\n                                                }`}\r\n                                        >\r\n                                            <p className=\"text-sm\">{msg.content}</p>\r\n                                            <p\r\n                                                className={`text-xs mt-1 ${msg.senderId._id === msg.senderId._id\r\n                                                        ? \"text-blue-100\"\r\n                                                        : \"text-gray-600\"\r\n                                                    }`}\r\n                                            >\r\n                                                {new Date(msg.createdAt).toLocaleTimeString([], {\r\n                                                    hour: \"2-digit\",\r\n                                                    minute: \"2-digit\",\r\n                                                })}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))\r\n                            )}\r\n                            <div ref={messagesEndRef} />\r\n                        </div>\r\n\r\n                        {/* Message Input */}\r\n                        <form\r\n                            onSubmit={handleSendMessage}\r\n                            className=\"p-4 border-t border-gray-200 bg-gray-50\"\r\n                        >\r\n                            <div className=\"flex gap-2\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newMessage}\r\n                                    onChange={(e) => setNewMessage(e.target.value)}\r\n                                    placeholder=\"Type a message...\"\r\n                                    className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                />\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium\"\r\n                                >\r\n                                    Send\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </>\r\n                ) : (\r\n                    <div className=\"flex-1 flex items-center justify-center text-gray-600\">\r\n                        <p>Select a mentor to start messaging</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\mentors\\MessagingModal.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchMessages'. Either include it or remove the dependency array.","line":14,"column":8,"nodeType":"ArrayExpression","endLine":14,"endColumn":24,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMessages, relationshipId]","fix":{"range":[553,569],"text":"[fetchMessages, relationshipId]"}}]},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":184,"column":29,"nodeType":"JSXAttribute","endLine":184,"endColumn":113},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":185,"column":29,"nodeType":"JSXAttribute","endLine":185,"endColumn":100}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function MessagingModal({ relationshipId, recipientName, recipientId, onClose }) {\r\n    const [messages, setMessages] = useState([]);\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n    const [sending, setSending] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const messagesEndRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        fetchMessages();\r\n    }, [relationshipId]);\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    const fetchMessages = async () => {\r\n        setLoading(true);\r\n        setError(\"\");\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            const response = await fetch(`/api/mentors/messages/${relationshipId}`, { headers });\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setMessages(data.data || []);\r\n            } else {\r\n                setError(\"Failed to load messages\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error fetching messages:\", err);\r\n            setError(\"Failed to load messages\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSendMessage = async (e) => {\r\n        e.preventDefault();\r\n        if (!newMessage.trim()) return;\r\n\r\n        setSending(true);\r\n        setError(\"\");\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n                ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n            };\r\n\r\n            const response = await fetch(\"/api/mentors/messages\", {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify({\r\n                    relationshipId,\r\n                    recipientId,\r\n                    content: newMessage,\r\n                    type: \"text\",\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setMessages([...messages, data.data]);\r\n                setNewMessage(\"\");\r\n            } else {\r\n                const errorData = await response.json();\r\n                setError(errorData.message || \"Failed to send message\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error sending message:\", err);\r\n            setError(\"Failed to send message\");\r\n        } finally {\r\n            setSending(false);\r\n        }\r\n    };\r\n\r\n    const formatTime = (dateString) => {\r\n        const date = new Date(dateString);\r\n        const now = new Date();\r\n        const diffInHours = (now - date) / (1000 * 60 * 60);\r\n\r\n        if (diffInHours < 24) {\r\n            return date.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\r\n        } else if (diffInHours < 48) {\r\n            return \"Yesterday \" + date.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\r\n        } else {\r\n            return date.toLocaleDateString() + \" \" + date.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-white/30 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-lg w-full max-w-2xl h-[600px] flex flex-col shadow-xl\">\r\n                {/* Header */}\r\n                <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\r\n                    <h2 className=\"text-xl font-bold\" style={{ color: \"#4F5348\" }}>\r\n                        {recipientName && recipientName !== \"undefined undefined\" ? `Conversation with ${recipientName}` : \"Messages\"}\r\n                    </h2>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-500 hover:text-gray-700 text-2xl leading-none\"\r\n                    >\r\n                        ├ù\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Messages Area */}\r\n                <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n                    {loading ? (\r\n                        <div className=\"flex items-center justify-center h-full\">\r\n                            <div className=\"text-center\">\r\n                                <div\r\n                                    className=\"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 mx-auto mb-2\"\r\n                                    style={{ borderTopColor: \"#777C6D\", borderBottomColor: \"#777C6D\" }}\r\n                                ></div>\r\n                                <p className=\"text-gray-600\">Loading messages...</p>\r\n                            </div>\r\n                        </div>\r\n                    ) : messages.length === 0 ? (\r\n                        <div className=\"flex items-center justify-center h-full\">\r\n                            <p className=\"text-gray-500\">No messages yet. Start the conversation!</p>\r\n                        </div>\r\n                    ) : (\r\n                        messages.map((message, index) => {\r\n                            const isCurrentUser = message.senderId?._id !== recipientId;\r\n                            return (\r\n                                <div\r\n                                    key={message._id || index}\r\n                                    className={`flex ${isCurrentUser ? \"justify-end\" : \"justify-start\"}`}\r\n                                >\r\n                                    <div\r\n                                        className={`max-w-[70%] rounded-lg p-3 ${isCurrentUser\r\n                                                ? \"bg-[#777C6D] text-white\"\r\n                                                : \"bg-gray-100 text-gray-800\"\r\n                                            }`}\r\n                                    >\r\n                                        <p className=\"text-sm break-words\">{message.content}</p>\r\n                                        <p\r\n                                            className={`text-xs mt-1 ${isCurrentUser ? \"text-gray-200\" : \"text-gray-500\"\r\n                                                }`}\r\n                                        >\r\n                                            {formatTime(message.createdAt)}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })\r\n                    )}\r\n                    <div ref={messagesEndRef} />\r\n                </div>\r\n\r\n                {/* Error Message */}\r\n                {error && (\r\n                    <div className=\"px-4 py-2 bg-red-50 border-t border-red-200\">\r\n                        <p className=\"text-sm text-red-600\">{error}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Input Area */}\r\n                <form onSubmit={handleSendMessage} className=\"p-4 border-t border-gray-200\">\r\n                    <div className=\"flex gap-2\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={newMessage}\r\n                            onChange={(e) => setNewMessage(e.target.value)}\r\n                            placeholder=\"Type your message...\"\r\n                            className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                            disabled={sending}\r\n                        />\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={sending || !newMessage.trim()}\r\n                            className=\"px-6 py-2 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            style={{ backgroundColor: \"#777C6D\" }}\r\n                            onMouseOver={(e) => !sending && (e.currentTarget.style.backgroundColor = \"#656A5C\")}\r\n                            onMouseOut={(e) => (e.currentTarget.style.backgroundColor = \"#777C6D\")}\r\n                        >\r\n                            {sending ? \"Sending...\" : \"Send\"}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nMessagingModal.propTypes = {\r\n    relationshipId: PropTypes.string.isRequired,\r\n    recipientName: PropTypes.string.isRequired,\r\n    recipientId: PropTypes.string.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\mentors\\ProgressSharing.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":111,"column":33,"nodeType":"JSXOpeningElement","endLine":118,"endColumn":34},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":111,"column":33,"nodeType":"JSXOpeningElement","endLine":118,"endColumn":34},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":189,"column":29,"nodeType":"JSXOpeningElement","endLine":189,"endColumn":85}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function ProgressSharing() {\r\n    const [mentors, setMentors] = useState([]);\r\n    const [selectedMentor, setSelectedMentor] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [showReportModal, setShowReportModal] = useState(false);\r\n    const [reportType, setReportType] = useState(\"monthly\");\r\n    const [reports, setReports] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchMentorsAndReports();\r\n    }, []);\r\n\r\n    const fetchMentorsAndReports = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n            // Fetch mentors\r\n            const mentorsRes = await fetch(\"/api/mentors/my-mentors\", { headers });\r\n            const mentorsData = mentorsRes.ok ? await mentorsRes.json() : { data: [] };\r\n            setMentors(Array.isArray(mentorsData.data) ? mentorsData.data : []);\r\n\r\n            // Fetch progress reports\r\n            const reportsRes = await fetch(\"/api/mentors/progress-reports\", { headers });\r\n            const reportsData = reportsRes.ok ? await reportsRes.json() : { data: [] };\r\n            setReports(Array.isArray(reportsData.data) ? reportsData.data : []);\r\n        } catch (err) {\r\n            console.error(\"Fetch error:\", err);\r\n            setError(\"Failed to load progress information: \" + err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleGenerateReport = async (mentorRelationshipId) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\",\r\n            };\r\n            if (token) {\r\n                headers.Authorization = `Bearer ${token}`;\r\n            }\r\n\r\n            const response = await fetch(\"/api/mentors/progress-reports\", {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify({\r\n                    relationshipId: mentorRelationshipId,\r\n                    reportType,\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                setShowReportModal(false);\r\n                fetchMentorsAndReports();\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error generating report:\", err);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-64\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n                    <p className=\"text-gray-600\">Loading progress sharing...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n            <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\r\n                Share Progress with Mentors\r\n            </h1>\r\n            <p className=\"text-gray-600 mb-6\">\r\n                Generate and share regular progress reports with your mentors to receive\r\n                targeted guidance\r\n            </p>\r\n\r\n            {error && (\r\n                <div className=\"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg\">\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            {mentors.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                    <p className=\"text-gray-600 mb-4\">\r\n                        You don't have any mentors yet. Invite a mentor to start sharing\r\n                        progress.\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-6\">\r\n                    {/* Mentor Selection */}\r\n                    <div>\r\n                        <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">\r\n                            Select Mentor\r\n                        </h2>\r\n                        <div className=\"grid gap-4\">\r\n                            {mentors.map((mentor) => (\r\n                                <div\r\n                                    key={mentor._id}\r\n                                    onClick={() => setSelectedMentor(mentor)}\r\n                                    className={`border rounded-lg p-4 cursor-pointer transition ${selectedMentor?._id === mentor._id\r\n                                            ? \"border-blue-600 bg-blue-50\"\r\n                                            : \"border-gray-200 hover:border-blue-300\"\r\n                                        }`}\r\n                                >\r\n                                    <div className=\"flex items-center justify-between\">\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                            {mentor.mentorId?.profilePicture ? (\r\n                                                <img\r\n                                                    src={mentor.mentorId.profilePicture}\r\n                                                    alt={mentor.mentorId.firstName}\r\n                                                    className=\"w-10 h-10 rounded-full\"\r\n                                                />\r\n                                            ) : (\r\n                                                <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center\">\r\n                                                    <span className=\"text-blue-600 font-bold\">\r\n                                                        {mentor.mentorId?.firstName?.charAt(0) || \"M\"}\r\n                                                    </span>\r\n                                                </div>\r\n                                            )}\r\n                                            <div>\r\n                                                <p className=\"font-medium text-gray-800\">\r\n                                                    {mentor.mentorId?.firstName} {mentor.mentorId?.lastName}\r\n                                                </p>\r\n                                                <p className=\"text-sm text-gray-600\">\r\n                                                    {mentor.relationshipType?.replace(/_/g, \" \")}\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <button\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                setSelectedMentor(mentor);\r\n                                                setShowReportModal(true);\r\n                                            }}\r\n                                            className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm\"\r\n                                        >\r\n                                            Generate Report\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Recent Reports */}\r\n                    {reports.length > 0 && (\r\n                        <div>\r\n                            <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">\r\n                                Recent Reports\r\n                            </h2>\r\n                            <div className=\"space-y-4\">\r\n                                {reports.map((report) => (\r\n                                    <ReportCard key={report._id} report={report} />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Report Generation Modal */}\r\n            {showReportModal && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n                    <div className=\"bg-white rounded-lg shadow-lg max-w-md w-full mx-4\">\r\n                        <div className=\"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 text-white flex justify-between items-center\">\r\n                            <h3 className=\"text-lg font-bold\">Generate Progress Report</h3>\r\n                            <button\r\n                                onClick={() => setShowReportModal(false)}\r\n                                className=\"text-white hover:bg-blue-800 p-2 rounded\"\r\n                            >\r\n                                Γ£ò\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"p-6\">\r\n                            <label className=\"block text-gray-700 font-medium mb-2\">\r\n                                Report Type\r\n                            </label>\r\n                            <select\r\n                                value={reportType}\r\n                                onChange={(e) => setReportType(e.target.value)}\r\n                                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\r\n                            >\r\n                                <option value=\"weekly\">Weekly</option>\r\n                                <option value=\"monthly\">Monthly</option>\r\n                                <option value=\"custom\">Custom</option>\r\n                            </select>\r\n\r\n                            <p className=\"text-gray-600 text-sm mb-4\">\r\n                                Your progress report will be generated and shared with your\r\n                                mentor for review and feedback.\r\n                            </p>\r\n\r\n                            <div className=\"flex gap-3\">\r\n                                <button\r\n                                    onClick={() => setShowReportModal(false)}\r\n                                    className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => {\r\n                                        handleGenerateReport(selectedMentor._id);\r\n                                    }}\r\n                                    className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n                                >\r\n                                    Generate & Share\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ReportCard({ report }) {\r\n    const formatDate = (date) => new Date(date).toLocaleDateString();\r\n\r\n    const stats = [\r\n        {\r\n            label: \"Applications\",\r\n            value: report.metrics?.jobsAppliedTo || 0,\r\n            icon: \"≡ƒô¥\",\r\n        },\r\n        {\r\n            label: \"Interviews\",\r\n            value: report.metrics?.interviewsScheduled || 0,\r\n            icon: \"≡ƒÄñ\",\r\n        },\r\n        {\r\n            label: \"Offers\",\r\n            value: report.metrics?.offersReceived || 0,\r\n            icon: \"≡ƒÄë\",\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition\">\r\n            <div className=\"flex items-start justify-between mb-3\">\r\n                <div>\r\n                    <h3 className=\"font-semibold text-gray-800\">\r\n                        {report.reportType?.charAt(0).toUpperCase() +\r\n                            report.reportType?.slice(1)}{\" \"}\r\n                        Report\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                        {formatDate(report.reportPeriod.startDate)} -{\" \"}\r\n                        {formatDate(report.reportPeriod.endDate)}\r\n                    </p>\r\n                </div>\r\n                {report.reviewedAt && (\r\n                    <span className=\"px-3 py-1 bg-green-100 text-green-700 text-sm rounded-full\">\r\n                        Γ£ô Reviewed\r\n                    </span>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-3 gap-3 mb-4\">\r\n                {stats.map((stat) => (\r\n                    <div\r\n                        key={stat.label}\r\n                        className=\"bg-gray-50 p-3 rounded text-center border border-gray-200\"\r\n                    >\r\n                        <p className=\"text-2xl mb-1\">{stat.icon}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-800\">{stat.value}</p>\r\n                        <p className=\"text-xs text-gray-600\">{stat.label}</p>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {report.progressScore && (\r\n                <div className=\"mb-4 p-3 bg-blue-50 rounded\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <span className=\"text-gray-700 font-medium\">Progress Score</span>\r\n                        <span className=\"text-2xl font-bold text-blue-600\">\r\n                            {report.progressScore}/100\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <button className=\"w-full px-4 py-2 border border-blue-600 text-blue-600 rounded hover:bg-blue-50 transition\">\r\n                View Full Report\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nReportCard.propTypes = {\r\n    report: PropTypes.object.isRequired,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\CampaignAnalyticsPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\CampaignCard.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":102,"column":15,"nodeType":"JSXOpeningElement","endLine":105,"endColumn":17},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":102,"column":15,"nodeType":"JSXOpeningElement","endLine":105,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport Card from '../Card';\r\nimport Button from '../Button';\r\nimport { \r\n  Target, \r\n  MoreVertical, \r\n  Play, \r\n  Pause, \r\n  CheckCircle,\r\n  Edit,\r\n  Trash2,\r\n  Eye,\r\n  TrendingUp,\r\n  Users,\r\n  MessageCircle,\r\n  Calendar as CalendarIcon\r\n} from 'lucide-react';\r\n\r\n/**\r\n * Campaign Card Component\r\n * \r\n * Displays a single campaign with its key metrics and actions.\r\n */\r\nexport default function CampaignCard({ campaign, onView, onEdit, onDelete }) {\r\n  const [showMenu, setShowMenu] = useState(false);\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      'Planning': 'bg-gray-100 text-gray-700',\r\n      'Active': 'bg-green-100 text-green-700',\r\n      'Paused': 'bg-yellow-100 text-yellow-700',\r\n      'Completed': 'bg-blue-100 text-blue-700',\r\n      'Archived': 'bg-gray-100 text-gray-500'\r\n    };\r\n    return colors[status] || colors['Planning'];\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'Active': return <Play className=\"w-3 h-3\" />;\r\n      case 'Paused': return <Pause className=\"w-3 h-3\" />;\r\n      case 'Completed': return <CheckCircle className=\"w-3 h-3\" />;\r\n      default: return null;\r\n    }\r\n  };\r\n\r\n  const getCampaignTypeIcon = (type) => {\r\n    switch (type) {\r\n      case 'Company Targeting': return '≡ƒÅó';\r\n      case 'Industry Networking': return '≡ƒîÉ';\r\n      case 'Role-based': return '≡ƒÆ╝';\r\n      case 'Event Follow-up': return '≡ƒôà';\r\n      case 'Alumni Outreach': return '≡ƒÄô';\r\n      default: return '≡ƒÄ»';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const progressPercentage = campaign.progress || 0;\r\n  const healthScore = campaign.healthScore || 0;\r\n\r\n  const getHealthColor = (score) => {\r\n    if (score >= 70) return 'text-green-600';\r\n    if (score >= 40) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className=\"p-5 relative hover:shadow-lg transition-shadow\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-start mb-4\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <div className=\"text-2xl\">{getCampaignTypeIcon(campaign.campaignType)}</div>\r\n          <div>\r\n            <h3 className=\"font-semibold text-gray-900 line-clamp-1\">{campaign.name}</h3>\r\n            <span className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium mt-1 ${getStatusColor(campaign.status)}`}>\r\n              {getStatusIcon(campaign.status)}\r\n              {campaign.status}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Actions Menu */}\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={() => setShowMenu(!showMenu)}\r\n            className=\"p-1 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <MoreVertical className=\"w-5 h-5 text-gray-500\" />\r\n          </button>\r\n          \r\n          {showMenu && (\r\n            <>\r\n              <div \r\n                className=\"fixed inset-0 z-10\" \r\n                onClick={() => setShowMenu(false)}\r\n              />\r\n              <div className=\"absolute right-0 mt-1 w-36 bg-white border border-gray-200 rounded-lg shadow-lg z-20 py-1\">\r\n                <button\r\n                  onClick={() => { setShowMenu(false); onView(campaign); }}\r\n                  className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\"\r\n                >\r\n                  <Eye className=\"w-4 h-4\" />\r\n                  View Details\r\n                </button>\r\n                <button\r\n                  onClick={() => { setShowMenu(false); onEdit(campaign); }}\r\n                  className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\"\r\n                >\r\n                  <Edit className=\"w-4 h-4\" />\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => { setShowMenu(false); onDelete(campaign._id); }}\r\n                  className=\"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4\" />\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Description */}\r\n      {campaign.description && (\r\n        <p className=\"text-sm text-gray-600 mb-4 line-clamp-2\">{campaign.description}</p>\r\n      )}\r\n\r\n      {/* Targets */}\r\n      <div className=\"flex flex-wrap gap-1 mb-4\">\r\n        {campaign.targetCompanies?.slice(0, 3).map((company, idx) => (\r\n          <span key={idx} className=\"px-2 py-0.5 bg-blue-50 text-blue-700 text-xs rounded-full\">\r\n            {company}\r\n          </span>\r\n        ))}\r\n        {campaign.targetCompanies?.length > 3 && (\r\n          <span className=\"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full\">\r\n            +{campaign.targetCompanies.length - 3} more\r\n          </span>\r\n        )}\r\n        {campaign.targetIndustries?.slice(0, 2).map((industry, idx) => (\r\n          <span key={`ind-${idx}`} className=\"px-2 py-0.5 bg-purple-50 text-purple-700 text-xs rounded-full\">\r\n            {industry}\r\n          </span>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Progress Bar */}\r\n      <div className=\"mb-4\">\r\n        <div className=\"flex justify-between text-xs text-gray-600 mb-1\">\r\n          <span>Progress</span>\r\n          <span>{progressPercentage}%</span>\r\n        </div>\r\n        <div className=\"h-2 bg-gray-200 rounded-full overflow-hidden\">\r\n          <div \r\n            className=\"h-full bg-[#777C6D] rounded-full transition-all duration-300\"\r\n            style={{ width: `${progressPercentage}%` }}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Metrics Grid */}\r\n      <div className=\"grid grid-cols-4 gap-2 mb-4\">\r\n        <div className=\"text-center\">\r\n          <div className=\"flex items-center justify-center\">\r\n            <MessageCircle className=\"w-3 h-3 text-gray-400 mr-1\" />\r\n            <span className=\"text-lg font-semibold text-gray-900\">{campaign.metrics?.totalOutreach || 0}</span>\r\n          </div>\r\n          <div className=\"text-xs text-gray-500\">Outreach</div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <div className=\"flex items-center justify-center\">\r\n            <Users className=\"w-3 h-3 text-gray-400 mr-1\" />\r\n            <span className=\"text-lg font-semibold text-gray-900\">{campaign.metrics?.responses || 0}</span>\r\n          </div>\r\n          <div className=\"text-xs text-gray-500\">Responses</div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <div className=\"flex items-center justify-center\">\r\n            <CalendarIcon className=\"w-3 h-3 text-gray-400 mr-1\" />\r\n            <span className=\"text-lg font-semibold text-gray-900\">{campaign.metrics?.meetings || 0}</span>\r\n          </div>\r\n          <div className=\"text-xs text-gray-500\">Meetings</div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <div className=\"flex items-center justify-center\">\r\n            <TrendingUp className=\"w-3 h-3 text-gray-400 mr-1\" />\r\n            <span className={`text-lg font-semibold ${getHealthColor(healthScore)}`}>{healthScore}%</span>\r\n          </div>\r\n          <div className=\"text-xs text-gray-500\">Health</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div className=\"flex justify-between items-center pt-3 border-t border-gray-100\">\r\n        <div className=\"text-xs text-gray-500\">\r\n          {campaign.daysRemaining !== null && campaign.daysRemaining !== undefined ? (\r\n            campaign.daysRemaining > 0 ? (\r\n              <span>{campaign.daysRemaining} days left</span>\r\n            ) : (\r\n              <span className=\"text-red-600\">Campaign ended</span>\r\n            )\r\n          ) : (\r\n            <span>Started {formatDate(campaign.startDate)}</span>\r\n          )}\r\n        </div>\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"small\"\r\n          onClick={() => onView(campaign)}\r\n          className=\"text-sm\"\r\n        >\r\n          View Details ΓåÆ\r\n        </Button>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\CampaignDetailModal.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'setAbTestForm' is not defined.","line":187,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":187,"endColumn":20},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":256,"column":7,"nodeType":"JSXOpeningElement","endLine":256,"endColumn":70},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":256,"column":7,"nodeType":"JSXOpeningElement","endLine":256,"endColumn":70},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":366,"column":25,"nodeType":"JSXOpeningElement","endLine":366,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":378,"column":25,"nodeType":"JSXOpeningElement","endLine":378,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":389,"column":25,"nodeType":"JSXOpeningElement","endLine":389,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":400,"column":25,"nodeType":"JSXOpeningElement","endLine":400,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":417,"column":25,"nodeType":"JSXOpeningElement","endLine":417,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":435,"column":25,"nodeType":"JSXOpeningElement","endLine":435,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":450,"column":23,"nodeType":"JSXOpeningElement","endLine":450,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":577,"column":23,"nodeType":"JSXOpeningElement","endLine":577,"endColumn":87}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { setAuthToken } from '../../api/axios';\r\nimport { \r\n  getCampaign, \r\n  updateCampaign, \r\n  addOutreach, \r\n  updateOutreach, \r\n  deleteOutreach,\r\n  createABTest,\r\n  completeABTest,\r\n  getCampaignAnalytics\r\n} from '../../api/networkingCampaigns';\r\nimport Card from '../Card';\r\nimport Button from '../Button';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\nimport { \r\n  X, \r\n  Plus, \r\n  Edit, \r\n  Trash2, \r\n  Play, \r\n  Pause, \r\n  CheckCircle,\r\n  Send,\r\n  MessageCircle,\r\n  Calendar,\r\n  Users,\r\n  TrendingUp,\r\n  Target,\r\n  Beaker,\r\n  BarChart2,\r\n  Clock,\r\n  Mail,\r\n  Phone,\r\n  Linkedin,\r\n  Building\r\n} from 'lucide-react';\r\n\r\n/**\r\n * Campaign Detail Modal\r\n * \r\n * Full-featured modal for viewing and managing a campaign including:\r\n * - Outreach tracking\r\n * - A/B testing\r\n * - Analytics\r\n * - Status management\r\n */\r\nexport default function CampaignDetailModal({ campaign: initialCampaign, onClose, onUpdate }) {\r\n  const { getToken } = useAuth();\r\n  const [campaign, setCampaign] = useState(initialCampaign);\r\n  const [analytics, setAnalytics] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('outreach');\r\n  \r\n  // Outreach form state\r\n  const [showOutreachForm, setShowOutreachForm] = useState(false);\r\n  const [outreachForm, setOutreachForm] = useState({\r\n    contactName: '',\r\n    contactCompany: '',\r\n    contactRole: '',\r\n    method: 'LinkedIn',\r\n    messageTemplate: 'Control',\r\n    status: 'Pending',\r\n    notes: ''\r\n  });\r\n  \r\n  // A/B Test form state\r\n  const [showABTestForm, setShowABTestForm] = useState(false);\r\n  const [abTestForm, setABTestForm] = useState({\r\n    name: '',\r\n    templateA: { subject: '', message: '' },\r\n    templateB: { subject: '', message: '' }\r\n  });\r\n\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const fetchCampaignData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      const [campaignRes, analyticsRes] = await Promise.all([\r\n        getCampaign(initialCampaign._id),\r\n        getCampaignAnalytics(initialCampaign._id)\r\n      ]);\r\n\r\n      setCampaign(campaignRes.data.campaign);\r\n      setAnalytics(analyticsRes.data);\r\n    } catch (err) {\r\n      console.error('Error fetching campaign data:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [getToken, initialCampaign._id]);\r\n\r\n  useEffect(() => {\r\n    fetchCampaignData();\r\n  }, [fetchCampaignData]);\r\n\r\n  const handleStatusChange = async (newStatus) => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await updateCampaign(campaign._id, { status: newStatus });\r\n      await fetchCampaignData();\r\n      onUpdate();\r\n    } catch (err) {\r\n      console.error('Error updating status:', err);\r\n      alert('Failed to update campaign status');\r\n    }\r\n  };\r\n\r\n  const handleAddOutreach = async (e) => {\r\n    e.preventDefault();\r\n    if (!outreachForm.contactName.trim()) return;\r\n\r\n    try {\r\n      setSaving(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      \r\n      await addOutreach(campaign._id, outreachForm);\r\n      \r\n      setOutreachForm({\r\n        contactName: '',\r\n        contactCompany: '',\r\n        contactRole: '',\r\n        method: 'LinkedIn',\r\n        messageTemplate: 'Control',\r\n        status: 'Pending',\r\n        notes: ''\r\n      });\r\n      setShowOutreachForm(false);\r\n      await fetchCampaignData();\r\n      onUpdate();\r\n    } catch (err) {\r\n      console.error('Error adding outreach:', err);\r\n      alert('Failed to add outreach');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdateOutreachStatus = async (outreachId, status, outcome = null) => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await updateOutreach(campaign._id, outreachId, { status, outcome });\r\n      await fetchCampaignData();\r\n      onUpdate();\r\n    } catch (err) {\r\n      console.error('Error updating outreach:', err);\r\n      alert('Failed to update outreach');\r\n    }\r\n  };\r\n\r\n  const handleDeleteOutreach = async (outreachId) => {\r\n    if (!window.confirm('Delete this outreach entry?')) return;\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await deleteOutreach(campaign._id, outreachId);\r\n      await fetchCampaignData();\r\n      onUpdate();\r\n    } catch (err) {\r\n      console.error('Error deleting outreach:', err);\r\n      alert('Failed to delete outreach');\r\n    }\r\n  };\r\n\r\n  const handleCreateABTest = async (e) => {\r\n    e.preventDefault();\r\n    if (!abTestForm.name || !abTestForm.templateA.message || !abTestForm.templateB.message) {\r\n      alert('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSaving(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await createABTest(campaign._id, abTestForm);\r\n      \r\n      setAbTestForm({\r\n        name: '',\r\n        templateA: { subject: '', message: '' },\r\n        templateB: { subject: '', message: '' }\r\n      });\r\n      setShowABTestForm(false);\r\n      await fetchCampaignData();\r\n    } catch (err) {\r\n      console.error('Error creating A/B test:', err);\r\n      alert('Failed to create A/B test');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleCompleteABTest = async (testId) => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      const result = await completeABTest(campaign._id, testId);\r\n      alert(result.data.analysis.recommendation);\r\n      await fetchCampaignData();\r\n    } catch (err) {\r\n      console.error('Error completing A/B test:', err);\r\n      alert('Failed to complete A/B test');\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      'Pending': 'bg-gray-100 text-gray-700',\r\n      'Sent': 'bg-blue-100 text-blue-700',\r\n      'Responded': 'bg-green-100 text-green-700',\r\n      'Meeting Scheduled': 'bg-purple-100 text-purple-700',\r\n      'Connected': 'bg-teal-100 text-teal-700',\r\n      'No Response': 'bg-yellow-100 text-yellow-700',\r\n      'Declined': 'bg-red-100 text-red-700'\r\n    };\r\n    return colors[status] || colors['Pending'];\r\n  };\r\n\r\n  const getMethodIcon = (method) => {\r\n    switch (method) {\r\n      case 'LinkedIn': return <Linkedin className=\"w-4 h-4\" />;\r\n      case 'Email': return <Mail className=\"w-4 h-4\" />;\r\n      case 'Phone': return <Phone className=\"w-4 h-4\" />;\r\n      case 'In-person': return <Users className=\"w-4 h-4\" />;\r\n      default: return <MessageCircle className=\"w-4 h-4\" />;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\r\n        <div className=\"bg-white rounded-2xl p-8\">\r\n          <LoadingSpinner />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const tabs = [\r\n    { id: 'outreach', label: 'Outreach', icon: MessageCircle },\r\n    { id: 'ab-testing', label: 'A/B Testing', icon: Beaker },\r\n    { id: 'analytics', label: 'Analytics', icon: BarChart2 }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      <div className=\"fixed inset-0 bg-black/50\" onClick={onClose} />\r\n      \r\n      <div className=\"relative bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-start p-6 border-b\">\r\n          <div>\r\n            <div className=\"flex items-center gap-3 mb-2\">\r\n              <h2 className=\"text-xl font-semibold text-gray-900\">{campaign.name}</h2>\r\n              <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                campaign.status === 'Active' ? 'bg-green-100 text-green-700' :\r\n                campaign.status === 'Paused' ? 'bg-yellow-100 text-yellow-700' :\r\n                campaign.status === 'Completed' ? 'bg-blue-100 text-blue-700' :\r\n                'bg-gray-100 text-gray-700'\r\n              }`}>\r\n                {campaign.status}\r\n              </span>\r\n            </div>\r\n            {campaign.description && (\r\n              <p className=\"text-sm text-gray-600\">{campaign.description}</p>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-2\">\r\n            {/* Status Actions */}\r\n            {campaign.status === 'Planning' && (\r\n              <Button size=\"small\" onClick={() => handleStatusChange('Active')}>\r\n                <Play className=\"w-4 h-4 mr-1\" /> Start\r\n              </Button>\r\n            )}\r\n            {campaign.status === 'Active' && (\r\n              <Button size=\"small\" variant=\"outline\" onClick={() => handleStatusChange('Paused')}>\r\n                <Pause className=\"w-4 h-4 mr-1\" /> Pause\r\n              </Button>\r\n            )}\r\n            {campaign.status === 'Paused' && (\r\n              <Button size=\"small\" onClick={() => handleStatusChange('Active')}>\r\n                <Play className=\"w-4 h-4 mr-1\" /> Resume\r\n              </Button>\r\n            )}\r\n            {['Active', 'Paused'].includes(campaign.status) && (\r\n              <Button size=\"small\" variant=\"tertiary\" onClick={() => handleStatusChange('Completed')}>\r\n                <CheckCircle className=\"w-4 h-4 mr-1\" /> Complete\r\n              </Button>\r\n            )}\r\n            <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded-lg\">\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Summary Stats */}\r\n        <div className=\"grid grid-cols-5 gap-4 p-4 bg-gray-50 border-b\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-gray-900\">{campaign.metrics?.totalOutreach || 0}</div>\r\n            <div className=\"text-xs text-gray-500\">Outreach</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-blue-600\">{campaign.metrics?.sent || 0}</div>\r\n            <div className=\"text-xs text-gray-500\">Sent</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-green-600\">{campaign.metrics?.responses || 0}</div>\r\n            <div className=\"text-xs text-gray-500\">Responses</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-purple-600\">{campaign.metrics?.meetings || 0}</div>\r\n            <div className=\"text-xs text-gray-500\">Meetings</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-teal-600\">{campaign.metrics?.responseRate || 0}%</div>\r\n            <div className=\"text-xs text-gray-500\">Response Rate</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex border-b px-6\">\r\n          {tabs.map(tab => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n                activeTab === tab.id\r\n                  ? 'border-[#777C6D] text-[#777C6D]'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700'\r\n              }`}\r\n            >\r\n              <tab.icon className=\"w-4 h-4\" />\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6\">\r\n          {/* Outreach Tab */}\r\n          {activeTab === 'outreach' && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"font-semibold text-gray-800\">Outreach Tracking</h3>\r\n                <Button size=\"small\" onClick={() => setShowOutreachForm(!showOutreachForm)}>\r\n                  <Plus className=\"w-4 h-4 mr-1\" /> Add Outreach\r\n                </Button>\r\n              </div>\r\n\r\n              {/* Add Outreach Form */}\r\n              {showOutreachForm && (\r\n                <Card variant=\"outlined\" className=\"p-4\">\r\n                  <form onSubmit={handleAddOutreach} className=\"space-y-4\">\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          Contact Name *\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={outreachForm.contactName}\r\n                          onChange={(e) => setOutreachForm(prev => ({ ...prev, contactName: e.target.value }))}\r\n                          required\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          Company\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={outreachForm.contactCompany}\r\n                          onChange={(e) => setOutreachForm(prev => ({ ...prev, contactCompany: e.target.value }))}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          Role\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={outreachForm.contactRole}\r\n                          onChange={(e) => setOutreachForm(prev => ({ ...prev, contactRole: e.target.value }))}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          Method\r\n                        </label>\r\n                        <select\r\n                          value={outreachForm.method}\r\n                          onChange={(e) => setOutreachForm(prev => ({ ...prev, method: e.target.value }))}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        >\r\n                          <option value=\"LinkedIn\">LinkedIn</option>\r\n                          <option value=\"Email\">Email</option>\r\n                          <option value=\"Phone\">Phone</option>\r\n                          <option value=\"In-person\">In-person</option>\r\n                          <option value=\"Event\">Event</option>\r\n                          <option value=\"Other\">Other</option>\r\n                        </select>\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          Status\r\n                        </label>\r\n                        <select\r\n                          value={outreachForm.status}\r\n                          onChange={(e) => setOutreachForm(prev => ({ ...prev, status: e.target.value }))}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        >\r\n                          <option value=\"Pending\">Pending</option>\r\n                          <option value=\"Sent\">Sent</option>\r\n                          <option value=\"Responded\">Responded</option>\r\n                          <option value=\"Meeting Scheduled\">Meeting Scheduled</option>\r\n                          <option value=\"Connected\">Connected</option>\r\n                          <option value=\"No Response\">No Response</option>\r\n                          <option value=\"Declined\">Declined</option>\r\n                        </select>\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          A/B Template\r\n                        </label>\r\n                        <select\r\n                          value={outreachForm.messageTemplate}\r\n                          onChange={(e) => setOutreachForm(prev => ({ ...prev, messageTemplate: e.target.value }))}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        >\r\n                          <option value=\"Control\">Control (No test)</option>\r\n                          <option value=\"A\">Template A</option>\r\n                          <option value=\"B\">Template B</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Notes\r\n                      </label>\r\n                      <textarea\r\n                        value={outreachForm.notes}\r\n                        onChange={(e) => setOutreachForm(prev => ({ ...prev, notes: e.target.value }))}\r\n                        rows={2}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex justify-end gap-2\">\r\n                      <Button type=\"button\" variant=\"outline\" onClick={() => setShowOutreachForm(false)}>\r\n                        Cancel\r\n                      </Button>\r\n                      <Button type=\"submit\" isLoading={saving}>\r\n                        Add Outreach\r\n                      </Button>\r\n                    </div>\r\n                  </form>\r\n                </Card>\r\n              )}\r\n\r\n              {/* Outreach List */}\r\n              {campaign.outreaches?.length === 0 ? (\r\n                <Card variant=\"outlined\" className=\"p-8 text-center\">\r\n                  <MessageCircle className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\r\n                  <p className=\"text-gray-600\">No outreach tracked yet</p>\r\n                  <p className=\"text-sm text-gray-500\">Add your first outreach to start tracking</p>\r\n                </Card>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {campaign.outreaches?.map((outreach) => (\r\n                    <Card key={outreach._id} variant=\"outlined\" className=\"p-4\">\r\n                      <div className=\"flex justify-between items-start\">\r\n                        <div className=\"flex items-start gap-3\">\r\n                          <div className=\"p-2 bg-gray-100 rounded-lg\">\r\n                            {getMethodIcon(outreach.method)}\r\n                          </div>\r\n                          <div>\r\n                            <div className=\"font-medium text-gray-900\">{outreach.contactName}</div>\r\n                            {(outreach.contactCompany || outreach.contactRole) && (\r\n                              <div className=\"text-sm text-gray-600\">\r\n                                {outreach.contactRole && <span>{outreach.contactRole}</span>}\r\n                                {outreach.contactRole && outreach.contactCompany && <span> at </span>}\r\n                                {outreach.contactCompany && <span className=\"font-medium\">{outreach.contactCompany}</span>}\r\n                              </div>\r\n                            )}\r\n                            {outreach.notes && (\r\n                              <p className=\"text-sm text-gray-500 mt-1\">{outreach.notes}</p>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"flex items-center gap-2\">\r\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(outreach.status)}`}>\r\n                            {outreach.status}\r\n                          </span>\r\n                          \r\n                          {/* Quick Status Update */}\r\n                          <select\r\n                            value={outreach.status}\r\n                            onChange={(e) => handleUpdateOutreachStatus(outreach._id, e.target.value)}\r\n                            className=\"text-xs border border-gray-300 rounded px-2 py-1\"\r\n                          >\r\n                            <option value=\"Pending\">Pending</option>\r\n                            <option value=\"Sent\">Sent</option>\r\n                            <option value=\"Responded\">Responded</option>\r\n                            <option value=\"Meeting Scheduled\">Meeting Scheduled</option>\r\n                            <option value=\"Connected\">Connected</option>\r\n                            <option value=\"No Response\">No Response</option>\r\n                            <option value=\"Declined\">Declined</option>\r\n                          </select>\r\n                          \r\n                          <button\r\n                            onClick={() => handleDeleteOutreach(outreach._id)}\r\n                            className=\"p-1 text-gray-400 hover:text-red-500\"\r\n                          >\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex gap-4 mt-3 text-xs text-gray-500\">\r\n                        <span className=\"flex items-center gap-1\">\r\n                          {getMethodIcon(outreach.method)}\r\n                          {outreach.method}\r\n                        </span>\r\n                        {outreach.messageTemplate !== 'Control' && (\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Beaker className=\"w-3 h-3\" />\r\n                            Template {outreach.messageTemplate}\r\n                          </span>\r\n                        )}\r\n                        {outreach.sentAt && (\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Clock className=\"w-3 h-3\" />\r\n                            Sent: {new Date(outreach.sentAt).toLocaleDateString()}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* A/B Testing Tab */}\r\n          {activeTab === 'ab-testing' && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"font-semibold text-gray-800\">A/B Testing</h3>\r\n                <Button size=\"small\" onClick={() => setShowABTestForm(!showABTestForm)}>\r\n                  <Plus className=\"w-4 h-4 mr-1\" /> New A/B Test\r\n                </Button>\r\n              </div>\r\n\r\n              <p className=\"text-sm text-gray-600\">\r\n                Test different outreach messages to see which performs better. When adding outreach,\r\n                select Template A or B to track performance.\r\n              </p>\r\n\r\n              {/* Create A/B Test Form */}\r\n              {showABTestForm && (\r\n                <Card variant=\"outlined\" className=\"p-4\">\r\n                  <form onSubmit={handleCreateABTest} className=\"space-y-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Test Name *\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={abTestForm.name}\r\n                        onChange={(e) => setABTestForm(prev => ({ ...prev, name: e.target.value }))}\r\n                        placeholder=\"e.g., Connection Request Test\"\r\n                        required\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div className=\"space-y-2\">\r\n                        <h4 className=\"font-medium text-blue-700\">Template A</h4>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={abTestForm.templateA.subject}\r\n                          onChange={(e) => setABTestForm(prev => ({\r\n                            ...prev,\r\n                            templateA: { ...prev.templateA, subject: e.target.value }\r\n                          }))}\r\n                          placeholder=\"Subject (optional)\"\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        />\r\n                        <textarea\r\n                          value={abTestForm.templateA.message}\r\n                          onChange={(e) => setABTestForm(prev => ({\r\n                            ...prev,\r\n                            templateA: { ...prev.templateA, message: e.target.value }\r\n                          }))}\r\n                          placeholder=\"Message content *\"\r\n                          required\r\n                          rows={4}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                      \r\n                      <div className=\"space-y-2\">\r\n                        <h4 className=\"font-medium text-green-700\">Template B</h4>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={abTestForm.templateB.subject}\r\n                          onChange={(e) => setABTestForm(prev => ({\r\n                            ...prev,\r\n                            templateB: { ...prev.templateB, subject: e.target.value }\r\n                          }))}\r\n                          placeholder=\"Subject (optional)\"\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        />\r\n                        <textarea\r\n                          value={abTestForm.templateB.message}\r\n                          onChange={(e) => setABTestForm(prev => ({\r\n                            ...prev,\r\n                            templateB: { ...prev.templateB, message: e.target.value }\r\n                          }))}\r\n                          placeholder=\"Message content *\"\r\n                          required\r\n                          rows={4}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex justify-end gap-2\">\r\n                      <Button type=\"button\" variant=\"outline\" onClick={() => setShowABTestForm(false)}>\r\n                        Cancel\r\n                      </Button>\r\n                      <Button type=\"submit\" isLoading={saving}>\r\n                        Create Test\r\n                      </Button>\r\n                    </div>\r\n                  </form>\r\n                </Card>\r\n              )}\r\n\r\n              {/* A/B Tests List */}\r\n              {campaign.abTests?.length === 0 ? (\r\n                <Card variant=\"outlined\" className=\"p-8 text-center\">\r\n                  <Beaker className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\r\n                  <p className=\"text-gray-600\">No A/B tests yet</p>\r\n                  <p className=\"text-sm text-gray-500\">Create a test to optimize your outreach</p>\r\n                </Card>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {campaign.abTests?.map((test) => (\r\n                    <Card key={test._id} variant=\"outlined\" className=\"p-4\">\r\n                      <div className=\"flex justify-between items-start mb-4\">\r\n                        <div>\r\n                          <h4 className=\"font-medium text-gray-900\">{test.name}</h4>\r\n                          <span className={`inline-block px-2 py-0.5 rounded-full text-xs font-medium mt-1 ${\r\n                            test.status === 'Active' ? 'bg-green-100 text-green-700' :\r\n                            test.status === 'Completed' ? 'bg-blue-100 text-blue-700' :\r\n                            'bg-gray-100 text-gray-700'\r\n                          }`}>\r\n                            {test.status}\r\n                            {test.winner && test.status === 'Completed' && ` - Winner: Template ${test.winner}`}\r\n                          </span>\r\n                        </div>\r\n                        {test.status === 'Active' && (\r\n                          <Button size=\"small\" variant=\"outline\" onClick={() => handleCompleteABTest(test._id)}>\r\n                            Complete Test\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div className={`p-3 rounded-lg ${test.winner === 'A' ? 'bg-blue-50 border-2 border-blue-300' : 'bg-gray-50'}`}>\r\n                          <div className=\"flex justify-between items-center mb-2\">\r\n                            <span className=\"font-medium text-blue-700\">Template A</span>\r\n                            {test.winner === 'A' && <span className=\"text-xs bg-blue-200 text-blue-800 px-2 py-0.5 rounded-full\">Winner</span>}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-600 space-y-1\">\r\n                            <div>Sent: {test.templateA.sentCount}</div>\r\n                            <div>Responses: {test.templateA.responseCount}</div>\r\n                            <div>Response Rate: {test.templateA.sentCount > 0 \r\n                              ? Math.round((test.templateA.responseCount / test.templateA.sentCount) * 100) \r\n                              : 0}%</div>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className={`p-3 rounded-lg ${test.winner === 'B' ? 'bg-green-50 border-2 border-green-300' : 'bg-gray-50'}`}>\r\n                          <div className=\"flex justify-between items-center mb-2\">\r\n                            <span className=\"font-medium text-green-700\">Template B</span>\r\n                            {test.winner === 'B' && <span className=\"text-xs bg-green-200 text-green-800 px-2 py-0.5 rounded-full\">Winner</span>}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-600 space-y-1\">\r\n                            <div>Sent: {test.templateB.sentCount}</div>\r\n                            <div>Responses: {test.templateB.responseCount}</div>\r\n                            <div>Response Rate: {test.templateB.sentCount > 0 \r\n                              ? Math.round((test.templateB.responseCount / test.templateB.sentCount) * 100) \r\n                              : 0}%</div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Analytics Tab */}\r\n          {activeTab === 'analytics' && analytics && (\r\n            <div className=\"space-y-6\">\r\n              <h3 className=\"font-semibold text-gray-800\">Campaign Analytics</h3>\r\n\r\n              {/* Goal Progress */}\r\n              <Card variant=\"outlined\" className=\"p-4\">\r\n                <h4 className=\"font-medium text-gray-800 mb-4\">Goal Progress</h4>\r\n                <div className=\"space-y-4\">\r\n                  {Object.entries(analytics.goalProgress || {}).map(([key, data]) => (\r\n                    <div key={key}>\r\n                      <div className=\"flex justify-between text-sm mb-1\">\r\n                        <span className=\"capitalize text-gray-600\">{key.replace(/([A-Z])/g, ' $1').trim()}</span>\r\n                        <span className=\"text-gray-900\">{data.current} / {data.target} ({data.percentage}%)</span>\r\n                      </div>\r\n                      <div className=\"h-2 bg-gray-200 rounded-full overflow-hidden\">\r\n                        <div \r\n                          className={`h-full rounded-full transition-all ${\r\n                            data.percentage >= 100 ? 'bg-green-500' :\r\n                            data.percentage >= 50 ? 'bg-yellow-500' :\r\n                            'bg-red-500'\r\n                          }`}\r\n                          style={{ width: `${Math.min(100, data.percentage)}%` }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n\r\n              {/* By Method */}\r\n              <Card variant=\"outlined\" className=\"p-4\">\r\n                <h4 className=\"font-medium text-gray-800 mb-4\">Performance by Method</h4>\r\n                <div className=\"space-y-3\">\r\n                  {Object.entries(analytics.byMethod || {}).map(([method, data]) => (\r\n                    <div key={method} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {getMethodIcon(method)}\r\n                        <span className=\"font-medium\">{method}</span>\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-600\">\r\n                        <span>{data.total} sent</span>\r\n                        <span className=\"mx-2\">ΓÇó</span>\r\n                        <span>{data.responded} responded</span>\r\n                        <span className=\"mx-2\">ΓÇó</span>\r\n                        <span className=\"font-medium text-green-600\">\r\n                          {data.total > 0 ? Math.round((data.responded / data.total) * 100) : 0}% rate\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </Card>\r\n\r\n              {/* Top Companies */}\r\n              {analytics.byCompany?.length > 0 && (\r\n                <Card variant=\"outlined\" className=\"p-4\">\r\n                  <h4 className=\"font-medium text-gray-800 mb-4\">Top Companies</h4>\r\n                  <div className=\"space-y-2\">\r\n                    {analytics.byCompany.slice(0, 5).map((item, idx) => (\r\n                      <div key={idx} className=\"flex items-center justify-between p-2 hover:bg-gray-50 rounded\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Building className=\"w-4 h-4 text-gray-400\" />\r\n                          <span>{item.company}</span>\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-600\">\r\n                          {item.responded}/{item.total} responded\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </Card>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\CampaignFormModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":169,"column":7,"nodeType":"JSXOpeningElement","endLine":169,"endColumn":70},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":169,"column":7,"nodeType":"JSXOpeningElement","endLine":169,"endColumn":70},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":211,"column":17,"nodeType":"JSXOpeningElement","endLine":211,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":226,"column":17,"nodeType":"JSXOpeningElement","endLine":226,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":240,"column":17,"nodeType":"JSXOpeningElement","endLine":240,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":260,"column":19,"nodeType":"JSXOpeningElement","endLine":260,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":272,"column":19,"nodeType":"JSXOpeningElement","endLine":272,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":286,"column":17,"nodeType":"JSXOpeningElement","endLine":286,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":306,"column":17,"nodeType":"JSXOpeningElement","endLine":306,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":347,"column":17,"nodeType":"JSXOpeningElement","endLine":347,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":388,"column":17,"nodeType":"JSXOpeningElement","endLine":388,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":438,"column":19,"nodeType":"JSXOpeningElement","endLine":438,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":452,"column":19,"nodeType":"JSXOpeningElement","endLine":452,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":467,"column":19,"nodeType":"JSXOpeningElement","endLine":467,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":481,"column":19,"nodeType":"JSXOpeningElement","endLine":481,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":495,"column":19,"nodeType":"JSXOpeningElement","endLine":495,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":515,"column":17,"nodeType":"JSXOpeningElement","endLine":515,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":529,"column":17,"nodeType":"JSXOpeningElement","endLine":529,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":565,"column":17,"nodeType":"JSXOpeningElement","endLine":565,"endColumn":81}],"suppressedMessages":[],"errorCount":17,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport { setAuthToken } from '../../api/axios';\r\nimport { createCampaign, updateCampaign } from '../../api/networkingCampaigns';\r\nimport Button from '../Button';\r\nimport { X, Plus, Trash2 } from 'lucide-react';\r\n\r\n/**\r\n * Campaign Form Modal\r\n * \r\n * Modal for creating or editing a networking campaign.\r\n */\r\nexport default function CampaignFormModal({ campaign, onClose, onSave }) {\r\n  const { getToken } = useAuth();\r\n  const isEditing = !!campaign;\r\n  \r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    campaignType: 'Custom',\r\n    targetCompanies: [],\r\n    targetIndustries: [],\r\n    targetRoles: [],\r\n    goals: {\r\n      totalOutreach: 20,\r\n      responseRate: 30,\r\n      meetingsScheduled: 5,\r\n      connectionsGained: 10,\r\n      referralsObtained: 2\r\n    },\r\n    startDate: new Date().toISOString().split('T')[0],\r\n    endDate: '',\r\n    strategy: {\r\n      approach: '',\r\n      keyMessages: [],\r\n      followUpSchedule: '1 week'\r\n    },\r\n    notes: ''\r\n  });\r\n\r\n  const [newCompany, setNewCompany] = useState('');\r\n  const [newIndustry, setNewIndustry] = useState('');\r\n  const [newRole, setNewRole] = useState('');\r\n  const [newKeyMessage, setNewKeyMessage] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [activeSection, setActiveSection] = useState('basic');\r\n\r\n  useEffect(() => {\r\n    if (campaign) {\r\n      setFormData({\r\n        name: campaign.name || '',\r\n        description: campaign.description || '',\r\n        campaignType: campaign.campaignType || 'Custom',\r\n        targetCompanies: campaign.targetCompanies || [],\r\n        targetIndustries: campaign.targetIndustries || [],\r\n        targetRoles: campaign.targetRoles || [],\r\n        goals: {\r\n          totalOutreach: campaign.goals?.totalOutreach || 20,\r\n          responseRate: campaign.goals?.responseRate || 30,\r\n          meetingsScheduled: campaign.goals?.meetingsScheduled || 5,\r\n          connectionsGained: campaign.goals?.connectionsGained || 10,\r\n          referralsObtained: campaign.goals?.referralsObtained || 2\r\n        },\r\n        startDate: campaign.startDate ? new Date(campaign.startDate).toISOString().split('T')[0] : '',\r\n        endDate: campaign.endDate ? new Date(campaign.endDate).toISOString().split('T')[0] : '',\r\n        strategy: {\r\n          approach: campaign.strategy?.approach || '',\r\n          keyMessages: campaign.strategy?.keyMessages || [],\r\n          followUpSchedule: campaign.strategy?.followUpSchedule || '1 week'\r\n        },\r\n        notes: campaign.notes || ''\r\n      });\r\n    }\r\n  }, [campaign]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name.startsWith('goals.')) {\r\n      const goalKey = name.split('.')[1];\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        goals: { ...prev.goals, [goalKey]: parseInt(value) || 0 }\r\n      }));\r\n    } else if (name.startsWith('strategy.')) {\r\n      const stratKey = name.split('.')[1];\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        strategy: { ...prev.strategy, [stratKey]: value }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({ ...prev, [name]: value }));\r\n    }\r\n  };\r\n\r\n  const addToList = (listName, value, setter) => {\r\n    if (value.trim()) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [listName]: [...prev[listName], value.trim()]\r\n      }));\r\n      setter('');\r\n    }\r\n  };\r\n\r\n  const removeFromList = (listName, index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [listName]: prev[listName].filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const addKeyMessage = () => {\r\n    if (newKeyMessage.trim()) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        strategy: {\r\n          ...prev.strategy,\r\n          keyMessages: [...prev.strategy.keyMessages, newKeyMessage.trim()]\r\n        }\r\n      }));\r\n      setNewKeyMessage('');\r\n    }\r\n  };\r\n\r\n  const removeKeyMessage = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      strategy: {\r\n        ...prev.strategy,\r\n        keyMessages: prev.strategy.keyMessages.filter((_, i) => i !== index)\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      if (isEditing) {\r\n        await updateCampaign(campaign._id, formData);\r\n      } else {\r\n        await createCampaign(formData);\r\n      }\r\n\r\n      onSave();\r\n    } catch (err) {\r\n      console.error('Error saving campaign:', err);\r\n      setError(err.response?.data?.message || 'Failed to save campaign');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const sections = [\r\n    { id: 'basic', label: 'Basic Info' },\r\n    { id: 'targets', label: 'Targets' },\r\n    { id: 'goals', label: 'Goals' },\r\n    { id: 'strategy', label: 'Strategy' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      <div className=\"fixed inset-0 bg-black/50\" onClick={onClose} />\r\n      \r\n      <div className=\"relative bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center p-6 border-b\">\r\n          <h2 className=\"text-xl font-semibold text-gray-900\">\r\n            {isEditing ? 'Edit Campaign' : 'Create Networking Campaign'}\r\n          </h2>\r\n          <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded-lg\">\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Section Tabs */}\r\n        <div className=\"flex border-b px-6\">\r\n          {sections.map(section => (\r\n            <button\r\n              key={section.id}\r\n              onClick={() => setActiveSection(section.id)}\r\n              className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n                activeSection === section.id\r\n                  ? 'border-[#777C6D] text-[#777C6D]'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700'\r\n              }`}\r\n            >\r\n              {section.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Form Content */}\r\n        <form onSubmit={handleSubmit} className=\"flex-1 overflow-y-auto p-6\">\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Basic Info Section */}\r\n          {activeSection === 'basic' && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Campaign Name *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={formData.name}\r\n                  onChange={handleChange}\r\n                  required\r\n                  placeholder=\"e.g., Q1 Tech Company Outreach\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Description\r\n                </label>\r\n                <textarea\r\n                  name=\"description\"\r\n                  value={formData.description}\r\n                  onChange={handleChange}\r\n                  rows={3}\r\n                  placeholder=\"Describe the purpose and focus of this campaign...\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Campaign Type\r\n                </label>\r\n                <select\r\n                  name=\"campaignType\"\r\n                  value={formData.campaignType}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                >\r\n                  <option value=\"Company Targeting\">Company Targeting</option>\r\n                  <option value=\"Industry Networking\">Industry Networking</option>\r\n                  <option value=\"Role-based\">Role-based</option>\r\n                  <option value=\"Event Follow-up\">Event Follow-up</option>\r\n                  <option value=\"Alumni Outreach\">Alumni Outreach</option>\r\n                  <option value=\"Custom\">Custom</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Start Date\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"startDate\"\r\n                    value={formData.startDate}\r\n                    onChange={handleChange}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    End Date\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"endDate\"\r\n                    value={formData.endDate}\r\n                    onChange={handleChange}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Notes\r\n                </label>\r\n                <textarea\r\n                  name=\"notes\"\r\n                  value={formData.notes}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                  placeholder=\"Any additional notes...\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Targets Section */}\r\n          {activeSection === 'targets' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Target Companies */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Target Companies\r\n                </label>\r\n                <div className=\"flex gap-2 mb-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newCompany}\r\n                    onChange={(e) => setNewCompany(e.target.value)}\r\n                    placeholder=\"Add a company...\"\r\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addToList('targetCompanies', newCompany, setNewCompany))}\r\n                    className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => addToList('targetCompanies', newCompany, setNewCompany)}\r\n                  >\r\n                    <Plus className=\"w-4 h-4\" />\r\n                  </Button>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {formData.targetCompanies.map((company, idx) => (\r\n                    <span\r\n                      key={idx}\r\n                      className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm\"\r\n                    >\r\n                      {company}\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeFromList('targetCompanies', idx)}\r\n                        className=\"hover:text-blue-900\"\r\n                      >\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Target Industries */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Target Industries\r\n                </label>\r\n                <div className=\"flex gap-2 mb-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newIndustry}\r\n                    onChange={(e) => setNewIndustry(e.target.value)}\r\n                    placeholder=\"Add an industry...\"\r\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addToList('targetIndustries', newIndustry, setNewIndustry))}\r\n                    className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => addToList('targetIndustries', newIndustry, setNewIndustry)}\r\n                  >\r\n                    <Plus className=\"w-4 h-4\" />\r\n                  </Button>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {formData.targetIndustries.map((industry, idx) => (\r\n                    <span\r\n                      key={idx}\r\n                      className=\"inline-flex items-center gap-1 px-3 py-1 bg-purple-50 text-purple-700 rounded-full text-sm\"\r\n                    >\r\n                      {industry}\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeFromList('targetIndustries', idx)}\r\n                        className=\"hover:text-purple-900\"\r\n                      >\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Target Roles */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Target Roles\r\n                </label>\r\n                <div className=\"flex gap-2 mb-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newRole}\r\n                    onChange={(e) => setNewRole(e.target.value)}\r\n                    placeholder=\"Add a role...\"\r\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addToList('targetRoles', newRole, setNewRole))}\r\n                    className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => addToList('targetRoles', newRole, setNewRole)}\r\n                  >\r\n                    <Plus className=\"w-4 h-4\" />\r\n                  </Button>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {formData.targetRoles.map((role, idx) => (\r\n                    <span\r\n                      key={idx}\r\n                      className=\"inline-flex items-center gap-1 px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm\"\r\n                    >\r\n                      {role}\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeFromList('targetRoles', idx)}\r\n                        className=\"hover:text-green-900\"\r\n                      >\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Goals Section */}\r\n          {activeSection === 'goals' && (\r\n            <div className=\"space-y-4\">\r\n              <p className=\"text-sm text-gray-600 mb-4\">\r\n                Set your campaign goals to track progress and measure success.\r\n              </p>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Total Outreach Target\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"goals.totalOutreach\"\r\n                    value={formData.goals.totalOutreach}\r\n                    onChange={handleChange}\r\n                    min=\"1\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Response Rate Goal (%)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"goals.responseRate\"\r\n                    value={formData.goals.responseRate}\r\n                    onChange={handleChange}\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Meetings to Schedule\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"goals.meetingsScheduled\"\r\n                    value={formData.goals.meetingsScheduled}\r\n                    onChange={handleChange}\r\n                    min=\"0\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Connections to Gain\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"goals.connectionsGained\"\r\n                    value={formData.goals.connectionsGained}\r\n                    onChange={handleChange}\r\n                    min=\"0\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Referrals to Obtain\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"goals.referralsObtained\"\r\n                    value={formData.goals.referralsObtained}\r\n                    onChange={handleChange}\r\n                    min=\"0\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Strategy Section */}\r\n          {activeSection === 'strategy' && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Outreach Approach\r\n                </label>\r\n                <textarea\r\n                  name=\"strategy.approach\"\r\n                  value={formData.strategy.approach}\r\n                  onChange={handleChange}\r\n                  rows={3}\r\n                  placeholder=\"Describe your approach for this campaign...\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Key Messages\r\n                </label>\r\n                <div className=\"flex gap-2 mb-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newKeyMessage}\r\n                    onChange={(e) => setNewKeyMessage(e.target.value)}\r\n                    placeholder=\"Add a key message point...\"\r\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addKeyMessage())}\r\n                    className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                  />\r\n                  <Button type=\"button\" variant=\"outline\" onClick={addKeyMessage}>\r\n                    <Plus className=\"w-4 h-4\" />\r\n                  </Button>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  {formData.strategy.keyMessages.map((msg, idx) => (\r\n                    <div\r\n                      key={idx}\r\n                      className=\"flex items-center justify-between p-2 bg-gray-50 rounded-lg\"\r\n                    >\r\n                      <span className=\"text-sm text-gray-700\">ΓÇó {msg}</span>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeKeyMessage(idx)}\r\n                        className=\"text-gray-400 hover:text-red-500\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Follow-up Schedule\r\n                </label>\r\n                <select\r\n                  name=\"strategy.followUpSchedule\"\r\n                  value={formData.strategy.followUpSchedule}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n                >\r\n                  <option value=\"3 days\">After 3 days</option>\r\n                  <option value=\"1 week\">After 1 week</option>\r\n                  <option value=\"2 weeks\">After 2 weeks</option>\r\n                  <option value=\"Custom\">Custom</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </form>\r\n\r\n        {/* Footer */}\r\n        <div className=\"flex justify-end gap-3 p-6 border-t bg-gray-50\">\r\n          <Button variant=\"outline\" onClick={onClose} disabled={loading}>\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleSubmit} isLoading={loading}>\r\n            {isEditing ? 'Save Changes' : 'Create Campaign'}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\CampaignsTab.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ContactCard.jsx","messages":[{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":63,"column":17,"nodeType":"JSXAttribute","endLine":66,"endColumn":19},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":67,"column":17,"nodeType":"JSXAttribute","endLine":70,"endColumn":19},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":87,"column":17,"nodeType":"JSXAttribute","endLine":90,"endColumn":19},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":91,"column":17,"nodeType":"JSXAttribute","endLine":94,"endColumn":19},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":223,"column":15,"nodeType":"JSXAttribute","endLine":225,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":226,"column":15,"nodeType":"JSXAttribute","endLine":228,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport Card from '../Card';\r\nimport Button from '../Button';\r\n\r\nconst relationshipTypeColors = {\r\n  Mentor: 'bg-purple-100 text-purple-800',\r\n  Peer: 'bg-blue-100 text-blue-800',\r\n  Recruiter: 'bg-green-100 text-green-800',\r\n  Manager: 'bg-orange-100 text-orange-800',\r\n  Colleague: 'bg-cyan-100 text-cyan-800',\r\n  Alumni: 'bg-indigo-100 text-indigo-800',\r\n  'Industry Contact': 'bg-pink-100 text-pink-800',\r\n  Other: 'bg-gray-100 text-gray-800'\r\n};\r\n\r\nconst strengthColors = {\r\n  Strong: 'text-green-600',\r\n  Medium: 'text-yellow-600',\r\n  Weak: 'text-orange-600',\r\n  New: 'text-gray-600'\r\n};\r\n\r\nexport default function ContactCard({ contact, onEdit, onDelete, onRequestReferral, customActions, showControls = true }) {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return 'Never';\r\n    return new Date(date).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const isFollowUpOverdue = () => {\r\n    if (!contact.nextFollowUpDate) return false;\r\n    return new Date(contact.nextFollowUpDate) < new Date();\r\n  };\r\n\r\n  // Use outlined variant for black border, remove shadow\r\n  return (\r\n    <Card variant=\"outlined\" className=\"border-black !shadow-none p-3 md:p-4 h-full min-h-[320px]\">\r\n      <div className=\"flex flex-col h-full text-sm\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-start mb-2\">\r\n          <div className=\"flex-1\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">\r\n              {contact.firstName} {contact.lastName}\r\n            </h3>\r\n            {contact.jobTitle && (\r\n              <p className=\"text-sm text-gray-600\">{contact.jobTitle}</p>\r\n            )}\r\n            {contact.company && (\r\n              <p className=\"text-sm text-gray-500\">{contact.company}</p>\r\n            )}\r\n          </div>\r\n          {showControls && (\r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={() => onEdit(contact)}\r\n                className=\"p-1 rounded-lg transition flex-shrink-0 flex items-center justify-center\"\r\n                style={{ color: '#6B7280' }}\r\n                onMouseOver={e => {\r\n                  e.currentTarget.style.color = '#2563EB';\r\n                  e.currentTarget.style.backgroundColor = '#EFF6FF';\r\n                }}\r\n                onMouseOut={e => {\r\n                  e.currentTarget.style.color = '#6B7280';\r\n                  e.currentTarget.style.backgroundColor = 'transparent';\r\n                }}\r\n                aria-label=\"Edit contact\"\r\n                title=\"Edit contact\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n              <button\r\n                onClick={() => onDelete(contact._id)}\r\n                className=\"p-1 rounded-lg transition flex-shrink-0 flex items-center justify-center\"\r\n                style={{ color: '#6B7280' }}\r\n                onMouseOver={e => {\r\n                  e.currentTarget.style.color = '#B91C1C';\r\n                  e.currentTarget.style.backgroundColor = '#FEE2E2';\r\n                }}\r\n                onMouseOut={e => {\r\n                  e.currentTarget.style.color = '#6B7280';\r\n                  e.currentTarget.style.backgroundColor = 'transparent';\r\n                }}\r\n                aria-label=\"Delete contact\"\r\n                title=\"Delete contact\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Badges */}\r\n        <div className=\"flex flex-wrap gap-2 mb-2\">\r\n          <span\r\n            className={`px-2 py-1 rounded-full text-xs font-medium ${relationshipTypeColors[contact.relationshipType] || 'bg-gray-100 text-gray-800'\r\n              }`}\r\n          >\r\n            {contact.relationshipType}\r\n          </span>\r\n          <span className={`text-xs font-medium ${strengthColors[contact.relationshipStrength]}`}>\r\n            ΓùÅ {contact.relationshipStrength}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Contact Info */}\r\n        <div className=\"space-y-2 mb-2 flex-1\">\r\n          {contact.email && (\r\n            <div className=\"flex items-center text-sm text-gray-600\">\r\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\r\n                />\r\n              </svg>\r\n              <a href={`mailto:${contact.email}`} className=\"hover:text-primary-600 truncate\">\r\n                {contact.email}\r\n              </a>\r\n            </div>\r\n          )}\r\n          {contact.phone && (\r\n            <div className=\"flex items-center text-sm text-gray-600\">\r\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\r\n                />\r\n              </svg>\r\n              <span>{contact.phone}</span>\r\n            </div>\r\n          )}\r\n          {contact.location && (\r\n            <div className=\"flex items-center text-sm text-gray-600\">\r\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\r\n                />\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                />\r\n              </svg>\r\n              <span>{contact.location}</span>\r\n            </div>\r\n          )}\r\n          {contact.linkedInUrl && (\r\n            <div className=\"flex items-center text-sm text-gray-600\">\r\n              <svg className=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z\" />\r\n              </svg>\r\n              <a\r\n                href={contact.linkedInUrl}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"hover:text-primary-600 truncate\"\r\n              >\r\n                LinkedIn Profile\r\n              </a>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Interaction Info */}\r\n        <div className=\"border-t pt-2 mt-2 text-xs text-gray-500 space-y-1\">\r\n          <div className=\"flex justify-between\">\r\n            <span>Last Contact:</span>\r\n            <span className=\"font-medium\">{formatDate(contact.lastContactDate)}</span>\r\n          </div>\r\n          {contact.nextFollowUpDate && (\r\n            <div className=\"flex justify-between\">\r\n              <span>Next Follow-up:</span>\r\n              <span\r\n                className={`font-medium ${isFollowUpOverdue() ? 'text-red-600' : 'text-gray-900'\r\n                  }`}\r\n              >\r\n                {formatDate(contact.nextFollowUpDate)}\r\n                {isFollowUpOverdue() && ' (Overdue)'}\r\n              </span>\r\n            </div>\r\n          )}\r\n          {contact.interactions && contact.interactions.length > 0 && (\r\n            <div className=\"flex justify-between\">\r\n              <span>Interactions:</span>\r\n              <span className=\"font-medium\">{contact.interactions.length}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mt-auto\">\r\n          {/* Toggle Details Button */}\r\n          {(contact.notes || contact.tags?.length > 0) && (\r\n            <button\r\n              onClick={() => setShowDetails(!showDetails)}\r\n              className=\"mt-3 text-sm text-primary-600 hover:text-primary-800 font-medium transition-shadow rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary-400\"\r\n              style={{ boxShadow: 'none' }}\r\n              onMouseOver={e => {\r\n                e.currentTarget.style.boxShadow = '0 2px 8px 0 rgba(0,0,0,0.10)';\r\n              }}\r\n              onMouseOut={e => {\r\n                e.currentTarget.style.boxShadow = 'none';\r\n              }}\r\n            >\r\n              {showDetails ? 'Hide Details' : 'Show Details'}\r\n            </button>\r\n          )}\r\n\r\n          {/* Request Referral Button */}\r\n          {onRequestReferral && contact.canProvideReferral && (\r\n            <button\r\n              onClick={() => onRequestReferral(contact)}\r\n              className=\"mt-3 w-full bg-purple-600 text-white text-sm font-medium py-2 px-4 rounded-lg hover:bg-purple-700 transition flex items-center justify-center gap-2\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n              </svg>\r\n              Request Referral\r\n            </button>\r\n          )}\r\n\r\n          {/* Custom Actions (for References tab, etc.) */}\r\n          {customActions && (\r\n            <div className=\"mt-3\">\r\n              {customActions}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Expandable Details */}\r\n        {showDetails && (\r\n          <div className=\"mt-2 pt-2 border-t space-y-2\">\r\n            {contact.notes && (\r\n              <div>\r\n                <p className=\"text-xs font-medium text-gray-700 mb-1\">Notes:</p>\r\n                <p className=\"text-sm text-gray-600\">{contact.notes}</p>\r\n              </div>\r\n            )}\r\n            {contact.tags && contact.tags.length > 0 && (\r\n              <div>\r\n                <p className=\"text-xs font-medium text-gray-700 mb-1\">Tags:</p>\r\n                <div className=\"flex flex-wrap gap-1\">\r\n                  {contact.tags.map((tag, index) => (\r\n                    <span\r\n                      key={index}\r\n                      className=\"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs\"\r\n                    >\r\n                      {tag}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ContactDiscoveryTab.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":490,"column":15,"nodeType":"JSXOpeningElement","endLine":490,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":501,"column":15,"nodeType":"JSXOpeningElement","endLine":501,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":515,"column":15,"nodeType":"JSXOpeningElement","endLine":515,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":531,"column":15,"nodeType":"JSXOpeningElement","endLine":531,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":545,"column":15,"nodeType":"JSXOpeningElement","endLine":545,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":559,"column":15,"nodeType":"JSXOpeningElement","endLine":559,"endColumn":79}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { Search, Filter, Users, Building2, MapPin, GraduationCap, Sparkles, \r\n         ExternalLink, UserPlus, ChevronDown, ChevronUp, Star, Briefcase,\r\n         Globe, Award, TrendingUp, RefreshCw, CheckCircle, X, BookOpen, Database, MessageCircle } from 'lucide-react';\r\nimport { discoverContacts, getDiscoveryFilters, getSuggestedContacts, createContact, trackDiscoveryAction } from '../../api/contactApi';\r\nimport { toast } from 'react-hot-toast';\r\nimport Button from '../Button';\r\nimport OutreachModal from './OutreachModal';\r\n\r\nconst ConnectionTypeBadge = ({ type }) => {\r\n  const colors = {\r\n    '2nd Degree': 'bg-blue-100 text-blue-700',\r\n    '3rd Degree': 'bg-gray-100 text-gray-700',\r\n    'Alumni': 'bg-purple-100 text-purple-700',\r\n    'Industry Leader': 'bg-yellow-100 text-yellow-700',\r\n    'Conference Speaker': 'bg-green-100 text-green-700',\r\n    'Company Employee': 'bg-indigo-100 text-indigo-700',\r\n    'Diversity Network': 'bg-pink-100 text-pink-700'\r\n  };\r\n\r\n  return (\r\n    <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${colors[type] || 'bg-gray-100 text-gray-700'}`}>\r\n      {type}\r\n    </span>\r\n  );\r\n};\r\n\r\nconst SourceBadge = ({ source }) => {\r\n  const sourceConfig = {\r\n    'OpenAlex': { color: 'bg-orange-100 text-orange-700', icon: BookOpen, label: 'OpenAlex' },\r\n    'Wikidata': { color: 'bg-blue-100 text-blue-700', icon: Database, label: 'Wikidata' },\r\n    'Wikipedia': { color: 'bg-gray-100 text-gray-700', icon: Globe, label: 'Wikipedia' }\r\n  };\r\n\r\n  const config = sourceConfig[source] || { color: 'bg-gray-100 text-gray-600', icon: Globe, label: source };\r\n  const Icon = config.icon;\r\n\r\n  return (\r\n    <span className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${config.color}`}>\r\n      <Icon size={10} />\r\n      {config.label}\r\n    </span>\r\n  );\r\n};\r\n\r\nconst DiscoveredContactCard = ({ contact, onAddToNetwork, onInitiateOutreach, isAdding }) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow flex flex-col h-full min-h-[320px]\">\r\n      {/* Header */}\r\n      <div className=\"flex items-start justify-between mb-3\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-semibold text-lg\">\r\n            {contact.firstName?.[0] || '?'}{contact.lastName?.[0] || ''}\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-semibold text-gray-900\">{contact.fullName}</h3>\r\n            <p className=\"text-sm text-gray-600\">{contact.jobTitle}</p>\r\n            {contact.isExternal && contact.sourceApi && (\r\n              <SourceBadge source={contact.sourceApi} />\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"text-right\">\r\n            <div className=\"flex items-center gap-1 text-sm\">\r\n              <TrendingUp size={14} className=\"text-green-500\" />\r\n              <span className=\"font-medium text-green-600\">{contact.matchScore}%</span>\r\n            </div>\r\n            <span className=\"text-xs text-gray-500\">Match</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Company and Location */}\r\n      <div className=\"flex flex-wrap items-center gap-3 mb-3 text-sm text-gray-600\">\r\n        <div className=\"flex items-center gap-1\">\r\n          <Building2 size={14} />\r\n          <span>{contact.company}</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1\">\r\n          <MapPin size={14} />\r\n          <span>{contact.location}</span>\r\n        </div>\r\n        {contact.yearsExperience && (\r\n          <div className=\"flex items-center gap-1\">\r\n            <Briefcase size={14} />\r\n            <span>{contact.yearsExperience} years</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Connection Type & Mutual Connections */}\r\n      <div className=\"flex items-center gap-2 mb-3\">\r\n        <ConnectionTypeBadge type={contact.connectionType} />\r\n        {contact.mutualConnectionCount > 0 && (\r\n          <span className=\"text-xs text-gray-500\">\r\n            {contact.mutualConnectionCount} mutual connection{contact.mutualConnectionCount > 1 ? 's' : ''}\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Interests */}\r\n      {contact.interests && contact.interests.length > 0 && (\r\n        <div className=\"flex flex-wrap gap-1 mb-3\">\r\n          {contact.interests.slice(0, 3).map((interest, idx) => (\r\n            <span key={idx} className=\"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs\">\r\n              {interest}\r\n            </span>\r\n          ))}\r\n          {contact.interests.length > 3 && (\r\n            <span className=\"px-2 py-0.5 text-gray-500 text-xs\">\r\n              +{contact.interests.length - 3} more\r\n            </span>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Outreach Suggestion */}\r\n      <div className=\"bg-blue-50 rounded-lg p-2 mb-3 flex-grow\">\r\n        <div className=\"flex items-start gap-2\">\r\n          <Sparkles size={14} className=\"text-blue-600 mt-0.5 flex-shrink-0\" />\r\n          <p className=\"text-xs text-blue-700\">{contact.suggestedOutreach}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Expandable Details */}\r\n      {expanded && (\r\n        <div className=\"border-t pt-3 mt-3 space-y-3\">\r\n          {/* Mutual Connections */}\r\n          {contact.mutualConnections && contact.mutualConnections.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-xs font-medium text-gray-700 mb-1\">Mutual Connections</h4>\r\n              <div className=\"flex flex-wrap gap-1\">\r\n                {contact.mutualConnections.map((conn, idx) => (\r\n                  <span key={idx} className=\"px-2 py-0.5 bg-blue-50 text-blue-700 rounded text-xs\">\r\n                    {conn}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* University */}\r\n          {contact.university && (\r\n            <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n              <GraduationCap size={14} />\r\n              <span>{contact.university}</span>\r\n            </div>\r\n          )}\r\n\r\n          {/* Diversity Groups */}\r\n          {contact.diversityGroups && contact.diversityGroups.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-xs font-medium text-gray-700 mb-1\">Professional Groups</h4>\r\n              <div className=\"flex flex-wrap gap-1\">\r\n                {contact.diversityGroups.map((group, idx) => (\r\n                  <span key={idx} className=\"px-2 py-0.5 bg-pink-50 text-pink-700 rounded text-xs\">\r\n                    {group}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Speaker Topics */}\r\n          {contact.speakerTopics && contact.speakerTopics.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-xs font-medium text-gray-700 mb-1\">Speaker Topics</h4>\r\n              <div className=\"flex flex-wrap gap-1\">\r\n                {contact.speakerTopics.map((topic, idx) => (\r\n                  <span key={idx} className=\"px-2 py-0.5 bg-green-50 text-green-700 rounded text-xs\">\r\n                    {topic}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Recent Activity */}\r\n          {contact.recentActivity && (\r\n            <div className=\"text-xs text-gray-500\">\r\n              <span className=\"font-medium\">Recent activity:</span> {contact.recentActivity}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Actions */}\r\n      <div className=\"flex items-center justify-between mt-auto pt-3 border-t\">\r\n        <button\r\n          onClick={() => setExpanded(!expanded)}\r\n          className=\"text-sm text-gray-600 hover:text-gray-900 flex items-center gap-1\"\r\n        >\r\n          {expanded ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\r\n          {expanded ? 'Less' : 'More'} details\r\n        </button>\r\n        <div className=\"flex items-center gap-2\">\r\n          {contact.linkedInUrl && (\r\n            <a\r\n              href={contact.linkedInUrl}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition\"\r\n              title=\"View LinkedIn Profile\"\r\n            >\r\n              <ExternalLink size={16} />\r\n            </a>\r\n          )}\r\n          <Button\r\n            onClick={() => onInitiateOutreach(contact)}\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"flex items-center gap-1 px-3 py-2 whitespace-nowrap\"\r\n            title=\"Initiate Outreach\"\r\n          >\r\n            <MessageCircle size={16} />\r\n            <span className=\"hidden sm:inline\">Outreach</span>\r\n          </Button>\r\n          <Button\r\n            onClick={() => onAddToNetwork(contact)}\r\n            disabled={isAdding}\r\n            size=\"sm\"\r\n            className=\"flex items-center gap-2 px-4 py-2 whitespace-nowrap\"\r\n          >\r\n            <UserPlus size={16} />\r\n            <span className=\"truncate\">Add</span>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function ContactDiscoveryTab({ onContactAdded }) {\r\n  const [contacts, setContacts] = useState([]);\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [filters, setFilters] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchLoading, setSearchLoading] = useState(false);\r\n  const [addingContact, setAddingContact] = useState(null);\r\n  const [successBanner, setSuccessBanner] = useState(null);\r\n  \r\n  // Outreach Modal state\r\n  const [showOutreachModal, setShowOutreachModal] = useState(false);\r\n  const [selectedContactForOutreach, setSelectedContactForOutreach] = useState(null);\r\n  \r\n  // Search and filter state\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedIndustry, setSelectedIndustry] = useState('');\r\n  const [selectedConnectionType, setSelectedConnectionType] = useState('');\r\n  const [selectedLocation, setSelectedLocation] = useState('');\r\n  const [selectedUniversity, setSelectedUniversity] = useState('');\r\n  const [selectedCompany, setSelectedCompany] = useState('');\r\n  const [selectedSource, setSelectedSource] = useState('all'); // 'all', 'mock', 'external'\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [externalSources, setExternalSources] = useState([]); // Track which external APIs returned data\r\n  \r\n  // Pagination\r\n  const [page, setPage] = useState(1);\r\n  const [pagination, setPagination] = useState(null);\r\n  \r\n  // View mode\r\n  const [viewMode, setViewMode] = useState('suggestions'); // 'suggestions' or 'search'\r\n\r\n  useEffect(() => {\r\n    loadInitialData();\r\n  }, []);\r\n\r\n  const loadInitialData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [filtersRes, suggestionsRes] = await Promise.all([\r\n        getDiscoveryFilters(),\r\n        getSuggestedContacts()\r\n      ]);\r\n      \r\n      setFilters(filtersRes.data?.data || null);\r\n      setSuggestions(suggestionsRes.data?.data || []);\r\n    } catch (error) {\r\n      console.error('Error loading discovery data:', error);\r\n      toast.error('Failed to load contact discovery');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = async (resetPage = true) => {\r\n    setSearchLoading(true);\r\n    setViewMode('search');\r\n    \r\n    const currentPage = resetPage ? 1 : page;\r\n    if (resetPage) setPage(1);\r\n\r\n    try {\r\n      const params = {\r\n        page: currentPage,\r\n        limit: 12,\r\n        source: selectedSource // Include source filter for API selection\r\n      };\r\n      \r\n      if (searchQuery) params.q = searchQuery;\r\n      if (selectedIndustry) params.industry = selectedIndustry;\r\n      if (selectedConnectionType) params.connectionType = selectedConnectionType;\r\n      if (selectedLocation) params.location = selectedLocation;\r\n      if (selectedUniversity) params.university = selectedUniversity;\r\n      if (selectedCompany) params.company = selectedCompany;\r\n\r\n      const response = await discoverContacts(params);\r\n      setContacts(response.data?.data || []);\r\n      setPagination(response.data?.pagination || null);\r\n      \r\n      // Track which external sources returned data\r\n      if (response.data?.externalSources) {\r\n        setExternalSources(response.data.externalSources);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error searching contacts:', error);\r\n      toast.error('Failed to search contacts');\r\n    } finally {\r\n      setSearchLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddToNetwork = async (contact) => {\r\n    setAddingContact(contact.id);\r\n    try {\r\n      // Prepare contact data for creation\r\n      const contactData = {\r\n        firstName: contact.firstName,\r\n        lastName: contact.lastName,\r\n        email: contact.email,\r\n        company: contact.company,\r\n        jobTitle: contact.jobTitle,\r\n        industry: contact.industry,\r\n        location: contact.location,\r\n        linkedInUrl: contact.linkedInUrl,\r\n        relationshipType: contact.connectionType === 'Alumni' ? 'Alumni' : \r\n                          contact.connectionType === 'Industry Leader' ? 'Industry Contact' : \r\n                          'Other',\r\n        relationshipStrength: 'New',\r\n        notes: `Discovered via ${contact.connectionType}. ${contact.suggestedOutreach}`,\r\n        professionalInterests: contact.interests?.join(', ') || '',\r\n        mutualConnections: contact.mutualConnections || [],\r\n        tags: [contact.connectionType, contact.industry, 'Discovered'].filter(Boolean)\r\n      };\r\n\r\n      await createContact(contactData);\r\n      \r\n      // Track the discovery action\r\n      await trackDiscoveryAction({\r\n        discoveredContactId: contact.id,\r\n        action: 'added_to_network',\r\n        notes: `Added ${contact.fullName} from ${contact.company}`\r\n      });\r\n\r\n      toast.success(`${contact.fullName} added to your network!`);\r\n      \r\n      // Show success banner\r\n      setSuccessBanner(contact.fullName);\r\n      setTimeout(() => setSuccessBanner(null), 5000);\r\n      \r\n      // Notify parent component\r\n      if (onContactAdded) {\r\n        onContactAdded();\r\n      }\r\n\r\n      // Remove from current list\r\n      setContacts(prev => prev.filter(c => c.id !== contact.id));\r\n      setSuggestions(prev => prev.filter(c => c.id !== contact.id));\r\n    } catch (error) {\r\n      console.error('Error adding contact:', error);\r\n      toast.error('Failed to add contact to network');\r\n    } finally {\r\n      setAddingContact(null);\r\n    }\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    setPage(prev => prev + 1);\r\n    handleSearch(false);\r\n  };\r\n\r\n  const handleInitiateOutreach = (contact) => {\r\n    setSelectedContactForOutreach(contact);\r\n    setShowOutreachModal(true);\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setSearchQuery('');\r\n    setSelectedIndustry('');\r\n    setSelectedConnectionType('');\r\n    setSelectedLocation('');\r\n    setSelectedUniversity('');\r\n    setSelectedCompany('');\r\n    setSelectedSource('all');\r\n    setExternalSources([]);\r\n    setViewMode('suggestions');\r\n    setContacts([]);\r\n    setPagination(null);\r\n  };\r\n\r\n  const displayedContacts = viewMode === 'suggestions' ? suggestions : contacts;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Success Banner */}\r\n      {successBanner && (\r\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between animate-fade-in\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\r\n              <CheckCircle size={20} className=\"text-green-600\" />\r\n            </div>\r\n            <p className=\"text-green-800 font-medium\">\r\n              {successBanner} has been added to your contacts!\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={() => setSuccessBanner(null)}\r\n            className=\"text-green-600 hover:text-green-800 p-1 hover:bg-green-100 rounded transition\"\r\n          >\r\n            <X size={18} />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Discover Contacts</h2>\r\n          <p className=\"text-gray-600 mt-1\">Find and connect with professionals in your target industry</p>\r\n        </div>\r\n        <button\r\n          onClick={loadInitialData}\r\n          className=\"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition\"\r\n        >\r\n          <RefreshCw size={18} />\r\n          Refresh\r\n        </button>\r\n      </div>\r\n\r\n      {/* Search Bar */}\r\n      <div className=\"bg-white rounded-xl border border-gray-200 p-4\">\r\n        <div className=\"flex flex-col md:flex-row gap-4\">\r\n          <div className=\"flex-1 relative\">\r\n            <Search size={20} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by name, company, role, or skills...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\r\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={() => setShowFilters(!showFilters)}\r\n              className={`flex items-center gap-2 px-4 py-2 border rounded-lg transition ${\r\n                showFilters ? 'bg-primary-50 border-primary-200 text-primary-700' : 'border-gray-300 text-gray-600 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              <Filter size={18} />\r\n              Filters\r\n              {(selectedIndustry || selectedConnectionType || selectedLocation || selectedUniversity || selectedCompany) && (\r\n                <span className=\"ml-1 w-5 h-5 bg-primary-600 text-white text-xs rounded-full flex items-center justify-center\">\r\n                  {[selectedIndustry, selectedConnectionType, selectedLocation, selectedUniversity, selectedCompany].filter(Boolean).length}\r\n                </span>\r\n              )}\r\n            </button>\r\n            <Button onClick={() => handleSearch()} disabled={searchLoading}>\r\n              {searchLoading ? 'Searching...' : 'Search'}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Expanded Filters */}\r\n        {showFilters && filters && (\r\n          <div className=\"mt-4 pt-4 border-t grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Company</label>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Type company name...\"\r\n                value={selectedCompany}\r\n                onChange={(e) => setSelectedCompany(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Industry</label>\r\n              <select\r\n                value={selectedIndustry}\r\n                onChange={(e) => setSelectedIndustry(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"\">All Industries</option>\r\n                {filters.industries?.map((industry) => (\r\n                  <option key={industry} value={industry}>{industry}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Connection Type</label>\r\n              <select\r\n                value={selectedConnectionType}\r\n                onChange={(e) => setSelectedConnectionType(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"\">All Types</option>\r\n                {filters.connectionTypes?.map((type) => (\r\n                  <option key={type.type || type} value={type.type || type}>\r\n                    {type.type || type}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Location</label>\r\n              <select\r\n                value={selectedLocation}\r\n                onChange={(e) => setSelectedLocation(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"\">All Locations</option>\r\n                {filters.locations?.map((location) => (\r\n                  <option key={location} value={location}>{location}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">University/Alumni</label>\r\n              <select\r\n                value={selectedUniversity}\r\n                onChange={(e) => setSelectedUniversity(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"\">All Universities</option>\r\n                {filters.universities?.map((uni) => (\r\n                  <option key={uni} value={uni}>{uni}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Data Source</label>\r\n              <select\r\n                value={selectedSource}\r\n                onChange={(e) => setSelectedSource(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"all\">All Sources</option>\r\n                <option value=\"mock\">Internal Network</option>\r\n                <option value=\"external\">External APIs (OpenAlex, Wikipedia)</option>\r\n              </select>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                External sources include real academics & industry leaders\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"md:col-span-2 lg:col-span-4 flex justify-between items-center\">\r\n              {externalSources.length > 0 && (\r\n                <div className=\"flex items-center gap-2 text-xs text-gray-600\">\r\n                  <span>Data from:</span>\r\n                  {externalSources.map(src => (\r\n                    <SourceBadge key={src} source={src} />\r\n                  ))}\r\n                </div>\r\n              )}\r\n              <button\r\n                onClick={clearFilters}\r\n                className=\"text-sm text-gray-600 hover:text-gray-900 ml-auto\"\r\n              >\r\n                Clear all filters\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* View Mode Tabs */}\r\n      <div className=\"flex items-center gap-4 border-b\">\r\n        <button\r\n          onClick={() => setViewMode('suggestions')}\r\n          className={`pb-2 px-1 text-sm font-medium border-b-2 transition ${\r\n            viewMode === 'suggestions'\r\n              ? 'border-primary-600 text-primary-600'\r\n              : 'border-transparent text-gray-600 hover:text-gray-900'\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center gap-2\">\r\n            <Sparkles size={16} />\r\n            Suggested for You\r\n            {suggestions.length > 0 && (\r\n              <span className=\"ml-1 px-2 py-0.5 bg-primary-100 text-primary-700 rounded-full text-xs\">\r\n                {suggestions.length}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </button>\r\n        <button\r\n          onClick={() => viewMode !== 'search' && handleSearch()}\r\n          className={`pb-2 px-1 text-sm font-medium border-b-2 transition ${\r\n            viewMode === 'search'\r\n              ? 'border-primary-600 text-primary-600'\r\n              : 'border-transparent text-gray-600 hover:text-gray-900'\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center gap-2\">\r\n            <Search size={16} />\r\n            Search Results\r\n            {pagination && (\r\n              <span className=\"ml-1 px-2 py-0.5 bg-gray-100 text-gray-700 rounded-full text-xs\">\r\n                {pagination.totalContacts}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Results */}\r\n      {searchLoading ? (\r\n        <div className=\"flex items-center justify-center py-12\">\r\n          <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-primary-600\"></div>\r\n        </div>\r\n      ) : displayedContacts.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-gray-50 rounded-xl\">\r\n          <Users size={48} className=\"mx-auto text-gray-400 mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n            {viewMode === 'suggestions' ? 'No Suggestions Yet' : 'No Results Found'}\r\n          </h3>\r\n          <p className=\"text-gray-600 mb-4\">\r\n            {viewMode === 'suggestions'\r\n              ? 'Add some job applications to get personalized contact suggestions'\r\n              : 'Try adjusting your search filters or keywords'}\r\n          </p>\r\n          {viewMode === 'search' && (\r\n            <Button onClick={clearFilters} variant=\"secondary\">\r\n              Clear Filters\r\n            </Button>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {displayedContacts.map((contact) => (\r\n              <DiscoveredContactCard\r\n                key={contact.id}\r\n                contact={contact}\r\n                onAddToNetwork={handleAddToNetwork}\r\n                onInitiateOutreach={handleInitiateOutreach}\r\n                isAdding={addingContact === contact.id}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Load More */}\r\n          {viewMode === 'search' && pagination?.hasMore && (\r\n            <div className=\"flex justify-center mt-6\">\r\n              <Button onClick={handleLoadMore} variant=\"secondary\">\r\n                Load More\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Tips Section */}\r\n      <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6\">\r\n        <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n          <Award size={20} className=\"text-purple-600\" />\r\n          Networking Tips\r\n        </h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-700\">\r\n          <div className=\"flex items-start gap-2\">\r\n            <div className=\"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium text-xs flex-shrink-0\">1</div>\r\n            <p>Start with 2nd-degree connections for warmer introductions</p>\r\n          </div>\r\n          <div className=\"flex items-start gap-2\">\r\n            <div className=\"w-6 h-6 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 font-medium text-xs flex-shrink-0\">2</div>\r\n            <p>Mention shared interests or experiences in your outreach</p>\r\n          </div>\r\n          <div className=\"flex items-start gap-2\">\r\n            <div className=\"w-6 h-6 rounded-full bg-pink-100 flex items-center justify-center text-pink-600 font-medium text-xs flex-shrink-0\">3</div>\r\n            <p>Follow up within 48 hours of making a new connection</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Outreach Modal */}\r\n      {showOutreachModal && selectedContactForOutreach && (\r\n        <OutreachModal\r\n          isOpen={showOutreachModal}\r\n          onClose={() => {\r\n            setShowOutreachModal(false);\r\n            setSelectedContactForOutreach(null);\r\n          }}\r\n          contact={selectedContactForOutreach}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ContactFormModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":182,"column":5,"nodeType":"JSXOpeningElement","endLine":186,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":182,"column":5,"nodeType":"JSXOpeningElement","endLine":186,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":187,"column":7,"nodeType":"JSXOpeningElement","endLine":187,"endColumn":135},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":187,"column":7,"nodeType":"JSXOpeningElement","endLine":187,"endColumn":135},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":220,"column":17,"nodeType":"JSXOpeningElement","endLine":220,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":233,"column":17,"nodeType":"JSXOpeningElement","endLine":233,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":245,"column":17,"nodeType":"JSXOpeningElement","endLine":245,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":257,"column":17,"nodeType":"JSXOpeningElement","endLine":257,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":267,"column":17,"nodeType":"JSXOpeningElement","endLine":267,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":277,"column":17,"nodeType":"JSXOpeningElement","endLine":277,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":287,"column":17,"nodeType":"JSXOpeningElement","endLine":287,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":297,"column":17,"nodeType":"JSXOpeningElement","endLine":297,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":307,"column":17,"nodeType":"JSXOpeningElement","endLine":307,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":325,"column":17,"nodeType":"JSXOpeningElement","endLine":325,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":335,"column":17,"nodeType":"JSXOpeningElement","endLine":335,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":345,"column":17,"nodeType":"JSXOpeningElement","endLine":345,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":355,"column":17,"nodeType":"JSXOpeningElement","endLine":355,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":365,"column":17,"nodeType":"JSXOpeningElement","endLine":365,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":376,"column":17,"nodeType":"JSXOpeningElement","endLine":376,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":396,"column":17,"nodeType":"JSXOpeningElement","endLine":396,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":416,"column":17,"nodeType":"JSXOpeningElement","endLine":416,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":463,"column":17,"nodeType":"JSXOpeningElement","endLine":463,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":474,"column":17,"nodeType":"JSXOpeningElement","endLine":474,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":487,"column":17,"nodeType":"JSXOpeningElement","endLine":487,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":500,"column":17,"nodeType":"JSXOpeningElement","endLine":500,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":513,"column":17,"nodeType":"JSXOpeningElement","endLine":513,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":531,"column":17,"nodeType":"JSXOpeningElement","endLine":531,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":573,"column":23,"nodeType":"JSXOpeningElement","endLine":573,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":583,"column":23,"nodeType":"JSXOpeningElement","endLine":583,"endColumn":87},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":601,"column":21,"nodeType":"JSXOpeningElement","endLine":601,"endColumn":85}],"suppressedMessages":[],"errorCount":26,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport api, { setAuthToken } from '../../api/axios';\r\nimport Button from '../Button';\r\n\r\nexport default function ContactFormModal({ contact, onClose, onSave }) {\r\n  const { getToken } = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showInteractionForm, setShowInteractionForm] = useState(false);\r\n\r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    middleName: '',\r\n    lastName: '',\r\n    phoneticFirstName: '',\r\n    phoneticMiddleName: '',\r\n    phoneticLastName: '',\r\n    prefix: '',\r\n    suffix: '',\r\n    nickname: '',\r\n    fileAs: '',\r\n    email: '',\r\n    emailLabel: '',\r\n    phone: '',\r\n    company: '',\r\n    jobTitle: '',\r\n    department: '',\r\n    industry: '',\r\n    relationshipType: 'Other',\r\n    relationshipStrength: 'New',\r\n    linkedInUrl: '',\r\n    location: '',\r\n    birthday: '',\r\n    notes: '',\r\n    photo: '',\r\n    personalInterests: '',\r\n    professionalInterests: '',\r\n    mutualConnections: '',\r\n    tags: '',\r\n    nextFollowUpDate: '',\r\n    reminderEnabled: false,\r\n    canProvideReferral: false,\r\n    isReference: false\r\n  });\r\n\r\n  const [newInteraction, setNewInteraction] = useState({\r\n    date: new Date().toISOString().split('T')[0],\r\n    type: 'Email',\r\n    notes: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (contact) {\r\n      setFormData({\r\n        firstName: contact.firstName || '',\r\n        middleName: contact.middleName || '',\r\n        lastName: contact.lastName || '',\r\n        phoneticFirstName: contact.phoneticFirstName || '',\r\n        phoneticMiddleName: contact.phoneticMiddleName || '',\r\n        phoneticLastName: contact.phoneticLastName || '',\r\n        prefix: contact.prefix || '',\r\n        suffix: contact.suffix || '',\r\n        nickname: contact.nickname || '',\r\n        fileAs: contact.fileAs || '',\r\n        email: contact.email || '',\r\n        emailLabel: contact.emailLabel || '',\r\n        phone: contact.phone || '',\r\n        company: contact.company || '',\r\n        jobTitle: contact.jobTitle || '',\r\n        department: contact.department || '',\r\n        industry: contact.industry || '',\r\n        relationshipType: contact.relationshipType || 'Other',\r\n        relationshipStrength: contact.relationshipStrength || 'New',\r\n        linkedInUrl: contact.linkedInUrl || '',\r\n        location: contact.location || '',\r\n        birthday: contact.birthday || '',\r\n        notes: contact.notes || '',\r\n        photo: contact.photo || '',\r\n        personalInterests: contact.personalInterests || '',\r\n        professionalInterests: contact.professionalInterests || '',\r\n        mutualConnections: contact.mutualConnections?.join(', ') || '',\r\n        tags: contact.tags?.join(', ') || '',\r\n        nextFollowUpDate: contact.nextFollowUpDate\r\n          ? new Date(contact.nextFollowUpDate).toISOString().split('T')[0]\r\n          : '',\r\n        reminderEnabled: contact.reminderEnabled || false,\r\n        canProvideReferral: contact.canProvideReferral || false,\r\n        isReference: contact.isReference || false\r\n      });\r\n    }\r\n  }, [contact]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const handleInteractionChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setNewInteraction((prev) => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      // Process arrays from comma-separated strings\r\n      const processedData = {\r\n        ...formData,\r\n        mutualConnections: formData.mutualConnections\r\n          ? formData.mutualConnections.split(',').map((s) => s.trim()).filter(Boolean)\r\n          : [],\r\n        tags: formData.tags\r\n          ? formData.tags.split(',').map((s) => s.trim()).filter(Boolean)\r\n          : [],\r\n        nextFollowUpDate: formData.nextFollowUpDate || undefined\r\n      };\r\n\r\n      if (contact) {\r\n        // Update existing contact\r\n        await api.put(`/api/contacts/${contact._id}`, processedData);\r\n      } else {\r\n        // Create new contact\r\n        await api.post('/api/contacts', processedData);\r\n      }\r\n\r\n      onSave();\r\n    } catch (err) {\r\n      console.error('Error saving contact:', err);\r\n      setError(err.response?.data?.message || 'Failed to save contact');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddInteraction = async () => {\r\n    if (!contact) {\r\n      alert('Please save the contact first before adding interactions');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      await api.post(`/api/contacts/${contact._id}/interactions`, newInteraction);\r\n\r\n      setNewInteraction({\r\n        date: new Date().toISOString().split('T')[0],\r\n        type: 'Email',\r\n        notes: ''\r\n      });\r\n      setShowInteractionForm(false);\r\n      onSave();\r\n    } catch (err) {\r\n      console.error('Error adding interaction:', err);\r\n      alert(err.response?.data?.message || 'Failed to add interaction');\r\n    }\r\n  };\r\n\r\n  // Handler for clicking the backdrop\r\n  const handleBackdropClick = (e) => {\r\n    // Only close if the click is directly on the backdrop, not on modal content\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">\r\n            {contact ? 'Edit Contact' : 'Add New Contact'}\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600\"\r\n            aria-label=\"Close modal\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M6 18L18 6M6 6l12 12\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"mx-6 mt-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n            <p className=\"text-red-800\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\r\n          {/* Basic Information */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Basic Information</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  First Name <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"firstName\"\r\n                  value={formData.firstName}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Middle Name\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"middleName\"\r\n                  value={formData.middleName}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Last Name\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lastName\"\r\n                  value={formData.lastName}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Prefix</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"prefix\"\r\n                  value={formData.prefix}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Suffix</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"suffix\"\r\n                  value={formData.suffix}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Nickname</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"nickname\"\r\n                  value={formData.nickname}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Phone</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  name=\"phone\"\r\n                  value={formData.phone}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Birthday</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"birthday\"\r\n                  value={formData.birthday}\r\n                  onChange={handleChange}\r\n                  placeholder=\"YYYY-MM-DD\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Professional Information */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Professional Information</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Company</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"company\"\r\n                  value={formData.company}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Job Title</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"jobTitle\"\r\n                  value={formData.jobTitle}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Department</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"department\"\r\n                  value={formData.department}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Industry</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"industry\"\r\n                  value={formData.industry}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Location</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"location\"\r\n                  value={formData.location}\r\n                  onChange={handleChange}\r\n                  placeholder=\"City, State/Country\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  LinkedIn URL\r\n                </label>\r\n                <input\r\n                  type=\"url\"\r\n                  name=\"linkedInUrl\"\r\n                  value={formData.linkedInUrl}\r\n                  onChange={handleChange}\r\n                  placeholder=\"https://linkedin.com/in/...\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Relationship Details */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Relationship Details</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Relationship Type\r\n                </label>\r\n                <select\r\n                  name=\"relationshipType\"\r\n                  value={formData.relationshipType}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"Mentor\">Mentor</option>\r\n                  <option value=\"Peer\">Peer</option>\r\n                  <option value=\"Recruiter\">Recruiter</option>\r\n                  <option value=\"Manager\">Manager</option>\r\n                  <option value=\"Colleague\">Colleague</option>\r\n                  <option value=\"Alumni\">Alumni</option>\r\n                  <option value=\"Industry Contact\">Industry Contact</option>\r\n                  <option value=\"Other\">Other</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Relationship Strength\r\n                </label>\r\n                <select\r\n                  name=\"relationshipStrength\"\r\n                  value={formData.relationshipStrength}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"Strong\">Strong</option>\r\n                  <option value=\"Medium\">Medium</option>\r\n                  <option value=\"Weak\">Weak</option>\r\n                  <option value=\"New\">New</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4 space-y-2\">\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"canProvideReferral\"\r\n                  checked={formData.canProvideReferral}\r\n                  onChange={handleChange}\r\n                  className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                />\r\n                <span className=\"ml-2 text-sm text-gray-700\">Can provide referrals</span>\r\n              </label>\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"isReference\"\r\n                  checked={formData.isReference}\r\n                  onChange={handleChange}\r\n                  className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                />\r\n                <span className=\"ml-2 text-sm text-gray-700\">\r\n                  Can serve as a professional reference\r\n                </span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Additional Information */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Additional Information</h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Notes</label>\r\n                <textarea\r\n                  name=\"notes\"\r\n                  value={formData.notes}\r\n                  onChange={handleChange}\r\n                  rows={3}\r\n                  placeholder=\"General notes about this contact...\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Professional Interests\r\n                </label>\r\n                <textarea\r\n                  name=\"professionalInterests\"\r\n                  value={formData.professionalInterests}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                  placeholder=\"Their professional interests and expertise...\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Personal Interests\r\n                </label>\r\n                <textarea\r\n                  name=\"personalInterests\"\r\n                  value={formData.personalInterests}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                  placeholder=\"Hobbies, interests for relationship building...\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Mutual Connections\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"mutualConnections\"\r\n                  value={formData.mutualConnections}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Comma-separated list of mutual connections\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Tags</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"tags\"\r\n                  value={formData.tags}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Comma-separated tags (e.g., tech, NYC, hiring)\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Follow-up Reminder */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Follow-up Reminder</h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Next Follow-up Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"nextFollowUpDate\"\r\n                  value={formData.nextFollowUpDate}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"reminderEnabled\"\r\n                  checked={formData.reminderEnabled}\r\n                  onChange={handleChange}\r\n                  className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                />\r\n                <span className=\"ml-2 text-sm text-gray-700\">Enable reminder notifications</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Interaction History (for existing contacts) */}\r\n          {contact && (\r\n            <div>\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Interaction History</h3>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowInteractionForm(!showInteractionForm)}\r\n                  className=\"text-sm text-primary-600 hover:text-primary-800 font-medium\"\r\n                >\r\n                  {showInteractionForm ? 'Cancel' : '+ Add Interaction'}\r\n                </button>\r\n              </div>\r\n\r\n              {showInteractionForm && (\r\n                <div className=\"mb-4 p-4 bg-gray-50 rounded-lg space-y-3\">\r\n                  <div className=\"grid grid-cols-2 gap-3\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        name=\"date\"\r\n                        value={newInteraction.date}\r\n                        onChange={handleInteractionChange}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Type</label>\r\n                      <select\r\n                        name=\"type\"\r\n                        value={newInteraction.type}\r\n                        onChange={handleInteractionChange}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                      >\r\n                        <option value=\"Email\">Email</option>\r\n                        <option value=\"Phone\">Phone</option>\r\n                        <option value=\"Meeting\">Meeting</option>\r\n                        <option value=\"LinkedIn\">LinkedIn</option>\r\n                        <option value=\"Coffee Chat\">Coffee Chat</option>\r\n                        <option value=\"Conference\">Conference</option>\r\n                        <option value=\"Other\">Other</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Notes</label>\r\n                    <textarea\r\n                      name=\"notes\"\r\n                      value={newInteraction.notes}\r\n                      onChange={handleInteractionChange}\r\n                      rows={2}\r\n                      placeholder=\"Brief notes about the interaction...\"\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                    />\r\n                  </div>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleAddInteraction}\r\n                    className=\"w-full px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700\"\r\n                  >\r\n                    Add Interaction\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {contact.interactions && contact.interactions.length > 0 && (\r\n                <div className=\"space-y-2 max-h-48 overflow-y-auto\">\r\n                  {[...contact.interactions]\r\n                    .sort((a, b) => new Date(b.date) - new Date(a.date))\r\n                    .map((interaction, index) => (\r\n                      <div key={index} className=\"p-3 bg-gray-50 rounded-lg text-sm\">\r\n                        <div className=\"flex justify-between items-start mb-1\">\r\n                          <span className=\"font-medium text-gray-900\">{interaction.type}</span>\r\n                          <span className=\"text-gray-500\">\r\n                            {new Date(interaction.date).toLocaleDateString()}\r\n                          </span>\r\n                        </div>\r\n                        {interaction.notes && (\r\n                          <p className=\"text-gray-600\">{interaction.notes}</p>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Form Actions */}\r\n          <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n            <Button type=\"button\" variant=\"secondary\" onClick={onClose} disabled={loading}>\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={loading} className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\">\r\n              {loading ? 'Saving...' : contact ? 'Update Contact' : 'Add Contact'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ContactImportModal.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'toast' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":6,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":15,"suggestions":[{"messageId":"removeVar","data":{"varName":"toast"},"fix":{"range":[249,289],"text":""},"desc":"Remove unused variable 'toast'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'file' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":10,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"file"},"fix":{"range":[462,466],"text":""},"desc":"Remove unused variable 'file'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":125,"column":13,"nodeType":"JSXOpeningElement","endLine":128,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":125,"column":13,"nodeType":"JSXOpeningElement","endLine":128,"endColumn":14},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":222,"column":9,"nodeType":"JSXOpeningElement","endLine":226,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":222,"column":9,"nodeType":"JSXOpeningElement","endLine":226,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":227,"column":13,"nodeType":"JSXOpeningElement","endLine":227,"endColumn":141},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":227,"column":13,"nodeType":"JSXOpeningElement","endLine":227,"endColumn":141}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef } from 'react';\r\nimport { Upload, FileText, AlertCircle, Check, X, Loader } from 'lucide-react';\r\nimport Papa from 'papaparse';\r\nimport Button from '../Button';\r\nimport { batchCreateContacts } from '../../api/contactApi';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nexport default function ContactImportModal({ onClose, onSuccess }) {\r\n    const [step, setStep] = useState('upload'); // upload, preview, importing, success\r\n    const [file, setFile] = useState(null);\r\n    const [parsedContacts, setParsedContacts] = useState([]);\r\n    const [importStats, setImportStats] = useState({ total: 0, success: 0, failed: 0 });\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const fileInputRef = useRef(null);\r\n\r\n    const handleBackdropClick = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    const handleFileChange = (e) => {\r\n        const selectedFile = e.target.files[0];\r\n        if (selectedFile) {\r\n            if (selectedFile.type !== 'text/csv' && !selectedFile.name.endsWith('.csv')) {\r\n                setError('Please upload a valid CSV file.');\r\n                return;\r\n            }\r\n            setFile(selectedFile);\r\n            setError(null);\r\n            parseCSV(selectedFile);\r\n        }\r\n    };\r\n\r\n    const parseCSV = (file) => {\r\n        setLoading(true);\r\n        Papa.parse(file, {\r\n            header: true,\r\n            skipEmptyLines: true,\r\n            complete: (results) => {\r\n                setLoading(false);\r\n                if (results.errors.length > 0) {\r\n                    console.warn('CSV parsing errors:', results.errors);\r\n                }\r\n\r\n                // Map CSV fields to our schema\r\n                // We'll try to be smart about common header names\r\n                const mappedContacts = results.data.map(row => mapRowToContact(row)).filter(c => c.firstName || c.lastName || c.email);\r\n\r\n                if (mappedContacts.length === 0) {\r\n                    setError('No valid contacts found in the CSV file. Please check the format.');\r\n                    setFile(null);\r\n                    return;\r\n                }\r\n\r\n                setParsedContacts(mappedContacts);\r\n                setStep('preview');\r\n            },\r\n            error: (err) => {\r\n                setLoading(false);\r\n                setError('Failed to parse CSV file: ' + err.message);\r\n                setFile(null);\r\n            }\r\n        });\r\n    };\r\n\r\n    const mapRowToContact = (row) => {\r\n        // Helper to find value case-insensitively\r\n        const findVal = (keys) => {\r\n            const key = Object.keys(row).find(k => keys.includes(k.toLowerCase().trim()));\r\n            return key ? row[key]?.trim() : '';\r\n        };\r\n\r\n        return {\r\n            firstName: findVal(['first name', 'firstname', 'given name', 'first']),\r\n            middleName: findVal(['middle name', 'middlename', 'additional name']),\r\n            lastName: findVal(['last name', 'lastname', 'family name', 'last']),\r\n            phoneticFirstName: findVal(['phonetic first name', 'phonetic given name']),\r\n            phoneticMiddleName: findVal(['phonetic middle name', 'phonetic additional name']),\r\n            phoneticLastName: findVal(['phonetic last name', 'phonetic family name']),\r\n            prefix: findVal(['name prefix', 'prefix']),\r\n            suffix: findVal(['name suffix', 'suffix']),\r\n            nickname: findVal(['nickname']),\r\n            fileAs: findVal(['file as']),\r\n            email: findVal(['e-mail 1 - value', 'email', 'e-mail', 'email address']),\r\n            emailLabel: findVal(['e-mail 1 - label', 'email label', 'label']),\r\n            phone: findVal(['phone', 'mobile', 'cell', 'phone number']),\r\n            company: findVal(['organization name', 'company', 'organization', 'business']),\r\n            department: findVal(['organization department', 'department']),\r\n            jobTitle: findVal(['organization title', 'job title', 'title', 'position', 'role']),\r\n            industry: findVal(['industry', 'sector']),\r\n            location: findVal(['location', 'city', 'address']),\r\n            birthday: findVal(['birthday']),\r\n            photo: findVal(['photo']),\r\n            linkedInUrl: findVal(['linkedin', 'linkedin url', 'linkedin profile']),\r\n            notes: findVal(['notes', 'description', 'comments']),\r\n            tags: findVal(['labels', 'tags']) ? findVal(['labels', 'tags']).split(' ::: ').join(', ') : '', // Handle Google Labels format if possible, or just comma\r\n            relationshipType: 'Other', // Default\r\n            relationshipStrength: 'New' // Default\r\n        };\r\n    };\r\n\r\n    const handleImport = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await batchCreateContacts(parsedContacts);\r\n            setImportStats({\r\n                total: parsedContacts.length,\r\n                success: response.data?.data?.length || parsedContacts.length, // Assuming all success if no error thrown for now\r\n                failed: 0\r\n            });\r\n            setStep('success');\r\n            if (onSuccess) onSuccess();\r\n        } catch (err) {\r\n            console.error('Import error:', err);\r\n            setError(err.response?.data?.message || 'Failed to import contacts');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderUploadStep = () => (\r\n        <div className=\"text-center py-8\">\r\n            <div\r\n                className=\"border-2 border-dashed border-gray-300 rounded-xl p-10 hover:border-primary-500 hover:bg-gray-50 transition cursor-pointer\"\r\n                onClick={() => fileInputRef.current?.click()}\r\n            >\r\n                <Upload size={48} className=\"mx-auto text-gray-400 mb-4\" />\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                    Upload CSV File\r\n                </h3>\r\n                <p className=\"text-gray-500 text-sm mb-6\">\r\n                    Drag and drop or click to select a file from Google Contacts, Outlook, etc.\r\n                </p>\r\n                <Button type=\"button\" variant=\"secondary\">\r\n                    Select File\r\n                </Button>\r\n                <input\r\n                    type=\"file\"\r\n                    ref={fileInputRef}\r\n                    onChange={handleFileChange}\r\n                    accept=\".csv\"\r\n                    className=\"hidden\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"mt-6 text-left bg-blue-50 p-4 rounded-lg border border-blue-100\">\r\n                <h4 className=\"text-sm font-semibold text-blue-800 mb-2 flex items-center gap-2\">\r\n                    <AlertCircle size={16} />\r\n                    Supported Columns\r\n                </h4>\r\n                <p className=\"text-xs text-blue-700\">\r\n                    First Name, Middle Name, Last Name, Email, Phone, Company, Job Title, Department, Industry, Location, Birthday, Notes, Labels\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderPreviewStep = () => (\r\n        <div className=\"space-y-4\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-lg font-medium text-gray-900\">\r\n                    Preview Contacts ({parsedContacts.length})\r\n                </h3>\r\n                <Button\r\n                    variant=\"secondary\"\r\n                    size=\"small\"\r\n                    onClick={() => {\r\n                        setFile(null);\r\n                        setParsedContacts([]);\r\n                        setStep('upload');\r\n                    }}\r\n                >\r\n                    Change File\r\n                </Button>\r\n            </div>\r\n\r\n            <div className=\"border rounded-lg overflow-hidden max-h-[400px] overflow-y-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-50 sticky top-0\">\r\n                        <tr>\r\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\r\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Email</th>\r\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Company</th>\r\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Title</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {parsedContacts.map((contact, idx) => (\r\n                            <tr key={idx} className=\"hover:bg-gray-50\">\r\n                                <td className=\"px-4 py-2 text-sm font-medium text-gray-900\">\r\n                                    {contact.firstName} {contact.lastName}\r\n                                </td>\r\n                                <td className=\"px-4 py-2 text-sm text-gray-500\">{contact.email}</td>\r\n                                <td className=\"px-4 py-2 text-sm text-gray-500\">{contact.company}</td>\r\n                                <td className=\"px-4 py-2 text-sm text-gray-500\">{contact.jobTitle}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderSuccessStep = () => (\r\n        <div className=\"text-center py-8\">\r\n            <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                <Check size={32} className=\"text-green-600\" />\r\n            </div>\r\n            <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Import Successful!</h3>\r\n            <p className=\"text-gray-600 mb-6\">\r\n                Successfully imported {importStats.success} contacts.\r\n            </p>\r\n            <Button onClick={onClose} className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\">\r\n                Done\r\n            </Button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n            onClick={handleBackdropClick}\r\n        >\r\n            <div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n                <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n                    <h2 className=\"text-2xl font-bold text-gray-900\">Import Contacts</h2>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600\"\r\n                        aria-label=\"Close modal\"\r\n                    >\r\n                        <X size={24} />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"p-6\">\r\n                    {error && (\r\n                        <div className=\"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start gap-2\">\r\n                            <AlertCircle size={20} className=\"mt-0.5 flex-shrink-0\" />\r\n                            <p>{error}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {step === 'upload' && renderUploadStep()}\r\n                    {step === 'preview' && renderPreviewStep()}\r\n                    {step === 'success' && renderSuccessStep()}\r\n                </div>\r\n\r\n                {step === 'preview' && (\r\n                    <div className=\"border-t bg-gray-50 px-6 py-4 flex justify-end gap-3\">\r\n                        <Button variant=\"secondary\" onClick={onClose} disabled={loading}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button\r\n                            onClick={handleImport}\r\n                            disabled={loading}\r\n                            isLoading={loading}\r\n                            className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\"\r\n                        >\r\n                            Import {parsedContacts.length} Contacts\r\n                        </Button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ContactStatsCards.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'onRefresh' is defined but never used.","line":4,"column":52,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":61,"suggestions":[{"messageId":"removeVar","data":{"varName":"onRefresh"},"fix":{"range":[108,119],"text":""},"desc":"Remove unused variable 'onRefresh'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Card from '../Card';\r\n\r\nexport default function ContactStatsCards({ stats, onRefresh }) {\r\n  if (!stats) return null;\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n      <Card className=\"bg-blue-50\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-3xl font-bold text-blue-600\">{stats.total}</p>\r\n          <p className=\"text-sm text-gray-600\">Total Contacts</p>\r\n        </div>\r\n      </Card>\r\n      <Card className=\"bg-green-50\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-3xl font-bold text-green-600\">{stats.recentInteractions}</p>\r\n          <p className=\"text-sm text-gray-600\">Recent Interactions</p>\r\n        </div>\r\n      </Card>\r\n      <Card className=\"bg-purple-50\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-3xl font-bold text-purple-600\">{stats.withUpcomingFollowUps}</p>\r\n          <p className=\"text-sm text-gray-600\">Upcoming Follow-ups</p>\r\n        </div>\r\n      </Card>\r\n      <Card className=\"bg-orange-50\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-3xl font-bold text-orange-600\">{stats.byRelationshipStrength?.Strong || 0}</p>\r\n          <p className=\"text-sm text-gray-600\">Strong Connections</p>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\CreateReminderModal.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadContacts'. Either include it or remove the dependency array.","line":27,"column":6,"nodeType":"ArrayExpression","endLine":27,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [loadContacts]","fix":{"range":[897,899],"text":"[loadContacts]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadTemplates'. Either include it or remove the dependency array.","line":33,"column":6,"nodeType":"ArrayExpression","endLine":33,"endColumn":49,"suggestions":[{"desc":"Update the dependencies array to be: [formData.reminderType, formData.contactId, loadTemplates]","fix":{"range":[996,1039],"text":"[formData.reminderType, formData.contactId, loadTemplates]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":103,"column":5,"nodeType":"JSXOpeningElement","endLine":107,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":103,"column":5,"nodeType":"JSXOpeningElement","endLine":107,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":108,"column":7,"nodeType":"JSXOpeningElement","endLine":108,"endColumn":127},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":108,"column":7,"nodeType":"JSXOpeningElement","endLine":108,"endColumn":127},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":123,"column":15,"nodeType":"JSXOpeningElement","endLine":123,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":145,"column":15,"nodeType":"JSXOpeningElement","endLine":145,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":171,"column":17,"nodeType":"JSXOpeningElement","endLine":171,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":184,"column":17,"nodeType":"JSXOpeningElement","endLine":184,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":203,"column":15,"nodeType":"JSXOpeningElement","endLine":203,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":219,"column":15,"nodeType":"JSXOpeningElement","endLine":219,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":234,"column":15,"nodeType":"JSXOpeningElement","endLine":234,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":239,"column":19,"nodeType":"JSXOpeningElement","endLine":239,"endColumn":71},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":281,"column":17,"nodeType":"JSXOpeningElement","endLine":281,"endColumn":81}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport axios from 'axios';\r\nimport Button from '../Button';\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport default function CreateReminderModal({ onClose, onSuccess, contactId = null }) {\r\n  const { getToken } = useAuth();\r\n  const [contacts, setContacts] = useState([]);\r\n  const [templates, setTemplates] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    contactId: contactId || '',\r\n    reminderType: 'General Check-in',\r\n    reminderDate: new Date().toISOString().split('T')[0],\r\n    priority: 'Medium',\r\n    title: '',\r\n    description: '',\r\n    suggestedMessage: '',\r\n    isRecurring: false,\r\n    recurrencePattern: 'Weekly'\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadContacts();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (formData.reminderType) {\r\n      loadTemplates();\r\n    }\r\n  }, [formData.reminderType, formData.contactId]);\r\n\r\n  const loadContacts = async () => {\r\n    try {\r\n      const token = await getToken();\r\n      const response = await axios.get(`${API_BASE_URL}/api/contacts`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      // API returns { success, count, data } structure\r\n      const contactsData = response.data.data || response.data;\r\n      setContacts(Array.isArray(contactsData) ? contactsData : []);\r\n    } catch (error) {\r\n      console.error('Error loading contacts:', error);\r\n      setContacts([]);\r\n    }\r\n  };\r\n\r\n  const loadTemplates = async () => {\r\n    try {\r\n      const token = await getToken();\r\n      const params = { reminderType: formData.reminderType };\r\n      if (formData.contactId) params.contactId = formData.contactId;\r\n      \r\n      const response = await axios.get(\r\n        `${API_BASE_URL}/api/relationship-maintenance/reminders/templates`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n          params\r\n        }\r\n      );\r\n      setTemplates(response.data.templates || []);\r\n    } catch (error) {\r\n      console.error('Error loading templates:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      await axios.post(\r\n        `${API_BASE_URL}/api/relationship-maintenance/reminders`,\r\n        formData,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      onSuccess();\r\n    } catch (error) {\r\n      console.error('Error creating reminder:', error);\r\n      alert('Failed to create reminder');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Close when clicking backdrop (but not when clicking inside modal)\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) onClose();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"p-6\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Create Reminder</h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600 text-2xl\"\r\n            >\r\n              ├ù\r\n            </button>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            {/* Contact Selection */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Contact *\r\n              </label>\r\n              <select\r\n                name=\"contactId\"\r\n                value={formData.contactId}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n              >\r\n                <option value=\"\">Select a contact</option>\r\n                {contacts.map(contact => (\r\n                  <option key={contact._id} value={contact._id}>\r\n                    {contact.firstName} {contact.lastName}\r\n                    {contact.company && ` - ${contact.company}`}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Reminder Type */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Reminder Type *\r\n              </label>\r\n              <select\r\n                name=\"reminderType\"\r\n                value={formData.reminderType}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n              >\r\n                <option value=\"General Check-in\">General Check-in</option>\r\n                <option value=\"Birthday\">Birthday</option>\r\n                <option value=\"Work Anniversary\">Work Anniversary</option>\r\n                <option value=\"Industry News Share\">Industry News Share</option>\r\n                <option value=\"Congratulations\">Congratulations</option>\r\n                <option value=\"Thank You\">Thank You</option>\r\n                <option value=\"Follow-up\">Follow-up</option>\r\n                <option value=\"Coffee Chat\">Coffee Chat</option>\r\n                <option value=\"Relationship Maintenance\">Relationship Maintenance</option>\r\n                <option value=\"Custom\">Custom</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Date and Priority */}\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Reminder Date *\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"reminderDate\"\r\n                  value={formData.reminderDate}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Priority *\r\n                </label>\r\n                <select\r\n                  name=\"priority\"\r\n                  value={formData.priority}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                >\r\n                  <option value=\"High\">High</option>\r\n                  <option value=\"Medium\">Medium</option>\r\n                  <option value=\"Low\">Low</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Title */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Title *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"title\"\r\n                value={formData.title}\r\n                onChange={handleChange}\r\n                required\r\n                placeholder=\"e.g., Check in with John\"\r\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n              />\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Description\r\n              </label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={formData.description}\r\n                onChange={handleChange}\r\n                rows={3}\r\n                placeholder=\"Add any context or notes...\"\r\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n              />\r\n            </div>\r\n\r\n            {/* Suggested Message */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Suggested Message\r\n              </label>\r\n              {templates.length > 0 && (\r\n                <div className=\"mb-2\">\r\n                  <label className=\"block text-xs text-gray-600 mb-1\">Use a template:</label>\r\n                  <select\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, suggestedMessage: e.target.value }))}\r\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-black\"\r\n                  >\r\n                    <option value=\"\">Select a template...</option>\r\n                    {templates.map((template, index) => (\r\n                      <option key={index} value={template}>\r\n                        {template.substring(0, 60)}...\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n              <textarea\r\n                name=\"suggestedMessage\"\r\n                value={formData.suggestedMessage}\r\n                onChange={handleChange}\r\n                rows={4}\r\n                placeholder=\"Add a suggested outreach message...\"\r\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n              />\r\n            </div>\r\n\r\n            {/* Recurring Options */}\r\n            <div>\r\n              <label className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"isRecurring\"\r\n                  checked={formData.isRecurring}\r\n                  onChange={handleChange}\r\n                  className=\"rounded\"\r\n                />\r\n                <span className=\"text-sm font-medium text-gray-700\">\r\n                  Make this a recurring reminder\r\n                </span>\r\n              </label>\r\n            </div>\r\n\r\n            {formData.isRecurring && (\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Recurrence Pattern\r\n                </label>\r\n                <select\r\n                  name=\"recurrencePattern\"\r\n                  value={formData.recurrencePattern}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                >\r\n                  <option value=\"Weekly\">Weekly</option>\r\n                  <option value=\"Biweekly\">Biweekly</option>\r\n                  <option value=\"Monthly\">Monthly</option>\r\n                  <option value=\"Quarterly\">Quarterly</option>\r\n                  <option value=\"Yearly\">Yearly</option>\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n              <Button type=\"button\" variant=\"secondary\" onClick={onClose} disabled={loading}>\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" disabled={loading} className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\">\r\n                {loading ? 'Creating...' : 'Create Reminder'}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\DeleteContactModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\EventDiscoveryModal.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'selectedEvent' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":31,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":31,"endColumn":23,"suggestions":[{"messageId":"removeVar","data":{"varName":"selectedEvent"},"fix":{"range":[1100,1113],"text":""},"desc":"Remove unused variable 'selectedEvent'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'setSelectedEvent' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":31,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":31,"endColumn":41,"suggestions":[{"messageId":"removeVar","data":{"varName":"setSelectedEvent"},"fix":{"range":[1113,1131],"text":""},"desc":"Remove unused variable 'setSelectedEvent'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleSearch'. Either include it or remove the dependency array.","line":37,"column":6,"nodeType":"ArrayExpression","endLine":37,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [handleSearch]","fix":{"range":[1255,1257],"text":"[handleSearch]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":124,"column":5,"nodeType":"JSXOpeningElement","endLine":128,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":124,"column":5,"nodeType":"JSXOpeningElement","endLine":128,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":129,"column":7,"nodeType":"JSXOpeningElement","endLine":129,"endColumn":135},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":129,"column":7,"nodeType":"JSXOpeningElement","endLine":129,"endColumn":135},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":148,"column":17,"nodeType":"JSXOpeningElement","endLine":148,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":163,"column":17,"nodeType":"JSXOpeningElement","endLine":163,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":178,"column":17,"nodeType":"JSXOpeningElement","endLine":178,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":197,"column":17,"nodeType":"JSXOpeningElement","endLine":197,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":211,"column":17,"nodeType":"JSXOpeningElement","endLine":211,"endColumn":81}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { X, Search, MapPin, Calendar, ExternalLink, Globe, Loader } from 'lucide-react';\r\nimport { discoverEvents, getEventCategories } from '../../api/networkingEventApi';\r\nimport { toast } from 'react-hot-toast';\r\nimport Button from '../Button';\r\n\r\nexport default function EventDiscoveryModal({ onClose, onImport }) {\r\n  // Close modal when clicking on backdrop (but not when clicking modal content)\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n  const [searchParams, setSearchParams] = useState({\r\n    location: '',\r\n    q: 'networking',\r\n    categories: '',\r\n    startDate: new Date().toISOString().split('T')[0],\r\n    endDate: ''\r\n  });\r\n  const [events, setEvents] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searching, setSearching] = useState(false);\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    totalPages: 1,\r\n    totalEvents: 0,\r\n    hasMore: false\r\n  });\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n    // Perform initial search\r\n    handleSearch();\r\n  }, []);\r\n\r\n  const loadCategories = async () => {\r\n    try {\r\n      const response = await getEventCategories();\r\n      setCategories(response.data || []);\r\n    } catch (error) {\r\n      console.error('Error loading categories:', error);\r\n    }\r\n  };\r\n\r\n  const handleSearch = async (page = 1) => {\r\n    setSearching(true);\r\n    try {\r\n      const response = await discoverEvents({\r\n        ...searchParams,\r\n        page\r\n      });\r\n\r\n      setEvents(response.data || []);\r\n      setPagination(response.pagination || {\r\n        page: 1,\r\n        totalPages: 1,\r\n        totalEvents: 0,\r\n        hasMore: false\r\n      });\r\n    } catch (error) {\r\n      console.error('Error searching events:', error);\r\n      toast.error(error.message || 'Failed to search events. Please check your API key.');\r\n      setEvents([]);\r\n    } finally {\r\n      setSearching(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setSearchParams(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleImport = async (event) => {\r\n    setLoading(true);\r\n    try {\r\n      // Prepare event data for import\r\n      const importData = {\r\n        name: event.name,\r\n        description: event.description,\r\n        eventDate: event.eventDate,\r\n        endDate: event.endDate,\r\n        location: event.location,\r\n        eventType: event.eventType,\r\n        isVirtual: event.isVirtual,\r\n        virtualLink: event.virtualLink,\r\n        industry: event.industry,\r\n        organizer: event.organizer,\r\n        website: event.website,\r\n        cost: event.cost,\r\n        tags: event.tags || [],\r\n        attendanceStatus: 'Planning to Attend'\r\n      };\r\n\r\n      await onImport(importData);\r\n      toast.success('Event imported successfully!');\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Error importing event:', error);\r\n      toast.error('Failed to import event');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '';\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric',\r\n      hour: 'numeric',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Discover Networking Events</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600\"\r\n            aria-label=\"Close modal\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {/* Search Form */}\r\n          <div className=\"bg-gray-50 p-4 rounded-xl mb-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  <MapPin size={16} className=\"inline mr-1\" />\r\n                  Location\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"location\"\r\n                  value={searchParams.location}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"City, State or 'online'\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  <Search size={16} className=\"inline mr-1\" />\r\n                  Keywords\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"q\"\r\n                  value={searchParams.q}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"networking, tech, business...\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Category\r\n                </label>\r\n                <select\r\n                  name=\"categories\"\r\n                  value={searchParams.categories}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"\">All Categories</option>\r\n                  {categories.map(cat => (\r\n                    <option key={cat.id} value={cat.id}>\r\n                      {cat.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  <Calendar size={16} className=\"inline mr-1\" />\r\n                  Start Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"startDate\"\r\n                  value={searchParams.startDate}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  End Date (Optional)\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"endDate\"\r\n                  value={searchParams.endDate}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-end\">\r\n                <Button\r\n                  onClick={() => handleSearch(1)}\r\n                  disabled={searching}\r\n                  className=\"w-full bg-[#777C6D] hover:bg-[#656A5C] text-white\"\r\n                >\r\n                  {searching ? (\r\n                    <>\r\n                      <Loader size={16} className=\"animate-spin mr-2\" />\r\n                      Searching...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Search size={16} className=\"mr-2\" />\r\n                      Search Events\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {pagination.totalEvents > 0 && (\r\n              <div className=\"text-sm text-gray-600\">\r\n                Found {pagination.totalEvents} events\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Results */}\r\n          {searching ? (\r\n            <div className=\"flex justify-center items-center py-12\">\r\n              <Loader size={48} className=\"animate-spin text-blue-600\" />\r\n            </div>\r\n          ) : events.length === 0 ? (\r\n            <div className=\"text-center py-12 bg-gray-50 rounded-xl\">\r\n              <Search size={48} className=\"mx-auto text-gray-400 mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Events Found</h3>\r\n              <p className=\"text-gray-600\">\r\n                Try adjusting your search criteria or location\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {events.map((event, index) => (\r\n                <div\r\n                  key={index}\r\n                  className=\"border border-gray-200 rounded-xl p-4 hover:shadow-lg transition\"\r\n                >\r\n                  <div className=\"flex gap-4\">\r\n                    {event.imageUrl && (\r\n                      <img\r\n                        src={event.imageUrl}\r\n                        alt={event.name}\r\n                        className=\"w-32 h-32 object-cover rounded-lg flex-shrink-0\"\r\n                      />\r\n                    )}\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex justify-between items-start mb-2\">\r\n                        <div>\r\n                          <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">\r\n                            {event.name}\r\n                          </h3>\r\n                          {event.organizer && (\r\n                            <p className=\"text-sm text-gray-600 mb-1\">\r\n                              by {event.organizer}\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex gap-2\">\r\n                          {event.website && (\r\n                            <a\r\n                              href={event.website}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                              className=\"p-2 hover:bg-gray-100 rounded-lg transition\"\r\n                              title=\"View on Eventbrite\"\r\n                            >\r\n                              <ExternalLink size={18} />\r\n                            </a>\r\n                          )}\r\n                          <Button\r\n                            onClick={() => handleImport(event)}\r\n                            disabled={loading}\r\n                            size=\"small\"\r\n                            className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\"\r\n                          >\r\n                            Import\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"flex flex-wrap gap-2 mb-2\">\r\n                        <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium\">\r\n                          {event.eventType}\r\n                        </span>\r\n                        {event.isVirtual && (\r\n                          <span className=\"px-2 py-1 bg-indigo-100 text-indigo-800 rounded-full text-xs font-medium flex items-center gap-1\">\r\n                            <Globe size={12} />\r\n                            Virtual\r\n                          </span>\r\n                        )}\r\n                        {event.cost === 0 && (\r\n                          <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium\">\r\n                            Free\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center gap-4 text-sm text-gray-600 mb-2\">\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <Calendar size={14} />\r\n                          <span>{formatDate(event.eventDate)}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <MapPin size={14} />\r\n                          <span>{event.location}</span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {event.description && (\r\n                        <p className=\"text-sm text-gray-600 line-clamp-2\">\r\n                          {event.description}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {/* Pagination */}\r\n              {pagination.totalPages > 1 && (\r\n                <div className=\"flex justify-center gap-2 mt-6\">\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    onClick={() => handleSearch(pagination.page - 1)}\r\n                    disabled={pagination.page === 1 || searching}\r\n                  >\r\n                    Previous\r\n                  </Button>\r\n                  <span className=\"px-4 py-2 text-gray-700\">\r\n                    Page {pagination.page} of {pagination.totalPages}\r\n                  </span>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    onClick={() => handleSearch(pagination.page + 1)}\r\n                    disabled={!pagination.hasMore || searching}\r\n                  >\r\n                    Next\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\InformationalInterviewsTab.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'getToken'. Either include it or remove the dependency array.","line":64,"column":6,"nodeType":"ArrayExpression","endLine":64,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [getToken]","fix":{"range":[2599,2601],"text":"[getToken]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport {\r\n  getInformationalInterviews,\r\n  deleteInformationalInterview,\r\n  getInformationalInterviewAnalytics\r\n} from '../../api/informationalInterviews';\r\nimport { setAuthToken } from '../../api/axios';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\nimport Card from '../Card';\r\nimport RequestInterviewModal from '../RequestInterviewModal';\r\nimport InterviewPreparationView from '../InterviewPreparationView';\r\nimport OutcomeModal from '../OutcomeModal';\r\nimport InformationalInterviewCard from '../InformationalInterviewCard';\r\nimport CandidateSuggestionModal from '../CandidateSuggestionModal';\r\nimport InsightsPanel from '../InsightsPanel';\r\n\r\nconst STATUS_COLUMNS = [\r\n  { key: 'Identified', label: 'Identified', color: 'bg-gray-100' },\r\n  { key: 'Outreach Sent', label: 'Outreach Sent', color: 'bg-blue-100' },\r\n  { key: 'Scheduled', label: 'Scheduled', color: 'bg-yellow-100' },\r\n  { key: 'Completed', label: 'Completed', color: 'bg-green-100' }\r\n];\r\n\r\nexport default function InformationalInterviewsTab() {\r\n  const { getToken } = useAuth();\r\n  const [interviews, setInterviews] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [analytics, setAnalytics] = useState(null);\r\n  const [viewMode, setViewMode] = useState('kanban'); // 'kanban' or 'list'\r\n  \r\n  // Modal states\r\n  const [showRequestModal, setShowRequestModal] = useState(false);\r\n  const [showPreparationView, setShowPreparationView] = useState(false);\r\n  const [showOutcomeModal, setShowOutcomeModal] = useState(false);\r\n  const [showSuggestionModal, setShowSuggestionModal] = useState(false);\r\n  const [showInsightsPanel, setShowInsightsPanel] = useState(false);\r\n  const [selectedInterview, setSelectedInterview] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const token = await getToken();\r\n        setAuthToken(token);\r\n        \r\n        const [interviewsRes, analyticsRes] = await Promise.all([\r\n          getInformationalInterviews({ archived: false }),\r\n          getInformationalInterviewAnalytics()\r\n        ]);\r\n        \r\n        setInterviews(interviewsRes.data.data.interviews || []);\r\n        setAnalytics(analyticsRes.data.data.analytics);\r\n      } catch (err) {\r\n        console.error('Failed to load data:', err);\r\n        setError('Failed to load informational interviews');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, []);\r\n\r\n  const refreshData = async () => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      \r\n      const [interviewsRes, analyticsRes] = await Promise.all([\r\n        getInformationalInterviews({ archived: false }),\r\n        getInformationalInterviewAnalytics()\r\n      ]);\r\n      \r\n      setInterviews(interviewsRes.data.data.interviews || []);\r\n      setAnalytics(analyticsRes.data.data.analytics);\r\n    } catch (err) {\r\n      console.error('Failed to refresh data:', err);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this informational interview?')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n      await deleteInformationalInterview(id);\r\n      await refreshData();\r\n    } catch (err) {\r\n      console.error('Failed to delete interview:', err);\r\n      alert('Failed to delete interview');\r\n    }\r\n  };\r\n\r\n  const handlePrepare = (interview) => {\r\n    setSelectedInterview(interview);\r\n    setShowPreparationView(true);\r\n  };\r\n\r\n  const handleRecordOutcome = (interview) => {\r\n    setSelectedInterview(interview);\r\n    setShowOutcomeModal(true);\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setShowRequestModal(false);\r\n    setShowPreparationView(false);\r\n    setShowOutcomeModal(false);\r\n    setShowSuggestionModal(false);\r\n    setShowInsightsPanel(false);\r\n    setSelectedInterview(null);\r\n    refreshData();\r\n  };\r\n\r\n  const getInterviewsByStatus = (status) => {\r\n    return interviews.filter(i => i.status === status);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <LoadingSpinner text=\"Loading informational interviews...\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-6\">\r\n      {/* Header with Action Buttons */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4 mb-4\">\r\n          <div>\r\n            <h2 className=\"text-xl font-semibold\" style={{ color: '#4F5348' }}>\r\n              Informational Interviews\r\n            </h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">\r\n              Build relationships and gain industry insights\r\n            </p>\r\n          </div>\r\n          <div className=\"flex flex-col sm:flex-row gap-2\">\r\n            <button\r\n              onClick={() => setShowSuggestionModal(true)}\r\n              className=\"px-4 py-2 bg-[#777C6D] hover:bg-[#656A5C] text-white rounded-lg transition shadow-md font-medium text-sm\"\r\n            >\r\n              ≡ƒöì Find Candidates\r\n            </button>\r\n            <button\r\n              onClick={() => setShowInsightsPanel(true)}\r\n              className=\"px-4 py-2 bg-[#777C6D] hover:bg-[#656A5C] text-white rounded-lg transition shadow-md font-medium text-sm\"\r\n            >\r\n              ≡ƒÆí View Insights\r\n            </button>\r\n            <button\r\n              onClick={() => setShowRequestModal(true)}\r\n              className=\"px-4 py-2 bg-[#777C6D] hover:bg-[#656A5C] text-white rounded-lg transition shadow-md font-medium text-sm\"\r\n            >\r\n              + Request Interview\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Analytics Cards */}\r\n        {analytics && (\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n            <Card variant=\"elevated\" className=\"text-center\">\r\n              <div className=\"text-3xl font-bold\" style={{ color: '#4F5348' }}>{analytics.total}</div>\r\n              <div className=\"text-sm text-gray-600 mt-1\">Total Interviews</div>\r\n            </Card>\r\n            <Card variant=\"elevated\" className=\"text-center\">\r\n              <div className=\"text-3xl font-bold text-green-600\">{analytics.completed}</div>\r\n              <div className=\"text-sm text-gray-600 mt-1\">Completed</div>\r\n            </Card>\r\n            <Card variant=\"elevated\" className=\"text-center\">\r\n              <div className=\"text-3xl font-bold\" style={{ color: '#656A5C' }}>{analytics.referralsObtained}</div>\r\n              <div className=\"text-sm text-gray-600 mt-1\">Referrals</div>\r\n            </Card>\r\n            <Card variant=\"elevated\" className=\"text-center\">\r\n              <div className=\"text-3xl font-bold\" style={{ color: '#777C6D' }}>\r\n                {analytics.averageImpactScore.toFixed(1)}\r\n              </div>\r\n              <div className=\"text-sm text-gray-600 mt-1\">Avg Impact</div>\r\n            </Card>\r\n          </div>\r\n        )}\r\n\r\n        {/* View Toggle */}\r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            onClick={() => setViewMode('kanban')}\r\n            className={`px-4 py-2 rounded-lg transition ${\r\n              viewMode === 'kanban'\r\n                ? 'bg-[#777C6D] text-white'\r\n                : 'bg-white text-gray-700 hover:bg-gray-50'\r\n            }`}\r\n          >\r\n            ≡ƒôè Kanban View\r\n          </button>\r\n          <button\r\n            onClick={() => setViewMode('list')}\r\n            className={`px-4 py-2 rounded-lg transition ${\r\n              viewMode === 'list'\r\n                ? 'bg-[#777C6D] text-white'\r\n                : 'bg-white text-gray-700 hover:bg-gray-50'\r\n            }`}\r\n          >\r\n            ≡ƒôï List View\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\r\n          <p className=\"text-red-800\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Kanban View */}\r\n      {viewMode === 'kanban' && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          {STATUS_COLUMNS.map(column => (\r\n            <div key={column.key} className=\"flex flex-col\">\r\n              <div className={`${column.color} rounded-t-lg px-4 py-3`}>\r\n                <h3 className=\"font-semibold text-gray-800\">\r\n                  {column.label}\r\n                  <span className=\"ml-2 text-sm text-gray-600\">\r\n                    ({getInterviewsByStatus(column.key).length})\r\n                  </span>\r\n                </h3>\r\n              </div>\r\n              <div className=\"bg-gray-50 rounded-b-lg p-2 space-y-2 min-h-[200px]\">\r\n                {getInterviewsByStatus(column.key).map(interview => (\r\n                  <InformationalInterviewCard\r\n                    key={interview._id}\r\n                    interview={interview}\r\n                    onDelete={handleDelete}\r\n                    onPrepare={handlePrepare}\r\n                    onRecordOutcome={handleRecordOutcome}\r\n                    onRefresh={refreshData}\r\n                  />\r\n                ))}\r\n                {getInterviewsByStatus(column.key).length === 0 && (\r\n                  <p className=\"text-sm text-gray-500 text-center py-8\">No interviews</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* List View */}\r\n      {viewMode === 'list' && (\r\n        <div className=\"space-y-3\">\r\n          {interviews.length === 0 ? (\r\n            <Card variant=\"elevated\" className=\"text-center py-12\">\r\n              <p className=\"text-gray-600 mb-4\">No informational interviews yet</p>\r\n              <button\r\n                onClick={() => setShowRequestModal(true)}\r\n                className=\"px-6 py-2 bg-[#777C6D] hover:bg-[#656A5C] text-white rounded-lg transition\"\r\n              >\r\n                Request Your First Interview\r\n              </button>\r\n            </Card>\r\n          ) : (\r\n            interviews.map(interview => (\r\n              <InformationalInterviewCard\r\n                key={interview._id}\r\n                interview={interview}\r\n                onDelete={handleDelete}\r\n                onPrepare={handlePrepare}\r\n                onRecordOutcome={handleRecordOutcome}\r\n                onRefresh={refreshData}\r\n                viewMode=\"list\"\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Modals */}\r\n      {showRequestModal && (\r\n        <RequestInterviewModal\r\n          isOpen={showRequestModal}\r\n          onClose={handleModalClose}\r\n        />\r\n      )}\r\n\r\n      {showPreparationView && selectedInterview && (\r\n        <InterviewPreparationView\r\n          isOpen={showPreparationView}\r\n          interview={selectedInterview}\r\n          onClose={handleModalClose}\r\n        />\r\n      )}\r\n\r\n      {showOutcomeModal && selectedInterview && (\r\n        <OutcomeModal\r\n          isOpen={showOutcomeModal}\r\n          interview={selectedInterview}\r\n          onClose={handleModalClose}\r\n        />\r\n      )}\r\n\r\n      {showSuggestionModal && (\r\n        <CandidateSuggestionModal\r\n          isOpen={showSuggestionModal}\r\n          onClose={handleModalClose}\r\n        />\r\n      )}\r\n\r\n      {showInsightsPanel && (\r\n        <InsightsPanel\r\n          isOpen={showInsightsPanel}\r\n          onClose={handleModalClose}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\LogActivityModal.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadContacts'. Either include it or remove the dependency array.","line":32,"column":6,"nodeType":"ArrayExpression","endLine":32,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [loadContacts]","fix":{"range":[1002,1004],"text":"[loadContacts]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":92,"column":5,"nodeType":"JSXOpeningElement","endLine":96,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":92,"column":5,"nodeType":"JSXOpeningElement","endLine":96,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":97,"column":7,"nodeType":"JSXOpeningElement","endLine":97,"endColumn":127},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":97,"column":7,"nodeType":"JSXOpeningElement","endLine":97,"endColumn":127},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":112,"column":15,"nodeType":"JSXOpeningElement","endLine":112,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":135,"column":17,"nodeType":"JSXOpeningElement","endLine":135,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":166,"column":17,"nodeType":"JSXOpeningElement","endLine":166,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":186,"column":17,"nodeType":"JSXOpeningElement","endLine":186,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":199,"column":17,"nodeType":"JSXOpeningElement","endLine":199,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":217,"column":15,"nodeType":"JSXOpeningElement","endLine":217,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":232,"column":15,"nodeType":"JSXOpeningElement","endLine":232,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":248,"column":17,"nodeType":"JSXOpeningElement","endLine":248,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":265,"column":19,"nodeType":"JSXOpeningElement","endLine":265,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":358,"column":15,"nodeType":"JSXOpeningElement","endLine":358,"endColumn":79}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport axios from 'axios';\r\nimport Button from '../Button';\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport default function LogActivityModal({ onClose, onSuccess, contactId = null, reminderId = null }) {\r\n  const { getToken } = useAuth();\r\n  const [contacts, setContacts] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    contactId: contactId || '',\r\n    activityType: 'Email Sent',\r\n    activityDate: new Date().toISOString().split('T')[0],\r\n    direction: 'Outbound',\r\n    subject: '',\r\n    notes: '',\r\n    sentiment: 'Neutral',\r\n    responseReceived: false,\r\n    valueExchange: 'None',\r\n    valueType: '',\r\n    opportunityGenerated: false,\r\n    opportunityType: '',\r\n    followUpRequired: false,\r\n    followUpDate: '',\r\n    tags: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadContacts();\r\n  }, []);\r\n\r\n  const loadContacts = async () => {\r\n    try {\r\n      const token = await getToken();\r\n      const response = await axios.get(`${API_BASE_URL}/api/contacts`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      // API returns { success, count, data } structure\r\n      const contactsData = response.data.data || response.data;\r\n      setContacts(Array.isArray(contactsData) ? contactsData : []);\r\n    } catch (error) {\r\n      console.error('Error loading contacts:', error);\r\n      setContacts([]);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const token = await getToken();\r\n      const activityData = {\r\n        ...formData,\r\n        tags: formData.tags ? formData.tags.split(',').map(t => t.trim()) : []\r\n      };\r\n\r\n      if (reminderId) {\r\n        activityData.linkedReminderId = reminderId;\r\n      }\r\n\r\n      await axios.post(\r\n        `${API_BASE_URL}/api/relationship-maintenance/activities`,\r\n        activityData,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      onSuccess();\r\n    } catch (error) {\r\n      console.error('Error logging activity:', error);\r\n      alert('Failed to log activity');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Close when clicking backdrop (but not when clicking inside modal)\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) onClose();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"p-6\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Log Activity</h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600 text-2xl\"\r\n            >\r\n              ├ù\r\n            </button>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            {/* Contact Selection */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Contact *\r\n              </label>\r\n              <select\r\n                name=\"contactId\"\r\n                value={formData.contactId}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n              >\r\n                <option value=\"\">Select a contact</option>\r\n                {contacts.map(contact => (\r\n                  <option key={contact._id} value={contact._id}>\r\n                    {contact.firstName} {contact.lastName}\r\n                    {contact.company && ` - ${contact.company}`}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Activity Type and Direction */}\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Activity Type *\r\n                </label>\r\n                <select\r\n                  name=\"activityType\"\r\n                  value={formData.activityType}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                >\r\n                  <option value=\"Email Sent\">Email Sent</option>\r\n                  <option value=\"Email Received\">Email Received</option>\r\n                  <option value=\"Phone Call\">Phone Call</option>\r\n                  <option value=\"Meeting\">Meeting</option>\r\n                  <option value=\"LinkedIn Message\">LinkedIn Message</option>\r\n                  <option value=\"Coffee Chat\">Coffee Chat</option>\r\n                  <option value=\"Introduction Made\">Introduction Made</option>\r\n                  <option value=\"Referral Requested\">Referral Requested</option>\r\n                  <option value=\"Referral Provided\">Referral Provided</option>\r\n                  <option value=\"Job Lead Shared\">Job Lead Shared</option>\r\n                  <option value=\"Advice Requested\">Advice Requested</option>\r\n                  <option value=\"Advice Given\">Advice Given</option>\r\n                  <option value=\"Birthday Wish\">Birthday Wish</option>\r\n                  <option value=\"Congratulations Sent\">Congratulations Sent</option>\r\n                  <option value=\"Thank You Sent\">Thank You Sent</option>\r\n                  <option value=\"Industry News Shared\">Industry News Shared</option>\r\n                  <option value=\"Event Attended Together\">Event Attended Together</option>\r\n                  <option value=\"Other\">Other</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Direction *\r\n                </label>\r\n                <select\r\n                  name=\"direction\"\r\n                  value={formData.direction}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                >\r\n                  <option value=\"Outbound\">Outbound</option>\r\n                  <option value=\"Inbound\">Inbound</option>\r\n                  <option value=\"Mutual\">Mutual</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Date and Sentiment */}\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Activity Date *\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"activityDate\"\r\n                  value={formData.activityDate}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Sentiment\r\n                </label>\r\n                <select\r\n                  name=\"sentiment\"\r\n                  value={formData.sentiment}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                >\r\n                  <option value=\"Positive\">Positive</option>\r\n                  <option value=\"Neutral\">Neutral</option>\r\n                  <option value=\"Negative\">Negative</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Subject */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Subject\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"subject\"\r\n                value={formData.subject}\r\n                onChange={handleChange}\r\n                placeholder=\"e.g., Coffee chat about career growth\"\r\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n              />\r\n            </div>\r\n\r\n            {/* Notes */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Notes\r\n              </label>\r\n              <textarea\r\n                name=\"notes\"\r\n                value={formData.notes}\r\n                onChange={handleChange}\r\n                rows={3}\r\n                placeholder=\"Add details about this interaction...\"\r\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n              />\r\n            </div>\r\n\r\n            {/* Value Exchange */}\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Value Exchange\r\n                </label>\r\n                <select\r\n                  name=\"valueExchange\"\r\n                  value={formData.valueExchange}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                >\r\n                  <option value=\"None\">None</option>\r\n                  <option value=\"Given\">Given</option>\r\n                  <option value=\"Received\">Received</option>\r\n                  <option value=\"Mutual\">Mutual</option>\r\n                </select>\r\n              </div>\r\n              {formData.valueExchange !== 'None' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Value Type\r\n                  </label>\r\n                  <select\r\n                    name=\"valueType\"\r\n                    value={formData.valueType}\r\n                    onChange={handleChange}\r\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                  >\r\n                    <option value=\"\">Select type...</option>\r\n                    <option value=\"Job Lead\">Job Lead</option>\r\n                    <option value=\"Introduction\">Introduction</option>\r\n                    <option value=\"Advice\">Advice</option>\r\n                    <option value=\"Information\">Information</option>\r\n                    <option value=\"Referral\">Referral</option>\r\n                    <option value=\"Recommendation\">Recommendation</option>\r\n                    <option value=\"Mentorship\">Mentorship</option>\r\n                    <option value=\"Support\">Support</option>\r\n                    <option value=\"Other\">Other</option>\r\n                  </select>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Checkboxes */}\r\n            <div className=\"space-y-2\">\r\n              <label className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"responseReceived\"\r\n                  checked={formData.responseReceived}\r\n                  onChange={handleChange}\r\n                  className=\"rounded\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Response received</span>\r\n              </label>\r\n\r\n              <label className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"opportunityGenerated\"\r\n                  checked={formData.opportunityGenerated}\r\n                  onChange={handleChange}\r\n                  className=\"rounded\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Generated an opportunity</span>\r\n              </label>\r\n\r\n              {formData.opportunityGenerated && (\r\n                <div className=\"ml-6\">\r\n                  <select\r\n                    name=\"opportunityType\"\r\n                    value={formData.opportunityType}\r\n                    onChange={handleChange}\r\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                  >\r\n                    <option value=\"\">Select opportunity type...</option>\r\n                    <option value=\"Job Interview\">Job Interview</option>\r\n                    <option value=\"Job Offer\">Job Offer</option>\r\n                    <option value=\"Referral\">Referral</option>\r\n                    <option value=\"Introduction\">Introduction</option>\r\n                    <option value=\"Partnership\">Partnership</option>\r\n                    <option value=\"Other\">Other</option>\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              <label className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"followUpRequired\"\r\n                  checked={formData.followUpRequired}\r\n                  onChange={handleChange}\r\n                  className=\"rounded\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Follow-up required</span>\r\n              </label>\r\n\r\n              {formData.followUpRequired && (\r\n                <div className=\"ml-6\">\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"followUpDate\"\r\n                    value={formData.followUpDate}\r\n                    onChange={handleChange}\r\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Tags */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Tags (comma-separated)\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"tags\"\r\n                value={formData.tags}\r\n                onChange={handleChange}\r\n                placeholder=\"e.g., career advice, job search, networking\"\r\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black\"\r\n              />\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n              <Button type=\"button\" variant=\"secondary\" onClick={onClose} disabled={loading}>\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" disabled={loading} className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\">\r\n                {loading ? 'Logging...' : 'Log Activity'}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\NetworkAnalytics.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAnalytics'. Either include it or remove the dependency array.","line":17,"column":8,"nodeType":"ArrayExpression","endLine":17,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchAnalytics]","fix":{"range":[646,648],"text":"[fetchAnalytics]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport api, { setAuthToken } from '../../api/axios';\r\nimport Card from '../Card';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\nimport ErrorMessage from '../ErrorMessage';\r\n\r\nexport default function NetworkAnalytics() {\r\n    const { getToken } = useAuth();\r\n    const [analytics, setAnalytics] = useState(null);\r\n    const [relationshipAnalytics, setRelationshipAnalytics] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetchAnalytics();\r\n    }, []);\r\n\r\n    const fetchAnalytics = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n\r\n            const [networkRes, relationshipRes] = await Promise.all([\r\n                api.get('/api/analytics/network'),\r\n                api.get('/api/relationship-maintenance/activities/analytics')\r\n            ]);\r\n\r\n            setAnalytics(networkRes.data.data);\r\n            setRelationshipAnalytics(relationshipRes.data);\r\n            setError(null);\r\n        } catch (err) {\r\n            console.error('Error fetching analytics:', err);\r\n            setError(err.response?.data?.message || 'Failed to load analytics');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center min-h-[400px]\">\r\n                <LoadingSpinner />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return <ErrorMessage message={error} />;\r\n    }\r\n\r\n    if (!analytics || !relationshipAnalytics) {\r\n        return null;\r\n    }\r\n\r\n    const {\r\n        activityVolume,\r\n        relationshipHealth,\r\n        eventROI,\r\n        valueExchange,\r\n        referralStats,\r\n        opportunityConversion,\r\n        engagementQuality\r\n    } = analytics;\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Overview Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <Card className=\"p-6\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <p className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Total Contacts</p>\r\n                            <p className=\"text-3xl font-bold mt-2\" style={{ color: '#4F5348' }}>\r\n                                {relationshipHealth.total}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"p-3 rounded-full\" style={{ backgroundColor: '#E4E6E0' }}>\r\n                            <svg className=\"w-8 h-8\" style={{ color: '#777C6D' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n\r\n                <Card className=\"p-6\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <p className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Recent Activities</p>\r\n                            <p className=\"text-3xl font-bold mt-2\" style={{ color: '#4F5348' }}>\r\n                                {activityVolume.last30Days}\r\n                            </p>\r\n                            <p className=\"text-xs mt-1\" style={{ color: '#656A5C' }}>Last 30 days</p>\r\n                        </div>\r\n                        <div className=\"p-3 rounded-full\" style={{ backgroundColor: '#E4E6E0' }}>\r\n                            <svg className=\"w-8 h-8\" style={{ color: '#777C6D' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n\r\n                <Card className=\"p-6\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <p className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Events Attended</p>\r\n                            <p className=\"text-3xl font-bold mt-2\" style={{ color: '#4F5348' }}>\r\n                                {eventROI.totalEventsAttended}\r\n                            </p>\r\n                            <p className=\"text-xs mt-1\" style={{ color: '#656A5C' }}>\r\n                                {eventROI.totalConnectionsGained} connections gained\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"p-3 rounded-full\" style={{ backgroundColor: '#E4E6E0' }}>\r\n                            <svg className=\"w-8 h-8\" style={{ color: '#777C6D' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Activity Volume */}\r\n            <Card className=\"p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                    Activity Volume\r\n                </h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div>\r\n                        <div className=\"flex justify-between items-center mb-2\">\r\n                            <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Last 30 Days</span>\r\n                            <span className=\"text-lg font-bold\" style={{ color: '#4F5348' }}>{activityVolume.last30Days}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center mb-2\">\r\n                            <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Last 90 Days</span>\r\n                            <span className=\"text-lg font-bold\" style={{ color: '#4F5348' }}>{activityVolume.last90Days}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Average per Week</span>\r\n                            <span className=\"text-lg font-bold\" style={{ color: '#4F5348' }}>{activityVolume.averagePerWeek}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"text-sm font-medium mb-3\" style={{ color: '#656A5C' }}>Top Activity Types</p>\r\n                        {Object.entries(activityVolume.byType)\r\n                            .sort(([, a], [, b]) => b - a)\r\n                            .slice(0, 5)\r\n                            .map(([type, count]) => (\r\n                                <div key={type} className=\"flex justify-between items-center mb-2\">\r\n                                    <span className=\"text-sm\" style={{ color: '#656A5C' }}>{type}</span>\r\n                                    <span className=\"text-sm font-semibold\" style={{ color: '#4F5348' }}>{count}</span>\r\n                                </div>\r\n                            ))}\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n\r\n            {/* Relationship Health */}\r\n            <Card className=\"p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                    Relationship Health\r\n                </h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div>\r\n                        <p className=\"text-sm font-medium mb-3\" style={{ color: '#656A5C' }}>Distribution by Strength</p>\r\n                        {Object.entries(relationshipHealth.byStrength).map(([strength, count]) => {\r\n                            const percentage = relationshipHealth.total > 0\r\n                                ? ((count / relationshipHealth.total) * 100).toFixed(0)\r\n                                : 0;\r\n                            return (\r\n                                <div key={strength} className=\"mb-3\">\r\n                                    <div className=\"flex justify-between items-center mb-1\">\r\n                                        <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>{strength}</span>\r\n                                        <span className=\"text-sm font-semibold\" style={{ color: '#4F5348' }}>{count} ({percentage}%)</span>\r\n                                    </div>\r\n                                    <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                        <div\r\n                                            className=\"h-2 rounded-full transition-all duration-300\"\r\n                                            style={{\r\n                                                width: `${percentage}%`,\r\n                                                backgroundColor: '#777C6D'\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                    <div className=\"flex flex-col justify-center\">\r\n                        <div className=\"text-center p-6 rounded-lg\" style={{ backgroundColor: '#E4E6E0' }}>\r\n                            <p className=\"text-sm font-medium mb-2\" style={{ color: '#656A5C' }}>\r\n                                Average Interactions per Contact\r\n                            </p>\r\n                            <p className=\"text-4xl font-bold\" style={{ color: '#4F5348' }}>\r\n                                {relationshipHealth.averageInteractionsPerContact}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n\r\n            {/* Event ROI */}\r\n            <Card className=\"p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                    Networking Event ROI\r\n                </h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n                    <div className=\"text-center p-4 rounded-lg\" style={{ backgroundColor: '#E4E6E0' }}>\r\n                        <p className=\"text-sm font-medium mb-2\" style={{ color: '#656A5C' }}>Avg Cost per Connection</p>\r\n                        <p className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                            ${eventROI.averageCostPerConnection}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"text-center p-4 rounded-lg\" style={{ backgroundColor: '#E4E6E0' }}>\r\n                        <p className=\"text-sm font-medium mb-2\" style={{ color: '#656A5C' }}>Avg Cost per Job Lead</p>\r\n                        <p className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                            ${eventROI.averageCostPerJobLead}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"text-center p-4 rounded-lg\" style={{ backgroundColor: '#E4E6E0' }}>\r\n                        <p className=\"text-sm font-medium mb-2\" style={{ color: '#656A5C' }}>Conversion Rate</p>\r\n                        <p className=\"text-2xl font-bold\" style={{ color: '#4F5348' }}>\r\n                            {eventROI.conversionRate}%\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                {eventROI.topEvents && eventROI.topEvents.length > 0 && (\r\n                    <div>\r\n                        <p className=\"text-sm font-medium mb-3\" style={{ color: '#656A5C' }}>Top ROI Events</p>\r\n                        <div className=\"space-y-2\">\r\n                            {eventROI.topEvents.map((event, idx) => (\r\n                                <div key={idx} className=\"flex justify-between items-center p-3 rounded-lg\" style={{ backgroundColor: '#E4E6E0' }}>\r\n                                    <div>\r\n                                        <p className=\"font-medium\" style={{ color: '#4F5348' }}>{event.name}</p>\r\n                                        <p className=\"text-xs\" style={{ color: '#656A5C' }}>\r\n                                            {new Date(event.date).toLocaleDateString()}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"text-sm font-semibold\" style={{ color: '#4F5348' }}>\r\n                                            ROI: {event.roiRating}/5\r\n                                        </p>\r\n                                        <p className=\"text-xs\" style={{ color: '#656A5C' }}>\r\n                                            {event.connectionsGained} connections, {event.jobLeadsGenerated} leads\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </Card>\r\n\r\n            {/* Value Exchange & Referrals */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <Card className=\"p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Value Exchange\r\n                    </h3>\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Value Given</span>\r\n                            <span className=\"text-lg font-bold\" style={{ color: '#4F5348' }}>{valueExchange.totalValueGiven}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Value Received</span>\r\n                            <span className=\"text-lg font-bold\" style={{ color: '#4F5348' }}>{valueExchange.totalValueReceived}</span>\r\n                        </div>\r\n                        <div className=\"pt-4 border-t border-gray-200\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Reciprocity Score</span>\r\n                                <span className=\"text-xl font-bold\" style={{ color: '#777C6D' }}>{valueExchange.reciprocityScore}%</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n\r\n                <Card className=\"p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Referral Performance\r\n                    </h3>\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Total Requested</span>\r\n                            <span className=\"text-lg font-bold\" style={{ color: '#4F5348' }}>{referralStats.totalRequested}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Accepted</span>\r\n                            <span className=\"text-lg font-bold text-green-600\">{referralStats.accepted}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Success Rate</span>\r\n                            <span className=\"text-xl font-bold\" style={{ color: '#777C6D' }}>{referralStats.successRate}%</span>\r\n                        </div>\r\n                        <div className=\"pt-4 border-t border-gray-200\">\r\n                            <div className=\"flex justify-between items-center text-sm\">\r\n                                <span style={{ color: '#656A5C' }}>Led to Interview</span>\r\n                                <span className=\"font-semibold\" style={{ color: '#4F5348' }}>{referralStats.ledToInterview}</span>\r\n                            </div>\r\n                            <div className=\"flex justify-between items-center text-sm mt-2\">\r\n                                <span style={{ color: '#656A5C' }}>Led to Offer</span>\r\n                                <span className=\"font-semibold\" style={{ color: '#4F5348' }}>{referralStats.ledToOffer}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Opportunity Conversion & Engagement Quality */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <Card className=\"p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Opportunity Conversion\r\n                    </h3>\r\n                    <div className=\"text-center mb-4\">\r\n                        <p className=\"text-4xl font-bold mb-2\" style={{ color: '#4F5348' }}>\r\n                            {opportunityConversion.totalOpportunities}\r\n                        </p>\r\n                        <p className=\"text-sm\" style={{ color: '#656A5C' }}>Total Opportunities Generated</p>\r\n                        <p className=\"text-lg font-semibold mt-2\" style={{ color: '#777C6D' }}>\r\n                            {opportunityConversion.conversionRate}% conversion rate\r\n                        </p>\r\n                    </div>\r\n                    {Object.keys(opportunityConversion.byType).length > 0 && (\r\n                        <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                            <p className=\"text-sm font-medium mb-2\" style={{ color: '#656A5C' }}>By Type</p>\r\n                            {Object.entries(opportunityConversion.byType).map(([type, count]) => (\r\n                                <div key={type} className=\"flex justify-between items-center mb-1\">\r\n                                    <span className=\"text-sm\" style={{ color: '#656A5C' }}>{type}</span>\r\n                                    <span className=\"text-sm font-semibold\" style={{ color: '#4F5348' }}>{count}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </Card>\r\n\r\n                <Card className=\"p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                        Engagement Quality\r\n                    </h3>\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <div className=\"flex justify-between items-center mb-2\">\r\n                                <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Positive Sentiment</span>\r\n                                <span className=\"text-lg font-bold\" style={{ color: '#4F5348' }}>{engagementQuality.positiveSentimentRate}%</span>\r\n                            </div>\r\n                            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                <div\r\n                                    className=\"h-2 rounded-full transition-all duration-300\"\r\n                                    style={{\r\n                                        width: `${engagementQuality.positiveSentimentRate}%`,\r\n                                        backgroundColor: '#777C6D'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"flex justify-between items-center mb-2\">\r\n                                <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Response Rate</span>\r\n                                <span className=\"text-lg font-bold\" style={{ color: '#4F5348' }}>{engagementQuality.responseRate}%</span>\r\n                            </div>\r\n                            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                <div\r\n                                    className=\"h-2 rounded-full transition-all duration-300\"\r\n                                    style={{\r\n                                        width: `${engagementQuality.responseRate}%`,\r\n                                        backgroundColor: '#777C6D'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"pt-4 border-t border-gray-200\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Avg Response Time</span>\r\n                                <span className=\"text-lg font-bold\" style={{ color: '#4F5348' }}>{engagementQuality.averageResponseTime}h</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Recommendations (Merged from Relationship Maintenance) */}\r\n            <Card className=\"p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>Recommendations</h3>\r\n                <ul className=\"space-y-3\">\r\n                    {relationshipAnalytics.inactiveContacts > relationshipAnalytics.activeContacts && (\r\n                        <li className=\"flex items-start gap-3\">\r\n                            <span className=\"text-orange-600 mt-1\">ΓÜá∩╕Å</span>\r\n                            <div>\r\n                                <div className=\"font-medium\" style={{ color: '#4F5348' }}>Re-activate dormant relationships</div>\r\n                                <div className=\"text-sm text-gray-600\">\r\n                                    You have {relationshipAnalytics.inactiveContacts} inactive contacts. Consider reaching out with a check-in message.\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    )}\r\n                    {relationshipAnalytics.reciprocityRate < 30 && (\r\n                        <li className=\"flex items-start gap-3\">\r\n                            <span className=\"text-blue-600 mt-1\">≡ƒÆí</span>\r\n                            <div>\r\n                                <div className=\"font-medium\" style={{ color: '#4F5348' }}>Improve relationship balance</div>\r\n                                <div className=\"text-sm text-gray-600\">\r\n                                    Your reciprocity rate is low. Try to receive more value by asking for advice or introductions.\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    )}\r\n                    {relationshipAnalytics.totalActivities < relationshipAnalytics.totalContacts && (\r\n                        <li className=\"flex items-start gap-3\">\r\n                            <span className=\"text-green-600 mt-1\">Γ£à</span>\r\n                            <div>\r\n                                <div className=\"font-medium\" style={{ color: '#4F5348' }}>Increase engagement</div>\r\n                                <div className=\"text-sm text-gray-600\">\r\n                                    Try to log at least one activity per contact to track relationship health effectively.\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    )}\r\n                    <li className=\"flex items-start gap-3\">\r\n                        <span className=\"text-purple-600 mt-1\">≡ƒÄ»</span>\r\n                        <div>\r\n                            <div className=\"font-medium\" style={{ color: '#4F5348' }}>Set up automated reminders</div>\r\n                            <div className=\"text-sm text-gray-600\">\r\n                                Use the \"Generate Auto Reminders\" feature to stay on top of important check-ins and birthdays.\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </Card>\r\n\r\n            {/* Industry Benchmarks & Strategic Insights (NEW) */}\r\n            {analytics.benchmarks && (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <Card className=\"p-6\">\r\n                        <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                            Industry Benchmarks\r\n                        </h3>\r\n                        <div className=\"space-y-6\">\r\n                            <div>\r\n                                <div className=\"flex justify-between items-center mb-1\">\r\n                                    <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Weekly Activity</span>\r\n                                    <span className={`text-xs font-bold px-2 py-1 rounded ${analytics.benchmarks.activityVolume.status === 'Above Average' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`}>\r\n                                        {analytics.benchmarks.activityVolume.status}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"flex justify-between text-sm mb-2\">\r\n                                    <span style={{ color: '#4F5348' }}>You: {analytics.benchmarks.activityVolume.user}</span>\r\n                                    <span style={{ color: '#656A5C' }}>Industry Avg: {analytics.benchmarks.activityVolume.industry}</span>\r\n                                </div>\r\n                                <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                    <div\r\n                                        className={`h-2 rounded-full transition-all duration-300 ${analytics.benchmarks.activityVolume.status === 'Above Average' ? 'bg-green-500' : 'bg-yellow-500'}`}\r\n                                        style={{ width: `${Math.min((analytics.benchmarks.activityVolume.user / analytics.benchmarks.activityVolume.industry) * 50, 100)}%` }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <div className=\"flex justify-between items-center mb-1\">\r\n                                    <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Response Rate</span>\r\n                                    <span className={`text-xs font-bold px-2 py-1 rounded ${analytics.benchmarks.responseRate.status === 'Above Average' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`}>\r\n                                        {analytics.benchmarks.responseRate.status}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"flex justify-between text-sm mb-2\">\r\n                                    <span style={{ color: '#4F5348' }}>You: {analytics.benchmarks.responseRate.user}%</span>\r\n                                    <span style={{ color: '#656A5C' }}>Industry Avg: {analytics.benchmarks.responseRate.industry}%</span>\r\n                                </div>\r\n                                <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                    <div\r\n                                        className={`h-2 rounded-full transition-all duration-300 ${analytics.benchmarks.responseRate.status === 'Above Average' ? 'bg-green-500' : 'bg-yellow-500'}`}\r\n                                        style={{ width: `${Math.min((analytics.benchmarks.responseRate.user / analytics.benchmarks.responseRate.industry) * 50, 100)}%` }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <div className=\"flex justify-between items-center mb-1\">\r\n                                    <span className=\"text-sm font-medium\" style={{ color: '#656A5C' }}>Reciprocity</span>\r\n                                    <span className={`text-xs font-bold px-2 py-1 rounded ${analytics.benchmarks.reciprocity.status === 'Balanced' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`}>\r\n                                        {analytics.benchmarks.reciprocity.status}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"flex justify-between text-sm mb-2\">\r\n                                    <span style={{ color: '#4F5348' }}>You: {analytics.benchmarks.reciprocity.user}%</span>\r\n                                    <span style={{ color: '#656A5C' }}>Target: {analytics.benchmarks.reciprocity.industry}%</span>\r\n                                </div>\r\n                                <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                    <div\r\n                                        className={`h-2 rounded-full transition-all duration-300 ${analytics.benchmarks.reciprocity.status === 'Balanced' ? 'bg-green-500' : 'bg-yellow-500'}`}\r\n                                        style={{ width: `${Math.min((analytics.benchmarks.reciprocity.user / analytics.benchmarks.reciprocity.industry) * 50, 100)}%` }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Card>\r\n\r\n                    <Card className=\"p-6\">\r\n                        <h3 className=\"text-lg font-semibold mb-4\" style={{ color: '#4F5348' }}>\r\n                            Strategic Insights\r\n                        </h3>\r\n                        {analytics.strategyInsights && analytics.strategyInsights.length > 0 ? (\r\n                            <div className=\"space-y-4\">\r\n                                {analytics.strategyInsights.map((insight, idx) => (\r\n                                    <div key={idx} className=\"p-4 rounded-lg border border-gray-100 shadow-sm bg-white\">\r\n                                        <div className=\"flex items-center gap-2 mb-2\">\r\n                                            <span className={`text-xs font-bold px-2 py-0.5 rounded-full ${insight.type === 'Success Driver' || insight.type === 'Strength' ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'}`}>\r\n                                                {insight.type}\r\n                                            </span>\r\n                                            <span className=\"font-medium text-sm\" style={{ color: '#4F5348' }}>{insight.title}</span>\r\n                                        </div>\r\n                                        <p className=\"text-sm text-gray-600 mb-2\">{insight.description}</p>\r\n                                        <div className=\"flex items-start gap-2 text-sm\">\r\n                                            <span className=\"text-primary-600 font-semibold\">Action:</span>\r\n                                            <span style={{ color: '#4F5348' }}>{insight.action}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"text-center py-8 text-gray-500\">\r\n                                <p>Log more activities to generate personalized strategic insights.</p>\r\n                            </div>\r\n                        )}\r\n                    </Card>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\NetworkingEventCard.jsx","messages":[{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":77,"column":15,"nodeType":"JSXAttribute","endLine":80,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":81,"column":15,"nodeType":"JSXAttribute","endLine":84,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":94,"column":15,"nodeType":"JSXAttribute","endLine":97,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":98,"column":15,"nodeType":"JSXAttribute","endLine":101,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":208,"column":13,"nodeType":"JSXAttribute","endLine":210,"endColumn":15},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":211,"column":13,"nodeType":"JSXAttribute","endLine":213,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Calendar, MapPin, Users, Target, CheckCircle, TrendingUp, Edit3, Trash2, Globe } from 'lucide-react';\r\nimport Card from '../Card';\r\nimport Button from '../Button';\r\n\r\nconst eventTypeColors = {\r\n  Conference: 'bg-purple-100 text-purple-800',\r\n  Meetup: 'bg-blue-100 text-blue-800',\r\n  'Career Fair': 'bg-green-100 text-green-800',\r\n  Workshop: 'bg-yellow-100 text-yellow-800',\r\n  Webinar: 'bg-indigo-100 text-indigo-800',\r\n  'Social Event': 'bg-pink-100 text-pink-800',\r\n  'Industry Mixer': 'bg-orange-100 text-orange-800',\r\n  Other: 'bg-gray-100 text-gray-800'\r\n};\r\n\r\nconst attendanceStatusColors = {\r\n  'Planning to Attend': 'bg-blue-100 text-blue-800',\r\n  Registered: 'bg-green-100 text-green-800',\r\n  Attended: 'bg-purple-100 text-purple-800',\r\n  Missed: 'bg-red-100 text-red-800',\r\n  Cancelled: 'bg-gray-100 text-gray-800'\r\n};\r\n\r\nexport default function NetworkingEventCard({ event, onEdit, onDelete }) {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return '';\r\n    return new Date(date).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const formatTime = (date) => {\r\n    if (!date) return '';\r\n    return new Date(date).toLocaleTimeString('en-US', {\r\n      hour: 'numeric',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const isUpcoming = () => {\r\n    return new Date(event.eventDate) > new Date() && event.attendanceStatus !== 'Cancelled';\r\n  };\r\n\r\n  const isPast = () => {\r\n    return new Date(event.eventDate) <= new Date();\r\n  };\r\n\r\n  const goalCompletionRate = () => {\r\n    if (!event.goals || event.goals.length === 0) return 0;\r\n    const achieved = event.goals.filter(g => g.achieved).length;\r\n    return Math.round((achieved / event.goals.length) * 100);\r\n  };\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className=\"border-black !shadow-none p-3 md:p-4\">\r\n      <div className=\"flex flex-col h-full text-sm\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-start mb-2\">\r\n          <div className=\"flex-1\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">{event.name}</h3>\r\n            <div className=\"flex items-center gap-2 text-sm text-gray-600 mb-2\">\r\n              <Calendar size={16} />\r\n              <span>{formatDate(event.eventDate)}</span>\r\n              {event.eventDate && <span>at {formatTime(event.eventDate)}</span>}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex space-x-2\">\r\n            <button\r\n              onClick={() => onEdit(event)}\r\n              className=\"p-1 rounded-lg transition flex-shrink-0 flex items-center justify-center\"\r\n              style={{ color: '#6B7280' }}\r\n              onMouseOver={e => {\r\n                e.currentTarget.style.color = '#2563EB';\r\n                e.currentTarget.style.backgroundColor = '#EFF6FF';\r\n              }}\r\n              onMouseOut={e => {\r\n                e.currentTarget.style.color = '#6B7280';\r\n                e.currentTarget.style.backgroundColor = 'transparent';\r\n              }}\r\n              aria-label=\"Edit event\"\r\n              title=\"Edit event\"\r\n            >\r\n              <Edit3 size={18} />\r\n            </button>\r\n            <button\r\n              onClick={() => onDelete(event)}\r\n              className=\"p-1 rounded-lg transition flex-shrink-0 flex items-center justify-center\"\r\n              style={{ color: '#6B7280' }}\r\n              onMouseOver={e => {\r\n                e.currentTarget.style.color = '#B91C1C';\r\n                e.currentTarget.style.backgroundColor = '#FEE2E2';\r\n              }}\r\n              onMouseOut={e => {\r\n                e.currentTarget.style.color = '#6B7280';\r\n                e.currentTarget.style.backgroundColor = 'transparent';\r\n              }}\r\n              aria-label=\"Delete event\"\r\n              title=\"Delete event\"\r\n            >\r\n              <Trash2 size={18} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Badges */}\r\n        <div className=\"flex flex-wrap gap-2 mb-3\">\r\n          <span\r\n            className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n              eventTypeColors[event.eventType] || 'bg-gray-100 text-gray-800'\r\n            }`}\r\n          >\r\n            {event.eventType}\r\n          </span>\r\n          <span\r\n            className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n              attendanceStatusColors[event.attendanceStatus] || 'bg-gray-100 text-gray-800'\r\n            }`}\r\n          >\r\n            {event.attendanceStatus}\r\n          </span>\r\n          {event.isVirtual && (\r\n            <span className=\"px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 flex items-center gap-1\">\r\n              <Globe size={12} />\r\n              Virtual\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        {/* Location */}\r\n        {(event.location || event.virtualLink) && (\r\n          <div className=\"flex items-center text-sm text-gray-600 mb-2\">\r\n            <MapPin size={16} className=\"mr-2\" />\r\n            {event.isVirtual ? (\r\n              event.virtualLink ? (\r\n                <a\r\n                  href={event.virtualLink}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"hover:text-primary-600 truncate\"\r\n                >\r\n                  {event.virtualLink}\r\n                </a>\r\n              ) : (\r\n                <span>Virtual Event</span>\r\n              )\r\n            ) : (\r\n              <span>{event.location}</span>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Industry */}\r\n        {event.industry && (\r\n          <div className=\"text-sm text-gray-600 mb-3\">\r\n            <strong>Industry:</strong> {event.industry}\r\n          </div>\r\n        )}\r\n\r\n        {/* Stats */}\r\n        <div className=\"grid grid-cols-2 gap-2 mb-3 p-2 bg-gray-50 rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Users size={16} className=\"text-blue-600\" />\r\n            <div>\r\n              <div className=\"text-xs text-gray-600\">Connections</div>\r\n              <div className=\"font-semibold\">{event.connectionsGained || 0}</div>\r\n            </div>\r\n          </div>\r\n          {event.goals && event.goals.length > 0 && (\r\n            <div className=\"flex items-center gap-2\">\r\n              <Target size={16} className=\"text-green-600\" />\r\n              <div>\r\n                <div className=\"text-xs text-gray-600\">Goals</div>\r\n                <div className=\"font-semibold\">{goalCompletionRate()}%</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {event.jobLeadsGenerated > 0 && (\r\n            <div className=\"flex items-center gap-2\">\r\n              <TrendingUp size={16} className=\"text-purple-600\" />\r\n              <div>\r\n                <div className=\"text-xs text-gray-600\">Job Leads</div>\r\n                <div className=\"font-semibold\">{event.jobLeadsGenerated}</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {event.roiRating && (\r\n            <div className=\"flex items-center gap-2\">\r\n              <CheckCircle size={16} className=\"text-yellow-600\" />\r\n              <div>\r\n                <div className=\"text-xs text-gray-600\">ROI Rating</div>\r\n                <div className=\"font-semibold\">{event.roiRating}/5</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Toggle Details Button */}\r\n        {(event.description || event.goals?.length > 0 || event.keyTakeaways || event.preparationNotes) && (\r\n          <button\r\n            onClick={() => setShowDetails(!showDetails)}\r\n            className=\"mt-2 text-sm text-primary-600 hover:text-primary-800 font-medium transition-shadow rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary-400\"\r\n            style={{ boxShadow: 'none' }}\r\n            onMouseOver={e => {\r\n              e.currentTarget.style.boxShadow = '0 2px 8px 0 rgba(0,0,0,0.10)';\r\n            }}\r\n            onMouseOut={e => {\r\n              e.currentTarget.style.boxShadow = 'none';\r\n            }}\r\n          >\r\n            {showDetails ? 'Hide Details' : 'Show Details'}\r\n          </button>\r\n        )}\r\n\r\n        {/* Expandable Details */}\r\n        {showDetails && (\r\n          <div className=\"mt-3 pt-3 border-t space-y-3\">\r\n            {event.description && (\r\n              <div>\r\n                <p className=\"text-xs font-medium text-gray-700 mb-1\">Description:</p>\r\n                <p className=\"text-sm text-gray-600\">{event.description}</p>\r\n              </div>\r\n            )}\r\n            {event.goals && event.goals.length > 0 && (\r\n              <div>\r\n                <p className=\"text-xs font-medium text-gray-700 mb-1\">Networking Goals:</p>\r\n                <ul className=\"space-y-1\">\r\n                  {event.goals.map((goal, index) => (\r\n                    <li key={index} className=\"flex items-start gap-2 text-sm\">\r\n                      <CheckCircle\r\n                        size={16}\r\n                        className={`mt-0.5 flex-shrink-0 ${\r\n                          goal.achieved ? 'text-green-600' : 'text-gray-400'\r\n                        }`}\r\n                      />\r\n                      <span className={goal.achieved ? 'text-gray-600' : 'text-gray-500'}>\r\n                        {goal.description}\r\n                      </span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n            {isPast() && event.keyTakeaways && (\r\n              <div>\r\n                <p className=\"text-xs font-medium text-gray-700 mb-1\">Key Takeaways:</p>\r\n                <p className=\"text-sm text-gray-600\">{event.keyTakeaways}</p>\r\n              </div>\r\n            )}\r\n            {isUpcoming() && event.preparationNotes && (\r\n              <div>\r\n                <p className=\"text-xs font-medium text-gray-700 mb-1\">Preparation Notes:</p>\r\n                <p className=\"text-sm text-gray-600\">{event.preparationNotes}</p>\r\n              </div>\r\n            )}\r\n            {event.connections && event.connections.length > 0 && (\r\n              <div>\r\n                <p className=\"text-xs font-medium text-gray-700 mb-1\">Connections Made:</p>\r\n                <ul className=\"space-y-1\">\r\n                  {event.connections.slice(0, 3).map((connection, index) => (\r\n                    <li key={index} className=\"text-sm text-gray-600\">\r\n                      ΓÇó {connection.name}\r\n                      {connection.followUpCompleted && (\r\n                        <CheckCircle size={14} className=\"inline ml-1 text-green-600\" />\r\n                      )}\r\n                    </li>\r\n                  ))}\r\n                  {event.connections.length > 3 && (\r\n                    <li className=\"text-sm text-gray-500\">\r\n                      + {event.connections.length - 3} more\r\n                    </li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\NetworkingEventList.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'setSortOrder' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":24,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":24,"endColumn":33,"suggestions":[{"messageId":"removeVar","data":{"varName":"setSortOrder"},"fix":{"range":[1028,1042],"text":""},"desc":"Remove unused variable 'setSortOrder'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadData'. Either include it or remove the dependency array.","line":35,"column":6,"nodeType":"ArrayExpression","endLine":35,"endColumn":79,"suggestions":[{"desc":"Update the dependencies array to be: [refreshTrigger, filterTime, filterType, filterStatus, sortBy, sortOrder, loadData]","fix":{"range":[1528,1601],"text":"[refreshTrigger, filterTime, filterType, filterStatus, sortBy, sortOrder, loadData]"}}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":221,"column":13,"nodeType":"JSXOpeningElement","endLine":221,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":235,"column":13,"nodeType":"JSXOpeningElement","endLine":235,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":255,"column":13,"nodeType":"JSXOpeningElement","endLine":255,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":272,"column":13,"nodeType":"JSXOpeningElement","endLine":272,"endColumn":77},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":322,"column":17,"nodeType":"JSXAttribute","endLine":322,"endColumn":85},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":323,"column":17,"nodeType":"JSXAttribute","endLine":323,"endColumn":84}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Calendar, TrendingUp, Users, Target } from 'lucide-react';\r\nimport {\r\n  getNetworkingEvents,\r\n  getNetworkingStats,\r\n  createNetworkingEvent,\r\n  updateNetworkingEvent,\r\n  deleteNetworkingEvent\r\n} from '../../api/networkingEventApi';\r\nimport { toast } from 'react-hot-toast';\r\nimport NetworkingEventCard from './NetworkingEventCard';\r\nimport NetworkingEventModal from './NetworkingEventModal';\r\nimport EventDiscoveryModal from './EventDiscoveryModal';\r\nimport DeleteConfirmationModal from '../resume/DeleteConfirmationModal';\r\n\r\nconst NetworkingEventList = ({ refreshTrigger }) => {\r\n  const [events, setEvents] = useState([]);\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filterTime, setFilterTime] = useState('all');\r\n  const [filterType, setFilterType] = useState('all');\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n  const [sortBy, setSortBy] = useState('eventDate');\r\n  const [sortOrder, setSortOrder] = useState('desc');\r\n  const [showAll, setShowAll] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showDiscoveryModal, setShowDiscoveryModal] = useState(false);\r\n  const [editingEvent, setEditingEvent] = useState(null);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [deletingEvent, setDeletingEvent] = useState(null);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [refreshTrigger, filterTime, filterType, filterStatus, sortBy, sortOrder]);\r\n\r\n  const loadData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const filters = {\r\n        sortBy,\r\n        sortOrder\r\n      };\r\n\r\n      if (filterTime !== 'all') {\r\n        filters.timeFilter = filterTime;\r\n      }\r\n      if (filterType !== 'all') {\r\n        filters.eventType = filterType;\r\n      }\r\n      if (filterStatus !== 'all') {\r\n        filters.attendanceStatus = filterStatus;\r\n      }\r\n\r\n      const [eventsResponse, statsResponse] = await Promise.all([\r\n        getNetworkingEvents(filters),\r\n        getNetworkingStats()\r\n      ]);\r\n\r\n      setEvents(Array.isArray(eventsResponse?.data) ? eventsResponse.data : []);\r\n      setStats(statsResponse?.data || null);\r\n    } catch (error) {\r\n      console.error('Error loading networking events:', error);\r\n      toast.error('Failed to load networking events');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddEvent = () => {\r\n    setEditingEvent(null);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleEditEvent = (event) => {\r\n    setEditingEvent(event);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleSaveEvent = async (eventData) => {\r\n    try {\r\n      if (editingEvent) {\r\n        await updateNetworkingEvent(editingEvent._id, eventData);\r\n        toast.success('Event updated successfully');\r\n      } else {\r\n        await createNetworkingEvent(eventData);\r\n        toast.success('Event created successfully');\r\n      }\r\n      setShowModal(false);\r\n      setEditingEvent(null);\r\n      loadData();\r\n    } catch (error) {\r\n      console.error('Error saving event:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleImportEvent = async (eventData) => {\r\n    try {\r\n      await createNetworkingEvent(eventData);\r\n      setShowDiscoveryModal(false);\r\n      loadData();\r\n    } catch (error) {\r\n      console.error('Error importing event:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleDeleteEvent = (event) => {\r\n    setDeletingEvent(event);\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!deletingEvent) return;\r\n    setIsDeleting(true);\r\n    try {\r\n      const idToDelete = typeof deletingEvent === 'string'\r\n        ? deletingEvent\r\n        : deletingEvent._id || deletingEvent.id;\r\n\r\n      if (!idToDelete) throw new Error('Invalid event id');\r\n\r\n      await deleteNetworkingEvent(idToDelete);\r\n      toast.success('Event deleted successfully');\r\n      setShowDeleteModal(false);\r\n      setDeletingEvent(null);\r\n      loadData();\r\n    } catch (error) {\r\n      console.error('Error deleting event:', error);\r\n      toast.error('Failed to delete event');\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Networking Events</h2>\r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            onClick={() => setShowDiscoveryModal(true)}\r\n            className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition font-medium\"\r\n          >\r\n            Discover Events\r\n          </button>\r\n          <button\r\n            onClick={handleAddEvent}\r\n            className=\"px-4 py-2 bg-[#777C6D] hover:bg-[#656A5C] text-white rounded-lg transition font-medium\"\r\n          >\r\n            + Add Event\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      {stats && (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"bg-white p-4 rounded-xl border border-gray-200\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                <Calendar size={24} className=\"text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">{stats.upcomingEvents}</div>\r\n                <div className=\"text-sm text-gray-600\">Upcoming</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white p-4 rounded-xl border border-gray-200\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n                <Calendar size={24} className=\"text-purple-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">{stats.attendedEvents}</div>\r\n                <div className=\"text-sm text-gray-600\">Attended</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white p-4 rounded-xl border border-gray-200\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                <Users size={24} className=\"text-green-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">{stats.totalConnections}</div>\r\n                <div className=\"text-sm text-gray-600\">Connections</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white p-4 rounded-xl border border-gray-200\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n                <Target size={24} className=\"text-yellow-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">{stats.goalCompletionRate}%</div>\r\n                <div className=\"text-sm text-gray-600\">Goals Achieved</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <div className=\"bg-white p-4 rounded-xl border border-gray-200\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          {/* Time Filter */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Time</label>\r\n            <select\r\n              value={filterTime}\r\n              onChange={(e) => setFilterTime(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500\"\r\n            >\r\n              <option value=\"all\">All Events</option>\r\n              <option value=\"upcoming\">Upcoming</option>\r\n              <option value=\"past\">Past</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Type Filter */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Event Type</label>\r\n            <select\r\n              value={filterType}\r\n              onChange={(e) => setFilterType(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500\"\r\n            >\r\n              <option value=\"all\">All Types</option>\r\n              <option value=\"Conference\">Conference</option>\r\n              <option value=\"Meetup\">Meetup</option>\r\n              <option value=\"Career Fair\">Career Fair</option>\r\n              <option value=\"Workshop\">Workshop</option>\r\n              <option value=\"Webinar\">Webinar</option>\r\n              <option value=\"Social Event\">Social Event</option>\r\n              <option value=\"Industry Mixer\">Industry Mixer</option>\r\n              <option value=\"Other\">Other</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Status Filter */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\r\n            <select\r\n              value={filterStatus}\r\n              onChange={(e) => setFilterStatus(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500\"\r\n            >\r\n              <option value=\"all\">All Statuses</option>\r\n              <option value=\"Planning to Attend\">Planning to Attend</option>\r\n              <option value=\"Registered\">Registered</option>\r\n              <option value=\"Attended\">Attended</option>\r\n              <option value=\"Missed\">Missed</option>\r\n              <option value=\"Cancelled\">Cancelled</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Sort By */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Sort By</label>\r\n            <select\r\n              value={sortBy}\r\n              onChange={(e) => setSortBy(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500\"\r\n            >\r\n              <option value=\"eventDate\">Event Date</option>\r\n              <option value=\"name\">Name</option>\r\n              <option value=\"createdAt\">Date Added</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Events List */}\r\n      {events.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-gray-50 rounded-xl\">\r\n          <Calendar size={48} className=\"mx-auto text-gray-400 mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Networking Events Yet</h3>\r\n          <p className=\"text-gray-600 mb-4\">\r\n            {filterTime !== 'all' || filterType !== 'all' || filterStatus !== 'all'\r\n              ? 'No events match your filters'\r\n              : 'Start tracking networking events to build strategic professional relationships'}\r\n          </p>\r\n          <button\r\n            onClick={handleAddEvent}\r\n            className=\"px-6 py-2 bg-[#777C6D] hover:bg-[#656A5C] text-white rounded-lg transition font-medium\"\r\n          >\r\n            Add Your First Event\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {(showAll ? events : events.slice(0, 3)).map((event) => (\r\n              <NetworkingEventCard\r\n                key={event._id}\r\n                event={event}\r\n                onEdit={handleEditEvent}\r\n                onDelete={handleDeleteEvent}\r\n              />\r\n            ))}\r\n          </div>\r\n          {events.length > 3 && (\r\n            <div className=\"flex justify-center mt-2\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowAll(v => !v)}\r\n                className=\"px-6 py-2 text-white rounded-lg transition focus:outline-none focus:ring-2 focus:ring-offset-2\"\r\n                style={{ backgroundColor: '#777C6D' }}\r\n                onMouseOver={e => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                onMouseOut={e => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n              >\r\n                {showAll ? 'View Less' : `View More (${events.length - 3} more)`}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Event Modal */}\r\n      {showModal && (\r\n        <NetworkingEventModal\r\n          event={editingEvent}\r\n          onClose={() => {\r\n            setShowModal(false);\r\n            setEditingEvent(null);\r\n          }}\r\n          onSave={handleSaveEvent}\r\n        />\r\n      )}\r\n\r\n      {/* Discovery Modal */}\r\n      {showDiscoveryModal && (\r\n        <EventDiscoveryModal\r\n          onClose={() => setShowDiscoveryModal(false)}\r\n          onImport={handleImportEvent}\r\n        />\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      <DeleteConfirmationModal\r\n        showModal={showDeleteModal}\r\n        itemToDelete={deletingEvent}\r\n        itemType=\"networking event\"\r\n        itemDetails={{\r\n          name: deletingEvent?.name || '',\r\n          subtitle: deletingEvent?.eventDate \r\n            ? new Date(deletingEvent.eventDate).toLocaleDateString('en-US', {\r\n                month: 'long',\r\n                day: 'numeric',\r\n                year: 'numeric'\r\n              })\r\n            : ''\r\n        }}\r\n        onClose={() => {\r\n          setShowDeleteModal(false);\r\n          setDeletingEvent(null);\r\n        }}\r\n        onConfirm={confirmDelete}\r\n        isDeleting={isDeleting}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NetworkingEventList;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\NetworkingEventModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":152,"column":5,"nodeType":"JSXOpeningElement","endLine":156,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":152,"column":5,"nodeType":"JSXOpeningElement","endLine":156,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":157,"column":7,"nodeType":"JSXOpeningElement","endLine":157,"endColumn":135},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":157,"column":7,"nodeType":"JSXOpeningElement","endLine":157,"endColumn":135},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":209,"column":17,"nodeType":"JSXOpeningElement","endLine":209,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":229,"column":17,"nodeType":"JSXOpeningElement","endLine":229,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":286,"column":13,"nodeType":"JSXOpeningElement","endLine":286,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":410,"column":19,"nodeType":"JSXOpeningElement","endLine":410,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":423,"column":19,"nodeType":"JSXOpeningElement","endLine":423,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":470,"column":13,"nodeType":"JSXOpeningElement","endLine":470,"endColumn":77}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { X, Plus, Trash2 } from 'lucide-react';\r\nimport Button from '../Button';\r\nimport InputField from '../InputField';\r\n\r\nexport default function NetworkingEventModal({ event, onClose, onSave }) {\r\n  // Close modal when clicking on backdrop (but not when clicking modal content)\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    eventDate: '',\r\n    endDate: '',\r\n    location: '',\r\n    eventType: 'Other',\r\n    isVirtual: false,\r\n    virtualLink: '',\r\n    industry: '',\r\n    description: '',\r\n    attendanceStatus: 'Planning to Attend',\r\n    preparationNotes: '',\r\n    preparationCompleted: false,\r\n    goals: [],\r\n    targetConnectionCount: '',\r\n    connectionsGained: 0,\r\n    jobLeadsGenerated: 0,\r\n    roiRating: '',\r\n    keyTakeaways: '',\r\n    postEventNotes: '',\r\n    organizer: '',\r\n    website: '',\r\n    cost: '',\r\n    tags: []\r\n  });\r\n\r\n  const [newGoal, setNewGoal] = useState('');\r\n  const [newTag, setNewTag] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (event) {\r\n      setFormData({\r\n        name: event.name || '',\r\n        eventDate: event.eventDate ? new Date(event.eventDate).toISOString().slice(0, 16) : '',\r\n        endDate: event.endDate ? new Date(event.endDate).toISOString().slice(0, 16) : '',\r\n        location: event.location || '',\r\n        eventType: event.eventType || 'Other',\r\n        isVirtual: event.isVirtual || false,\r\n        virtualLink: event.virtualLink || '',\r\n        industry: event.industry || '',\r\n        description: event.description || '',\r\n        attendanceStatus: event.attendanceStatus || 'Planning to Attend',\r\n        preparationNotes: event.preparationNotes || '',\r\n        preparationCompleted: event.preparationCompleted || false,\r\n        goals: event.goals || [],\r\n        targetConnectionCount: event.targetConnectionCount || '',\r\n        connectionsGained: event.connectionsGained || 0,\r\n        jobLeadsGenerated: event.jobLeadsGenerated || 0,\r\n        roiRating: event.roiRating || '',\r\n        keyTakeaways: event.keyTakeaways || '',\r\n        postEventNotes: event.postEventNotes || '',\r\n        organizer: event.organizer || '',\r\n        website: event.website || '',\r\n        cost: event.cost || '',\r\n        tags: event.tags || []\r\n      });\r\n    }\r\n  }, [event]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const handleAddGoal = () => {\r\n    if (newGoal.trim()) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        goals: [...prev.goals, { description: newGoal.trim(), achieved: false }]\r\n      }));\r\n      setNewGoal('');\r\n    }\r\n  };\r\n\r\n  const handleRemoveGoal = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      goals: prev.goals.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handleToggleGoalAchieved = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      goals: prev.goals.map((goal, i) =>\r\n        i === index ? { ...goal, achieved: !goal.achieved } : goal\r\n      )\r\n    }));\r\n  };\r\n\r\n  const handleAddTag = () => {\r\n    if (newTag.trim() && !formData.tags.includes(newTag.trim())) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        tags: [...prev.tags, newTag.trim()]\r\n      }));\r\n      setNewTag('');\r\n    }\r\n  };\r\n\r\n  const handleRemoveTag = (tagToRemove) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      tags: prev.tags.filter(tag => tag !== tagToRemove)\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Prepare data for submission\r\n      const submitData = {\r\n        ...formData,\r\n        targetConnectionCount: formData.targetConnectionCount ? Number(formData.targetConnectionCount) : undefined,\r\n        connectionsGained: Number(formData.connectionsGained),\r\n        jobLeadsGenerated: Number(formData.jobLeadsGenerated),\r\n        roiRating: formData.roiRating ? Number(formData.roiRating) : undefined,\r\n        cost: formData.cost ? Number(formData.cost) : undefined\r\n      };\r\n\r\n      await onSave(submitData);\r\n      onClose();\r\n    } catch (err) {\r\n      console.error('Error saving networking event:', err);\r\n      setError(err.response?.data?.message || 'Failed to save networking event');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">\r\n            {event ? 'Edit Networking Event' : 'Add Networking Event'}\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600\"\r\n            aria-label=\"Close modal\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Basic Information */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-3\">Basic Information</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"md:col-span-2\">\r\n                <InputField\r\n                  label=\"Event Name *\"\r\n                  name=\"name\"\r\n                  value={formData.name}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <InputField\r\n                label=\"Event Date & Time *\"\r\n                name=\"eventDate\"\r\n                type=\"datetime-local\"\r\n                value={formData.eventDate}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              <InputField\r\n                label=\"End Date & Time\"\r\n                name=\"endDate\"\r\n                type=\"datetime-local\"\r\n                value={formData.endDate}\r\n                onChange={handleChange}\r\n              />\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Event Type\r\n                </label>\r\n                <select\r\n                  name=\"eventType\"\r\n                  value={formData.eventType}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"Conference\">Conference</option>\r\n                  <option value=\"Meetup\">Meetup</option>\r\n                  <option value=\"Career Fair\">Career Fair</option>\r\n                  <option value=\"Workshop\">Workshop</option>\r\n                  <option value=\"Webinar\">Webinar</option>\r\n                  <option value=\"Social Event\">Social Event</option>\r\n                  <option value=\"Industry Mixer\">Industry Mixer</option>\r\n                  <option value=\"Other\">Other</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Attendance Status\r\n                </label>\r\n                <select\r\n                  name=\"attendanceStatus\"\r\n                  value={formData.attendanceStatus}\r\n                  onChange={handleChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"Planning to Attend\">Planning to Attend</option>\r\n                  <option value=\"Registered\">Registered</option>\r\n                  <option value=\"Attended\">Attended</option>\r\n                  <option value=\"Missed\">Missed</option>\r\n                  <option value=\"Cancelled\">Cancelled</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <label className=\"flex items-center cursor-pointer\">\r\n                  <input\r\n                  type=\"checkbox\"\r\n                  name=\"isVirtual\"\r\n                  checked={formData.isVirtual}\r\n                  onChange={handleChange}\r\n                    className=\"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500\"\r\n                />\r\n                <span className=\"ml-2 text-sm text-gray-700\">Virtual Event</span>\r\n              </label>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\r\n              {formData.isVirtual ? (\r\n                <InputField\r\n                  label=\"Virtual Link\"\r\n                  name=\"virtualLink\"\r\n                  value={formData.virtualLink}\r\n                  onChange={handleChange}\r\n                  placeholder=\"https://...\"\r\n                />\r\n              ) : (\r\n                <InputField\r\n                  label=\"Location\"\r\n                  name=\"location\"\r\n                  value={formData.location}\r\n                  onChange={handleChange}\r\n                />\r\n              )}\r\n              <InputField\r\n                label=\"Industry\"\r\n                name=\"industry\"\r\n                value={formData.industry}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Description\r\n            </label>\r\n              <textarea\r\n              name=\"description\"\r\n              value={formData.description}\r\n              onChange={handleChange}\r\n              rows={3}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n              placeholder=\"Brief description of the event...\"\r\n            />\r\n          </div>\r\n\r\n          {/* Networking Goals */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-3\">Networking Goals</h3>\r\n            <div className=\"flex gap-2 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                value={newGoal}\r\n                onChange={(e) => setNewGoal(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddGoal())}\r\n                placeholder=\"Add a networking goal...\"\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n              />\r\n              <Button type=\"button\" onClick={handleAddGoal} variant=\"secondary\">\r\n                <Plus size={20} />\r\n              </Button>\r\n            </div>\r\n            {formData.goals.length > 0 && (\r\n              <ul className=\"space-y-2\">\r\n                {formData.goals.map((goal, index) => (\r\n                  <li key={index} className=\"flex items-center gap-2 p-2 bg-gray-50 rounded-lg\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={goal.achieved}\r\n                      onChange={() => handleToggleGoalAchieved(index)}\r\n                      className=\"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500\"\r\n                    />\r\n                    <span className={`flex-1 ${goal.achieved ? 'line-through text-gray-500' : ''}`}>\r\n                      {goal.description}\r\n                    </span>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleRemoveGoal(index)}\r\n                      className=\"p-1 hover:bg-red-100 rounded transition text-red-600\"\r\n                    >\r\n                      <Trash2 size={16} />\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n            <div className=\"mt-4\">\r\n              <InputField\r\n                label=\"Target Connection Count\"\r\n                name=\"targetConnectionCount\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                value={formData.targetConnectionCount}\r\n                onChange={handleChange}\r\n                placeholder=\"How many people do you want to connect with?\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Preparation */}\r\n          {new Date(formData.eventDate) > new Date() && (\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold mb-3\">Pre-Event Preparation</h3>\r\n              <textarea\r\n                name=\"preparationNotes\"\r\n                value={formData.preparationNotes}\r\n                onChange={handleChange}\r\n                rows={3}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent mb-3\"\r\n                placeholder=\"Research notes, talking points, preparation checklist...\"\r\n              />\r\n              <label className=\"flex items-center cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"preparationCompleted\"\r\n                  checked={formData.preparationCompleted}\r\n                  onChange={handleChange}\r\n                  className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                />\r\n                <span className=\"ml-2 text-sm text-gray-700\">Preparation Completed</span>\r\n              </label>\r\n            </div>\r\n          )}\r\n\r\n          {/* Post-Event Tracking */}\r\n          {formData.attendanceStatus === 'Attended' && (\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold mb-3\">Post-Event Tracking</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n                <InputField\r\n                  label=\"Connections Made\"\r\n                  name=\"connectionsGained\"\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  value={formData.connectionsGained}\r\n                  onChange={handleChange}\r\n                />\r\n                <InputField\r\n                  label=\"Job Leads Generated\"\r\n                  name=\"jobLeadsGenerated\"\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  value={formData.jobLeadsGenerated}\r\n                  onChange={handleChange}\r\n                />\r\n                <InputField\r\n                  label=\"ROI Rating (1-5)\"\r\n                  name=\"roiRating\"\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  max=\"5\"\r\n                  value={formData.roiRating}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Key Takeaways\r\n                  </label>\r\n                  <textarea\r\n                    name=\"keyTakeaways\"\r\n                    value={formData.keyTakeaways}\r\n                    onChange={handleChange}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                    placeholder=\"Important insights, lessons learned...\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Post-Event Notes\r\n                  </label>\r\n                  <textarea\r\n                    name=\"postEventNotes\"\r\n                    value={formData.postEventNotes}\r\n                    onChange={handleChange}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                    placeholder=\"Follow-up actions, additional notes...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Additional Details */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-3\">Additional Details</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <InputField\r\n                label=\"Organizer\"\r\n                name=\"organizer\"\r\n                value={formData.organizer}\r\n                onChange={handleChange}\r\n              />\r\n              <InputField\r\n                label=\"Website\"\r\n                name=\"website\"\r\n                value={formData.website}\r\n                onChange={handleChange}\r\n                placeholder=\"https://...\"\r\n              />\r\n              <InputField\r\n                label=\"Cost ($)\"\r\n                name=\"cost\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                step=\"0.01\"\r\n                value={formData.cost}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Tags */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Tags</label>\r\n            <div className=\"flex gap-2 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                value={newTag}\r\n                onChange={(e) => setNewTag(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddTag())}\r\n                placeholder=\"Add a tag...\"\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n              />\r\n              <Button type=\"button\" onClick={handleAddTag} variant=\"secondary\">\r\n                <Plus size={20} />\r\n              </Button>\r\n            </div>\r\n            {formData.tags.length > 0 && (\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {formData.tags.map((tag, index) => (\r\n                  <span\r\n                    key={index}\r\n                    className=\"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm flex items-center gap-2\"\r\n                  >\r\n                    {tag}\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleRemoveTag(tag)}\r\n                      className=\"hover:text-red-600\"\r\n                    >\r\n                      <X size={14} />\r\n                    </button>\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Form Actions */}\r\n          <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n            <Button type=\"button\" variant=\"secondary\" onClick={onClose} disabled={loading}>\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={loading} className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\">\r\n              {loading ? 'Saving...' : event ? 'Update Event' : 'Create Event'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\OutreachModal.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'generateTemplate'. Either include it or remove the dependency array.","line":138,"column":6,"nodeType":"ArrayExpression","endLine":138,"endColumn":23,"suggestions":[{"desc":"Update the dependencies array to be: [isOpen, contact, generateTemplate]","fix":{"range":[7032,7049],"text":"[isOpen, contact, generateTemplate]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":183,"column":5,"nodeType":"JSXOpeningElement","endLine":187,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":183,"column":5,"nodeType":"JSXOpeningElement","endLine":187,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":188,"column":7,"nodeType":"JSXOpeningElement","endLine":188,"endColumn":135},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":188,"column":7,"nodeType":"JSXOpeningElement","endLine":188,"endColumn":135},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":235,"column":13,"nodeType":"JSXOpeningElement","endLine":235,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":291,"column":15,"nodeType":"JSXOpeningElement","endLine":291,"endColumn":79},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":305,"column":13,"nodeType":"JSXOpeningElement","endLine":305,"endColumn":77}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { X, Sparkles, Send, Copy, CheckCircle, Mail, MessageSquare, Linkedin } from 'lucide-react';\r\nimport Button from '../Button';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst OUTREACH_TEMPLATES = {\r\n  '2nd Degree': {\r\n    subject: 'Introduction via Mutual Connection',\r\n    template: (contact) => `Hi ${contact.firstName},\r\n\r\nI hope this message finds you well! I noticed we're connected through ${contact.mutualConnections?.[0] || 'a mutual connection'}, and I was really impressed by your work as ${contact.jobTitle} at ${contact.company}.\r\n\r\nI'm currently exploring opportunities in the ${contact.industry} space and would love to learn more about your experience. Your background in ${contact.interests?.[0] || 'the industry'} particularly caught my attention.\r\n\r\nWould you be open to a brief 15-20 minute conversation sometime in the next few weeks? I'd be grateful for any insights you could share about your career path and the industry landscape.\r\n\r\nThank you for considering my request!\r\n\r\nBest regards`\r\n  },\r\n  '3rd Degree': {\r\n    subject: 'Networking Request - Shared Industry Interest',\r\n    template: (contact) => `Hi ${contact.firstName},\r\n\r\nI came across your profile and was impressed by your role as ${contact.jobTitle} at ${contact.company}. I'm currently exploring the ${contact.industry} industry and am eager to connect with professionals who have valuable experience in this field.\r\n\r\nI noticed we share interests in ${contact.interests?.slice(0, 2).join(' and ') || 'similar areas'}, and I believe there could be great value in connecting.\r\n\r\nWould you be open to a brief virtual coffee chat? I'd love to hear about your journey and any advice you might have for someone looking to grow in this space.\r\n\r\nLooking forward to potentially connecting!\r\n\r\nBest regards`\r\n  },\r\n  'Alumni': {\r\n    subject: 'Fellow Alumni Reaching Out',\r\n    template: (contact) => `Hi ${contact.firstName},\r\n\r\nI hope you're doing well! I noticed that we both attended ${contact.university}, and I wanted to reach out as a fellow alum.\r\n\r\nYour career path as ${contact.jobTitle} at ${contact.company} is really inspiring, and I'd love to learn more about how you navigated your journey from ${contact.university} to where you are today.\r\n\r\nAs someone interested in ${contact.industry}, I would greatly appreciate any insights you could share about breaking into the field and building a successful career.\r\n\r\nWould you have 15-20 minutes for a quick chat sometime? I promise to be respectful of your time!\r\n\r\nGo ${contact.university?.split(' ')[0] || 'team'}! ≡ƒÄô\r\n\r\nBest regards`\r\n  },\r\n  'Industry Leader': {\r\n    subject: 'Admiring Your Work in ${contact.industry}',\r\n    template: (contact) => `Dear ${contact.firstName},\r\n\r\nI've been following your work in the ${contact.industry} industry, and I'm truly inspired by your accomplishments as ${contact.jobTitle} at ${contact.company}.\r\n\r\nYour insights on ${contact.interests?.[0] || 'industry trends'} have been particularly valuable to me as I develop my own career in this space.\r\n\r\nI understand you must be incredibly busy, but if you ever have a few minutes for a brief conversation, I would be honored to learn from your experience. I'm especially curious about ${contact.interests?.[1] || 'your career journey'} and how you've navigated the evolving landscape.\r\n\r\nThank you for the value you bring to our industry!\r\n\r\nRespectfully`\r\n  },\r\n  'Conference Speaker': {\r\n    subject: 'Inspired by Your Recent Talk',\r\n    template: (contact) => `Hi ${contact.firstName},\r\n\r\nI recently had the pleasure of learning about your speaking work on ${contact.speakerTopics?.[0] || 'industry topics'}. Your perspectives on ${contact.speakerTopics?.[1] || contact.interests?.[0] || 'the field'} were truly eye-opening.\r\n\r\nAs someone passionate about ${contact.industry}, I found your insights incredibly valuable and would love the opportunity to discuss some of the ideas you shared.\r\n\r\nWould you be open to a brief conversation? I have some specific questions about ${contact.speakerTopics?.[0] || 'the topics you covered'} that I think could really help me in my career development.\r\n\r\nThank you for sharing your knowledge with the community!\r\n\r\nBest regards`\r\n  },\r\n  'Company Employee': {\r\n    subject: 'Learning About Life at ${contact.company}',\r\n    template: (contact) => `Hi ${contact.firstName},\r\n\r\nI hope this message finds you well! I'm very interested in ${contact.company} and noticed your role as ${contact.jobTitle}. The company's work in ${contact.industry} really aligns with my career interests.\r\n\r\nI'm exploring opportunities in this space and would love to learn more about the culture and your experience at ${contact.company}. Your perspective as someone working on the inside would be invaluable.\r\n\r\nWould you be open to a brief informational conversation? I'd love to hear about:\r\nΓÇó What you enjoy most about working at ${contact.company}\r\nΓÇó The team dynamics and culture\r\nΓÇó Any advice for someone interested in joining\r\n\r\nThank you for considering my request!\r\n\r\nBest regards`\r\n  },\r\n  'Diversity Network': {\r\n    subject: 'Connecting Through Our Shared Community',\r\n    template: (contact) => `Hi ${contact.firstName},\r\n\r\nI came across your profile and was excited to see that we're both part of ${contact.diversityGroups?.[0] || 'similar professional communities'}. It's always wonderful to connect with fellow professionals who share our commitment to building an inclusive industry.\r\n\r\nYour work as ${contact.jobTitle} at ${contact.company} is inspiring, and I'd love to hear more about your journey and how our community has supported your career growth.\r\n\r\nWould you be open to connecting for a brief conversation? I believe we could have a meaningful exchange about navigating the ${contact.industry} industry and supporting each other's professional development.\r\n\r\nLooking forward to potentially connecting!\r\n\r\nWarm regards`\r\n  }\r\n};\r\n\r\nconst DEFAULT_TEMPLATE = {\r\n  subject: 'Professional Networking Request',\r\n  template: (contact) => `Hi ${contact.firstName},\r\n\r\nI hope this message finds you well. I came across your profile and was impressed by your work as ${contact.jobTitle} at ${contact.company}.\r\n\r\nI'm currently exploring opportunities in the ${contact.industry} space and am always looking to connect with professionals who have valuable experience and insights.\r\n\r\nWould you be open to a brief conversation? I'd love to learn more about your career journey and any advice you might have.\r\n\r\nThank you for your time!\r\n\r\nBest regards`\r\n};\r\n\r\nexport default function OutreachModal({ isOpen, onClose, contact }) {\r\n  const [messageContent, setMessageContent] = useState('');\r\n  const [subject, setSubject] = useState('');\r\n  const [selectedChannel, setSelectedChannel] = useState('email');\r\n  const [copied, setCopied] = useState(false);\r\n  const [generating, setGenerating] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && contact) {\r\n      generateTemplate();\r\n    }\r\n  }, [isOpen, contact]);\r\n\r\n  const generateTemplate = () => {\r\n    setGenerating(true);\r\n    \r\n    // Small delay for UX\r\n    setTimeout(() => {\r\n      const templateConfig = OUTREACH_TEMPLATES[contact.connectionType] || DEFAULT_TEMPLATE;\r\n      const generatedSubject = templateConfig.subject.replace('${contact.industry}', contact.industry || 'the industry')\r\n                                                       .replace('${contact.company}', contact.company || 'your company');\r\n      const generatedMessage = templateConfig.template(contact);\r\n      \r\n      setSubject(generatedSubject);\r\n      setMessageContent(generatedMessage);\r\n      setGenerating(false);\r\n    }, 500);\r\n  };\r\n\r\n  const handleCopy = () => {\r\n    const fullMessage = selectedChannel === 'email' \r\n      ? `Subject: ${subject}\\n\\n${messageContent}`\r\n      : messageContent;\r\n    \r\n    navigator.clipboard.writeText(fullMessage);\r\n    setCopied(true);\r\n    toast.success('Message copied to clipboard!');\r\n    setTimeout(() => setCopied(false), 3000);\r\n  };\r\n\r\n  const handleSendEmail = () => {\r\n    const mailtoLink = `mailto:${contact.email || ''}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(messageContent)}`;\r\n    window.open(mailtoLink, '_blank');\r\n    toast.success('Opening email client...');\r\n  };\r\n\r\n  const handleOpenLinkedIn = () => {\r\n    if (contact.linkedInUrl) {\r\n      window.open(contact.linkedInUrl, '_blank');\r\n      toast.success('Opening LinkedIn profile...');\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={(e) => { if (e.target === e.currentTarget) onClose(); }}\r\n    >\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n          <div>\r\n            <h2 className=\"text-xl font-bold text-gray-900\">Initiate Outreach</h2>\r\n            <p className=\"text-sm text-gray-600\">\r\n              Personalized message for {contact.fullName}\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 p-1\"\r\n            aria-label=\"Close modal\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-6 space-y-6\">\r\n          {/* Contact Info Card */}\r\n          <div className=\"bg-gray-50 rounded-lg p-4 flex items-center gap-4\">\r\n            <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-semibold text-lg\">\r\n              {contact.firstName?.[0] || '?'}{contact.lastName?.[0] || ''}\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <h3 className=\"font-semibold text-gray-900\">{contact.fullName}</h3>\r\n              <p className=\"text-sm text-gray-600\">{contact.jobTitle} at {contact.company}</p>\r\n              <div className=\"flex items-center gap-2 mt-1\">\r\n                <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\r\n                  contact.connectionType === 'Alumni' ? 'bg-purple-100 text-purple-700' :\r\n                  contact.connectionType === '2nd Degree' ? 'bg-blue-100 text-blue-700' :\r\n                  contact.connectionType === 'Company Employee' ? 'bg-indigo-100 text-indigo-700' :\r\n                  'bg-gray-100 text-gray-700'\r\n                }`}>\r\n                  {contact.connectionType}\r\n                </span>\r\n                {contact.mutualConnectionCount > 0 && (\r\n                  <span className=\"text-xs text-gray-500\">\r\n                    {contact.mutualConnectionCount} mutual connection{contact.mutualConnectionCount > 1 ? 's' : ''}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Channel Selection */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Outreach Channel\r\n            </label>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={() => setSelectedChannel('email')}\r\n                className={`flex items-center gap-2 px-4 py-2 rounded-lg border-2 transition ${\r\n                  selectedChannel === 'email'\r\n                    ? 'border-primary-600 bg-primary-50 text-primary-700'\r\n                    : 'border-gray-200 text-gray-600 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Mail size={18} />\r\n                Email\r\n              </button>\r\n              <button\r\n                onClick={() => setSelectedChannel('linkedin')}\r\n                className={`flex items-center gap-2 px-4 py-2 rounded-lg border-2 transition ${\r\n                  selectedChannel === 'linkedin'\r\n                    ? 'border-primary-600 bg-primary-50 text-primary-700'\r\n                    : 'border-gray-200 text-gray-600 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Linkedin size={18} />\r\n                LinkedIn\r\n              </button>\r\n              <button\r\n                onClick={() => setSelectedChannel('message')}\r\n                className={`flex items-center gap-2 px-4 py-2 rounded-lg border-2 transition ${\r\n                  selectedChannel === 'message'\r\n                    ? 'border-primary-600 bg-primary-50 text-primary-700'\r\n                    : 'border-gray-200 text-gray-600 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <MessageSquare size={18} />\r\n                Direct Message\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* AI Generation Indicator */}\r\n          <div className=\"flex items-center gap-2 text-sm text-blue-600 bg-blue-50 rounded-lg p-3\">\r\n            <Sparkles size={16} />\r\n            <span>AI-generated template based on {contact.connectionType} connection type</span>\r\n            <button\r\n              onClick={generateTemplate}\r\n              disabled={generating}\r\n              className=\"ml-auto text-xs underline hover:no-underline\"\r\n            >\r\n              {generating ? 'Regenerating...' : 'Regenerate'}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Subject Line (for email) */}\r\n          {selectedChannel === 'email' && (\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Subject Line\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={subject}\r\n                onChange={(e) => setSubject(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Message Content */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Message\r\n            </label>\r\n            {generating ? (\r\n              <div className=\"w-full h-64 border border-gray-300 rounded-lg flex items-center justify-center bg-gray-50\">\r\n                <div className=\"flex items-center gap-2 text-gray-500\">\r\n                  <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600\"></div>\r\n                  Generating personalized message...\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <textarea\r\n                value={messageContent}\r\n                onChange={(e) => setMessageContent(e.target.value)}\r\n                rows={12}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono text-sm\"\r\n              />\r\n            )}\r\n          </div>\r\n\r\n          {/* Tips */}\r\n          <div className=\"bg-yellow-50 rounded-lg p-4\">\r\n            <h4 className=\"text-sm font-medium text-yellow-800 mb-2\">≡ƒÆí Outreach Tips</h4>\r\n            <ul className=\"text-xs text-yellow-700 space-y-1\">\r\n              <li>ΓÇó Personalize the message with specific details about their work</li>\r\n              <li>ΓÇó Keep it concise - aim for 3-4 short paragraphs</li>\r\n              <li>ΓÇó Be specific about what you're asking for (e.g., 15-min call)</li>\r\n              <li>ΓÇó Follow up if you don't hear back within a week</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer Actions */}\r\n        <div className=\"border-t bg-gray-50 px-6 py-4 flex items-center justify-between\">\r\n          <Button variant=\"outline\" onClick={onClose}>\r\n            Cancel\r\n          </Button>\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={handleCopy}\r\n              className=\"flex items-center gap-2\"\r\n            >\r\n              {copied ? <CheckCircle size={16} /> : <Copy size={16} />}\r\n              {copied ? 'Copied!' : 'Copy Message'}\r\n            </Button>\r\n            {selectedChannel === 'email' && contact.email && (\r\n              <Button\r\n                onClick={handleSendEmail}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                <Send size={16} />\r\n                Open in Email\r\n              </Button>\r\n            )}\r\n            {selectedChannel === 'linkedin' && contact.linkedInUrl && (\r\n              <Button\r\n                onClick={handleOpenLinkedIn}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                <Linkedin size={16} />\r\n                Open LinkedIn\r\n              </Button>\r\n            )}\r\n            {(selectedChannel === 'message' || (selectedChannel === 'email' && !contact.email) || (selectedChannel === 'linkedin' && !contact.linkedInUrl)) && (\r\n              <Button\r\n                onClick={handleCopy}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                <Copy size={16} />\r\n                Copy to Use\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ReferenceFeedbackModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":46,"column":9,"nodeType":"JSXOpeningElement","endLine":50,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":46,"column":9,"nodeType":"JSXOpeningElement","endLine":50,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":51,"column":13,"nodeType":"JSXOpeningElement","endLine":51,"endColumn":111},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":51,"column":13,"nodeType":"JSXOpeningElement","endLine":51,"endColumn":111},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":73,"column":25,"nodeType":"JSXOpeningElement","endLine":73,"endColumn":89},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":88,"column":25,"nodeType":"JSXOpeningElement","endLine":88,"endColumn":89}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport api, { setAuthToken } from '../../api/axios';\r\nimport Button from '../Button';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\n\r\nexport default function ReferenceFeedbackModal({ isOpen, onClose, reference, onSuccess }) {\r\n    const { getToken } = useAuth();\r\n    const [loading, setLoading] = useState(false);\r\n    const [feedback, setFeedback] = useState('');\r\n    const [outcome, setOutcome] = useState('Positive'); // Positive, Neutral, Negative\r\n    const [error, setError] = useState(null);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!feedback.trim()) {\r\n            setError('Please enter some feedback');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n\r\n            await api.post(`/api/contacts/${reference._id}/interactions`, {\r\n                type: 'Reference Feedback',\r\n                notes: `[${outcome}] ${feedback}`,\r\n                date: new Date()\r\n            });\r\n\r\n            onSuccess();\r\n            onClose();\r\n        } catch (err) {\r\n            console.error('Error recording feedback:', err);\r\n            setError(err.response?.data?.message || 'Failed to record feedback');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n            onClick={(e) => { if (e.target === e.currentTarget) onClose(); }}\r\n        >\r\n            <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full\" onClick={e => e.stopPropagation()}>\r\n                <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center rounded-t-lg\">\r\n                    <h3 className=\"text-xl font-bold\">Record Feedback</h3>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600\"\r\n                        aria-label=\"Close modal\"\r\n                    >\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\r\n                    {error && (\r\n                        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded text-sm\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Outcome\r\n                        </label>\r\n                        <select\r\n                            value={outcome}\r\n                            onChange={(e) => setOutcome(e.target.value)}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                        >\r\n                            <option value=\"Positive\">Positive (Agreed/Good Review)</option>\r\n                            <option value=\"Neutral\">Neutral (No Response/Average)</option>\r\n                            <option value=\"Negative\">Negative (Declined/Bad Review)</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Feedback / Notes\r\n                        </label>\r\n                        <textarea\r\n                            value={feedback}\r\n                            onChange={(e) => setFeedback(e.target.value)}\r\n                            rows={4}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                            placeholder=\"e.g., Agreed to be a reference for the Google application...\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-end gap-3 pt-2\">\r\n                        <Button type=\"button\" onClick={onClose} variant=\"outline\">\r\n                            Cancel\r\n                        </Button>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\"\r\n                        >\r\n                            {loading ? 'Saving...' : 'Save Feedback'}\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ReferenceHistoryModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":29,"column":9,"nodeType":"JSXOpeningElement","endLine":33,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":29,"column":9,"nodeType":"JSXOpeningElement","endLine":33,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":34,"column":13,"nodeType":"JSXOpeningElement","endLine":34,"endColumn":141},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":34,"column":13,"nodeType":"JSXOpeningElement","endLine":34,"endColumn":141}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Button from '../Button';\r\n\r\nexport default function ReferenceHistoryModal({ isOpen, onClose, reference }) {\r\n    if (!isOpen) return null;\r\n\r\n    // Filter for reference-related interactions\r\n    const history = reference.interactions\r\n        ?.filter(i => ['Reference Request', 'Reference Feedback'].includes(i.type))\r\n        .sort((a, b) => new Date(b.date) - new Date(a.date)) || [];\r\n\r\n    const formatDate = (date) => {\r\n        return new Date(date).toLocaleDateString('en-US', {\r\n            month: 'short',\r\n            day: 'numeric',\r\n            year: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n        });\r\n    };\r\n\r\n    const getJobInfo = (interaction) => {\r\n        if (!interaction.jobId) return null;\r\n        // Try to find job details in linkedJobIds if populated\r\n        const job = reference.linkedJobIds?.find(j => j._id === interaction.jobId);\r\n        return job ? `${job.jobTitle} at ${job.company}` : 'Job Application';\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n            onClick={(e) => { if (e.target === e.currentTarget) onClose(); }}\r\n        >\r\n            <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n                <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n                    <div>\r\n                        <h3 className=\"text-xl font-bold\">Reference History</h3>\r\n                        <p className=\"text-sm text-gray-600\">{reference.firstName} {reference.lastName}</p>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600\"\r\n                        aria-label=\"Close modal\"\r\n                    >\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"p-6\">\r\n                    {history.length === 0 ? (\r\n                        <div className=\"text-center py-8 text-gray-500\">\r\n                            <p>No reference history found.</p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"space-y-6\">\r\n                            {history.map((item, index) => (\r\n                                <div key={index} className=\"flex gap-4\">\r\n                                    <div className=\"flex flex-col items-center\">\r\n                                        <div className={`w-3 h-3 rounded-full mt-1.5 ${item.type === 'Reference Request' ? 'bg-blue-500' : 'bg-green-500'\r\n                                            }`} />\r\n                                        {index !== history.length - 1 && (\r\n                                            <div className=\"w-0.5 h-full bg-gray-200 my-1\" />\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"flex-1 pb-4\">\r\n                                        <div className=\"flex justify-between items-start\">\r\n                                            <h4 className=\"font-medium text-gray-900\">{item.type}</h4>\r\n                                            <span className=\"text-xs text-gray-500\">{formatDate(item.date)}</span>\r\n                                        </div>\r\n\r\n                                        {item.jobId && (\r\n                                            <p className=\"text-sm text-gray-600 mt-1 font-medium\">\r\n                                                For: {getJobInfo(item)}\r\n                                            </p>\r\n                                        )}\r\n\r\n                                        {item.notes && (\r\n                                            <div className=\"mt-2 bg-gray-50 p-3 rounded text-sm text-gray-700 whitespace-pre-wrap\">\r\n                                                {item.notes}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"sticky bottom-0 bg-gray-50 px-6 py-4 border-t flex justify-end\">\r\n                    <Button onClick={onClose} variant=\"outline\">\r\n                        Close\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ReferencePortfolio.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":255,"column":7,"nodeType":"JSXOpeningElement","endLine":259,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":255,"column":7,"nodeType":"JSXOpeningElement","endLine":259,"endColumn":8},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":260,"column":9,"nodeType":"JSXOpeningElement","endLine":260,"endColumn":150},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":260,"column":9,"nodeType":"JSXOpeningElement","endLine":260,"endColumn":150}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useRef } from 'react';\r\nimport Button from '../Button';\r\n\r\nexport default function ReferencePortfolio({ references, onClose }) {\r\n  const printRef = useRef();\r\n\r\n  const handlePrint = () => {\r\n    // Create a new window for printing\r\n    const printWindow = window.open('', '_blank');\r\n    if (!printWindow) {\r\n      alert('Please allow popups to print this document');\r\n      return;\r\n    }\r\n\r\n    // Build the HTML content\r\n    const printContent = `\r\n      <!DOCTYPE html>\r\n      <html>\r\n        <head>\r\n          <title>Professional References</title>\r\n          <style>\r\n            @page {\r\n              size: letter;\r\n              margin: 0.4in;\r\n            }\r\n            body {\r\n              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\r\n              color: #1f2937;\r\n              line-height: 1.4;\r\n              margin: 0;\r\n              padding: 10px;\r\n            }\r\n            .header {\r\n              text-align: center;\r\n              margin-bottom: 16px;\r\n              padding-bottom: 8px;\r\n              border-bottom: 2px solid #d1d5db;\r\n            }\r\n            .header h1 {\r\n              font-size: 24px;\r\n              font-weight: bold;\r\n              color: #111827;\r\n              margin-bottom: 4px;\r\n            }\r\n            .header p {\r\n              color: #4b5563;\r\n              margin: 2px 0;\r\n              font-size: 13px;\r\n            }\r\n            .reference-item {\r\n              border-bottom: 1px solid #e5e7eb;\r\n              padding-bottom: 12px;\r\n              margin-bottom: 12px;\r\n              page-break-inside: avoid;\r\n            }\r\n            .reference-item:last-child {\r\n              border-bottom: none;\r\n            }\r\n            .reference-name {\r\n              font-size: 16px;\r\n              font-weight: bold;\r\n              color: #111827;\r\n              margin-bottom: 4px;\r\n            }\r\n            .reference-title {\r\n              font-size: 14px;\r\n              color: #374151;\r\n              margin-bottom: 2px;\r\n            }\r\n            .reference-company {\r\n              color: #4b5563;\r\n              font-size: 13px;\r\n              margin-bottom: 8px;\r\n            }\r\n            .info-grid {\r\n              display: grid;\r\n              grid-template-columns: 1fr 1fr;\r\n              gap: 12px;\r\n              margin-top: 8px;\r\n            }\r\n            .info-section h3 {\r\n              font-size: 12px;\r\n              font-weight: 600;\r\n              color: #374151;\r\n              margin-bottom: 4px;\r\n            }\r\n            .info-row {\r\n              display: flex;\r\n              margin-bottom: 2px;\r\n              font-size: 12px;\r\n            }\r\n            .info-label {\r\n              font-weight: 500;\r\n              color: #4b5563;\r\n              min-width: 70px;\r\n            }\r\n            .info-value {\r\n              color: #111827;\r\n            }\r\n            .notes {\r\n              margin-top: 8px;\r\n            }\r\n            .notes h3 {\r\n              font-size: 12px;\r\n              font-weight: 600;\r\n              color: #374151;\r\n              margin-bottom: 2px;\r\n            }\r\n            .notes p {\r\n              font-size: 12px;\r\n              color: #4b5563;\r\n              font-style: italic;\r\n            }\r\n            .footer {\r\n              margin-top: 16px;\r\n              padding-top: 8px;\r\n              border-top: 1px solid #d1d5db;\r\n              text-align: center;\r\n            }\r\n            .footer p {\r\n              font-size: 11px;\r\n              color: #6b7280;\r\n              margin: 2px 0;\r\n            }\r\n            @media print {\r\n              body {\r\n                print-color-adjust: exact;\r\n                -webkit-print-color-adjust: exact;\r\n              }\r\n            }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <div class=\"header\">\r\n            <h1>Professional References</h1>\r\n            <p>List of Professional References</p>\r\n            <p style=\"font-size: 11px; color: #6b7280; margin-top: 4px;\">\r\n              Generated on ${new Date().toLocaleDateString()}\r\n            </p>\r\n          </div>\r\n\r\n          <div class=\"references-list\">\r\n            ${references.map((ref, index) => `\r\n              <div class=\"reference-item\">\r\n                <div class=\"reference-name\">\r\n                  ${index + 1}. ${ref.firstName || ''} ${ref.lastName || ''}\r\n                </div>\r\n                ${ref.jobTitle ? `<div class=\"reference-title\">${ref.jobTitle}</div>` : ''}\r\n                ${ref.company ? `<div class=\"reference-company\">${ref.company}</div>` : ''}\r\n                \r\n                <div class=\"info-grid\">\r\n                  <div class=\"info-section\">\r\n                    <h3>Contact Information</h3>\r\n                    ${ref.email ? `\r\n                      <div class=\"info-row\">\r\n                        <span class=\"info-label\">Email:</span>\r\n                        <span class=\"info-value\">${ref.email}</span>\r\n                      </div>\r\n                    ` : ''}\r\n                    ${ref.phone ? `\r\n                      <div class=\"info-row\">\r\n                        <span class=\"info-label\">Phone:</span>\r\n                        <span class=\"info-value\">${ref.phone}</span>\r\n                      </div>\r\n                    ` : ''}\r\n                    ${ref.location ? `\r\n                      <div class=\"info-row\">\r\n                        <span class=\"info-label\">Location:</span>\r\n                        <span class=\"info-value\">${ref.location}</span>\r\n                      </div>\r\n                    ` : ''}\r\n                    ${ref.linkedInUrl ? `\r\n                      <div class=\"info-row\">\r\n                        <span class=\"info-label\">LinkedIn:</span>\r\n                        <span class=\"info-value\" style=\"word-break: break-all; font-size: 12px;\">${ref.linkedInUrl}</span>\r\n                      </div>\r\n                    ` : ''}\r\n                  </div>\r\n                  \r\n                  <div class=\"info-section\">\r\n                    <h3>Relationship</h3>\r\n                    <div class=\"info-row\">\r\n                      <span class=\"info-label\">Type:</span>\r\n                      <span class=\"info-value\">${ref.relationshipType || 'Professional Contact'}</span>\r\n                    </div>\r\n                    <div class=\"info-row\">\r\n                      <span class=\"info-label\">Strength:</span>\r\n                      <span class=\"info-value\">${ref.relationshipStrength || 'Medium'}</span>\r\n                    </div>\r\n                    ${ref.industry ? `\r\n                      <div class=\"info-row\">\r\n                        <span class=\"info-label\">Industry:</span>\r\n                        <span class=\"info-value\">${ref.industry}</span>\r\n                      </div>\r\n                    ` : ''}\r\n                  </div>\r\n                </div>\r\n                \r\n                ${ref.notes ? `\r\n                  <div class=\"notes\">\r\n                    <h3>Notes</h3>\r\n                    <p>${ref.notes}</p>\r\n                  </div>\r\n                ` : ''}\r\n              </div>\r\n            `).join('')}\r\n          </div>\r\n\r\n          <div class=\"footer\">\r\n            <p>\r\n              This document contains ${references.length} professional reference${references.length !== 1 ? 's' : ''}\r\n            </p>\r\n            <p>\r\n              Please contact references directly using the information provided above\r\n            </p>\r\n          </div>\r\n        </body>\r\n      </html>\r\n    `;\r\n\r\n    printWindow.document.write(printContent);\r\n    printWindow.document.close();\r\n    \r\n    // Wait for content to load, then print\r\n    printWindow.onload = () => {\r\n      setTimeout(() => {\r\n        printWindow.print();\r\n        printWindow.afterprint = () => printWindow.close();\r\n      }, 250);\r\n    };\r\n  };\r\n\r\n  const handleCopyText = () => {\r\n    const text = references.map(ref => {\r\n      return `${ref.firstName} ${ref.lastName}\r\n${ref.jobTitle || 'Professional Contact'}${ref.company ? ` at ${ref.company}` : ''}\r\nEmail: ${ref.email || 'Not provided'}\r\nPhone: ${ref.phone || 'Not provided'}\r\nRelationship: ${ref.relationshipType || 'Professional Contact'}\r\n\r\n`;\r\n    }).join('\\n---\\n\\n');\r\n\r\n    navigator.clipboard.writeText(text);\r\n    alert('Reference list copied to clipboard!');\r\n  };\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) onClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Modal Overlay */}\r\n      <div\r\n        className=\"fixed inset-0 flex items-center justify-center z-50 p-4 print:hidden\"\r\n        style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n        onClick={handleBackdropClick}\r\n      >\r\n        <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto print:hidden\" onClick={e => e.stopPropagation()}>\r\n          <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center print:hidden\">\r\n            <h3 className=\"text-xl font-bold\">Reference Portfolio</h3>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n              aria-label=\"Close modal\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"flex gap-3 mb-6 print:hidden px-6 pt-4\">\r\n            <Button onClick={handlePrint} className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\">\r\n              Print / Save as PDF\r\n            </Button>\r\n            <Button onClick={handleCopyText} variant=\"outline\">\r\n              Copy as Text\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Printable Content */}\r\n          <div ref={printRef} className=\"px-6\">\r\n            <div className=\"px-6\">\r\n              {/* Header */}\r\n              <div className=\"text-center mb-8 pb-4 border-b-2 border-gray-300\">\r\n                <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Professional References</h1>\r\n                <p className=\"text-gray-600\">List of Professional References</p>\r\n                <p className=\"text-sm text-gray-500 mt-2\">Generated on {new Date().toLocaleDateString()}</p>\r\n              </div>\r\n\r\n              {/* References List */}\r\n              <div className=\"space-y-6\">\r\n                {references.map((ref, index) => (\r\n                  <div key={ref._id} className=\"border-b border-gray-200 pb-6 last:border-b-0\">\r\n                    <div className=\"flex items-start justify-between mb-3\">\r\n                      <div>\r\n                        <h2 className=\"text-xl font-bold text-gray-900\">\r\n                          {index + 1}. {ref.firstName} {ref.lastName}\r\n                        </h2>\r\n                        {ref.jobTitle && (\r\n                          <p className=\"text-lg text-gray-700 mt-1\">\r\n                            {ref.jobTitle}\r\n                          </p>\r\n                        )}\r\n                        {ref.company && (\r\n                          <p className=\"text-gray-600 mt-1\">\r\n                            {ref.company}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\r\n                      {/* Contact Information */}\r\n                      <div>\r\n                        <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">Contact Information</h3>\r\n                        <div className=\"space-y-1 text-sm\">\r\n                          {ref.email && (\r\n                            <p className=\"flex items-center\">\r\n                              <span className=\"font-medium text-gray-600 w-16\">Email:</span>\r\n                              <span className=\"text-gray-900\">{ref.email}</span>\r\n                            </p>\r\n                          )}\r\n                          {ref.phone && (\r\n                            <p className=\"flex items-center\">\r\n                              <span className=\"font-medium text-gray-600 w-16\">Phone:</span>\r\n                              <span className=\"text-gray-900\">{ref.phone}</span>\r\n                            </p>\r\n                          )}\r\n                          {ref.location && (\r\n                            <p className=\"flex items-center\">\r\n                              <span className=\"font-medium text-gray-600 w-16\">Location:</span>\r\n                              <span className=\"text-gray-900\">{ref.location}</span>\r\n                            </p>\r\n                          )}\r\n                          {ref.linkedInUrl && (\r\n                            <p className=\"flex items-center\">\r\n                              <span className=\"font-medium text-gray-600 w-16\">LinkedIn:</span>\r\n                              <span className=\"text-gray-900 text-xs break-all\">{ref.linkedInUrl}</span>\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Relationship Details */}\r\n                      <div>\r\n                        <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">Relationship</h3>\r\n                        <div className=\"space-y-1 text-sm\">\r\n                          <p className=\"flex items-center\">\r\n                            <span className=\"font-medium text-gray-600 w-20\">Type:</span>\r\n                            <span className=\"text-gray-900\">{ref.relationshipType || 'Professional Contact'}</span>\r\n                          </p>\r\n                          <p className=\"flex items-center\">\r\n                            <span className=\"font-medium text-gray-600 w-20\">Strength:</span>\r\n                            <span className=\"text-gray-900\">{ref.relationshipStrength || 'Medium'}</span>\r\n                          </p>\r\n                          {ref.industry && (\r\n                            <p className=\"flex items-center\">\r\n                              <span className=\"font-medium text-gray-600 w-20\">Industry:</span>\r\n                              <span className=\"text-gray-900\">{ref.industry}</span>\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Notes */}\r\n                    {ref.notes && (\r\n                      <div className=\"mt-4\">\r\n                        <h3 className=\"text-sm font-semibold text-gray-700 mb-1\">Notes</h3>\r\n                        <p className=\"text-sm text-gray-600 italic\">{ref.notes}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Footer */}\r\n              <div className=\"mt-8 pt-4 border-t border-gray-300 text-center\">\r\n                <p className=\"text-xs text-gray-500\">\r\n                  This document contains {references.length} professional reference{references.length !== 1 ? 's' : ''}\r\n                </p>\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  Please contact references directly using the information provided above\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ReferenceRequestModal.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchJobs'. Either include it or remove the dependency array.","line":20,"column":6,"nodeType":"ArrayExpression","endLine":20,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchJobs, isOpen]","fix":{"range":[750,758],"text":"[fetchJobs, isOpen]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":86,"column":5,"nodeType":"JSXOpeningElement","endLine":90,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":86,"column":5,"nodeType":"JSXOpeningElement","endLine":90,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":91,"column":7,"nodeType":"JSXOpeningElement","endLine":91,"endColumn":135},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":91,"column":7,"nodeType":"JSXOpeningElement","endLine":91,"endColumn":135},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":131,"column":17,"nodeType":"JSXOpeningElement","endLine":131,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":172,"column":19,"nodeType":"JSXOpeningElement","endLine":172,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":181,"column":19,"nodeType":"JSXOpeningElement","endLine":181,"endColumn":83}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport api, { setAuthToken } from '../../api/axios';\r\nimport Button from '../Button';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\n\r\nexport default function ReferenceRequestModal({ isOpen, onClose, reference, onSuccess }) {\r\n  const { getToken } = useAuth();\r\n  const [jobs, setJobs] = useState([]);\r\n  const [selectedJobId, setSelectedJobId] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [generating, setGenerating] = useState(false);\r\n  const [generatedRequest, setGeneratedRequest] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      fetchJobs();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const fetchJobs = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      const response = await api.get('/api/jobs');\r\n      // Expect jobs array at response.data.data.jobs\r\n      const allJobs = response.data?.data?.jobs || [];\r\n      // Filter for active jobs\r\n      const activeJobs = allJobs.filter(\r\n        job => job.status !== 'Rejected' && job.status !== 'Withdrawn' && !job.archived\r\n      );\r\n      setJobs(activeJobs);\r\n    } catch (err) {\r\n      console.error('Error fetching jobs:', err);\r\n      setError('Failed to load job applications');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    if (!selectedJobId) {\r\n      alert('Please select a job application');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setGenerating(true);\r\n      setError(null);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      const response = await api.post('/api/contacts/reference-request', {\r\n        referenceId: reference._id,\r\n        jobId: selectedJobId\r\n      });\r\n\r\n      setGeneratedRequest(response.data.data);\r\n      if (onSuccess) onSuccess();\r\n    } catch (err) {\r\n      console.error('Error generating request:', err);\r\n      setError(err.response?.data?.message || 'Failed to generate reference request');\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleCopyEmail = () => {\r\n    if (generatedRequest) {\r\n      const fullEmail = `Subject: ${generatedRequest.subject}\\n\\n${generatedRequest.emailBody}`;\r\n      navigator.clipboard.writeText(fullEmail);\r\n      alert('Email copied to clipboard!');\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) onClose();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n          <h3 className=\"text-xl font-bold\">Request Reference</h3>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600\"\r\n            aria-label=\"Close modal\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Reference Info */}\r\n        <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\r\n          <h4 className=\"font-medium text-gray-900 mb-2\">Reference</h4>\r\n          <p className=\"text-lg font-semibold\">\r\n            {reference.firstName} {reference.lastName}\r\n          </p>\r\n          <p className=\"text-sm text-gray-600\">\r\n            {reference.jobTitle} {reference.company ? `at ${reference.company}` : ''}\r\n          </p>\r\n          <p className=\"text-xs text-gray-500 mt-1\">\r\n            {reference.relationshipType} ΓÇó {reference.relationshipStrength} relationship\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"p-6 space-y-6\">\r\n\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {!generatedRequest ? (\r\n            <>\r\n              {/* Job Selection */}\r\n              <div className=\"mb-6\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Select Job Application\r\n                </label>\r\n                {loading ? (\r\n                  <div className=\"flex justify-center py-4\">\r\n                    <LoadingSpinner />\r\n                  </div>\r\n                ) : (\r\n                  <select\r\n                    value={selectedJobId}\r\n                    onChange={(e) => setSelectedJobId(e.target.value)}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"\">-- Select a job --</option>\r\n                    {jobs.map((job) => (\r\n                      <option key={job._id} value={job._id}>\r\n                        {job.jobTitle || job.title} at {job.company} ({job.status})\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex justify-end gap-3\">\r\n                <Button onClick={onClose} variant=\"outline\">\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  onClick={handleGenerate}\r\n                  disabled={!selectedJobId || generating}\r\n                  className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\"\r\n                >\r\n                  {generating ? 'Generating...' : 'Generate Request'}\r\n                </Button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {/* Generated Email */}\r\n              <div className=\"space-y-6\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Email Subject\r\n                  </label>\r\n                  <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-3\">\r\n                    <p className=\"text-gray-900\">{generatedRequest.subject}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Email Body\r\n                  </label>\r\n                  <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n                    <pre className=\"whitespace-pre-wrap text-gray-900 font-sans text-sm\">\r\n                      {generatedRequest.emailBody}\r\n                    </pre>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Talking Points */}\r\n                {generatedRequest.talkingPoints && generatedRequest.talkingPoints.length > 0 && (\r\n                  <div>\r\n                    <h4 className=\"text-sm font-medium text-gray-700 mb-2\">\r\n                      Suggested Talking Points for Reference\r\n                    </h4>\r\n                    <div className=\"space-y-3\">\r\n                      {generatedRequest.talkingPoints.map((point, index) => (\r\n                        <div key={index} className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\r\n                          <p className=\"font-medium text-blue-900\">{point.point}</p>\r\n                          <p className=\"text-sm text-blue-700 mt-1\">{point.context}</p>\r\n                          <p className=\"text-xs text-blue-600 mt-1\">\r\n                            <strong>Impact:</strong> {point.impact}\r\n                          </p>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Preparation Tips */}\r\n                {generatedRequest.preparationTips && generatedRequest.preparationTips.length > 0 && (\r\n                  <div>\r\n                    <h4 className=\"text-sm font-medium text-gray-700 mb-2\">\r\n                      Preparation Tips\r\n                    </h4>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-600\">\r\n                      {generatedRequest.preparationTips.map((tip, index) => (\r\n                        <li key={index}>{tip}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Timeline */}\r\n                {generatedRequest.timeline && (\r\n                  <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\r\n                    <p className=\"text-sm\">\r\n                      <strong className=\"text-yellow-900\">Timeline:</strong>{' '}\r\n                      <span className=\"text-yellow-700\">{generatedRequest.timeline}</span>\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex justify-end gap-3 pt-4 border-t pb-4\">\r\n                  <Button onClick={() => setGeneratedRequest(null)} variant=\"outline\">\r\n                    Generate New\r\n                  </Button>\r\n                  <Button\r\n                    onClick={handleCopyEmail}\r\n                    className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\"\r\n                  >\r\n                    Copy Email\r\n                  </Button>\r\n                  <Button onClick={onClose} variant=\"outline\">\r\n                    Close\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ReferencesTab.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchReferences'. Either include it or remove the dependency array.","line":62,"column":6,"nodeType":"ArrayExpression","endLine":62,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [fetchReferences, getToken]","fix":{"range":[2469,2479],"text":"[fetchReferences, getToken]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":332,"column":9,"nodeType":"JSXOpeningElement","endLine":336,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":332,"column":9,"nodeType":"JSXOpeningElement","endLine":336,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":337,"column":11,"nodeType":"JSXOpeningElement","endLine":337,"endColumn":139},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":337,"column":11,"nodeType":"JSXOpeningElement","endLine":337,"endColumn":139},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":363,"column":21,"nodeType":"JSXOpeningElement","endLine":367,"endColumn":22},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":363,"column":21,"nodeType":"JSXOpeningElement","endLine":367,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useAuth } from '@clerk/clerk-react';\r\nimport api, { setAuthToken } from '../../api/axios';\r\nimport Card from '../Card';\r\nimport Button from '../Button';\r\nimport ContactCard from './ContactCard';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\nimport ErrorMessage from '../ErrorMessage';\r\nimport ReferralRequestModal from './ReferralRequestModal';\r\nimport ReferencePortfolio from './ReferencePortfolio';\r\nimport ReferenceFeedbackModal from './ReferenceFeedbackModal';\r\nimport ReferenceHistoryModal from './ReferenceHistoryModal';\r\nimport { Users, FileText, MessageSquare, ThumbsUp } from 'lucide-react';\r\n\r\nexport default function ReferencesTab() {\r\n  const { getToken } = useAuth();\r\n  const [references, setReferences] = useState([]);\r\n  const [allContacts, setAllContacts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [showReferralModal, setShowReferralModal] = useState(false);\r\n  const [selectedReference, setSelectedReference] = useState(null);\r\n  const [showPortfolio, setShowPortfolio] = useState(false);\r\n  const [selectedForPortfolio, setSelectedForPortfolio] = useState([]);\r\n  const [showFeedbackModal, setShowFeedbackModal] = useState(false);\r\n  const [selectedForFeedback, setSelectedForFeedback] = useState(null);\r\n  const [showHistoryModal, setShowHistoryModal] = useState(false);\r\n  const [selectedForHistory, setSelectedForHistory] = useState(null);\r\n  const [stats, setStats] = useState(null);\r\n\r\n  // Fetch references\r\n  const fetchReferences = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      const response = await api.get('/api/contacts');\r\n      const allContacts = response.data.data;\r\n\r\n      // Filter for references\r\n      const refs = allContacts.filter(contact => contact.isReference);\r\n      setReferences(refs);\r\n      setAllContacts(allContacts);\r\n\r\n      // Fetch stats\r\n      const statsResponse = await api.get('/api/contacts/stats');\r\n      setStats(statsResponse.data.data);\r\n\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error fetching references:', err);\r\n      setError(err.response?.data?.message || 'Failed to load references');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchReferences();\r\n  }, [getToken]);\r\n\r\n  // Mark a contact as reference\r\n  const handleAddReference = async (contactId) => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      await api.put(`/api/contacts/${contactId}`, {\r\n        isReference: true\r\n      });\r\n\r\n      setShowAddModal(false);\r\n      await fetchReferences();\r\n    } catch (err) {\r\n      console.error('Error adding reference:', err);\r\n      alert(err.response?.data?.message || 'Failed to add reference');\r\n    }\r\n  };\r\n\r\n  // Remove reference designation\r\n  const handleRemoveReference = async (contactId) => {\r\n    try {\r\n      const token = await getToken();\r\n      setAuthToken(token);\r\n\r\n      await api.put(`/api/contacts/${contactId}`, {\r\n        isReference: false\r\n      });\r\n\r\n      await fetchReferences();\r\n    } catch (err) {\r\n      console.error('Error removing reference:', err);\r\n      alert(err.response?.data?.message || 'Failed to remove reference');\r\n    }\r\n  };\r\n\r\n  const handleRequestReference = (reference) => {\r\n    setSelectedReference(reference);\r\n    setShowReferralModal(true);\r\n  };\r\n\r\n  const handleTogglePortfolioSelection = (referenceId) => {\r\n    setSelectedForPortfolio(prev =>\r\n      prev.includes(referenceId)\r\n        ? prev.filter(id => id !== referenceId)\r\n        : [...prev, referenceId]\r\n    );\r\n  };\r\n\r\n  const handleGeneratePortfolio = () => {\r\n    if (selectedForPortfolio.length === 0) {\r\n      alert('Please select at least one reference to generate a portfolio');\r\n      return;\r\n    }\r\n    setShowPortfolio(true);\r\n  };\r\n\r\n  const handleRecordFeedback = (reference) => {\r\n    setSelectedForFeedback(reference);\r\n    setShowFeedbackModal(true);\r\n  };\r\n\r\n  const handleViewHistory = (reference) => {\r\n    setSelectedForHistory(reference);\r\n    setShowHistoryModal(true);\r\n  };\r\n\r\n  const getLastUsedInfo = (reference) => {\r\n    if (!reference.interactions || reference.interactions.length === 0) return null;\r\n\r\n    // Find last reference request\r\n    const requests = reference.interactions\r\n      .filter(i => i.type === 'Reference Request')\r\n      .sort((a, b) => new Date(b.date) - new Date(a.date));\r\n\r\n    if (requests.length === 0) return null;\r\n\r\n    const lastRequest = requests[0];\r\n    const dateStr = new Date(lastRequest.date).toLocaleDateString();\r\n\r\n    const job = reference.linkedJobIds?.find(j => j._id === lastRequest.jobId);\r\n\r\n    if (job) {\r\n      return `Last used: ${dateStr} for ${job.jobTitle} at ${job.company}`;\r\n    }\r\n\r\n    return `Last used: ${dateStr}`;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-[400px]\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const nonReferences = allContacts.filter(contact => !contact.isReference);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header Actions */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Professional References</h2>\r\n          <p className=\"text-gray-600 mt-1\">\r\n            Manage your list of professional references for job applications\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            onClick={() => setShowAddModal(true)}\r\n            variant=\"outline\"\r\n          >\r\n            Add Reference\r\n          </Button>\r\n          {selectedForPortfolio.length > 0 && (\r\n            <Button\r\n              onClick={handleGeneratePortfolio}\r\n              className=\"bg-[#777C6D] hover:bg-[#656A5C] text-white\"\r\n            >\r\n              Generate Portfolio ({selectedForPortfolio.length})\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      {stats && (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"bg-white p-4 rounded-xl border border-gray-200\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                <Users size={24} className=\"text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">{stats.totalReferences || 0}</div>\r\n                <div className=\"text-sm text-gray-600\">Total References</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white p-4 rounded-xl border border-gray-200\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n                <FileText size={24} className=\"text-purple-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">{stats.referenceRequests || 0}</div>\r\n                <div className=\"text-sm text-gray-600\">Requests Made</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white p-4 rounded-xl border border-gray-200\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                <MessageSquare size={24} className=\"text-green-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">{stats.referenceFeedback || 0}</div>\r\n                <div className=\"text-sm text-gray-600\">Feedback Recorded</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white p-4 rounded-xl border border-gray-200\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n                <ThumbsUp size={24} className=\"text-yellow-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">\r\n                  {stats.referenceRequests > 0\r\n                    ? Math.round((stats.referenceFeedback / stats.referenceRequests) * 100)\r\n                    : 0}%\r\n                </div>\r\n                <div className=\"text-sm text-gray-600\">Response Rate</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {error && <ErrorMessage message={error} />}\r\n\r\n      {/* References List */}\r\n      {references.length === 0 ? (\r\n        <Card className=\"text-center py-12\">\r\n          <svg\r\n            className=\"mx-auto h-12 w-12 text-gray-400 mb-4\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\r\n            />\r\n          </svg>\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No references yet</h3>\r\n          <p className=\"text-gray-600 mb-4\">\r\n            Add contacts from your network to designate them as professional references\r\n          </p>\r\n          <Button onClick={() => setShowAddModal(true)}>Add Your First Reference</Button>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {references.map((reference) => (\r\n            <div key={reference._id} className=\"relative\">\r\n              {/* Selection Checkbox for Portfolio */}\r\n              <div className=\"absolute top-5 right-5 z-10\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={selectedForPortfolio.includes(reference._id)}\r\n                  onChange={() => handleTogglePortfolioSelection(reference._id)}\r\n                  className=\"w-5 h-5 text-[#777C6D] rounded focus:ring-2 focus:ring-[#777C6D]\"\r\n                />\r\n              </div>\r\n\r\n              <ContactCard\r\n                contact={reference}\r\n                onEdit={() => { }} // Not implementing edit in this view\r\n                onDelete={() => { }} // Not implementing delete in this view\r\n                showControls={false}\r\n                customActions={\r\n                  <div className=\"flex flex-col gap-2 mt-4\">\r\n                    {getLastUsedInfo(reference) && (\r\n                      <div className=\"text-xs text-gray-500 italic mb-1\">\r\n                        {getLastUsedInfo(reference)}\r\n                      </div>\r\n                    )}\r\n                    <div className=\"flex gap-2\">\r\n                      <Button\r\n                        onClick={() => handleRequestReference(reference)}\r\n                        className=\"flex-1 text-xs px-2 bg-[#777C6D] hover:bg-[#656A5C] text-white flex items-center justify-center text-center\"\r\n                      >\r\n                        Request\r\n                      </Button>\r\n                      <Button\r\n                        onClick={() => handleRecordFeedback(reference)}\r\n                        variant=\"outline\"\r\n                        className=\"flex-1 text-xs px-2 flex items-center justify-center text-center\"\r\n                      >\r\n                        Feedback\r\n                      </Button>\r\n                      <Button\r\n                        onClick={() => handleViewHistory(reference)}\r\n                        variant=\"outline\"\r\n                        className=\"flex-1 text-xs px-2 flex items-center justify-center text-center\"\r\n                      >\r\n                        History\r\n                      </Button>\r\n                      <Button\r\n                        onClick={() => handleRemoveReference(reference._id)}\r\n                        className=\"flex-1 bg-red-600 hover:bg-red-700 text-white text-xs px-2 flex items-center justify-center text-center\"\r\n                      >\r\n                        Remove\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                }\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Reference Modal */}\r\n      {showAddModal && (\r\n        <div\r\n          className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n          style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n          onClick={(e) => { if (e.target === e.currentTarget) setShowAddModal(false); }}\r\n        >\r\n          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n              <h3 className=\"text-xl font-bold\">Add Reference</h3>\r\n              <button\r\n                onClick={() => setShowAddModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n                aria-label=\"Close modal\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-6\">\r\n              <p className=\"text-gray-600 mb-4\">\r\n                Select a contact from your network to designate as a professional reference:\r\n              </p>\r\n\r\n              {nonReferences.length === 0 ? (\r\n                <p className=\"text-center text-gray-500 py-8\">\r\n                  All your contacts are already marked as references. Add more contacts first.\r\n                </p>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {nonReferences.map((contact) => (\r\n                    <div\r\n                      key={contact._id}\r\n                      className=\"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer\"\r\n                      onClick={() => handleAddReference(contact._id)}\r\n                    >\r\n                      <div className=\"flex justify-between items-start\">\r\n                        <div>\r\n                          <h4 className=\"font-medium text-gray-900\">\r\n                            {contact.firstName} {contact.lastName}\r\n                          </h4>\r\n                          <p className=\"text-sm text-gray-600\">\r\n                            {contact.jobTitle} {contact.company ? `at ${contact.company}` : ''}\r\n                          </p>\r\n                          <p className=\"text-xs text-gray-500 mt-1\">\r\n                            {contact.relationshipType} ΓÇó {contact.relationshipStrength}\r\n                          </p>\r\n                        </div>\r\n                        <Button variant=\"outline\" size=\"sm\">\r\n                          Add\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Reference Request Modal */}\r\n      {showReferralModal && selectedReference && (\r\n        <ReferralRequestModal\r\n          isOpen={showReferralModal}\r\n          onClose={() => {\r\n            setShowReferralModal(false);\r\n            setSelectedReference(null);\r\n          }}\r\n          contact={selectedReference}\r\n          onSuccess={fetchReferences}\r\n        />\r\n      )}\r\n\r\n      {/* Reference Feedback Modal */}\r\n      {showFeedbackModal && selectedForFeedback && (\r\n        <ReferenceFeedbackModal\r\n          isOpen={showFeedbackModal}\r\n          onClose={() => {\r\n            setShowFeedbackModal(false);\r\n            setSelectedForFeedback(null);\r\n          }}\r\n          reference={selectedForFeedback}\r\n          onSuccess={fetchReferences}\r\n        />\r\n      )}\r\n\r\n      {/* Reference Portfolio View */}\r\n      {showPortfolio && (\r\n        <ReferencePortfolio\r\n          references={references.filter(ref => selectedForPortfolio.includes(ref._id))}\r\n          onClose={() => setShowPortfolio(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Reference History Modal */}\r\n      {showHistoryModal && selectedForHistory && (\r\n        <ReferenceHistoryModal\r\n          isOpen={showHistoryModal}\r\n          onClose={() => {\r\n            setShowHistoryModal(false);\r\n            setSelectedForHistory(null);\r\n          }}\r\n          reference={selectedForHistory}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ReferralList.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadReferrals'. Either include it or remove the dependency array.","line":31,"column":6,"nodeType":"ArrayExpression","endLine":31,"endColumn":36,"suggestions":[{"desc":"Update the dependencies array to be: [refreshTrigger, filterStatus, loadReferrals]","fix":{"range":[987,1017],"text":"[refreshTrigger, filterStatus, loadReferrals]"}}]},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":211,"column":25,"nodeType":"JSXAttribute","endLine":214,"endColumn":27},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":215,"column":25,"nodeType":"JSXAttribute","endLine":218,"endColumn":27},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":339,"column":17,"nodeType":"JSXAttribute","endLine":339,"endColumn":85},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":340,"column":17,"nodeType":"JSXAttribute","endLine":340,"endColumn":84}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Send, \r\n  Edit3, \r\n  Trash2, \r\n  CheckCircle, \r\n  XCircle, \r\n  Clock, \r\n  FileText,\r\n  ThumbsUp,\r\n  ThumbsDown,\r\n  Calendar,\r\n  TrendingUp\r\n} from 'lucide-react';\r\nimport { getReferrals, updateReferral, deleteReferral } from '../../api/referralApi';\r\nimport { toast } from 'react-hot-toast';\r\nimport DeleteConfirmationModal from '../resume/DeleteConfirmationModal';\r\n\r\nconst ReferralList = ({ refreshTrigger }) => {\r\n  const [referrals, setReferrals] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n  const [expandedId, setExpandedId] = useState(null);\r\n  const [showAll, setShowAll] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [deletingReferral, setDeletingReferral] = useState(null);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadReferrals();\r\n  }, [refreshTrigger, filterStatus]);\r\n\r\n  const loadReferrals = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const filters = filterStatus !== 'all' ? { status: filterStatus } : {};\r\n      const response = await getReferrals(filters);\r\n      setReferrals(Array.isArray(response?.data) ? response.data : []);\r\n    } catch (error) {\r\n      console.error('Error loading referrals:', error);\r\n      toast.error('Failed to load referrals');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleStatusUpdate = async (referralId, newStatus) => {\r\n    try {\r\n      await updateReferral(referralId, { status: newStatus });\r\n      toast.success('Status updated successfully');\r\n      loadReferrals();\r\n    } catch (error) {\r\n      console.error('Error updating status:', error);\r\n      toast.error('Failed to update status');\r\n    }\r\n  };\r\n\r\n  const handleDelete = (referral) => {\r\n    setDeletingReferral(referral);\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!deletingReferral) return;\r\n    setIsDeleting(true);\r\n    try {\r\n      await deleteReferral(deletingReferral._id);\r\n      toast.success('Referral deleted successfully');\r\n      setShowDeleteModal(false);\r\n      setDeletingReferral(null);\r\n      loadReferrals();\r\n    } catch (error) {\r\n      console.error('Error deleting referral:', error);\r\n      toast.error('Failed to delete referral');\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleMarkGratitudeExpressed = async (referralId) => {\r\n    try {\r\n      await updateReferral(referralId, { \r\n        gratitudeExpressed: true,\r\n        gratitudeDate: new Date().toISOString()\r\n      });\r\n      toast.success('Gratitude marked as expressed');\r\n      loadReferrals();\r\n    } catch (error) {\r\n      console.error('Error updating gratitude:', error);\r\n      toast.error('Failed to update gratitude status');\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      draft: 'bg-gray-100 text-gray-700 border-gray-300',\r\n      requested: 'bg-blue-100 text-blue-700 border-blue-300',\r\n      accepted: 'bg-green-100 text-green-700 border-green-300',\r\n      declined: 'bg-red-100 text-red-700 border-red-300',\r\n      no_response: 'bg-yellow-100 text-yellow-700 border-yellow-300'\r\n    };\r\n    return colors[status] || colors.draft;\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    const icons = {\r\n      draft: <FileText size={16} />,\r\n      requested: <Send size={16} />,\r\n      accepted: <CheckCircle size={16} />,\r\n      declined: <XCircle size={16} />,\r\n      no_response: <Clock size={16} />\r\n    };\r\n    return icons[status] || icons.draft;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Referral Requests</h2>\r\n        \r\n        {/* Status Filter */}\r\n        <div className=\"flex gap-2\">\r\n          {['all', 'draft', 'requested', 'accepted', 'declined', 'no_response'].map(status => (\r\n            <button\r\n              key={status}\r\n              onClick={() => setFilterStatus(status)}\r\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\r\n                filterStatus === status\r\n                  ? 'bg-[#777C6D] text-white'\r\n                  : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n              }`}\r\n            >\r\n              {status === 'all' ? 'All' : status.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Referrals List */}\r\n      {referrals.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-gray-50 rounded-xl\">\r\n          <Send size={48} className=\"mx-auto text-gray-400 mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Referral Requests Yet</h3>\r\n          <p className=\"text-gray-600\">\r\n            {filterStatus === 'all' \r\n              ? 'Start by requesting a referral from one of your contacts'\r\n              : `No ${filterStatus.replace('_', ' ')} referrals found`\r\n            }\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {(showAll ? referrals : referrals.slice(0, 3)).map(referral => {\r\n            const isExpanded = expandedId === referral._id;\r\n            return (\r\n              <div\r\n                key={referral._id}\r\n                className=\"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition\"\r\n              >\r\n                {/* Card Header */}\r\n                <div className=\"p-6\">\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-3 mb-2\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                          {referral.jobId?.title || 'Unknown Job'}\r\n                        </h3>\r\n                        <span className={`px-3 py-1 rounded-full text-xs font-medium border flex items-center gap-1 ${getStatusColor(referral.status)}`}>\r\n                          {getStatusIcon(referral.status)}\r\n                          {referral.status.replace('_', ' ').toUpperCase()}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-4 text-sm text-gray-600\">\r\n                        <span className=\"font-medium\">\r\n                          {referral.contactId?.firstName} {referral.contactId?.lastName}\r\n                        </span>\r\n                        <span>ΓÇó</span>\r\n                        <span>{referral.jobId?.company || 'Unknown Company'}</span>\r\n                        {referral.contactId?.company && (\r\n                          <>\r\n                            <span>ΓÇó</span>\r\n                            <span>Works at {referral.contactId.company}</span>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Action Buttons */}\r\n                    <div className=\"flex items-center gap-2 ml-4\">\r\n                      <button\r\n                        onClick={() => setExpandedId(isExpanded ? null : referral._id)}\r\n                        className=\"px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition\"\r\n                        title={isExpanded ? 'Hide details' : 'View details'}\r\n                        aria-expanded={isExpanded}\r\n                      >\r\n                        {isExpanded ? 'Hide details' : 'View details'}\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDelete(referral)}\r\n                        className=\"p-1 rounded-lg transition flex-shrink-0 flex items-center justify-center\"\r\n                        style={{ color: '#6B7280' }}\r\n                        onMouseOver={e => {\r\n                          e.currentTarget.style.color = '#B91C1C';\r\n                          e.currentTarget.style.backgroundColor = '#FEE2E2';\r\n                        }}\r\n                        onMouseOut={e => {\r\n                          e.currentTarget.style.color = '#6B7280';\r\n                          e.currentTarget.style.backgroundColor = 'transparent';\r\n                        }}\r\n                        aria-label=\"Delete referral\"\r\n                        title=\"Delete\"\r\n                      >\r\n                        <Trash2 size={18} />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Quick Info */}\r\n                  <div className=\"flex items-center gap-6 text-sm\">\r\n                    {referral.requestedDate && (\r\n                      <div className=\"flex items-center gap-2 text-gray-600\">\r\n                        <Calendar size={16} />\r\n                        <span>Requested {new Date(referral.requestedDate).toLocaleDateString()}</span>\r\n                      </div>\r\n                    )}\r\n                    {referral.followUpDate && (\r\n                      <div className=\"flex items-center gap-2 text-blue-600\">\r\n                        <Clock size={16} />\r\n                        <span>Follow-up {new Date(referral.followUpDate).toLocaleDateString()}</span>\r\n                      </div>\r\n                    )}\r\n                    {referral.etiquetteScore > 0 && (\r\n                      <div className=\"flex items-center gap-2 text-green-600\">\r\n                        <TrendingUp size={16} />\r\n                        <span>Etiquette: {referral.etiquetteScore}/10</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Expanded Content */}\r\n                {isExpanded && (\r\n                  <div className=\"border-t bg-gray-50 p-6 space-y-4\">\r\n                    {/* Request Content */}\r\n                    <div>\r\n                      <div className=\"text-sm font-medium text-gray-700 mb-2\">Request Message:</div>\r\n                      <div className=\"bg-white p-4 rounded-lg border text-sm text-gray-800 whitespace-pre-wrap\">\r\n                        {referral.requestContent}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Notes */}\r\n                    {referral.notes && (\r\n                      <div>\r\n                        <div className=\"text-sm font-medium text-gray-700 mb-2\">Private Notes:</div>\r\n                        <div className=\"bg-white p-4 rounded-lg border text-sm text-gray-600\">\r\n                          {referral.notes}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Action Buttons */}\r\n                    <div className=\"flex items-center gap-3 pt-4\">\r\n                      {referral.status === 'draft' && (\r\n                        <button\r\n                          onClick={() => handleStatusUpdate(referral._id, 'requested')}\r\n                          className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition flex items-center gap-2\"\r\n                        >\r\n                          <Send size={16} />\r\n                          Mark as Sent\r\n                        </button>\r\n                      )}\r\n                      \r\n                      {referral.status === 'requested' && (\r\n                        <>\r\n                          <button\r\n                            onClick={() => handleStatusUpdate(referral._id, 'accepted')}\r\n                            className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-2\"\r\n                          >\r\n                            <ThumbsUp size={16} />\r\n                            Mark Accepted\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleStatusUpdate(referral._id, 'declined')}\r\n                            className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition flex items-center gap-2\"\r\n                          >\r\n                            <ThumbsDown size={16} />\r\n                            Mark Declined\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleStatusUpdate(referral._id, 'no_response')}\r\n                            className=\"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition flex items-center gap-2\"\r\n                          >\r\n                            <Clock size={16} />\r\n                            No Response\r\n                          </button>\r\n                        </>\r\n                      )}\r\n\r\n                      {(referral.status === 'accepted' || referral.status === 'declined') && !referral.gratitudeExpressed && (\r\n                        <button\r\n                          onClick={() => handleMarkGratitudeExpressed(referral._id)}\r\n                          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2\"\r\n                        >\r\n                          <CheckCircle size={16} />\r\n                          Mark Gratitude Expressed\r\n                        </button>\r\n                      )}\r\n\r\n                      {referral.gratitudeExpressed && (\r\n                        <div className=\"flex items-center gap-2 text-green-600 text-sm font-medium\">\r\n                          <CheckCircle size={16} />\r\n                          Gratitude Expressed on {new Date(referral.gratitudeDate).toLocaleDateString()}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n          {/* View More / View Less Button */}\r\n          {referrals.length > 3 && (\r\n            <div className=\"flex justify-center mt-2\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowAll(v => !v)}\r\n                className=\"px-6 py-2 text-white rounded-lg transition focus:outline-none focus:ring-2 focus:ring-offset-2\"\r\n                style={{ backgroundColor: '#777C6D' }}\r\n                onMouseOver={e => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                onMouseOut={e => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n              >\r\n                {showAll ? 'View Less' : `View More (${referrals.length - 3} more)`}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal for referrals */}\r\n      <DeleteConfirmationModal\r\n        showModal={showDeleteModal}\r\n        itemToDelete={deletingReferral}\r\n        itemType=\"referral\"\r\n        itemDetails={{\r\n          name: deletingReferral ? (deletingReferral.contactId?.firstName ? `${deletingReferral.contactId.firstName} ${deletingReferral.contactId.lastName}` : '') : '',\r\n          subtitle: deletingReferral ? (deletingReferral.jobId?.title ? `${deletingReferral.jobId.title} at ${deletingReferral.jobId.company}` : '') : ''\r\n        }}\r\n        onClose={() => { setShowDeleteModal(false); setDeletingReferral(null); }}\r\n        onConfirm={confirmDelete}\r\n        isDeleting={isDeleting}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReferralList;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\ReferralRequestModal.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'selectedJob' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":118,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":118,"endColumn":20,"suggestions":[{"messageId":"removeVar","data":{"varName":"selectedJob"},"fix":{"range":[3707,3771],"text":""},"desc":"Remove unused variable 'selectedJob'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":121,"column":5,"nodeType":"JSXOpeningElement","endLine":125,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":121,"column":5,"nodeType":"JSXOpeningElement","endLine":125,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":126,"column":7,"nodeType":"JSXOpeningElement","endLine":126,"endColumn":135},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":126,"column":7,"nodeType":"JSXOpeningElement","endLine":126,"endColumn":135},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":147,"column":13,"nodeType":"JSXOpeningElement","endLine":147,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":166,"column":13,"nodeType":"JSXOpeningElement","endLine":166,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":199,"column":13,"nodeType":"JSXOpeningElement","endLine":199,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":284,"column":13,"nodeType":"JSXOpeningElement","endLine":284,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":298,"column":13,"nodeType":"JSXOpeningElement","endLine":298,"endColumn":77}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { X, Sparkles, AlertCircle, CheckCircle, Send } from 'lucide-react';\r\nimport { generateReferralTemplate, createReferral } from '../../api/referralApi';\r\nimport api from '../../api/axios';\r\nimport { toast } from 'react-hot-toast';\r\nimport Button from '../Button';\r\n\r\nconst ReferralRequestModal = ({ isOpen, onClose, contact, onSuccess }) => {\r\n  const [jobs, setJobs] = useState([]);\r\n  const [selectedJobId, setSelectedJobId] = useState('');\r\n  const [tone, setTone] = useState('professional');\r\n  const [requestContent, setRequestContent] = useState('');\r\n  const [notes, setNotes] = useState('');\r\n  const [followUpDate, setFollowUpDate] = useState('');\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [generatedGuidance, setGeneratedGuidance] = useState(null);\r\n  const [showGuidance, setShowGuidance] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      loadJobs();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const loadJobs = async () => {\r\n    try {\r\n      const response = await api.get('/api/jobs');\r\n      const allJobs = response.data?.data?.jobs || [];\r\n      \r\n      // Filter to active job applications (not rejected or archived)\r\n      const activeJobs = allJobs.filter(\r\n        job => job.status !== 'Rejected' && !job.archived\r\n      );\r\n      setJobs(activeJobs);\r\n    } catch (error) {\r\n      console.error('Error loading jobs:', error);\r\n      toast.error('Failed to load jobs');\r\n    }\r\n  };\r\n\r\n  const handleGenerateTemplate = async () => {\r\n    if (!selectedJobId) {\r\n      toast.error('Please select a job first');\r\n      return;\r\n    }\r\n\r\n    setIsGenerating(true);\r\n    try {\r\n      const resp = await generateReferralTemplate({\r\n        jobId: selectedJobId,\r\n        contactId: contact._id,\r\n        tone\r\n      });\r\n\r\n      // resp is the backend response object: { success, message, data }\r\n      const generated = resp.data || {};\r\n      setRequestContent(generated.message || '');\r\n      setGeneratedGuidance(generated);\r\n      setShowGuidance(true);\r\n      toast.success(resp.message || 'Template generated successfully!');\r\n    } catch (error) {\r\n      console.error('Error generating template:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to generate template');\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (status = 'draft') => {\r\n    if (!selectedJobId || !requestContent.trim()) {\r\n      toast.error('Please select a job and enter request content');\r\n      return;\r\n    }\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      await createReferral({\r\n        jobId: selectedJobId,\r\n        contactId: contact._id,\r\n        status,\r\n        requestContent,\r\n        tone,\r\n        notes,\r\n        followUpDate: followUpDate || null,\r\n        etiquetteScore: generatedGuidance?.etiquetteScore || 0,\r\n        timingScore: generatedGuidance?.timingScore || 0\r\n      });\r\n\r\n      toast.success(\r\n        status === 'draft' \r\n          ? 'Referral request saved as draft' \r\n          : 'Referral request marked as sent!'\r\n      );\r\n      onSuccess?.();\r\n      handleClose();\r\n    } catch (error) {\r\n      console.error('Error saving referral:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to save referral request');\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setSelectedJobId('');\r\n    setTone('professional');\r\n    setRequestContent('');\r\n    setNotes('');\r\n    setFollowUpDate('');\r\n    setGeneratedGuidance(null);\r\n    setShowGuidance(false);\r\n    onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const selectedJob = jobs.find(job => job._id === selectedJobId);\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.48)' }}\r\n      onClick={(e) => { if (e.target === e.currentTarget) handleClose(); }}\r\n    >\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Request Referral</h2>\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"text-sm text-gray-500\">\r\n              {contact.firstName} {contact.lastName}\r\n              {contact.company && ` ΓÇó ${contact.company}`}\r\n            </div>\r\n            <button\r\n              onClick={handleClose}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n              aria-label=\"Close modal\"\r\n            >\r\n              <X size={20} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 space-y-6\">\r\n          {/* Job Selection */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Select Job Application *\r\n            </label>\r\n            <select\r\n              value={selectedJobId}\r\n              onChange={(e) => setSelectedJobId(e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            >\r\n              <option value=\"\">Choose a job...</option>\r\n              {jobs.map(job => (\r\n                <option key={job._id} value={job._id}>\r\n                  {job.title} at {job.company} ({job.status})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Tone Selection */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Message Tone\r\n            </label>\r\n            <div className=\"grid grid-cols-4 gap-2\">\r\n              {['formal', 'professional', 'friendly', 'casual'].map(t => (\r\n                <button\r\n                  key={t}\r\n                  onClick={() => setTone(t)}\r\n                  className={`px-4 py-2 rounded-lg border-2 transition ${\r\n                    tone === t\r\n                      ? 'border-primary-600 bg-primary-50 text-primary-700 font-medium'\r\n                      : 'border-gray-200 text-gray-700 hover:border-primary-300'\r\n                  }`}\r\n                >\r\n                  {t.charAt(0).toUpperCase() + t.slice(1)}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Generate Button */}\r\n          <Button\r\n            onClick={handleGenerateTemplate}\r\n            disabled={!selectedJobId || isGenerating}\r\n            className=\"w-full flex items-center justify-center gap-2\"\r\n            isLoading={isGenerating}\r\n          >\r\n            <Sparkles size={20} />\r\n            {isGenerating ? 'Generating Template...' : 'Generate AI Template'}\r\n          </Button>\r\n\r\n          {/* Request Content */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Referral Request Message *\r\n            </label>\r\n            <textarea\r\n              value={requestContent}\r\n              onChange={(e) => setRequestContent(e.target.value)}\r\n              rows={8}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n              placeholder=\"Your referral request message will appear here after generation, or you can write your own...\"\r\n            />\r\n          </div>\r\n\r\n          {/* AI Guidance Panel */}\r\n          {showGuidance && generatedGuidance && (\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-3\">\r\n              <div className=\"flex items-center gap-2 text-blue-700 font-medium\">\r\n                <AlertCircle size={20} />\r\n                AI Guidance & Best Practices\r\n              </div>\r\n\r\n              {/* Scores */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"bg-white rounded p-3\">\r\n                  <div className=\"text-xs text-gray-600 mb-1\">Etiquette Score</div>\r\n                  <div className=\"text-2xl font-bold text-blue-600\">\r\n                    {generatedGuidance.etiquetteScore || 8}/10\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-white rounded p-3\">\r\n                  <div className=\"text-xs text-gray-600 mb-1\">Timing Score</div>\r\n                  <div className=\"text-2xl font-bold text-green-600\">\r\n                    {generatedGuidance.timingScore || 7}/10\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Etiquette Guidance */}\r\n              {generatedGuidance.etiquetteGuidance && (\r\n                <div>\r\n                  <div className=\"text-sm font-medium text-gray-700 mb-2\">\r\n                    Etiquette Tips:\r\n                  </div>\r\n                  <ul className=\"space-y-1 text-sm text-gray-600\">\r\n                    {generatedGuidance.etiquetteGuidance.map((tip, idx) => (\r\n                      <li key={idx} className=\"flex items-start gap-2\">\r\n                        <CheckCircle size={16} className=\"text-green-500 mt-0.5 flex-shrink-0\" />\r\n                        <span>{tip}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              {/* Timing & Follow-up */}\r\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                <div>\r\n                  <div className=\"font-medium text-gray-700 mb-1\">Best Timing:</div>\r\n                  <div className=\"text-gray-600\">{generatedGuidance.timingRecommendation}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"font-medium text-gray-700 mb-1\">Follow-up:</div>\r\n                  <div className=\"text-gray-600\">{generatedGuidance.followUpSuggestion}</div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Success Probability */}\r\n              {generatedGuidance.successProbability && (\r\n                <div className=\"flex items-center gap-2 text-sm\">\r\n                  <span className=\"font-medium text-gray-700\">Success Probability:</span>\r\n                  <span className={`px-2 py-1 rounded font-medium ${\r\n                    generatedGuidance.successProbability === 'high'\r\n                      ? 'bg-green-100 text-green-700'\r\n                      : generatedGuidance.successProbability === 'medium'\r\n                      ? 'bg-yellow-100 text-yellow-700'\r\n                      : 'bg-red-100 text-red-700'\r\n                  }`}>\r\n                    {generatedGuidance.successProbability.toUpperCase()}\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Notes */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Private Notes (Optional)\r\n            </label>\r\n            <textarea\r\n              value={notes}\r\n              onChange={(e) => setNotes(e.target.value)}\r\n              rows={3}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n              placeholder=\"Any private notes about this referral request...\"\r\n            />\r\n          </div>\r\n\r\n          {/* Follow-up Date */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Follow-up Date (Optional)\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              value={followUpDate}\r\n              onChange={(e) => setFollowUpDate(e.target.value)}\r\n              min={new Date().toISOString().split('T')[0]}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n        </div>\r\n          {/* Footer */}\r\n          <div className=\"border-t bg-gray-50 px-6 py-4 flex items-center justify-end gap-3\">\r\n            <Button type=\"button\" variant=\"secondary\" onClick={handleClose} disabled={isSaving}>\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => handleSave('draft')}\r\n              disabled={isSaving || !selectedJobId || !requestContent.trim()}\r\n            >\r\n              Save as Draft\r\n            </Button>\r\n            <Button\r\n              type=\"button\"\r\n              onClick={() => handleSave('requested')}\r\n              disabled={isSaving || !selectedJobId || !requestContent.trim()}\r\n              isLoading={isSaving}\r\n            >\r\n              <Send size={16} />\r\n              {isSaving ? 'Saving...' : 'Mark as Sent'}\r\n            </Button>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReferralRequestModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\RelationshipActivityCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\RelationshipAnalytics.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\network\\RelationshipReminderCard.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'onRefresh' is defined but never used.","line":30,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":30,"endColumn":12,"suggestions":[{"messageId":"removeVar","data":{"varName":"onRefresh"},"fix":{"range":[710,724],"text":""},"desc":"Remove unused variable 'onRefresh'."}]},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":195,"column":17,"nodeType":"JSXOpeningElement","endLine":195,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":274,"column":11,"nodeType":"JSXOpeningElement","endLine":274,"endColumn":75}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport Card from '../Card';\r\nimport Button from '../Button';\r\nimport { Copy, CheckCircle, Mail } from 'lucide-react';\r\n\r\nconst priorityColors = {\r\n  High: 'bg-red-100 text-red-800',\r\n  Medium: 'bg-yellow-100 text-yellow-800',\r\n  Low: 'bg-green-100 text-green-800'\r\n};\r\n\r\nconst reminderTypeIcons = {\r\n  'General Check-in': '≡ƒæï',\r\n  'Birthday': '≡ƒÄé',\r\n  'Work Anniversary': '≡ƒÄë',\r\n  'Industry News Share': '≡ƒô░',\r\n  'Congratulations': '≡ƒÄè',\r\n  'Thank You': '≡ƒÖÅ',\r\n  'Follow-up': '≡ƒôº',\r\n  'Coffee Chat': 'Γÿò',\r\n  'Relationship Maintenance': '≡ƒñ¥',\r\n  'Custom': '≡ƒôî'\r\n};\r\n\r\nexport default function RelationshipReminderCard({ \r\n  reminder, \r\n  onComplete, \r\n  onSnooze, \r\n  onDismiss,\r\n  onRefresh \r\n}) {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [showCompleteForm, setShowCompleteForm] = useState(false);\r\n  const [showCheckInModal, setShowCheckInModal] = useState(false);\r\n  const [notes, setNotes] = useState('');\r\n  const [logActivity, setLogActivity] = useState(true);\r\n  const [showSnoozeOptions, setShowSnoozeOptions] = useState(false);\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const formatDate = (date) => {\r\n    const d = new Date(date);\r\n    // Use UTC methods to avoid timezone conversion\r\n    const month = d.toLocaleString('en-US', { month: 'short', timeZone: 'UTC' });\r\n    const day = d.getUTCDate();\r\n    const year = d.getUTCFullYear();\r\n    return `${month} ${day}, ${year}`;\r\n  };\r\n\r\n  const isOverdue = () => {\r\n    if (reminder.status !== 'Pending') return false;\r\n    const reminderDate = new Date(reminder.reminderDate);\r\n    const today = new Date();\r\n    // Compare UTC dates at midnight\r\n    const reminderUTC = Date.UTC(reminderDate.getUTCFullYear(), reminderDate.getUTCMonth(), reminderDate.getUTCDate());\r\n    const todayUTC = Date.UTC(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate());\r\n    return reminderUTC < todayUTC;\r\n  };\r\n\r\n  const handleComplete = () => {\r\n    onComplete(reminder._id, notes, logActivity);\r\n    setShowCompleteForm(false);\r\n    setNotes('');\r\n  };\r\n\r\n  const handleSnooze = (days) => {\r\n    onSnooze(reminder._id, days);\r\n    setShowSnoozeOptions(false);\r\n  };\r\n\r\n  const contact = reminder.contactId;\r\n  const icon = reminderTypeIcons[reminder.reminderType] || '≡ƒôî';\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className=\"p-4\">\r\n      <div className=\"flex items-start justify-between mb-3\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <span className=\"text-2xl\">{icon}</span>\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                {reminder.title}\r\n              </h3>\r\n              <p className=\"text-sm text-gray-600\">\r\n                {contact ? `${contact.firstName} ${contact.lastName}` : 'Unknown Contact'}\r\n                {contact?.company && ` ΓÇó ${contact.company}`}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className={`px-2 py-1 rounded-full text-xs font-medium ${priorityColors[reminder.priority]}`}>\r\n            {reminder.priority}\r\n          </span>\r\n          {reminder.status === 'Pending' && isOverdue() && (\r\n            <span className=\"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n              Overdue\r\n            </span>\r\n          )}\r\n          <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n            reminder.status === 'Completed' ? 'bg-green-100 text-green-800' :\r\n            reminder.status === 'Snoozed' ? 'bg-blue-100 text-blue-800' :\r\n            reminder.status === 'Dismissed' ? 'bg-gray-100 text-gray-800' :\r\n            'bg-yellow-100 text-yellow-800'\r\n          }`}>\r\n            {reminder.status}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Reminder Details */}\r\n      <div className=\"mb-3 space-y-1 text-sm\">\r\n        <div className=\"flex items-center text-gray-700\">\r\n          <span className=\"font-medium mr-2\">Type:</span>\r\n          {reminder.reminderType}\r\n        </div>\r\n        <div className=\"flex items-center text-gray-700\">\r\n          <span className=\"font-medium mr-2\">Date:</span>\r\n          {formatDate(reminder.reminderDate)}\r\n        </div>\r\n        {reminder.description && (\r\n          <div className=\"flex items-start text-gray-700\">\r\n            <span className=\"font-medium mr-2\">Notes:</span>\r\n            <span>{reminder.description}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Suggested Message */}\r\n      {reminder.suggestedMessage && showDetails && (\r\n        <div className=\"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"text-xs font-medium text-blue-900\">Suggested Check-in Message</div>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={() => {\r\n                  navigator.clipboard.writeText(reminder.suggestedMessage);\r\n                  setCopied(true);\r\n                  setTimeout(() => setCopied(false), 2000);\r\n                }}\r\n                className=\"flex items-center gap-1 text-xs text-blue-700 hover:text-blue-900 transition\"\r\n              >\r\n                {copied ? <CheckCircle size={14} /> : <Copy size={14} />}\r\n                {copied ? 'Copied!' : 'Copy'}\r\n              </button>\r\n              {contact?.email && (\r\n                <button\r\n                  onClick={() => {\r\n                    const subject = `Checking in - ${reminder.reminderType}`;\r\n                    const mailtoLink = `mailto:${contact.email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(reminder.suggestedMessage)}`;\r\n                    window.open(mailtoLink, '_blank');\r\n                  }}\r\n                  className=\"flex items-center gap-1 text-xs text-blue-700 hover:text-blue-900 transition\"\r\n                >\r\n                  <Mail size={14} />\r\n                  Send Email\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <p className=\"text-sm text-gray-700 whitespace-pre-wrap\">{reminder.suggestedMessage}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Send Check-in Modal */}\r\n      {showCheckInModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                  Send Check-in to {contact ? `${contact.firstName} ${contact.lastName}` : 'Contact'}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowCheckInModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  Γ£ò\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <span className=\"text-2xl\">{icon}</span>\r\n                  <span className=\"text-sm font-medium text-gray-700\">{reminder.reminderType}</span>\r\n                </div>\r\n                {contact?.email && (\r\n                  <div className=\"text-sm text-gray-600\">\r\n                    <span className=\"font-medium\">Email:</span> {contact.email}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Personalized Message\r\n                </label>\r\n                <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-sm text-gray-700 whitespace-pre-wrap\">\r\n                    {reminder.suggestedMessage || `Hi ${contact?.firstName || 'there'},\\n\\nI hope this message finds you well! I wanted to reach out and check in to see how things are going.\\n\\nWould love to catch up sometime soon.\\n\\nBest regards`}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex flex-col gap-3\">\r\n                {/* Primary Actions */}\r\n                <div className=\"flex gap-2\">\r\n                  <Button\r\n                    className=\"flex-1\"\r\n                    onClick={() => {\r\n                      const message = reminder.suggestedMessage || `Hi ${contact?.firstName || 'there'},\\n\\nI hope this message finds you well! I wanted to reach out and check in to see how things are going.\\n\\nWould love to catch up sometime soon.\\n\\nBest regards`;\r\n                      navigator.clipboard.writeText(message);\r\n                      setCopied(true);\r\n                      setTimeout(() => setCopied(false), 2000);\r\n                    }}\r\n                  >\r\n                    {copied ? 'Γ£ô Copied to Clipboard!' : 'Copy Message'}\r\n                  </Button>\r\n                  {contact?.email && (\r\n                    <Button\r\n                      className=\"flex-1\"\r\n                      variant=\"secondary\"\r\n                      onClick={() => {\r\n                        const message = reminder.suggestedMessage || `Hi ${contact?.firstName || 'there'},\\n\\nI hope this message finds you well! I wanted to reach out and check in to see how things are going.\\n\\nWould love to catch up sometime soon.\\n\\nBest regards`;\r\n                        const subject = reminder.reminderType === 'Birthday' \r\n                          ? `Happy Birthday, ${contact.firstName}!`\r\n                          : reminder.reminderType === 'Congratulations'\r\n                          ? `Congratulations, ${contact.firstName}!`\r\n                          : `Checking in - Hope you're doing well!`;\r\n                        const mailtoLink = `mailto:${contact.email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(message)}`;\r\n                        window.open(mailtoLink, '_blank');\r\n                      }}\r\n                    >\r\n                      <Mail size={16} className=\"mr-2\" />\r\n                      Open in Email\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n\r\n                {/* LinkedIn Option */}\r\n                {contact?.linkedinUrl && (\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    onClick={() => {\r\n                      window.open(contact.linkedinUrl, '_blank');\r\n                    }}\r\n                  >\r\n                    Open LinkedIn Profile\r\n                  </Button>\r\n                )}\r\n\r\n                {/* Mark as Complete */}\r\n                <div className=\"border-t pt-3 mt-2\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"w-full\"\r\n                    onClick={() => {\r\n                      setShowCheckInModal(false);\r\n                      setShowCompleteForm(true);\r\n                    }}\r\n                  >\r\n                    Mark Check-in as Complete\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Complete Form */}\r\n      {showCompleteForm && (\r\n        <div className=\"mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Completion Notes (optional)\r\n          </label>\r\n          <textarea\r\n            value={notes}\r\n            onChange={(e) => setNotes(e.target.value)}\r\n            className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black\"\r\n            rows={3}\r\n            placeholder=\"Add any notes about this interaction...\"\r\n          />\r\n          <div className=\"flex items-center mt-2 mb-3\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"logActivity\"\r\n              checked={logActivity}\r\n              onChange={(e) => setLogActivity(e.target.checked)}\r\n              className=\"mr-2\"\r\n            />\r\n            <label htmlFor=\"logActivity\" className=\"text-sm text-gray-700\">\r\n              Log this as an activity\r\n            </label>\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Button size=\"sm\" onClick={handleComplete}>\r\n              Confirm Complete\r\n            </Button>\r\n            <Button size=\"sm\" variant=\"outline\" onClick={() => setShowCompleteForm(false)}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Snooze Options */}\r\n      {showSnoozeOptions && (\r\n        <div className=\"mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n          <div className=\"text-sm font-medium text-gray-700 mb-2\">Snooze for:</div>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {[1, 3, 7, 14, 30].map(days => (\r\n              <Button\r\n                key={days}\r\n                size=\"sm\"\r\n                variant=\"outline\"\r\n                onClick={() => handleSnooze(days)}\r\n              >\r\n                {days} {days === 1 ? 'day' : 'days'}\r\n              </Button>\r\n            ))}\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"outline\"\r\n              onClick={() => setShowSnoozeOptions(false)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Actions */}\r\n      {reminder.status === 'Pending' && (\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <Button \r\n            size=\"sm\" \r\n            onClick={() => setShowCheckInModal(true)}\r\n            className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n          >\r\n            Send Check-in\r\n          </Button>\r\n          <Button \r\n            size=\"sm\" \r\n            onClick={() => setShowCompleteForm(true)}\r\n          >\r\n            Complete\r\n          </Button>\r\n          <Button \r\n            size=\"sm\" \r\n            variant=\"secondary\" \r\n            onClick={() => setShowSnoozeOptions(true)}\r\n          >\r\n            Snooze\r\n          </Button>\r\n          <Button \r\n            size=\"sm\" \r\n            variant=\"outline\" \r\n            onClick={() => setShowDetails(!showDetails)}\r\n          >\r\n            {showDetails ? 'Hide Details' : 'Show Details'}\r\n          </Button>\r\n          <Button \r\n            size=\"sm\" \r\n            variant=\"outline\" \r\n            onClick={() => onDismiss(reminder._id)}\r\n          >\r\n            Dismiss\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {reminder.status === 'Completed' && reminder.completedNotes && (\r\n        <div className=\"mt-3 p-3 bg-green-50 rounded-lg border border-green-200\">\r\n          <div className=\"text-xs font-medium text-green-900 mb-1\">Completion Notes</div>\r\n          <p className=\"text-sm text-gray-700\">{reminder.completedNotes}</p>\r\n          <p className=\"text-xs text-gray-500 mt-1\">\r\n            Completed on {formatDate(reminder.completedAt)}\r\n          </p>\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\profile\\CertificationsSection.jsx","messages":[{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":18,"column":21,"nodeType":"JSXAttribute","endLine":18,"endColumn":91},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":19,"column":21,"nodeType":"JSXAttribute","endLine":19,"endColumn":90},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":85,"column":45,"nodeType":"JSXAttribute","endLine":88,"endColumn":47},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":89,"column":45,"nodeType":"JSXAttribute","endLine":92,"endColumn":47},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":103,"column":45,"nodeType":"JSXAttribute","endLine":106,"endColumn":47},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":107,"column":45,"nodeType":"JSXAttribute","endLine":110,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Card from '../Card';\r\n\r\nexport default function CertificationsSection({\r\n    certList,\r\n    onAdd,\r\n    onEdit,\r\n    onDelete,\r\n    successMessage\r\n}) {\r\n    return (\r\n        <Card variant=\"default\" title=\"Certifications\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n                <button\r\n                    onClick={onAdd}\r\n                    className=\"px-4 py-2 text-white rounded-lg transition flex items-center space-x-2 ml-auto focus:outline-none focus:ring-2 focus:ring-offset-2\"\r\n                    style={{ backgroundColor: '#777C6D' }}\r\n                    onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                    onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n                    </svg>\r\n                    <span>Add Certification</span>\r\n                </button>\r\n            </div>\r\n\r\n            {successMessage && (\r\n                <div className=\"mb-4 p-4 border rounded-lg flex items-center\" style={{ backgroundColor: '#F0FDF4', borderColor: '#BBF7D0', color: '#166534' }}>\r\n                    <svg className=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                        <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                    {successMessage}\r\n                </div>\r\n            )}\r\n\r\n            {/* Compact certifications list */}\r\n            {certList && certList.length > 0 ? (\r\n                <div className=\"space-y-4\">\r\n                    {certList.map((c, index) => {\r\n                        const days = (() => {\r\n                            if (c.doesNotExpire) return null;\r\n                            if (!c.expirationDate) return null;\r\n                            const d = new Date(c.expirationDate);\r\n                            if (isNaN(d.getTime())) return null; // Invalid date\r\n                            const now = new Date();\r\n                            return Math.ceil((d - now) / (1000 * 60 * 60 * 24));\r\n                        })();\r\n                        const expiringSoon = days !== null && days <= (c.reminderDays || 30) && days >= 0;\r\n                        const expired = days !== null && days < 0;\r\n\r\n                        // Format dates for display\r\n                        const formatDate = (dateStr) => {\r\n                            if (!dateStr) return 'ΓÇö';\r\n                            const d = new Date(dateStr);\r\n                            if (isNaN(d.getTime())) return 'ΓÇö';\r\n                            return d.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric' });\r\n                        };\r\n\r\n                        return (\r\n                            <div key={c._id || c.id || index} className=\"border rounded-lg p-4 hover:shadow-md transition relative\">\r\n                                <div className=\"flex justify-between\">\r\n                                    <div>\r\n                                        <h3 className=\"text-lg font-heading font-semibold\" style={{ color: '#4F5348' }}>{c.name}</h3>\r\n                                        <p className=\"font-medium\" style={{ color: '#656A5C' }}>{c.organization}</p>\r\n                                        <div className=\"flex items-center text-sm mt-1 space-x-2\" style={{ color: '#9CA3AF' }}>\r\n                                            {c.certId && <span>ID: {c.certId}</span>}\r\n                                            <span>ΓÇó</span>\r\n                                            <span>{c.industry || 'ΓÇö'}</span>\r\n                                        </div>\r\n                                        <div className=\"text-sm mt-2\" style={{ color: '#656A5C' }}>Earned: {formatDate(c.dateEarned)} ┬╖ {c.doesNotExpire ? 'Does not expire' : formatDate(c.expirationDate)}</div>\r\n                                        <div className=\"text-sm mt-1\" style={{ color: '#656A5C' }}>Verification: <strong className={`ml-2 ${c.verification === 'Verified' ? 'text-green-600' : c.verification === 'Pending' ? 'text-yellow-600' : 'text-gray-600'}`}>{c.verification}</strong></div>\r\n                                        {c.document && <div className=\"mt-2\"><a className=\"text-sm underline\" style={{ color: '#777C6D' }} href={c.document.data} target=\"_blank\" rel=\"noreferrer\">View document ({c.document.name})</a></div>}\r\n                                        <div className=\"mt-2 text-sm\">\r\n                                            {expired && <span className=\"text-red-600\">Expired</span>}\r\n                                            {expiringSoon && <span className=\"text-yellow-600\">Expires in {days} day(s)</span>}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"flex items-start gap-2\">\r\n                                        <button\r\n                                            onClick={() => onEdit(c)}\r\n                                            className=\"p-2 rounded-lg transition\"\r\n                                            style={{ color: '#6B7280' }}\r\n                                            onMouseOver={(e) => {\r\n                                                e.currentTarget.style.color = '#777C6D';\r\n                                                e.currentTarget.style.backgroundColor = '#F5F6F4';\r\n                                            }}\r\n                                            onMouseOut={(e) => {\r\n                                                e.currentTarget.style.color = '#6B7280';\r\n                                                e.currentTarget.style.backgroundColor = 'transparent';\r\n                                            }}\r\n                                            title=\"Edit certification\"\r\n                                        >\r\n                                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n                                            </svg>\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => onDelete(c)}\r\n                                            className=\"p-2 rounded-lg transition\"\r\n                                            style={{ color: '#6B7280' }}\r\n                                            onMouseOver={(e) => {\r\n                                                e.currentTarget.style.color = '#EF4444';\r\n                                                e.currentTarget.style.backgroundColor = '#FEF2F2';\r\n                                            }}\r\n                                            onMouseOut={(e) => {\r\n                                                e.currentTarget.style.color = '#6B7280';\r\n                                                e.currentTarget.style.backgroundColor = 'transparent';\r\n                                            }}\r\n                                            title=\"Delete certification\"\r\n                                        >\r\n                                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                                            </svg>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            ) : (\r\n                <p className=\"italic\" style={{ color: '#9CA3AF' }}>No certifications added yet.</p>\r\n            )}\r\n        </Card>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\profile\\EditProfileModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":21,"column":9,"nodeType":"JSXOpeningElement","endLine":29,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":21,"column":9,"nodeType":"JSXOpeningElement","endLine":29,"endColumn":10},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":24,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":24,"endColumn":24,"suggestions":[{"messageId":"removeVar","data":{"varName":"e"},"fix":{"range":[669,670],"text":""},"desc":"Remove unused variable 'e'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":30,"column":13,"nodeType":"JSXOpeningElement","endLine":34,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":30,"column":13,"nodeType":"JSXOpeningElement","endLine":34,"endColumn":14},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":42,"column":25,"nodeType":"JSXAttribute","endLine":42,"endColumn":100},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":43,"column":25,"nodeType":"JSXAttribute","endLine":43,"endColumn":99},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":207,"column":33,"nodeType":"JSXAttribute","endLine":207,"endColumn":118},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":208,"column":33,"nodeType":"JSXAttribute","endLine":208,"endColumn":121},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":217,"column":33,"nodeType":"JSXAttribute","endLine":217,"endColumn":118},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":218,"column":33,"nodeType":"JSXAttribute","endLine":218,"endColumn":117}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport ErrorMessage from '../ErrorMessage';\r\n\r\nconst INDUSTRIES = ['Technology', 'Healthcare', 'Finance', 'Education', 'Construction', 'Real Estate'];\r\nconst EXPERIENCE_LEVELS = ['Entry', 'Mid', 'Senior', 'Executive'];\r\n\r\nexport default function EditProfileModal({\r\n    isOpen,\r\n    onClose,\r\n    onSave,\r\n    formData,\r\n    handleInputChange,\r\n    bioCharCount,\r\n    isSaving,\r\n    error,\r\n    onErrorDismiss\r\n}) {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={(e) => {\r\n                if (!isSaving) {\r\n                    onClose();\r\n                }\r\n            }}\r\n        >\r\n            <div\r\n                className=\"rounded-lg shadow-2xl max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto relative border\"\r\n                style={{ backgroundColor: '#FFFFFF', borderColor: '#E5E7EB' }}\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"sticky top-0 border-b px-6 py-4 flex justify-between items-center z-10\" style={{ backgroundColor: '#FFFFFF' }}>\r\n                    <h3 className=\"text-2xl font-semibold\" style={{ color: '#111827' }}>Edit Profile</h3>\r\n                    <button\r\n                        onClick={onClose}\r\n                        disabled={isSaving}\r\n                        className=\"transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        style={{ color: '#9CA3AF' }}\r\n                        onMouseOver={(e) => !isSaving && (e.currentTarget.style.color = '#4B5563')}\r\n                        onMouseOut={(e) => !isSaving && (e.currentTarget.style.color = '#9CA3AF')}\r\n                        title={isSaving ? \"Please wait while saving...\" : \"Close\"}\r\n                    >\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"p-6\">\r\n                    {error && (\r\n                        <ErrorMessage\r\n                            error={error}\r\n                            onDismiss={onErrorDismiss}\r\n                            className=\"mb-6\"\r\n                        />\r\n                    )}\r\n\r\n                    <form onSubmit={onSave} className=\"space-y-6\">\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            <div>\r\n                                <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Full Name <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"name\"\r\n                                    name=\"name\"\r\n                                    value={formData.name}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                                    placeholder=\"John Doe\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Email <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    id=\"email\"\r\n                                    name=\"email\"\r\n                                    value={formData.email}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                                    placeholder=\"john@example.com\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            <div>\r\n                                <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Phone\r\n                                </label>\r\n                                <input\r\n                                    type=\"tel\"\r\n                                    id=\"phone\"\r\n                                    name=\"phone\"\r\n                                    value={formData.phone}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                                    placeholder=\"1234567890 or (555) 123-4567\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label htmlFor=\"location\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Location (City, State)\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"location\"\r\n                                    name=\"location\"\r\n                                    value={formData.location}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                                    placeholder=\"New York, NY\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"headline\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                Professional Headline <span className=\"text-red-500\">*</span>\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"headline\"\r\n                                name=\"headline\"\r\n                                value={formData.headline}\r\n                                onChange={handleInputChange}\r\n                                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                                placeholder=\"Senior Software Engineer | Full Stack Developer\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"bio\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                Bio / Summary\r\n                            </label>\r\n                            <textarea\r\n                                id=\"bio\"\r\n                                name=\"bio\"\r\n                                value={formData.bio}\r\n                                onChange={handleInputChange}\r\n                                rows={4}\r\n                                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\r\n                                placeholder=\"Tell us about yourself, your expertise, and what you're looking for...\"\r\n                            />\r\n                            <div className=\"mt-1 flex justify-between items-center\">\r\n                                <p className=\"text-xs text-gray-500\">Optional</p>\r\n                                <p className={`text-sm ${bioCharCount > 450 ? 'text-red-600 font-medium' : 'text-gray-500'}`}>\r\n                                    {bioCharCount} / 500 characters\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            <div>\r\n                                <label htmlFor=\"industry\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Industry <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <select\r\n                                    id=\"industry\"\r\n                                    name=\"industry\"\r\n                                    value={formData.industry}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                                >\r\n                                    <option value=\"\">Select an industry...</option>\r\n                                    {INDUSTRIES.map(industry => (\r\n                                        <option key={industry} value={industry}>{industry}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label htmlFor=\"experienceLevel\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Experience Level <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <select\r\n                                    id=\"experienceLevel\"\r\n                                    name=\"experienceLevel\"\r\n                                    value={formData.experienceLevel}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                                >\r\n                                    <option value=\"\">Select experience level...</option>\r\n                                    {EXPERIENCE_LEVELS.map(level => (\r\n                                        <option key={level} value={level}>{level}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-end space-x-4 pt-6 border-t sticky bottom-0\" style={{ backgroundColor: '#FFFFFF' }}>\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={onClose}\r\n                                disabled={isSaving}\r\n                                className=\"px-6 py-2 border rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                style={{ borderColor: '#D1D5DB', color: '#374151' }}\r\n                                onMouseOver={(e) => !isSaving && (e.currentTarget.style.backgroundColor = '#F9FAFB')}\r\n                                onMouseOut={(e) => !isSaving && (e.currentTarget.style.backgroundColor = 'transparent')}\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={isSaving}\r\n                                className=\"px-6 py-2 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                style={{ backgroundColor: '#777C6D' }}\r\n                                onMouseOver={(e) => !isSaving && (e.currentTarget.style.backgroundColor = '#656A5C')}\r\n                                onMouseOut={(e) => !isSaving && (e.currentTarget.style.backgroundColor = '#777C6D')}\r\n                            >\r\n                                {isSaving ? 'Saving...' : 'Save Changes'}\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\profile\\EmploymentHistory.jsx","messages":[{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":18,"column":21,"nodeType":"JSXAttribute","endLine":18,"endColumn":91},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":19,"column":21,"nodeType":"JSXAttribute","endLine":19,"endColumn":90},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":104,"column":45,"nodeType":"JSXAttribute","endLine":107,"endColumn":47},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":108,"column":45,"nodeType":"JSXAttribute","endLine":111,"endColumn":47},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":125,"column":49,"nodeType":"JSXAttribute","endLine":128,"endColumn":51},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":129,"column":49,"nodeType":"JSXAttribute","endLine":132,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Card from '../Card';\r\n\r\nexport default function EmploymentHistory({\r\n    employmentList,\r\n    onAdd,\r\n    onEdit,\r\n    onDelete,\r\n    successMessage\r\n}) {\r\n    return (\r\n        <Card variant=\"default\" title=\"Employment History\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n                <button\r\n                    onClick={onAdd}\r\n                    className=\"px-4 py-2 text-white rounded-lg transition flex items-center space-x-2 ml-auto focus:outline-none focus:ring-2 focus:ring-offset-2\"\r\n                    style={{ backgroundColor: '#777C6D' }}\r\n                    onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                    onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n                    </svg>\r\n                    <span>Add Employment</span>\r\n                </button>\r\n            </div>\r\n\r\n            {/* Employment Success Message */}\r\n            {successMessage && (\r\n                <div className=\"mb-4 p-4 border rounded-lg\" style={{ backgroundColor: '#F0FDF4', borderColor: '#BBF7D0' }}>\r\n                    <p className=\"font-medium\" style={{ color: '#166534' }}>{successMessage}</p>\r\n                </div>\r\n            )}\r\n\r\n            {employmentList && employmentList.length > 0 ? (\r\n                <div className=\"space-y-4\">\r\n                    {employmentList\r\n                        .sort((a, b) => {\r\n                            // Current positions first\r\n                            if (a.isCurrentPosition && !b.isCurrentPosition) return -1;\r\n                            if (!a.isCurrentPosition && b.isCurrentPosition) return 1;\r\n\r\n                            // For current positions, sort by start date (most recent first)\r\n                            if (a.isCurrentPosition && b.isCurrentPosition) {\r\n                                return new Date(b.startDate) - new Date(a.startDate);\r\n                            }\r\n\r\n                            // For past positions, sort by end date (most recent first)\r\n                            return new Date(b.endDate) - new Date(a.endDate);\r\n                        })\r\n                        .map((job, index) => (\r\n                            <Card key={job._id || index} variant=\"outlined\" interactive className=\"relative\">\r\n                                {/* Current Position Badge - Top Right */}\r\n                                {job.isCurrentPosition && (\r\n                                    <div className=\"absolute top-4 right-4\">\r\n                                        <span className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border\" style={{ backgroundColor: '#DCFCE7', color: '#166534', borderColor: '#BBF7D0' }}>\r\n                                            Current Position\r\n                                        </span>\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className=\"flex flex-col\">\r\n                                    {/* Job Details */}\r\n                                    <div className=\"flex-1 pr-32\">\r\n                                        <h3 className=\"text-lg font-heading font-semibold text-text-primary\">{job.jobTitle}</h3>\r\n                                        <p className=\"text-text-primary font-medium\">{job.company}</p>\r\n                                        <div className=\"flex items-center text-sm text-text-secondary mt-1 space-x-2\">\r\n                                            {job.location && (\r\n                                                <>\r\n                                                    <span>{job.location}</span>\r\n                                                    <span>ΓÇó</span>\r\n                                                </>\r\n                                            )}\r\n                                            <span>\r\n                                                {(() => {\r\n                                                    const startDate = new Date(job.startDate);\r\n                                                    const startMonth = String(startDate.getMonth() + 1).padStart(2, '0');\r\n                                                    const startYear = startDate.getFullYear();\r\n                                                    return `${startMonth}/${startYear}`;\r\n                                                })()}\r\n                                                {' - '}\r\n                                                {job.isCurrentPosition\r\n                                                    ? 'Present'\r\n                                                    : (() => {\r\n                                                        const endDate = new Date(job.endDate);\r\n                                                        const endMonth = String(endDate.getMonth() + 1).padStart(2, '0');\r\n                                                        const endYear = endDate.getFullYear();\r\n                                                        return `${endMonth}/${endYear}`;\r\n                                                    })()\r\n                                                }\r\n                                            </span>\r\n                                        </div>\r\n                                        {job.description && (\r\n                                            <p className=\"mt-2 whitespace-pre-wrap\" style={{ color: '#4F5348' }}>{job.description}</p>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {/* Action Buttons - Bottom Right */}\r\n                                    <div className=\"flex justify-end mt-3 space-x-2\">\r\n                                        <button\r\n                                            onClick={() => onEdit(job)}\r\n                                            className=\"p-2 rounded-lg transition focus:outline-none focus:ring-2\"\r\n                                            style={{ color: '#6B7280' }}\r\n                                            onMouseOver={(e) => {\r\n                                                e.currentTarget.style.color = '#777C6D';\r\n                                                e.currentTarget.style.backgroundColor = '#F5F6F4';\r\n                                            }}\r\n                                            onMouseOut={(e) => {\r\n                                                e.currentTarget.style.color = '#6B7280';\r\n                                                e.currentTarget.style.backgroundColor = 'transparent';\r\n                                            }}\r\n                                            title=\"Edit employment\"\r\n                                        >\r\n                                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n                                            </svg>\r\n                                        </button>\r\n\r\n                                        {/* Hide delete button if only 1 entry */}\r\n                                        {employmentList.length > 1 && (\r\n                                            <button\r\n                                                onClick={() => onDelete(job)}\r\n                                                className=\"p-2 rounded-lg transition focus:outline-none focus:ring-2\"\r\n                                                style={{ color: '#6B7280' }}\r\n                                                onMouseOver={(e) => {\r\n                                                    e.currentTarget.style.color = '#EF4444';\r\n                                                    e.currentTarget.style.backgroundColor = '#FEF2F2';\r\n                                                }}\r\n                                                onMouseOut={(e) => {\r\n                                                    e.currentTarget.style.color = '#6B7280';\r\n                                                    e.currentTarget.style.backgroundColor = 'transparent';\r\n                                                }}\r\n                                                title=\"Delete employment\"\r\n                                            >\r\n                                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                                                </svg>\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                        ))}\r\n\r\n                </div>\r\n            ) : (\r\n                <p className=\"italic\" style={{ color: '#9CA3AF' }}>No employment history added yet.</p>\r\n            )}\r\n        </Card>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\profile\\SkillsSection.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'error' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":39,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":39,"endColumn":17,"suggestions":[{"messageId":"removeVar","data":{"varName":"error"},"fix":{"range":[1048,1053],"text":""},"desc":"Remove unused variable 'error'."}]},{"ruleId":"no-prototype-builtins","severity":2,"message":"Do not access Object.prototype method 'hasOwnProperty' from target object.","line":61,"column":25,"nodeType":"CallExpression","messageId":"prototypeBuildIn","endLine":61,"endColumn":39,"suggestions":[{"messageId":"callObjectPrototype","data":{"prop":"hasOwnProperty"},"fix":{"range":[1758,1781],"text":"Object.prototype.hasOwnProperty.call(summary, "},"desc":"Call Object.prototype.hasOwnProperty explicitly."}]},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":194,"column":25,"nodeType":"JSXAttribute","endLine":194,"endColumn":121},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":195,"column":25,"nodeType":"JSXAttribute","endLine":195,"endColumn":100},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":207,"column":25,"nodeType":"JSXAttribute","endLine":207,"endColumn":95},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":208,"column":25,"nodeType":"JSXAttribute","endLine":208,"endColumn":94},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":255,"column":29,"nodeType":"JSXOpeningElement","endLine":258,"endColumn":30},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":255,"column":29,"nodeType":"JSXOpeningElement","endLine":258,"endColumn":30}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport Card from '../Card';\r\nimport SortableSkillItem from './SortableSkillItem';\r\nimport {\r\n    DndContext,\r\n    closestCenter,\r\n    KeyboardSensor,\r\n    PointerSensor,\r\n    useSensor,\r\n    useSensors,\r\n} from '@dnd-kit/core';\r\nimport {\r\n    arrayMove,\r\n    SortableContext,\r\n    sortableKeyboardCoordinates,\r\n    verticalListSortingStrategy,\r\n} from '@dnd-kit/sortable';\r\nimport { jsPDF } from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nimport { useAuth } from \"@clerk/clerk-react\";\r\nimport api, { setAuthToken } from \"../../api/axios\";\r\n\r\nexport default function SkillsSection({\r\n    skillList,\r\n    setSkillList,\r\n    onAdd,\r\n    onEdit,\r\n    onDelete,\r\n    successMessage\r\n}) {\r\n    const { getToken } = useAuth();\r\n    const [skillSearchQuery, setSkillSearchQuery] = useState('');\r\n    const [expandedCategories, setExpandedCategories] = useState({\r\n        'Technical': true,\r\n        'Soft Skills': true,\r\n        'Languages': true,\r\n        'Industry-Specific': true\r\n    });\r\n    const [error, setError] = useState(null);\r\n\r\n    const sensors = useSensors(\r\n        useSensor(PointerSensor),\r\n        useSensor(KeyboardSensor, {\r\n            coordinateGetter: sortableKeyboardCoordinates,\r\n        })\r\n    );\r\n\r\n    const groupSkillsByCategory = (skills) => {\r\n        const grouped = {};\r\n        skills.forEach(skill => {\r\n            const cat = skill.category || 'Other';\r\n            if (!grouped[cat]) grouped[cat] = [];\r\n            grouped[cat].push(skill);\r\n        });\r\n        return grouped;\r\n    };\r\n\r\n    const getSkillLevelSummary = (skills) => {\r\n        const summary = { Beginner: 0, Intermediate: 0, Advanced: 0, Expert: 0 };\r\n        skills.forEach(skill => {\r\n            if (summary.hasOwnProperty(skill.level)) {\r\n                summary[skill.level]++;\r\n            }\r\n        });\r\n        return summary;\r\n    };\r\n\r\n    const toggleCategory = (category) => {\r\n        setExpandedCategories(prev => ({\r\n            ...prev,\r\n            [category]: !prev[category]\r\n        }));\r\n    };\r\n\r\n    const filteredSkills = skillList.filter(skill => {\r\n        if (!skillSearchQuery.trim()) return true;\r\n        const query = skillSearchQuery.toLowerCase();\r\n        return (\r\n            skill.name.toLowerCase().includes(query) ||\r\n            skill.category.toLowerCase().includes(query) ||\r\n            skill.level.toLowerCase().includes(query)\r\n        );\r\n    });\r\n\r\n    const handleSkillDragEnd = async (event) => {\r\n        const { active, over } = event;\r\n        if (!over || active.id === over.id) return;\r\n\r\n        const oldIndex = skillList.findIndex(s => s._id === active.id);\r\n        const newIndex = skillList.findIndex(s => s._id === over.id);\r\n\r\n        if (oldIndex === -1 || newIndex === -1) return;\r\n\r\n        const newSkillList = arrayMove(skillList, oldIndex, newIndex);\r\n        setSkillList(newSkillList);\r\n\r\n        try {\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n            await api.put('/api/profile/skills/reorder', { skills: newSkillList.map(s => s._id) });\r\n        } catch (err) {\r\n            console.error('Failed to persist skill order:', err);\r\n        }\r\n    };\r\n\r\n    const moveSkillToCategory = async (skill, newCategory) => {\r\n        try {\r\n            const token = await getToken();\r\n            setAuthToken(token);\r\n            await api.put(`/api/profile/skills/${skill._id}`, { ...skill, category: newCategory });\r\n\r\n            setSkillList(prev => prev.map(s =>\r\n                s._id === skill._id ? { ...s, category: newCategory } : s\r\n            ));\r\n        } catch (err) {\r\n            console.error('Failed to move skill:', err);\r\n            setError(err);\r\n        }\r\n    };\r\n\r\n    const exportSkillsByCategory = () => {\r\n        const grouped = groupSkillsByCategory(skillList);\r\n        const today = new Date();\r\n        const dateStr = today.toISOString().split('T')[0];\r\n\r\n        const doc = new jsPDF({ unit: 'pt', format: 'a4' });\r\n\r\n        doc.setFont('helvetica', 'bold');\r\n        doc.setFontSize(18);\r\n        doc.text('Skills Export', 40, 40);\r\n\r\n        doc.setFont('helvetica', 'normal');\r\n        doc.setFontSize(11);\r\n        doc.text(`Date: ${dateStr}`, 40, 60);\r\n        doc.text(`Total skills: ${skillList.length}`, 40, 75);\r\n\r\n        let currentY = 95;\r\n\r\n        const categories = Object.keys(grouped);\r\n        if (categories.length === 0) {\r\n            doc.text('No skills to export.', 40, currentY);\r\n        }\r\n\r\n        categories.forEach((category, idx) => {\r\n            if (idx > 0) {\r\n                currentY += 20;\r\n            }\r\n\r\n            doc.setFont('helvetica', 'bold');\r\n            doc.setFontSize(14);\r\n            doc.text(`${category} (${grouped[category].length})`, 40, currentY);\r\n\r\n            const summary = getSkillLevelSummary(grouped[category]);\r\n            doc.setFont('helvetica', 'normal');\r\n            doc.setFontSize(10);\r\n            currentY += 14;\r\n            doc.text(\r\n                `Beginner: ${summary.Beginner}   Intermediate: ${summary.Intermediate}   Advanced: ${summary.Advanced}   Expert: ${summary.Expert}`,\r\n                40,\r\n                currentY\r\n            );\r\n\r\n            const rows = grouped[category]\r\n                .map(s => [s.name || '', s.level || '', s.category || category]);\r\n\r\n            autoTable(doc, {\r\n                startY: currentY + 8,\r\n                margin: { left: 40, right: 40 },\r\n                head: [['Name', 'Level', 'Category']],\r\n                body: rows,\r\n                styles: { font: 'helvetica', fontSize: 10 },\r\n                headStyles: { fillColor: [33, 150, 243], textColor: 255 },\r\n                alternateRowStyles: { fillColor: [245, 245, 245] },\r\n            });\r\n\r\n            currentY = doc.lastAutoTable ? doc.lastAutoTable.finalY : currentY + 40;\r\n        });\r\n\r\n        doc.save(`skills-export-${dateStr}.pdf`);\r\n    };\r\n\r\n    return (\r\n        <Card variant=\"default\" title=\"Skills\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n                <div>\r\n                    <p className=\"text-sm mt-1\" style={{ color: '#656A5C' }}>{skillList.length} total skills across {Object.keys(groupSkillsByCategory(skillList)).length} categories</p>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <button\r\n                        onClick={exportSkillsByCategory}\r\n                        disabled={skillList.length === 0}\r\n                        className=\"px-4 py-2 border rounded-lg transition flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        style={{ borderColor: '#D1D5DB', color: '#656A5C' }}\r\n                        onMouseOver={(e) => skillList.length > 0 && (e.currentTarget.style.backgroundColor = '#F5F6F4')}\r\n                        onMouseOut={(e) => (e.currentTarget.style.backgroundColor = 'transparent')}\r\n                        title=\"Export skills by category\"\r\n                    >\r\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n                        </svg>\r\n                        <span>Export</span>\r\n                    </button>\r\n                    <button\r\n                        onClick={onAdd}\r\n                        className=\"px-4 py-2 text-white rounded-lg transition flex items-center space-x-2 focus:outline-none focus:ring-2 focus:ring-offset-2\"\r\n                        style={{ backgroundColor: '#777C6D' }}\r\n                        onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                        onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                    >\r\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n                        </svg>\r\n                        <span>Add Skill</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {successMessage && (\r\n                <div className=\"mb-4 p-4 border rounded-lg\" style={{ backgroundColor: '#F0FDF4', borderColor: '#BBF7D0' }}>\r\n                    <p className=\"font-medium\" style={{ color: '#166534' }}>{successMessage}</p>\r\n                </div>\r\n            )}\r\n\r\n            {skillList.length > 0 && (\r\n                <div className=\"mb-4\">\r\n                    <div className=\"relative\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={skillSearchQuery}\r\n                            onChange={(e) => setSkillSearchQuery(e.target.value)}\r\n                            placeholder=\"Search skills by name, category, or proficiency...\"\r\n                            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                        />\r\n                        <svg className=\"w-5 h-5 text-gray-400 absolute left-3 top-2.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                        </svg>\r\n                        {skillSearchQuery && (\r\n                            <button\r\n                                onClick={() => setSkillSearchQuery('')}\r\n                                className=\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\"\r\n                            >\r\n                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                                </svg>\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {skillList.length > 0 ? (\r\n                <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleSkillDragEnd}>\r\n                    {Object.entries(groupSkillsByCategory(filteredSkills)).map(([category, skills]) => (\r\n                        <div key={category} className=\"mb-6 last:mb-0\">\r\n                            <div\r\n                                className=\"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg mb-3 cursor-pointer hover:from-gray-100 hover:to-gray-150 transition\"\r\n                                onClick={() => toggleCategory(category)}\r\n                            >\r\n                                <div className=\"flex items-center space-x-3\">\r\n                                    <button className=\"text-gray-600\">\r\n                                        <svg className={`w-5 h-5 transition-transform ${expandedCategories[category] ? 'rotate-90' : ''}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                                        </svg>\r\n                                    </button>\r\n                                    <div>\r\n                                        <h3 className=\"text-lg font-semibold text-gray-800\">{category}</h3>\r\n                                        <div className=\"flex items-center space-x-4 mt-1\">\r\n                                            <span className=\"text-sm text-gray-600\">{skills.length} skill{skills.length !== 1 ? 's' : ''}</span>\r\n                                            <div className=\"flex items-center space-x-2 text-xs\">\r\n                                                {Object.entries(getSkillLevelSummary(skills)).map(([level, count]) => (\r\n                                                    count > 0 && (\r\n                                                        <span key={level} className={`px-2 py-0.5 rounded ${level === 'Beginner' ? 'bg-gray-200 text-gray-800' :\r\n                                                            level === 'Intermediate' ? 'bg-yellow-100 text-yellow-800' :\r\n                                                                level === 'Advanced' ? 'bg-indigo-100 text-indigo-800' :\r\n                                                                    'bg-green-100 text-green-800'\r\n                                                            }`}>\r\n                                                            {count} {level}\r\n                                                        </span>\r\n                                                    )\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {expandedCategories[category] && (\r\n                                <SortableContext items={skills.map(s => s._id)} strategy={verticalListSortingStrategy}>\r\n                                    <div className=\"space-y-2 pl-8\">\r\n                                        {skills.map((skill) => (\r\n                                            <SortableSkillItem\r\n                                                key={skill._id}\r\n                                                skill={skill}\r\n                                                onEdit={onEdit}\r\n                                                onDelete={onDelete}\r\n                                                onMoveCategory={moveSkillToCategory}\r\n                                                categories={['Technical', 'Soft Skills', 'Languages', 'Industry-Specific']}\r\n                                            />\r\n                                        ))}\r\n                                    </div>\r\n                                </SortableContext>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </DndContext>\r\n            ) : (\r\n                <div className=\"text-center py-12\">\r\n                    <svg className=\"w-16 h-16 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" style={{ color: '#D1D5DB' }}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\r\n                    </svg>\r\n                    <p className=\"italic\" style={{ color: '#9CA3AF' }}>No skills added yet. Click \"Add Skill\" to get started!</p>\r\n                </div>\r\n            )}\r\n        </Card>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\profile\\SortableSkillItem.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":76,"column":29,"nodeType":"JSXOpeningElement","endLine":76,"endColumn":110},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":76,"column":29,"nodeType":"JSXOpeningElement","endLine":76,"endColumn":110}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { useSortable } from '@dnd-kit/sortable';\r\nimport { CSS } from '@dnd-kit/utilities';\r\n\r\nexport default function SortableSkillItem({ skill, onEdit, onDelete, onMoveCategory, categories }) {\r\n    const {\r\n        attributes,\r\n        listeners,\r\n        setNodeRef,\r\n        transform,\r\n        transition,\r\n        isDragging,\r\n    } = useSortable({ id: skill._id });\r\n\r\n    const style = {\r\n        transform: CSS.Transform.toString(transform),\r\n        transition,\r\n        opacity: isDragging ? 0.5 : 1,\r\n    };\r\n\r\n    const [showCategoryMenu, setShowCategoryMenu] = useState(false);\r\n\r\n    const getLevelColor = (level) => {\r\n        switch (level) {\r\n            case 'Beginner': return 'bg-gray-200 text-gray-800';\r\n            case 'Intermediate': return 'bg-yellow-100 text-yellow-800';\r\n            case 'Advanced': return 'bg-indigo-100 text-indigo-800';\r\n            case 'Expert': return 'bg-green-100 text-green-800';\r\n            default: return 'bg-gray-100 text-gray-700';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            ref={setNodeRef}\r\n            style={style}\r\n            className=\"group flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md transition\"\r\n        >\r\n            <div className=\"flex items-center space-x-3 flex-1\">\r\n                {/* Drag Handle */}\r\n                <button\r\n                    {...attributes}\r\n                    {...listeners}\r\n                    className=\"cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600 p-1\"\r\n                    title=\"Drag to reorder\"\r\n                >\r\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 8h16M4 16h16\" />\r\n                    </svg>\r\n                </button>\r\n\r\n                {/* Skill Name */}\r\n                <span className=\"text-sm font-medium text-gray-800 flex-1\">{skill.name}</span>\r\n\r\n                {/* Proficiency Badge */}\r\n                <span className={`text-xs px-2 py-1 rounded font-medium ${getLevelColor(skill.level)}`}>\r\n                    {skill.level}\r\n                </span>\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex items-center space-x-1 ml-3 opacity-0 group-hover:opacity-100 transition\">\r\n                {/* Move to Category Dropdown */}\r\n                <div className=\"relative\">\r\n                    <button\r\n                        onClick={() => setShowCategoryMenu(!showCategoryMenu)}\r\n                        className=\"p-1.5 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded transition\"\r\n                        title=\"Move to category\"\r\n                    >\r\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12M8 12h12m-12 5h12M3 7h.01M3 12h.01M3 17h.01\" />\r\n                        </svg>\r\n                    </button>\r\n                    {showCategoryMenu && (\r\n                        <>\r\n                            <div className=\"fixed inset-0 z-10\" onClick={() => setShowCategoryMenu(false)} />\r\n                            <div className=\"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-20\">\r\n                                {categories.filter(cat => cat !== skill.category).map(cat => (\r\n                                    <button\r\n                                        key={cat}\r\n                                        onClick={() => {\r\n                                            onMoveCategory(skill, cat);\r\n                                            setShowCategoryMenu(false);\r\n                                        }}\r\n                                        className=\"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition\"\r\n                                    >\r\n                                        Move to {cat}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Edit Button */}\r\n                <button\r\n                    onClick={() => onEdit(skill)}\r\n                    className=\"p-1.5 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition\"\r\n                    title=\"Edit skill\"\r\n                >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n                    </svg>\r\n                </button>\r\n\r\n                {/* Delete Button */}\r\n                <button\r\n                    onClick={() => onDelete(skill)}\r\n                    className=\"p-1.5 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded transition\"\r\n                    title=\"Delete skill\"\r\n                >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M4 7h16\" />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\projects\\PortfolioModal.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'handleTechChange' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":51,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":51,"endColumn":27,"suggestions":[{"messageId":"removeVar","data":{"varName":"handleTechChange"},"fix":{"range":[1801,1985],"text":""},"desc":"Remove unused variable 'handleTechChange'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":68,"column":9,"nodeType":"JSXOpeningElement","endLine":72,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":68,"column":9,"nodeType":"JSXOpeningElement","endLine":72,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":73,"column":13,"nodeType":"JSXOpeningElement","endLine":76,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":73,"column":13,"nodeType":"JSXOpeningElement","endLine":76,"endColumn":14}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Portfolio Modal - Document-style view of user's projects\r\n * Displays projects in a clean, professional format similar to resume templates\r\n */\r\n\r\nimport React, { useState, useMemo } from 'react';\r\n\r\n// Helper to apply filters\r\nfunction applyFilters(projects = [], filters = {}) {\r\n    const { techs = [], sort = 'dateDesc' } = filters;\r\n\r\n    let out = projects.slice();\r\n\r\n    // Filter by technologies\r\n    if (techs.length) {\r\n        out = out.filter(p => {\r\n            const t = Array.isArray(p.technologies)\r\n                ? p.technologies\r\n                : (p.technologies || '').split?.(',') || [];\r\n            return techs.every(sel =>\r\n                t.map(x => x.trim().toLowerCase()).includes(sel.toLowerCase())\r\n            );\r\n        });\r\n    }\r\n\r\n    // Sort by date\r\n    if (sort === 'dateDesc') {\r\n        out.sort((a, b) => new Date(b.startDate || b.createdAt || 0) - new Date(a.startDate || a.createdAt || 0));\r\n    } else if (sort === 'dateAsc') {\r\n        out.sort((a, b) => new Date(a.startDate || a.createdAt || 0) - new Date(b.startDate || b.createdAt || 0));\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\nexport default function PortfolioModal({ projects = [], onClose, userName = '' }) {\r\n    const [filters, setFilters] = useState({ techs: [], sort: 'dateDesc' });\r\n\r\n    // Extract unique technologies for filter dropdown\r\n    const techOptions = useMemo(() => {\r\n        const allTechs = projects.flatMap(p =>\r\n            Array.isArray(p.technologies)\r\n                ? p.technologies\r\n                : (p.technologies || '').split(',').map(t => t.trim()).filter(Boolean)\r\n        );\r\n        return Array.from(new Set(allTechs)).sort();\r\n    }, [projects]);\r\n\r\n    const filteredProjects = useMemo(() => applyFilters(projects, filters), [projects, filters]);\r\n\r\n    const handleTechChange = (e) => {\r\n        const selected = Array.from(e.target.selectedOptions, opt => opt.value);\r\n        setFilters(prev => ({ ...prev, techs: selected }));\r\n    };\r\n\r\n    const handleSortChange = (e) => {\r\n        setFilters(prev => ({ ...prev, sort: e.target.value }));\r\n    };\r\n\r\n    const formatDate = (dateStr) => {\r\n        if (!dateStr) return '';\r\n        const d = new Date(dateStr);\r\n        if (isNaN(d.getTime())) return '';\r\n        return d.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={onClose}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-200\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                {/* Modal Header */}\r\n                <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10\">\r\n                    <h3 className=\"text-2xl font-heading font-semibold\">Project Portfolio</h3>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600 transition\"\r\n                    >\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Filter Bar */}\r\n                <div className=\"bg-white border-b px-6 py-4\">\r\n                    <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <select\r\n                                value={filters.sort}\r\n                                onChange={handleSortChange}\r\n                                className=\"border rounded p-2\"\r\n                            >\r\n                                <option value=\"dateDesc\">Newest</option>\r\n                                <option value=\"dateAsc\">Oldest</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {techOptions.length > 0 && (\r\n                        <div className=\"mt-3\">\r\n                            <div className=\"text-sm font-medium mb-2\">Technologies</div>\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                                {techOptions.map(tech => (\r\n                                    <button\r\n                                        key={tech}\r\n                                        onClick={() => {\r\n                                            const set = new Set(filters.techs || []);\r\n                                            if (set.has(tech)) set.delete(tech); else set.add(tech);\r\n                                            setFilters(prev => ({ ...prev, techs: Array.from(set) }));\r\n                                        }}\r\n                                        className={`text-sm px-2 py-1 rounded border ${(filters.techs || []).includes(tech) ? 'bg-slate-700 text-white' : 'bg-white text-gray-700'}`}\r\n                                    >\r\n                                        {tech}\r\n                                    </button>\r\n                                ))}\r\n                                {filters.techs.length > 0 && (\r\n                                    <button\r\n                                        onClick={() => setFilters(prev => ({ ...prev, techs: [] }))}\r\n                                        className=\"text-sm px-2 py-1 rounded border border-red-300 text-red-600 hover:bg-red-50\"\r\n                                    >\r\n                                        Clear\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Document View */}\r\n                <div className=\"p-8 bg-gray-100\">\r\n                    {/* Simulated document page */}\r\n                    <div\r\n                        className=\"bg-white shadow-lg mx-auto\"\r\n                        style={{ maxWidth: '8.5in', minHeight: '11in', padding: '0.75in' }}\r\n                    >\r\n                        {/* Header */}\r\n                        <div className=\"text-center mb-8 pb-6 border-b-2\" style={{ borderColor: '#4F5348' }}>\r\n                            <h1 className=\"text-3xl font-bold mb-2\" style={{ color: '#2C2C2C', fontFamily: 'Georgia, serif' }}>\r\n                                {userName ? `${userName}'s ` : ''}Project Portfolio\r\n                            </h1>\r\n                            <p className=\"text-sm\" style={{ color: '#666', fontFamily: 'Times New Roman, serif' }}>\r\n                                {filteredProjects.length} Project{filteredProjects.length !== 1 ? 's' : ''}\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Projects List */}\r\n                        {filteredProjects.length === 0 ? (\r\n                            <p className=\"text-center text-gray-500 py-8\">No projects match the current filters.</p>\r\n                        ) : (\r\n                            <div className=\"space-y-8\">\r\n                                {filteredProjects.map((project, index) => {\r\n                                    const techs = Array.isArray(project.technologies)\r\n                                        ? project.technologies\r\n                                        : (project.technologies || '').split(',').map(t => t.trim()).filter(Boolean);\r\n\r\n                                    return (\r\n                                        <div key={project._id || project.id || index} className=\"mb-6\">\r\n                                            {/* Project Title and Date */}\r\n                                            <div className=\"flex justify-between items-baseline mb-2\">\r\n                                                <h2\r\n                                                    className=\"text-xl font-bold\"\r\n                                                    style={{ color: '#4F5348', fontFamily: 'Georgia, serif' }}\r\n                                                >\r\n                                                    {project.name}\r\n                                                </h2>\r\n                                                <span className=\"text-sm font-semibold\" style={{ color: '#666' }}>\r\n                                                    {formatDate(project.startDate)}\r\n                                                    {project.endDate && ` - ${formatDate(project.endDate)}`}\r\n                                                    {!project.endDate && project.status === 'Ongoing' && ' - Present'}\r\n                                                </span>\r\n                                            </div>\r\n\r\n                                            {/* Role */}\r\n                                            {project.role && (\r\n                                                <p className=\"text-sm italic mb-2\" style={{ color: '#555', fontFamily: 'Georgia, serif' }}>\r\n                                                    {project.role}\r\n                                                </p>\r\n                                            )}\r\n\r\n                                            {/* Description */}\r\n                                            {project.description && (\r\n                                                <p className=\"mb-3\" style={{ lineHeight: '1.6', fontFamily: 'Times New Roman, serif', color: '#2C2C2C' }}>\r\n                                                    {project.description}\r\n                                                </p>\r\n                                            )}\r\n\r\n                                            {/* Technologies */}\r\n                                            {techs.length > 0 && (\r\n                                                <p className=\"text-sm mb-2\" style={{ color: '#666', fontFamily: 'Times New Roman, serif' }}>\r\n                                                    <strong>Technologies:</strong> {techs.join(' ΓÇó ')}\r\n                                                </p>\r\n                                            )}\r\n\r\n                                            {/* Outcomes */}\r\n                                            {project.outcomes && (\r\n                                                <div className=\"mt-2\">\r\n                                                    <p className=\"text-sm font-semibold\" style={{ color: '#4F5348' }}>Key Outcomes:</p>\r\n                                                    <p className=\"text-sm\" style={{ lineHeight: '1.6', fontFamily: 'Times New Roman, serif', color: '#2C2C2C' }}>\r\n                                                        {project.outcomes}\r\n                                                    </p>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {/* Project URL */}\r\n                                            {(project.projectUrl || project.url) && (\r\n                                                <p className=\"text-sm mt-2\">\r\n                                                    <a\r\n                                                        href={project.projectUrl || project.url}\r\n                                                        target=\"_blank\"\r\n                                                        rel=\"noopener noreferrer\"\r\n                                                        className=\"text-blue-600 hover:underline\"\r\n                                                        style={{ fontFamily: 'Times New Roman, serif' }}\r\n                                                    >\r\n                                                        View Project ΓåÆ\r\n                                                    </a>\r\n                                                </p>\r\n                                            )}\r\n\r\n                                            {/* Divider between projects */}\r\n                                            {index < filteredProjects.length - 1 && (\r\n                                                <hr className=\"mt-6 border-gray-200\" />\r\n                                            )}\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\projects\\ProjectCard.jsx","messages":[{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":35,"column":15,"nodeType":"JSXAttribute","endLine":38,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":39,"column":15,"nodeType":"JSXAttribute","endLine":42,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":53,"column":15,"nodeType":"JSXAttribute","endLine":56,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":57,"column":15,"nodeType":"JSXAttribute","endLine":60,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":70,"column":13,"nodeType":"JSXAttribute","endLine":70,"endColumn":83},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":71,"column":13,"nodeType":"JSXAttribute","endLine":71,"endColumn":82},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":112,"column":7,"nodeType":"JSXAttribute","endLine":115,"endColumn":9},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":116,"column":7,"nodeType":"JSXAttribute","endLine":119,"endColumn":9}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ProjectCard({ project, onOpenDetail, onEdit, onDelete }) {\r\n  const start = project.startDate ? new Date(project.startDate).toLocaleDateString() : '';\r\n  const end = project.endDate ? new Date(project.endDate).toLocaleDateString() : '';\r\n\r\n  return (\r\n    <div className=\"relative bg-white rounded-lg border border-gray-300 p-4 shadow-sm hover:shadow-md transition-all flex flex-col h-full\" style={{ minWidth: 220 }}>\r\n      <div className=\"flex items-start gap-3 pb-12\">{/* reserve space for footer */}\r\n        <div className=\"flex items-start gap-3\">\r\n          {project.screenshot?.data ? (\r\n            <div className=\"w-12 h-12 rounded-md overflow-hidden bg-gray-50 flex-shrink-0\">\r\n              <img src={project.screenshot.data} alt={project.name} className=\"w-full h-full object-cover\" />\r\n            </div>\r\n          ) : (\r\n            <div className=\"w-12 h-12 rounded-md bg-gray-100 flex items-center justify-center text-gray-400 flex-shrink-0\">\r\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7a5 5 0 0110 0\" /></svg>\r\n            </div>\r\n          )}\r\n          <div className=\"flex-1 min-w-0 overflow-hidden\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 break-words max-w-full\">{project.name}</h3>\r\n            <div className=\"text-sm text-gray-600 mt-1 truncate\">{project.role || 'ΓÇö'}</div>\r\n            <div className=\"text-xs text-gray-500 mt-2\">{start}{start && end ? ' ΓÇö ' : ''}{end}</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer with actions ΓÇö anchored bottom-right */}\r\n        <div className=\"absolute right-3 bottom-3 flex items-center gap-2\">\r\n          {onEdit && (\r\n            <button\r\n              onClick={() => onEdit(project)}\r\n              className=\"p-2 rounded-lg transition\"\r\n              style={{ color: '#6B7280' }}\r\n              onMouseOver={(e) => {\r\n                e.currentTarget.style.color = '#777C6D';\r\n                e.currentTarget.style.backgroundColor = '#F5F6F4';\r\n              }}\r\n              onMouseOut={(e) => {\r\n                e.currentTarget.style.color = '#6B7280';\r\n                e.currentTarget.style.backgroundColor = 'transparent';\r\n              }}\r\n              title=\"Edit project\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" /></svg>\r\n            </button>\r\n          )}\r\n          {onDelete && (\r\n            <button\r\n              onClick={() => onDelete(project)}\r\n              className=\"p-2 rounded-lg transition\"\r\n              style={{ color: '#6B7280' }}\r\n              onMouseOver={(e) => {\r\n                e.currentTarget.style.color = '#EF4444';\r\n                e.currentTarget.style.backgroundColor = '#FEF2F2';\r\n              }}\r\n              onMouseOut={(e) => {\r\n                e.currentTarget.style.color = '#6B7280';\r\n                e.currentTarget.style.backgroundColor = 'transparent';\r\n              }}\r\n              title=\"Delete project\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" /></svg>\r\n            </button>\r\n          )}\r\n          <ShareButton project={project} />\r\n\r\n          <button onClick={() => onOpenDetail && onOpenDetail(project)} className=\"text-sm text-white px-3 py-2 rounded-md transition\"\r\n            style={{ backgroundColor: '#777C6D' }}\r\n            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n          >View</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ShareButton({ project }) {\r\n  const [copied, setCopied] = useState(false);\r\n  const id = project._id || project.id || project.uuid;\r\n  const url = `${window.location.origin}/projects/${id}`;\r\n\r\n  const handleCopy = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      if (navigator.clipboard && navigator.clipboard.writeText) {\r\n        await navigator.clipboard.writeText(url);\r\n      } else {\r\n        // fallback\r\n        const ta = document.createElement('textarea');\r\n        ta.value = url;\r\n        document.body.appendChild(ta);\r\n        ta.select();\r\n        document.execCommand('copy');\r\n        document.body.removeChild(ta);\r\n      }\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    } catch (err) {\r\n      console.error('Copy failed', err);\r\n      alert('Failed to copy link');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={handleCopy}\r\n      title=\"Copy shareable link\"\r\n      className=\"p-2 rounded-lg transition\"\r\n      style={{ color: '#6B7280' }}\r\n      onMouseOver={(e) => {\r\n        e.currentTarget.style.color = '#10B981';\r\n        e.currentTarget.style.backgroundColor = '#ECFDF5';\r\n      }}\r\n      onMouseOut={(e) => {\r\n        e.currentTarget.style.color = '#6B7280';\r\n        e.currentTarget.style.backgroundColor = 'transparent';\r\n      }}\r\n    >\r\n      {copied ? (\r\n        <span className=\"text-xs text-green-600\">Copied</span>\r\n      ) : (\r\n        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h8a2 2 0 012 2v8a2 2 0 01-2 2H8a2 2 0 01-2-2V9a2 2 0 012-2z\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 3h8a2 2 0 012 2v2\" /></svg>\r\n      )}\r\n    </button>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\projects\\ProjectDetail.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":17,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\n\r\nexport default function ProjectDetail({ project, onClose }) {\r\n  useEffect(() => {\r\n    const onKey = (e) => { if (e.key === 'Escape') onClose && onClose(); };\r\n    window.addEventListener('keydown', onKey);\r\n    return () => window.removeEventListener('keydown', onKey);\r\n  }, [onClose]);\r\n\r\n  if (!project) return null;\r\n  const formatDate = (d) => {\r\n    if (!d) return '';\r\n    try {\r\n      const date = typeof d === 'string' || typeof d === 'number' ? new Date(d) : d;\r\n      if (isNaN(date)) return '';\r\n      return date.toLocaleDateString();\r\n    } catch (e) {\r\n      return '';\r\n    }\r\n  };\r\n\r\n  const startDateStr = formatDate(project.startDate);\r\n  const endDateStr = formatDate(project.endDate);\r\n\r\n  const handlePrint = () => {\r\n    // open a new window with a printable view and good print CSS\r\n    const techsHtml = (project.technologies || []).map(t => `<span class=\"tech\">${t}</span>`).join(' ');\r\n    const imgHtml = project.screenshot?.data ? `<div class=\"screenshot\"><img src=\"${project.screenshot.data}\" alt=\"${project.name}\" /></div>` : '';\r\n\r\n    const html = `\r\n      <html>\r\n        <head>\r\n          <meta charset=\"utf-8\" />\r\n          <title>${project.name} - Summary</title>\r\n          <style>\r\n            @page { margin: 20mm; }\r\n            body { font-family: Inter, Arial, Helvetica, sans-serif; color: #111827; padding: 0; margin: 0; }\r\n            .container { max-width: 800px; margin: 0 auto; padding: 24px; }\r\n            h1 { font-size: 24px; margin-bottom: 6px; }\r\n            .meta { color: #6B7280; margin-bottom: 12px; }\r\n            .description { margin-top: 12px; font-size: 14px; line-height: 1.45; }\r\n            .tech { display: inline-block; margin: 4px 6px 0 0; padding: 6px 8px; background: #F3F4F6; border-radius: 6px; font-size: 12px; color: #374151; }\r\n            .screenshot img { max-width: 100%; height: auto; border-radius: 6px; margin-bottom: 12px; }\r\n            .section { margin-top: 18px; }\r\n            .role { font-weight: 600; color: #374151; }\r\n            @media print {\r\n              body { -webkit-print-color-adjust: exact; }\r\n              .container { padding: 0; }\r\n              button, .no-print { display: none !important; }\r\n            }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <div class=\"container\">\r\n            <h1>${project.name}</h1>\r\n            <div class=\"meta\">${project.industry || ''} ${project.industry ? 'ΓÇó' : ''} ${startDateStr || ''}${startDateStr && endDateStr ? ' ΓÇö ' : ''}${endDateStr || ''}</div>\r\n            ${imgHtml}\r\n            <div class=\"section description\">${project.description || ''}</div>\r\n            <div class=\"section\">\r\n              <div class=\"role\">Role</div>\r\n              <div class=\"description\">${project.role || ''}</div>\r\n            </div>\r\n            ${project.outcomes ? `<div class=\"section\"><div class=\"role\">Outcomes</div><div class=\"description\">${project.outcomes}</div></div>` : ''}\r\n            <div class=\"section\">\r\n              <div class=\"role\">Technologies</div>\r\n              <div style=\"margin-top:8px\">${techsHtml}</div>\r\n            </div>\r\n          </div>\r\n        </body>\r\n      </html>\r\n    `;\r\n\r\n    const w = window.open('', '_blank');\r\n    if (!w) { alert('Unable to open print window'); return; }\r\n    w.document.open();\r\n    w.document.write(html);\r\n    w.document.close();\r\n    w.focus();\r\n    // delay a bit to let images load\r\n    setTimeout(() => { try { w.print(); } catch (e) { console.error('Print failed', e); } }, 300);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 bg-black/50 flex items-start justify-center p-6 overflow-auto\">\r\n      <div className=\"bg-white rounded max-w-3xl w-full shadow-lg\">\r\n        <div className=\"p-4 border-b flex justify-between items-center\">\r\n          <h3 className=\"text-xl font-semibold\">{project.name}</h3>\r\n          <div className=\"flex items-center gap-2\">\r\n            <ShareInDetail project={project} />\r\n            <button onClick={handlePrint} className=\"px-3 py-1 bg-slate-700 text-white rounded text-sm\">Print</button>\r\n            <button onClick={onClose} className=\"px-3 py-1 border rounded text-sm\">Close</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {project.screenshot?.data && <img src={project.screenshot.data} alt={project.name} className=\"w-full max-h-64 object-cover rounded mb-4\" />}\r\n\r\n          <div className=\"text-sm text-gray-600 mb-2\">{project.industry} {project.industry ? 'ΓÇó' : ''} {startDateStr} {startDateStr && endDateStr ? 'ΓÇö' : ''} {endDateStr}</div>\r\n\r\n          <div className=\"prose max-w-none\">{project.description}</div>\r\n\r\n          <div className=\"mt-4\">\r\n            <h4 className=\"font-medium\">Technologies</h4>\r\n            <div className=\"flex flex-wrap gap-2 mt-2\">\r\n              {(project.technologies || []).map((t,i) => (\r\n                <span key={i} className=\"text-xs px-2 py-1 bg-gray-100 rounded\">{t}</span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-4\">\r\n            <h4 className=\"font-medium\">Role & Outcomes</h4>\r\n            <div className=\"text-sm text-gray-700 mt-2\">{project.role}</div>\r\n            {project.outcomes && <div className=\"mt-2 text-sm text-gray-700\">{project.outcomes}</div>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ShareInDetail({ project }) {\r\n  const [copied, setCopied] = useState(false);\r\n  const id = project._id || project.id || project.uuid;\r\n  const url = `${window.location.origin}/projects/${id}`;\r\n\r\n  const copy = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      if (navigator.clipboard && navigator.clipboard.writeText) {\r\n        await navigator.clipboard.writeText(url);\r\n      } else {\r\n        const ta = document.createElement('textarea');\r\n        ta.value = url;\r\n        document.body.appendChild(ta);\r\n        ta.select();\r\n        document.execCommand('copy');\r\n        document.body.removeChild(ta);\r\n      }\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    } catch (err) {\r\n      console.error('Copy failed', err);\r\n      alert('Failed to copy link');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button onClick={copy} className=\"px-3 py-1 border rounded text-sm\" title=\"Copy shareable link\">\r\n      {copied ? 'Copied' : 'Share'}\r\n    </button>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\projects\\ProjectFilters.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\projects\\ProjectGrid.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\AIResumeCreationModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":23,"column":5,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":23,"column":5,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":28,"column":7,"nodeType":"JSXOpeningElement","endLine":31,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":28,"column":7,"nodeType":"JSXOpeningElement","endLine":31,"endColumn":8},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":140,"column":21,"nodeType":"JSXOpeningElement","endLine":147,"endColumn":22},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":140,"column":21,"nodeType":"JSXOpeningElement","endLine":147,"endColumn":22},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":224,"column":17,"nodeType":"JSXAttribute","endLine":224,"endColumn":106},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":225,"column":17,"nodeType":"JSXAttribute","endLine":225,"endColumn":105}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\nexport default function AIResumeCreationModal({\r\n  isOpen,\r\n  onClose,\r\n  isGenerating,\r\n  aiFormData,\r\n  setAIFormData,\r\n  jobs,\r\n  templates,\r\n  showVariations,\r\n  variations,\r\n  selectedVariation,\r\n  setSelectedVariation,\r\n  setShowVariations,\r\n  setVariations,\r\n  generationError,\r\n  onSubmit\r\n}) {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={() => !isGenerating && onClose()}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-lg shadow-2xl max-w-2xl w-full border border-gray-200\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10\">\r\n          <div>\r\n            <h3 className=\"text-2xl font-heading font-semibold\">Create Resume with AI</h3>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Generate tailored resume content based on a job posting</p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            disabled={isGenerating}\r\n            className=\"text-gray-400 hover:text-gray-600 transition disabled:opacity-50\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          <form onSubmit={onSubmit} className=\"space-y-6\">\r\n            {/* Resume Name */}\r\n            <div>\r\n              <label htmlFor=\"resumeName\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Resume Name <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"resumeName\"\r\n                value={aiFormData.name}\r\n                onChange={(e) => setAIFormData({ ...aiFormData, name: e.target.value })}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                placeholder=\"e.g., Software Engineer at Google\"\r\n                required\r\n                disabled={isGenerating}\r\n              />\r\n            </div>\r\n\r\n            {/* Job Selection */}\r\n            <div>\r\n              <label htmlFor=\"jobSelect\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Select Job to Tailor For <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              {jobs.length === 0 ? (\r\n                <div className=\"p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n                  <p className=\"text-sm text-yellow-800\">\r\n                    No saved or applied jobs found. Please save or apply to jobs first.\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <select\r\n                  id=\"jobSelect\"\r\n                  value={aiFormData.jobId}\r\n                  onChange={(e) => setAIFormData({ ...aiFormData, jobId: e.target.value })}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  required\r\n                  disabled={isGenerating}\r\n                >\r\n                  <option value=\"\">-- Select a job --</option>\r\n                  {jobs.map((job) => (\r\n                    <option key={job._id} value={job._id}>\r\n                      {job.title} at {job.company} ({job.status})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              )}\r\n            </div>\r\n\r\n            {/* Template Selection */}\r\n            <div>\r\n              <label htmlFor=\"templateSelect\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Select Template <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <select\r\n                id=\"templateSelect\"\r\n                value={aiFormData.templateId}\r\n                onChange={(e) => setAIFormData({ ...aiFormData, templateId: e.target.value })}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n                disabled={isGenerating}\r\n              >\r\n                <option value=\"\">-- Select a template --</option>\r\n                {templates.map((template) => (\r\n                  <option key={template._id} value={template._id}>\r\n                    {template.name} ({template.type})\r\n                    {template.isDefault ? \" - Default\" : \"\"}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n\r\n            {/* Variations Display */}\r\n            {showVariations && variations.length > 0 && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-900\">Choose a Variation:</h4>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setShowVariations(false);\r\n                      setSelectedVariation(null);\r\n                      setVariations([]);\r\n                    }}\r\n                    className=\"text-sm text-gray-600 hover:text-gray-800\"\r\n                  >\r\n                    Generate new variations\r\n                  </button>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                  {variations.map((variation, idx) => (\r\n                    <div\r\n                      key={idx}\r\n                      onClick={() => setSelectedVariation(variation)}\r\n                      className={`border-2 rounded-lg p-4 cursor-pointer transition ${selectedVariation?.variationNumber === variation.variationNumber\r\n                        ? 'border-blue-500 bg-blue-50'\r\n                        : 'border-gray-200 hover:border-gray-300'\r\n                        }`}\r\n                    >\r\n                      <div className=\"flex items-start justify-between mb-2\">\r\n                        <div>\r\n                          <h5 className=\"font-semibold text-gray-900\">\r\n                            Variation {variation.variationNumber}: {variation.emphasis}\r\n                          </h5>\r\n                          {variation.tailoringNotes && (\r\n                            <p className=\"text-sm text-gray-600 mt-1\">{variation.tailoringNotes}</p>\r\n                          )}\r\n                        </div>\r\n                        {selectedVariation?.variationNumber === variation.variationNumber && (\r\n                          <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                          </svg>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-700\">\r\n                        <p className=\"line-clamp-2 mb-2\">{variation.summary}</p>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {variation.relevantSkills?.slice(0, 5).map((skill, skillIdx) => (\r\n                            <span key={skillIdx} className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\r\n                              {skill}\r\n                            </span>\r\n                          ))}\r\n                          {variation.relevantSkills?.length > 5 && (\r\n                            <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\r\n                              +{variation.relevantSkills.length - 5} more\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* AI Features Info */}\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n              <div className=\"flex items-start space-x-3\">\r\n                <svg className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                </svg>\r\n                <div>\r\n                  <h4 className=\"text-sm font-semibold text-blue-900 mb-1\">AI will generate:</h4>\r\n                  <ul className=\"text-sm text-blue-800 space-y-1\">\r\n                    <li>ΓÇó Tailored professional summary</li>\r\n                    <li>ΓÇó Achievement-focused experience bullets</li>\r\n                    <li>ΓÇó Relevant skills from your profile</li>\r\n                    <li>ΓÇó ATS-optimized keywords</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Error Message */}\r\n            {generationError && (\r\n              <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n                <p className=\"text-sm text-red-800\">{generationError}</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Footer */}\r\n            <div className=\"bg-gray-50 px-6 py-4 flex justify-end space-x-3 -mx-6 -mb-6 border-t\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                disabled={isGenerating}\r\n                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isGenerating || jobs.length === 0}\r\n                className=\"px-4 py-2 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\r\n                style={{ backgroundColor: isGenerating ? '#9CA3AF' : '#777C6D' }}\r\n                onMouseOver={(e) => !isGenerating && (e.currentTarget.style.backgroundColor = '#656A5C')}\r\n                onMouseOut={(e) => !isGenerating && (e.currentTarget.style.backgroundColor = '#777C6D')}\r\n              >\r\n                {isGenerating ? (\r\n                  <>\r\n                    <svg className=\"animate-spin h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                    </svg>\r\n                    <span>Generating with AI...</span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                    </svg>\r\n                    <span>Generate Resume</span>\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\CloneModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":39,"column":5,"nodeType":"JSXOpeningElement","endLine":43,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":39,"column":5,"nodeType":"JSXOpeningElement","endLine":43,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":44,"column":7,"nodeType":"JSXOpeningElement","endLine":47,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":44,"column":7,"nodeType":"JSXOpeningElement","endLine":47,"endColumn":8},{"ruleId":"jsx-a11y/no-autofocus","severity":1,"message":"The autoFocus prop should not be used, as it can reduce usability and accessibility for users.","line":76,"column":13,"nodeType":"JSXAttribute","endLine":76,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * CloneModal - Modal for cloning a resume with a new name\r\n * Extracted from ResumeTemplates.jsx for better code organization\r\n */\r\nconst CloneModal = ({\r\n  isOpen,\r\n  onClose,\r\n  onClone,\r\n  resumeName,\r\n  cloneName,\r\n  setCloneName,\r\n  cloneDescription,\r\n  setCloneDescription,\r\n  isCloning\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  const handleClone = () => {\r\n    if (cloneName.trim() && !isCloning) {\r\n      onClone();\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && cloneName.trim() && !isCloning) {\r\n      handleClone();\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    if (!isCloning) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-50\" \r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={handleClose}\r\n    >\r\n      <div \r\n        className=\"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 border border-gray-200\" \r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Modal Header */}\r\n        <div className=\"bg-blue-50 border-b border-blue-100 px-6 py-4\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"flex-shrink-0\">\r\n              <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-lg font-heading font-semibold text-gray-900\">Clone Resume</h3>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Modal Content */}\r\n        <div className=\"p-6\">\r\n          <p className=\"text-sm text-gray-600 mb-4\">\r\n            Create a copy of \"{resumeName}\" with a new name.\r\n          </p>\r\n          <label htmlFor=\"cloneNameInput\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            New Resume Name\r\n          </label>\r\n          <input\r\n            id=\"cloneNameInput\"\r\n            type=\"text\"\r\n            value={cloneName}\r\n            onChange={(e) => setCloneName(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder=\"Enter name for cloned resume\"\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            autoFocus\r\n            disabled={isCloning}\r\n          />\r\n          \r\n          <label htmlFor=\"cloneDescriptionInput\" className=\"block text-sm font-medium text-gray-700 mb-2 mt-4\">\r\n            Version Description (Optional)\r\n          </label>\r\n          <textarea\r\n            id=\"cloneDescriptionInput\"\r\n            value={cloneDescription}\r\n            onChange={(e) => setCloneDescription(e.target.value)}\r\n            placeholder=\"Describe this version (e.g., 'Tailored for software engineering roles')\"\r\n            rows={3}\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\r\n            disabled={isCloning}\r\n          />\r\n        </div>\r\n\r\n        {/* Modal Actions */}\r\n        <div className=\"bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t\">\r\n          <button\r\n            onClick={handleClose}\r\n            disabled={isCloning}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition disabled:opacity-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleClone}\r\n            disabled={isCloning || !cloneName.trim()}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50\"\r\n          >\r\n            {isCloning ? 'Cloning...' : 'Clone Resume'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CloneModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\CompareModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":24,"column":5,"nodeType":"JSXOpeningElement","endLine":28,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":24,"column":5,"nodeType":"JSXOpeningElement","endLine":28,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":29,"column":7,"nodeType":"JSXOpeningElement","endLine":32,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":29,"column":7,"nodeType":"JSXOpeningElement","endLine":32,"endColumn":8},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":180,"column":27,"nodeType":"JSXAttribute","endLine":183,"endColumn":29},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":184,"column":27,"nodeType":"JSXAttribute","endLine":187,"endColumn":29},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":492,"column":15,"nodeType":"JSXAttribute","endLine":492,"endColumn":85},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":493,"column":15,"nodeType":"JSXAttribute","endLine":493,"endColumn":84}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { highlightTextDiff } from '../../utils/resumeHelpers.jsx';\r\n\r\n/**\r\n * CompareModal - UC-52 Resume Version Comparison Modal\r\n * Shows side-by-side comparison of two resume versions with diff highlighting\r\n * Allows reverting to previous version or merging specific sections\r\n */\r\nfunction CompareModal({\r\n  show,\r\n  viewingResume,\r\n  resumes,\r\n  comparisonData,\r\n  onClose,\r\n  onCompare,\r\n  onRevert,\r\n  onMerge,\r\n  onDelete,\r\n  onBackToSelector\r\n}) {\r\n  if (!show || !viewingResume) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\" \r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div \r\n        className=\"bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto border border-gray-200\" \r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Modal Header */}\r\n        <div className=\"bg-[#777C6D] border-b px-6 py-4 sticky top-0 z-10\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2\" />\r\n              </svg>\r\n              <h3 className=\"text-xl font-heading font-bold text-white\">Compare Resume Versions</h3>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-white hover:text-gray-200 transition\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Modal Content */}\r\n        <div className=\"p-6\">\r\n          {!comparisonData ? (\r\n            /* Resume Selector - Only show previous versions */\r\n            <div className=\"space-y-4\">\r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <svg className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-semibold text-blue-900 mb-1\">Version History</h4>\r\n                    <p className=\"text-sm text-blue-800\">\r\n                      Compare with previous versions of this resume. Only cloned versions of <strong>{viewingResume.name}</strong> are shown below.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {(() => {\r\n                // Filter to only show versions that are clones of the current resume\r\n                // This includes: direct clones, reverse clones, and sibling clones\r\n                \r\n                console.log('=== VERSION HISTORY DEBUG ===');\r\n                console.log('Current resume:', viewingResume.name, 'ID:', viewingResume._id);\r\n                console.log('Current resume clonedFrom:', viewingResume.metadata?.clonedFrom);\r\n                console.log('Total resumes in state:', resumes.length);\r\n                console.log('All resumes:', resumes.map(r => ({ \r\n                  name: r.name, \r\n                  id: r._id, \r\n                  clonedFrom: r.metadata?.clonedFrom,\r\n                  isArchived: r.isArchived \r\n                })));\r\n                \r\n                const previousVersions = resumes.filter(r => {\r\n                  if (r._id === viewingResume._id) return false;\r\n                  \r\n                  // Direct clone: r was cloned FROM current resume\r\n                  if (r.metadata?.clonedFrom === viewingResume._id) {\r\n                    console.log('Γ£ô Direct clone found:', r.name);\r\n                    return true;\r\n                  }\r\n                  \r\n                  // Reverse clone: current resume was cloned FROM r\r\n                  if (viewingResume.metadata?.clonedFrom === r._id) {\r\n                    console.log('Γ£ô Reverse clone found:', r.name);\r\n                    return true;\r\n                  }\r\n                  \r\n                  // Sibling clones: both were cloned from the same parent\r\n                  if (r.metadata?.clonedFrom && viewingResume.metadata?.clonedFrom && \r\n                      r.metadata.clonedFrom === viewingResume.metadata.clonedFrom) {\r\n                    console.log('Γ£ô Sibling clone found:', r.name);\r\n                    return true;\r\n                  }\r\n                  \r\n                  return false;\r\n                });\r\n\r\n                // Sort by date (newest first)\r\n                previousVersions.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt));\r\n\r\n                console.log('Previous versions found:', previousVersions.length);\r\n                console.log('=== END DEBUG ===');\r\n\r\n                if (previousVersions.length === 0) {\r\n                  return (\r\n                    <div className=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\r\n                      <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\r\n                      </svg>\r\n                      <p className=\"text-gray-600 font-medium mb-2\">No Previous Versions</p>\r\n                      <p className=\"text-sm text-gray-500 mb-2\">\r\n                        Previous versions will appear here automatically when you:\r\n                      </p>\r\n                      <ul className=\"text-xs text-gray-500 text-left inline-block\">\r\n                        <li>ΓÇó Apply AI skills optimization</li>\r\n                        <li>ΓÇó Apply AI experience tailoring</li>\r\n                        <li>ΓÇó Manually clone this resume</li>\r\n                      </ul>\r\n                    </div>\r\n                  );\r\n                }\r\n\r\n                return (\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-96 overflow-y-auto\">\r\n                    {previousVersions.map(resume => (\r\n                    <div\r\n                      key={resume._id}\r\n                      className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-[#777C6D] hover:bg-[#f3f3ef] transition text-left flex items-start justify-between gap-3\"\r\n                    >\r\n                      <button\r\n                        onClick={async () => {\r\n                          await onCompare(resume._id);\r\n                        }}\r\n                        className=\"text-left flex-1\"\r\n                      >\r\n                        <div className=\"font-semibold text-gray-900\">{resume.name}</div>\r\n                        <div className=\"text-sm text-gray-600 mt-1\">\r\n                          Modified {new Date(resume.updatedAt).toLocaleDateString()}\r\n                        </div>\r\n                        {resume.metadata?.description && (\r\n                          <div className=\"text-xs text-gray-500 mt-1 italic line-clamp-2\">\r\n                            {resume.metadata.description}\r\n                          </div>\r\n                        )}\r\n                        {resume.isDefault && (\r\n                          <span className=\"inline-block mt-2 px-2 py-1 text-xs bg-green-100 text-green-800 rounded\">\r\n                            Default\r\n                          </span>\r\n                        )}\r\n                        {resume.isArchived && (\r\n                          <span className=\"inline-block mt-2 px-2 py-1 text-xs bg-gray-200 text-gray-600 rounded\">\r\n                            Archived\r\n                          </span>\r\n                        )}\r\n                      </button>\r\n\r\n                      {/* Trash icon to delete this archived version */}\r\n                      <div className=\"flex-shrink-0 ml-2\">\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            onDelete(resume);\r\n                          }}\r\n                          title=\"Delete version\"\r\n                          aria-label={`Delete version ${resume.name}`}\r\n                          className=\"p-2 rounded-lg transition text-gray-600 flex items-center justify-center\"\r\n                          onMouseOver={(e) => {\r\n                            e.currentTarget.style.backgroundColor = '#FEE2E2';\r\n                            e.currentTarget.style.color = '#B91C1C';\r\n                          }}\r\n                          onMouseOut={(e) => {\r\n                            e.currentTarget.style.backgroundColor = 'transparent';\r\n                            e.currentTarget.style.color = '#6B7280';\r\n                          }}\r\n                        >\r\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                          </svg>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    ))}\r\n                  </div>\r\n                );\r\n              })()}\r\n            </div>\r\n          ) : (\r\n            /* Comparison View */\r\n            <div className=\"space-y-6\">\r\n              {/* Comparison Header with Revert Button */}\r\n              <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-200\">\r\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                  <div>\r\n                    <span className=\"text-xs font-medium text-gray-500 uppercase\">Current Version</span>\r\n                    <h4 className=\"font-semibold text-lg text-gray-900\">{comparisonData.resume1.name}</h4>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      Modified: {new Date(comparisonData.resume1.updatedAt).toLocaleDateString()}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"text-xs font-medium text-gray-500 uppercase\">Previous Version</span>\r\n                    <h4 className=\"font-semibold text-lg text-gray-900\">{comparisonData.resume2.name}</h4>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      Modified: {new Date(comparisonData.resume2.updatedAt).toLocaleDateString()}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Action Buttons */}\r\n                <div className=\"flex justify-center gap-3 pt-3 border-t border-gray-200\">\r\n                  <button\r\n                    onClick={onMerge}\r\n                    className=\"px-6 py-2 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition flex items-center gap-2 font-medium\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\r\n                    </svg>\r\n                    Merge Selected Sections\r\n                  </button>\r\n                  <button\r\n                    onClick={onRevert}\r\n                    className=\"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition flex items-center gap-2 font-medium\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" />\r\n                    </svg>\r\n                    Revert Entirely\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Differences Summary */}\r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                <h4 className=\"font-semibold text-blue-900 mb-3 flex items-center gap-2\">\r\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  Key Differences\r\n                </h4>\r\n                <ul className=\"space-y-2 text-sm text-blue-900\">\r\n                  {comparisonData.differences.summary && (\r\n                    <li className=\"flex items-start gap-2\">\r\n                      <span className=\"text-blue-600 mt-0.5\">ΓÇó</span>\r\n                      <span>Summary content differs</span>\r\n                    </li>\r\n                  )}\r\n                  {comparisonData.differences.experienceCount.resume1 !== comparisonData.differences.experienceCount.resume2 && (\r\n                    <li className=\"flex items-start gap-2\">\r\n                      <span className=\"text-blue-600 mt-0.5\">ΓÇó</span>\r\n                      <span>\r\n                        Experience items: {comparisonData.differences.experienceCount.resume1} vs {comparisonData.differences.experienceCount.resume2}\r\n                      </span>\r\n                    </li>\r\n                  )}\r\n                  {comparisonData.differences.skillsCount.resume1 !== comparisonData.differences.skillsCount.resume2 && (\r\n                    <li className=\"flex items-start gap-2\">\r\n                      <span className=\"text-blue-600 mt-0.5\">ΓÇó</span>\r\n                      <span>\r\n                        Skills: {comparisonData.differences.skillsCount.resume1} vs {comparisonData.differences.skillsCount.resume2}\r\n                      </span>\r\n                    </li>\r\n                  )}\r\n                  {comparisonData.differences.educationCount.resume1 !== comparisonData.differences.educationCount.resume2 && (\r\n                    <li className=\"flex items-start gap-2\">\r\n                      <span className=\"text-blue-600 mt-0.5\">ΓÇó</span>\r\n                      <span>\r\n                        Education items: {comparisonData.differences.educationCount.resume1} vs {comparisonData.differences.educationCount.resume2}\r\n                      </span>\r\n                    </li>\r\n                  )}\r\n                  {comparisonData.differences.projectsCount.resume1 !== comparisonData.differences.projectsCount.resume2 && (\r\n                    <li className=\"flex items-start gap-2\">\r\n                      <span className=\"text-blue-600 mt-0.5\">ΓÇó</span>\r\n                      <span>\r\n                        Projects: {comparisonData.differences.projectsCount.resume1} vs {comparisonData.differences.projectsCount.resume2}\r\n                      </span>\r\n                    </li>\r\n                  )}\r\n                  {comparisonData.differences.sectionCustomization && (\r\n                    <li className=\"flex items-start gap-2\">\r\n                      <span className=\"text-blue-600 mt-0.5\">ΓÇó</span>\r\n                      <span>Section customization differs</span>\r\n                    </li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* Side-by-Side Sections */}\r\n              <div className=\"space-y-6\">\r\n                {/* Summary Comparison with Diff Highlighting */}\r\n                {(comparisonData.fullData.resume1.summary || comparisonData.fullData.resume2.summary) && (() => {\r\n                  const summaryDiff = highlightTextDiff(\r\n                    comparisonData.fullData.resume1.summary,\r\n                    comparisonData.fullData.resume2.summary\r\n                  );\r\n                  \r\n                  return (\r\n                    <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\r\n                      <div className=\"bg-gray-100 px-4 py-2 flex items-center justify-between\">\r\n                        <span className=\"font-semibold text-gray-900\">Summary</span>\r\n                        {summaryDiff.identical ? (\r\n                          <span className=\"text-xs px-2 py-1 bg-gray-200 text-gray-600 rounded\">Identical</span>\r\n                        ) : (\r\n                          <span className=\"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded\">Different</span>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"grid grid-cols-2 divide-x\">\r\n                        <div className=\"p-4 bg-white\">\r\n                          <div className=\"text-xs font-semibold text-gray-500 mb-2\">Current Version</div>\r\n                          <p className=\"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed\">\r\n                            {summaryDiff.text1 || <span className=\"text-gray-400 italic\">No summary</span>}\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"p-4 bg-white\">\r\n                          <div className=\"text-xs font-semibold text-gray-500 mb-2\">Previous Version</div>\r\n                          <p className=\"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed\">\r\n                            {summaryDiff.text2 || <span className=\"text-gray-400 italic\">No summary</span>}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"bg-gray-50 px-4 py-2 text-xs text-gray-600 border-t\">\r\n                        <span className=\"inline-flex items-center gap-1 mr-3\">\r\n                          <span className=\"w-3 h-3 bg-red-100 border border-red-300 rounded\"></span> Removed\r\n                        </span>\r\n                        <span className=\"inline-flex items-center gap-1\">\r\n                          <span className=\"w-3 h-3 bg-green-100 border border-green-300 rounded\"></span> Added\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })()}\r\n\r\n                {/* Skills Comparison with Highlighting */}\r\n                {(comparisonData.fullData.resume1.skills?.length > 0 || comparisonData.fullData.resume2.skills?.length > 0) && (() => {\r\n                  const skills1Set = new Set(\r\n                    (comparisonData.fullData.resume1.skills || []).map(s => typeof s === 'string' ? s : s.name)\r\n                  );\r\n                  const skills2Set = new Set(\r\n                    (comparisonData.fullData.resume2.skills || []).map(s => typeof s === 'string' ? s : s.name)\r\n                  );\r\n                  \r\n                  return (\r\n                    <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\r\n                      <div className=\"bg-gray-100 px-4 py-2 flex items-center justify-between\">\r\n                        <span className=\"font-semibold text-gray-900\">Skills</span>\r\n                        {JSON.stringify([...skills1Set].sort()) === JSON.stringify([...skills2Set].sort()) ? (\r\n                          <span className=\"text-xs px-2 py-1 bg-gray-200 text-gray-600 rounded\">Identical</span>\r\n                        ) : (\r\n                          <span className=\"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded\">Different</span>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"grid grid-cols-2 divide-x\">\r\n                        <div className=\"p-4 bg-white\">\r\n                          <div className=\"text-xs font-semibold text-gray-500 mb-2\">Current Version</div>\r\n                          {comparisonData.fullData.resume1.skills?.length > 0 ? (\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                              {comparisonData.fullData.resume1.skills.map((skill, idx) => {\r\n                                const skillName = typeof skill === 'string' ? skill : skill.name;\r\n                                const inOther = skills2Set.has(skillName);\r\n                                return (\r\n                                  <span \r\n                                    key={idx} \r\n                                    className={`px-2 py-1 rounded text-xs font-medium ${\r\n                                      inOther \r\n                                        ? 'bg-gray-100 text-gray-800 border border-gray-300' \r\n                                        : 'bg-red-100 text-red-800 border border-red-300'\r\n                                    }`}\r\n                                  >\r\n                                    {skillName}\r\n                                    {!inOther && <span className=\"ml-1 text-red-600\">Γ£ò</span>}\r\n                                  </span>\r\n                                );\r\n                              })}\r\n                            </div>\r\n                          ) : (\r\n                            <span className=\"text-gray-400 italic text-sm\">No skills</span>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"p-4 bg-white\">\r\n                          <div className=\"text-xs font-semibold text-gray-500 mb-2\">Previous Version</div>\r\n                          {comparisonData.fullData.resume2.skills?.length > 0 ? (\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                              {comparisonData.fullData.resume2.skills.map((skill, idx) => {\r\n                                const skillName = typeof skill === 'string' ? skill : skill.name;\r\n                                const inOther = skills1Set.has(skillName);\r\n                                return (\r\n                                  <span \r\n                                    key={idx} \r\n                                    className={`px-2 py-1 rounded text-xs font-medium ${\r\n                                      inOther \r\n                                        ? 'bg-gray-100 text-gray-800 border border-gray-300' \r\n                                        : 'bg-green-100 text-green-800 border border-green-300'\r\n                                    }`}\r\n                                  >\r\n                                    {skillName}\r\n                                    {!inOther && <span className=\"ml-1 text-green-600\">Γ£ô</span>}\r\n                                  </span>\r\n                                );\r\n                              })}\r\n                            </div>\r\n                          ) : (\r\n                            <span className=\"text-gray-400 italic text-sm\">No skills</span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"bg-gray-50 px-4 py-2 text-xs text-gray-600 border-t\">\r\n                        <span className=\"inline-flex items-center gap-1 mr-3\">\r\n                          <span className=\"w-3 h-3 bg-red-100 border border-red-300 rounded\"></span> Only in current\r\n                        </span>\r\n                        <span className=\"inline-flex items-center gap-1 mr-3\">\r\n                          <span className=\"w-3 h-3 bg-green-100 border border-green-300 rounded\"></span> Only in previous\r\n                        </span>\r\n                        <span className=\"inline-flex items-center gap-1\">\r\n                          <span className=\"w-3 h-3 bg-gray-100 border border-gray-300 rounded\"></span> In both\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })()}\r\n\r\n                {/* Experience Count Comparison */}\r\n                <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\r\n                  <div className=\"bg-gray-100 px-4 py-2 font-semibold text-gray-900\">\r\n                    Experience\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 divide-x\">\r\n                    <div className=\"p-4 bg-white\">\r\n                      <p className=\"text-sm text-gray-700\">\r\n                        {comparisonData.differences.experienceCount.resume1} experience item(s)\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"p-4 bg-white\">\r\n                      <p className=\"text-sm text-gray-700\">\r\n                        {comparisonData.differences.experienceCount.resume2} experience item(s)\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Merge Action */}\r\n              <div className=\"bg-[#f7f6f2] border border-[#e6e6e1] rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <h4 className=\"font-semibold text-purple-900 mb-1\">Want to merge changes?</h4>\r\n                    <p className=\"text-sm text-purple-700\">\r\n                      Copy selected sections from one resume to another\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    onClick={onMerge}\r\n                    className=\"px-4 py-2 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition flex items-center gap-2\"\r\n                  >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\r\n                    </svg>\r\n                    Merge Changes\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Modal Footer */}\r\n        <div className=\"bg-gray-50 px-6 py-4 border-t flex justify-end gap-3\">\r\n          {comparisonData && (\r\n            <button\r\n              onClick={onBackToSelector}\r\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\"\r\n            >\r\n              Compare Different Resume\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 text-white rounded-lg transition\"\r\n            style={{ backgroundColor: '#777C6D' }}\r\n              onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n              onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CompareModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\CustomizationPanel.jsx","messages":[{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":56,"column":13,"nodeType":"JSXOpeningElement","endLine":56,"endColumn":66},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":124,"column":11,"nodeType":"JSXOpeningElement","endLine":124,"endColumn":75},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":161,"column":15,"nodeType":"JSXOpeningElement","endLine":161,"endColumn":79}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport SectionToggleItem from './SectionToggleItem';\r\n\r\n/**\r\n * Customization Panel Component\r\n * Handles section ordering, visibility, job type, presets, and AI optimization\r\n */\r\nconst CustomizationPanel = ({\r\n  showCustomizationPanel,\r\n  selectedJobType,\r\n  applyJobTypeConfig,\r\n  showPresetMenu,\r\n  setShowPresetMenu,\r\n  SECTION_PRESETS,\r\n  applyPreset,\r\n  customPresets,\r\n  setShowSavePresetModal,\r\n  sectionOrder,\r\n  DEFAULT_SECTIONS,\r\n  visibleSections,\r\n  sectionFormatting,\r\n  viewingResume,\r\n  moveSection,\r\n  handleToggleSection,\r\n  openSectionFormatting,\r\n  getSectionStatus,\r\n  jobs,\r\n  selectedJobForSkills,\r\n  selectedJobForExperience,\r\n  setSelectedJobForSkills,\r\n  setSelectedJobForExperience,\r\n  handleOptimizeSkills,\r\n  isOptimizingSkills,\r\n  handleTailorExperience,\r\n  isTailoringExperience\r\n}) => {\r\n  if (!showCustomizationPanel) return null;\r\n\r\n  return (\r\n    <div className=\"mb-4 mx-auto bg-white border border-gray-200 rounded-lg shadow-lg\" style={{ width: '8.5in' }}>\r\n      <div className=\"bg-gray-50 border-b border-gray-200 px-4 py-3 rounded-t-lg\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <svg className=\"w-5 h-5 text-[#777C6D]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4\" />\r\n          </svg>\r\n          <h4 className=\"text-sm font-heading font-semibold text-gray-900\">Section Customization</h4>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"p-4 space-y-4\">\r\n        {/* Job Type and Presets Row */}\r\n        <div className=\"flex items-center justify-between gap-4\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <label className=\"text-sm font-medium text-gray-700\">Job Type:</label>\r\n            <select\r\n              value={selectedJobType}\r\n              onChange={(e) => applyJobTypeConfig(e.target.value)}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white\"\r\n            >\r\n              <option value=\"general\">General</option>\r\n              <option value=\"technical\">Technical/Engineering</option>\r\n              <option value=\"creative\">Creative/Design</option>\r\n              <option value=\"academic\">Academic/Research</option>\r\n              <option value=\"entry_level\">Entry Level</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"flex items-center gap-2 relative\">\r\n            <button\r\n              onClick={() => setShowPresetMenu(v => !v)}\r\n              className=\"px-3 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition text-sm flex items-center gap-2\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n              </svg>\r\n              Presets\r\n            </button>\r\n            {showPresetMenu && (\r\n              <div className=\"absolute right-0 top-12 z-10 w-64 bg-white border border-gray-200 rounded-lg shadow-xl\">\r\n                <div className=\"py-2 max-h-64 overflow-auto\">\r\n                  <div className=\"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide\">Built-in Presets</div>\r\n                  {SECTION_PRESETS.map(preset => (\r\n                    <button\r\n                      key={preset.name}\r\n                      onClick={() => applyPreset(preset)}\r\n                      className=\"w-full text-left px-3 py-2 hover:bg-blue-50 transition\"\r\n                    >\r\n                      <div className=\"font-medium text-sm text-gray-900\">{preset.name}</div>\r\n                      <div className=\"text-xs text-gray-500\">{preset.description}</div>\r\n                    </button>\r\n                  ))}\r\n                  {customPresets.length > 0 && (\r\n                    <>\r\n                      <div className=\"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide mt-2 border-t\">Custom Presets</div>\r\n                      {customPresets.map((preset, idx) => (\r\n                        <button\r\n                          key={idx}\r\n                          onClick={() => applyPreset(preset)}\r\n                          className=\"w-full text-left px-3 py-2 hover:bg-blue-50 transition\"\r\n                        >\r\n                          <div className=\"font-medium text-sm text-gray-900\">{preset.name}</div>\r\n                        </button>\r\n                      ))}\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n            <button\r\n              onClick={() => setShowSavePresetModal(true)}\r\n              className=\"px-3 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition text-sm flex items-center gap-2\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\" />\r\n              </svg>\r\n              Save Preset\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Sections Grid */}\r\n        <div>\r\n          <label className=\"text-sm font-medium text-gray-700 mb-2 block\">Section Order & Visibility (Drag to Reorder)</label>\r\n          <DndProvider backend={HTML5Backend}>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {sectionOrder.map((key, idx) => {\r\n                const section = DEFAULT_SECTIONS.find(s => s.key === key);\r\n                if (!section) return null;\r\n                return (\r\n                  <SectionToggleItem \r\n                    key={key} \r\n                    section={section} \r\n                    index={idx}\r\n                    visibleSections={visibleSections}\r\n                    sectionFormatting={sectionFormatting}\r\n                    viewingResume={viewingResume}\r\n                    moveSection={moveSection}\r\n                    handleToggleSection={handleToggleSection}\r\n                    openSectionFormatting={openSectionFormatting}\r\n                    getSectionStatus={getSectionStatus}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          </DndProvider>\r\n        </div>\r\n\r\n        {/* AI Optimization Section (UC-49 & UC-50) */}\r\n        <div className=\"mt-6 pt-6 border-t border-gray-200\">\r\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n            <svg className=\"w-5 h-5 text-[#4F5348]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\r\n            </svg>\r\n            AI Optimization\r\n          </h4>\r\n          \r\n          {/* Job Selector */}\r\n          {jobs.length > 0 && (\r\n            <div className=\"mb-4\">\r\n              <label className=\"text-xs font-medium text-gray-700 mb-2 block\">Select Job for Optimization:</label>\r\n              <select\r\n                value={selectedJobForSkills || selectedJobForExperience || ''}\r\n                onChange={(e) => {\r\n                  const selectedValue = e.target.value;\r\n                  console.log('Selected job:', selectedValue); // Debug\r\n                  setSelectedJobForSkills(selectedValue);\r\n                  setSelectedJobForExperience(selectedValue);\r\n                }}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white\"\r\n              >\r\n                <option value=\"\">Select a job...</option>\r\n                {jobs.map((job, idx) => {\r\n                  // Ensure we have a valid job object\r\n                  if (!job || !job.title || !job.company) {\r\n                    console.warn('Invalid job object:', job);\r\n                    return null;\r\n                  }\r\n                  \r\n                  // Use title|company as the value (pipe separator)\r\n                  const jobValue = `${job.title}|${job.company}`;\r\n                  const displayText = `${job.title} at ${job.company}`;\r\n                  \r\n                  return (\r\n                    <option key={idx} value={jobValue}>\r\n                      {displayText}\r\n                    </option>\r\n                  );\r\n                }).filter(Boolean)}\r\n              </select>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"flex gap-2\">\r\n            {/* UC-49: Skills Optimization Button */}\r\n            <button\r\n              onClick={handleOptimizeSkills}\r\n              disabled={isOptimizingSkills || (!selectedJobForSkills && !viewingResume.metadata?.tailoredForJob)}\r\n              className=\"flex-1 px-3 py-2 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition text-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {isOptimizingSkills ? (\r\n                <>\r\n                  <svg className=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  Optimizing...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\r\n                  </svg>\r\n                  Optimize Skills\r\n                </>\r\n              )}\r\n            </button>\r\n\r\n            {/* UC-50: Experience Tailoring Button */}\r\n            <button\r\n              onClick={handleTailorExperience}\r\n              disabled={isTailoringExperience || (!selectedJobForExperience && !viewingResume.metadata?.tailoredForJob)}\r\n              className=\"flex-1 px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition text-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {isTailoringExperience ? (\r\n                <>\r\n                  <svg className=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  Tailoring...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                  </svg>\r\n                  Tailor Experience\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          {jobs.length === 0 && (\r\n            <p className=\"text-xs text-gray-500 mt-2 italic\">\r\n              Save or apply to jobs to use AI optimization features.\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomizationPanel;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\CustomizeImportModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":63,"column":5,"nodeType":"JSXOpeningElement","endLine":67,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":63,"column":5,"nodeType":"JSXOpeningElement","endLine":67,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":68,"column":7,"nodeType":"JSXOpeningElement","endLine":71,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":68,"column":7,"nodeType":"JSXOpeningElement","endLine":71,"endColumn":8},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":121,"column":13,"nodeType":"JSXOpeningElement","endLine":121,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":137,"column":17,"nodeType":"JSXOpeningElement","endLine":137,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":158,"column":17,"nodeType":"JSXOpeningElement","endLine":158,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":179,"column":17,"nodeType":"JSXOpeningElement","endLine":179,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":206,"column":17,"nodeType":"JSXOpeningElement","endLine":206,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":221,"column":17,"nodeType":"JSXOpeningElement","endLine":221,"endColumn":81},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":241,"column":19,"nodeType":"JSXOpeningElement","endLine":241,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":256,"column":19,"nodeType":"JSXOpeningElement","endLine":256,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":271,"column":19,"nodeType":"JSXOpeningElement","endLine":271,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":286,"column":19,"nodeType":"JSXOpeningElement","endLine":286,"endColumn":83},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":301,"column":19,"nodeType":"JSXOpeningElement","endLine":301,"endColumn":83},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":388,"column":13,"nodeType":"JSXAttribute","endLine":388,"endColumn":83},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":389,"column":13,"nodeType":"JSXAttribute","endLine":389,"endColumn":82}],"suppressedMessages":[],"errorCount":11,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\nexport default function CustomizeImportModal({\r\n  isOpen,\r\n  pendingImport,\r\n  onClose,\r\n  onPendingImportChange,\r\n  onFinalizeImport\r\n}) {\r\n  if (!isOpen || !pendingImport) return null;\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  const updateThemeColor = (colorKey, value) => {\r\n    onPendingImportChange({\r\n      ...pendingImport,\r\n      theme: {\r\n        ...pendingImport.theme,\r\n        colors: { ...pendingImport.theme?.colors, [colorKey]: value }\r\n      }\r\n    });\r\n  };\r\n\r\n  const updateThemeFont = (fontKey, value) => {\r\n    onPendingImportChange({\r\n      ...pendingImport,\r\n      theme: {\r\n        ...pendingImport.theme,\r\n        fonts: { ...pendingImport.theme?.fonts, [fontKey]: value }\r\n      }\r\n    });\r\n  };\r\n\r\n  const updateFontSize = (sizeKey, value) => {\r\n    onPendingImportChange({\r\n      ...pendingImport,\r\n      theme: {\r\n        ...pendingImport.theme,\r\n        fonts: {\r\n          ...pendingImport.theme?.fonts,\r\n          sizes: {\r\n            ...pendingImport.theme?.fonts?.sizes,\r\n            [sizeKey]: `${value}px`\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const fontOptions = [\r\n    { value: \"Inter, sans-serif\", label: \"Inter (Modern)\" },\r\n    { value: \"Georgia, serif\", label: \"Georgia (Classic)\" },\r\n    { value: \"Times New Roman, serif\", label: \"Times New Roman (Traditional)\" },\r\n    { value: \"Arial, sans-serif\", label: \"Arial (Clean)\" },\r\n    { value: \"Helvetica, sans-serif\", label: \"Helvetica (Professional)\" },\r\n    { value: \"Calibri, sans-serif\", label: \"Calibri (Modern)\" },\r\n    { value: \"Garamond, serif\", label: \"Garamond (Elegant)\" }\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={handleClose}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-lg shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-gray-200\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10\">\r\n          <div>\r\n            <h3 className=\"text-2xl font-heading font-semibold\">Customize Template Appearance</h3>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Set fonts and colors to match your original resume</p>\r\n          </div>\r\n          <button\r\n            onClick={handleClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-6 space-y-6\">\r\n          {/* Analysis Banner or Help Banner */}\r\n          {pendingImport?.analysis?.used ? (\r\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n              <div className=\"flex items-start\">\r\n                <svg className=\"w-5 h-5 text-green-700 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                </svg>\r\n                <div>\r\n                  <h5 className=\"font-semibold text-green-900 mb-1\">Applied styling detected from your PDF</h5>\r\n                  <p className=\"text-sm text-green-800\">\r\n                    We detected styling hints from your uploaded PDF and prefilled the colors and font sizes below. You can still fine-tune anything before saving.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n              <div className=\"flex items-start\">\r\n                <svg className=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                <div>\r\n                  <h5 className=\"font-semibold text-blue-900 mb-1\">Match Your Original Resume</h5>\r\n                  <p className=\"text-sm text-blue-800\">\r\n                    PDFs can be hard to parse for exact styling. Adjust the colors, fonts, and sizes below to match your original resume. The live preview updates instantly.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Template Name */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Template Name\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={pendingImport.name}\r\n              onChange={(e) => onPendingImportChange({ ...pendingImport, name: e.target.value })}\r\n              className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          {/* Colors Section */}\r\n          <div>\r\n            <h4 className=\"text-lg font-semibold mb-3\">Colors</h4>\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Primary Color (Headers)\r\n                </label>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"color\"\r\n                    value={pendingImport.theme?.colors?.primary || \"#4F5348\"}\r\n                    onChange={(e) => updateThemeColor('primary', e.target.value)}\r\n                    className=\"w-12 h-12 rounded border border-gray-300 cursor-pointer\"\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={pendingImport.theme?.colors?.primary || \"#4F5348\"}\r\n                    onChange={(e) => updateThemeColor('primary', e.target.value)}\r\n                    className=\"flex-1 border border-gray-300 rounded px-3 py-2 text-sm font-mono\"\r\n                    placeholder=\"#4F5348\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Text Color\r\n                </label>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"color\"\r\n                    value={pendingImport.theme?.colors?.text || \"#222\"}\r\n                    onChange={(e) => updateThemeColor('text', e.target.value)}\r\n                    className=\"w-12 h-12 rounded border border-gray-300 cursor-pointer\"\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={pendingImport.theme?.colors?.text || \"#222\"}\r\n                    onChange={(e) => updateThemeColor('text', e.target.value)}\r\n                    className=\"flex-1 border border-gray-300 rounded px-3 py-2 text-sm font-mono\"\r\n                    placeholder=\"#222\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Muted Color (Dates)\r\n                </label>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"color\"\r\n                    value={pendingImport.theme?.colors?.muted || \"#666\"}\r\n                    onChange={(e) => updateThemeColor('muted', e.target.value)}\r\n                    className=\"w-12 h-12 rounded border border-gray-300 cursor-pointer\"\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={pendingImport.theme?.colors?.muted || \"#666\"}\r\n                    onChange={(e) => updateThemeColor('muted', e.target.value)}\r\n                    className=\"flex-1 border border-gray-300 rounded px-3 py-2 text-sm font-mono\"\r\n                    placeholder=\"#666\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Fonts Section */}\r\n          <div>\r\n            <h4 className=\"text-lg font-semibold mb-3\">Fonts</h4>\r\n            <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Heading Font\r\n                </label>\r\n                <select\r\n                  value={pendingImport.theme?.fonts?.heading || \"Inter, sans-serif\"}\r\n                  onChange={(e) => updateThemeFont('heading', e.target.value)}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  {fontOptions.map((font) => (\r\n                    <option key={font.value} value={font.value}>{font.label}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Body Font\r\n                </label>\r\n                <select\r\n                  value={pendingImport.theme?.fonts?.body || \"Inter, sans-serif\"}\r\n                  onChange={(e) => updateThemeFont('body', e.target.value)}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  {fontOptions.map((font) => (\r\n                    <option key={font.value} value={font.value}>{font.label}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Font Sizes */}\r\n            <div>\r\n              <h5 className=\"text-sm font-semibold text-gray-700 mb-3\">Font Sizes</h5>\r\n              <div className=\"grid grid-cols-5 gap-3\">\r\n                <div>\r\n                  <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                    Name\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"20\"\r\n                    max=\"60\"\r\n                    value={parseInt(pendingImport.theme?.fonts?.sizes?.name) || 36}\r\n                    onChange={(e) => updateFontSize('name', e.target.value)}\r\n                    className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">px</span>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                    Headers\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"12\"\r\n                    max=\"32\"\r\n                    value={parseInt(pendingImport.theme?.fonts?.sizes?.sectionHeader) || 18}\r\n                    onChange={(e) => updateFontSize('sectionHeader', e.target.value)}\r\n                    className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">px</span>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                    Job Title\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"10\"\r\n                    max=\"24\"\r\n                    value={parseInt(pendingImport.theme?.fonts?.sizes?.jobTitle) || 16}\r\n                    onChange={(e) => updateFontSize('jobTitle', e.target.value)}\r\n                    className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">px</span>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                    Body\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"10\"\r\n                    max=\"20\"\r\n                    value={parseInt(pendingImport.theme?.fonts?.sizes?.body) || 14}\r\n                    onChange={(e) => updateFontSize('body', e.target.value)}\r\n                    className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">px</span>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-xs font-medium text-gray-600 mb-1\">\r\n                    Small\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"8\"\r\n                    max=\"16\"\r\n                    value={parseInt(pendingImport.theme?.fonts?.sizes?.small) || 12}\r\n                    onChange={(e) => updateFontSize('small', e.target.value)}\r\n                    className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">px</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Preview Section */}\r\n          <div>\r\n            <h4 className=\"text-lg font-semibold mb-3\">Preview</h4>\r\n            <div className=\"border border-gray-300 rounded-lg p-6 bg-white\">\r\n              <h2\r\n                className=\"font-bold mb-2\"\r\n                style={{\r\n                  color: pendingImport.theme?.colors?.primary || \"#4F5348\",\r\n                  fontFamily: pendingImport.theme?.fonts?.heading || \"Inter, sans-serif\",\r\n                  fontSize: pendingImport.theme?.fonts?.sizes?.name || \"36px\"\r\n                }}\r\n              >\r\n                Your Name\r\n              </h2>\r\n              <p\r\n                className=\"mb-4\"\r\n                style={{\r\n                  color: pendingImport.theme?.colors?.muted || \"#666\",\r\n                  fontFamily: pendingImport.theme?.fonts?.body || \"Inter, sans-serif\",\r\n                  fontSize: pendingImport.theme?.fonts?.sizes?.small || \"12px\"\r\n                }}\r\n              >\r\n                email@example.com ΓÇó (555) 123-4567\r\n              </p>\r\n              <h3\r\n                className=\"font-semibold mb-2 uppercase\"\r\n                style={{\r\n                  color: pendingImport.theme?.colors?.primary || \"#4F5348\",\r\n                  fontFamily: pendingImport.theme?.fonts?.heading || \"Inter, sans-serif\",\r\n                  fontSize: pendingImport.theme?.fonts?.sizes?.sectionHeader || \"18px\"\r\n                }}\r\n              >\r\n                Experience\r\n              </h3>\r\n              <h4\r\n                className=\"font-bold mb-1\"\r\n                style={{\r\n                  color: pendingImport.theme?.colors?.text || \"#222\",\r\n                  fontFamily: pendingImport.theme?.fonts?.heading || \"Inter, sans-serif\",\r\n                  fontSize: pendingImport.theme?.fonts?.sizes?.jobTitle || \"16px\"\r\n                }}\r\n              >\r\n                Senior Developer\r\n              </h4>\r\n              <p\r\n                style={{\r\n                  color: pendingImport.theme?.colors?.text || \"#222\",\r\n                  fontFamily: pendingImport.theme?.fonts?.body || \"Inter, sans-serif\",\r\n                  fontSize: pendingImport.theme?.fonts?.sizes?.body || \"14px\"\r\n                }}\r\n              >\r\n                This is how your body text will appear in the resume.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-gray-50 px-6 py-4 flex justify-end space-x-3 border-t\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleClose}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onFinalizeImport}\r\n            className=\"px-4 py-2 text-white rounded-lg transition\"\r\n            style={{ backgroundColor: '#777C6D' }}\r\n            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n          >\r\n            Save Template\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\CustomizeTemplateModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":19,"column":5,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":19,"column":5,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":24,"column":7,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":24,"column":7,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":8},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":230,"column":15,"nodeType":"JSXAttribute","endLine":230,"endColumn":85},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":231,"column":15,"nodeType":"JSXAttribute","endLine":231,"endColumn":84}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Customize Template Modal Component\r\n * Modal for customizing template name, type, theme, and layout\r\n */\r\nconst CustomizeTemplateModal = ({\r\n  customizeTemplate,\r\n  setCustomizeTemplate,\r\n  TEMPLATE_TYPES,\r\n  getThemePresetNames,\r\n  getThemePreset,\r\n  setPreviewTemplate,\r\n  handleCustomizeSave\r\n}) => {\r\n  if (!customizeTemplate) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-[60] p-4\" \r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={() => setCustomizeTemplate(null)}\r\n    >\r\n      <div \r\n        className=\"bg-white rounded-lg shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-gray-200\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10\">\r\n          <h3 className=\"text-2xl font-heading font-semibold\">Customize Template: {customizeTemplate.name}</h3>\r\n          <button\r\n            onClick={() => setCustomizeTemplate(null)}\r\n            className=\"text-gray-400 hover:text-gray-600 transition\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          <div className=\"space-y-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label htmlFor=\"customizeName\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Template Name\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"customizeName\"\r\n                  value={customizeTemplate.name}\r\n                  onChange={(e) => setCustomizeTemplate({...customizeTemplate, name: e.target.value})}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"customizeType\" className=\"block text-sm font-medium text-gray-700 mb-2\">Type</label>\r\n                <select \r\n                  id=\"customizeType\"\r\n                  value={customizeTemplate.type} \r\n                  onChange={(e) => setCustomizeTemplate({...customizeTemplate, type: e.target.value})} \r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  {TEMPLATE_TYPES.map(t => <option key={t.value} value={t.value}>{t.label}</option>)}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* UC-051: Theme Preset Selector */}\r\n            <div className=\"border-t pt-4\">\r\n              <h4 className=\"text-lg font-heading font-semibold mb-3\">Theme Preset</h4>\r\n              <p className=\"text-sm text-gray-600 mb-4\">Choose a pre-designed theme or customize colors manually below</p>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n                {getThemePresetNames().map(presetName => {\r\n                  const preset = getThemePreset(presetName);\r\n                  const isSelected = customizeTemplate.theme?.presetName === presetName;\r\n                  return (\r\n                    <button\r\n                      key={presetName}\r\n                      onClick={() => {\r\n                        const themeData = getThemePreset(presetName);\r\n                        setCustomizeTemplate({\r\n                          ...customizeTemplate,\r\n                          theme: {\r\n                            ...themeData,\r\n                            presetName\r\n                          }\r\n                        });\r\n                      }}\r\n                      className={`p-4 rounded-lg border-2 transition text-left ${\r\n                        isSelected \r\n                          ? 'border-blue-600 bg-blue-50' \r\n                          : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <div className=\"font-medium text-gray-900\">{preset.name}</div>\r\n                        {isSelected && (\r\n                          <svg className=\"w-5 h-5 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                          </svg>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"text-xs text-gray-600 mb-3\">{preset.description}</div>\r\n                      <div className=\"flex gap-1\">\r\n                        <div \r\n                          className=\"w-6 h-6 rounded border border-gray-300\" \r\n                          style={{ backgroundColor: preset.colors.primary }}\r\n                          title=\"Primary\"\r\n                        />\r\n                        <div \r\n                          className=\"w-6 h-6 rounded border border-gray-300\" \r\n                          style={{ backgroundColor: preset.colors.accent }}\r\n                          title=\"Accent\"\r\n                        />\r\n                        <div \r\n                          className=\"w-6 h-6 rounded border border-gray-300\" \r\n                          style={{ backgroundColor: preset.colors.text }}\r\n                          title=\"Text\"\r\n                        />\r\n                      </div>\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"border-t pt-4\">\r\n              <h4 className=\"text-lg font-heading font-semibold mb-3\">Custom Theme Colors</h4>\r\n              <p className=\"text-sm text-gray-600 mb-3\">Fine-tune the selected theme or create your own color scheme</p>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label htmlFor=\"primaryColor\" className=\"block text-sm font-medium text-gray-700 mb-2\">Primary Color</label>\r\n                  <input \r\n                    type=\"color\"\r\n                    id=\"primaryColor\"\r\n                    value={customizeTemplate.theme?.colors?.primary || \"#4F5348\"} \r\n                    onChange={(e) => setCustomizeTemplate({\r\n                      ...customizeTemplate, \r\n                      theme: { \r\n                        ...(customizeTemplate.theme||{}), \r\n                        colors: { ...(customizeTemplate.theme?.colors||{}), primary: e.target.value }\r\n                      }\r\n                    })}\r\n                    className=\"w-full h-10 rounded-lg border border-gray-300\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"textColor\" className=\"block text-sm font-medium text-gray-700 mb-2\">Text Color</label>\r\n                  <input \r\n                    type=\"color\"\r\n                    id=\"textColor\"\r\n                    value={customizeTemplate.theme?.colors?.text || \"#222222\"} \r\n                    onChange={(e) => setCustomizeTemplate({\r\n                      ...customizeTemplate, \r\n                      theme: { \r\n                        ...(customizeTemplate.theme||{}), \r\n                        colors: { ...(customizeTemplate.theme?.colors||{}), text: e.target.value }\r\n                      }\r\n                    })}\r\n                    className=\"w-full h-10 rounded-lg border border-gray-300\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"border-t pt-4\">\r\n              <h4 className=\"text-lg font-heading font-semibold mb-3\">Layout</h4>\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label htmlFor=\"sectionOrder\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Section Order (comma-separated)\r\n                  </label>\r\n                  <input \r\n                    type=\"text\"\r\n                    id=\"sectionOrder\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\" \r\n                    value={(customizeTemplate.layout?.sectionsOrder||[]).join(\", \")} \r\n                    onChange={(e) => setCustomizeTemplate({\r\n                      ...customizeTemplate, \r\n                      layout: { \r\n                        ...(customizeTemplate.layout||{}), \r\n                        sectionsOrder: e.target.value.split(\",\").map(s=>s.trim()).filter(Boolean) \r\n                      }\r\n                    })} \r\n                    placeholder=\"summary, experience, skills, education, projects\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"spacing\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Spacing (px)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"spacing\"\r\n                    value={customizeTemplate.theme?.spacing || 8}\r\n                    onChange={(e) => setCustomizeTemplate({\r\n                      ...customizeTemplate,\r\n                      theme: {\r\n                        ...(customizeTemplate.theme||{}),\r\n                        spacing: parseInt(e.target.value)||8\r\n                      }\r\n                    })}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-gray-50 px-6 py-4 flex justify-end space-x-3 -mx-6 -mb-6 mt-6 border-t\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setCustomizeTemplate(null)}\r\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setPreviewTemplate(customizeTemplate)}\r\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\"\r\n            >\r\n              Preview\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleCustomizeSave}\r\n              className=\"px-4 py-2 text-white rounded-lg transition\"\r\n              style={{ backgroundColor: '#777C6D' }}\r\n              onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n              onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n            >\r\n              Save Changes\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomizeTemplateModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\DeleteConfirmationModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":19,"column":5,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":19,"column":5,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":24,"column":7,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":24,"column":7,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":8}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Delete Confirmation Modal Component\r\n * Reusable modal for confirming deletion of resumes or templates\r\n */\r\nconst DeleteConfirmationModal = ({\r\n  showModal,\r\n  itemToDelete,\r\n  onClose,\r\n  onConfirm,\r\n  isDeleting,\r\n  itemType = 'item', // 'resume' or 'template'\r\n  itemDetails // Object with name, subtitle (like modified date or template type)\r\n}) => {\r\n  if (!showModal || !itemToDelete) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-[99999]\" \r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.6)', zIndex: 99999 }}\r\n      onClick={onClose}\r\n    >\r\n      <div \r\n        className=\"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 border border-gray-200\" \r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Modal Header */}\r\n        <div className=\"bg-red-50 border-b border-red-100 px-6 py-4\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"flex-shrink-0\">\r\n              <svg className=\"w-6 h-6 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-lg font-heading font-semibold text-gray-900\">Confirm Deletion</h3>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Modal Content */}\r\n        <div className=\"p-6\">\r\n          <p className=\"text-gray-700 mb-4\">\r\n            Are you sure you want to delete this {itemType}?\r\n          </p>\r\n          <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4\">\r\n            <p className=\"font-semibold text-gray-900\">{itemDetails?.name || itemToDelete.name}</p>\r\n            {itemDetails?.subtitle && (\r\n              <p className=\"text-sm text-gray-600\">{itemDetails.subtitle}</p>\r\n            )}\r\n          </div>\r\n          <p className=\"text-sm text-red-600 font-medium\">\r\n            This action cannot be undone.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Modal Footer */}\r\n        <div className=\"bg-gray-50 px-6 py-4 flex justify-end space-x-3 border-t\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            disabled={isDeleting}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onConfirm}\r\n            disabled={isDeleting}\r\n            className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\r\n          >\r\n            {isDeleting ? (\r\n              <>\r\n                <svg className=\"animate-spin h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n                <span>Deleting...</span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                </svg>\r\n                <span>Delete</span>\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteConfirmationModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\EditableContactInfo.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\EditableEducation.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\EditableSkills.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ExperienceTailoringModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":17,"column":9,"nodeType":"JSXOpeningElement","endLine":21,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":17,"column":9,"nodeType":"JSXOpeningElement","endLine":21,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":22,"column":13,"nodeType":"JSXOpeningElement","endLine":25,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":22,"column":13,"nodeType":"JSXOpeningElement","endLine":25,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\nconst ExperienceTailoringModal = ({\r\n    showExperienceTailoring,\r\n    setShowExperienceTailoring,\r\n    experienceTailoringData,\r\n    showExperienceSuccessBanner,\r\n    selectedExperienceVariations,\r\n    setSelectedExperienceVariations,\r\n    toggleExperienceVariation,\r\n    isApplyingExperience,\r\n    handleApplyExperienceChanges\r\n}) => {\r\n    if (!showExperienceTailoring || !experienceTailoringData) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.5)' }}\r\n            onClick={() => setShowExperienceTailoring(false)}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                {/* Modal Header */}\r\n                <div className=\"bg-[#777C6D] px-6 py-4 sticky top-0 z-10\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                            <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                            </svg>\r\n                            <h3 className=\"text-xl font-heading font-bold text-white\">AI Experience Tailoring</h3>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setShowExperienceTailoring(false)}\r\n                            className=\"text-white hover:text-gray-200 transition\"\r\n                        >\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Success Banner */}\r\n                {showExperienceSuccessBanner && (\r\n                    <div className=\"bg-green-50 border-l-4 border-green-500 px-6 py-4 mx-6 mt-4 rounded-r-lg animate-fade-in\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <svg className=\"w-6 h-6 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                            </svg>\r\n                            <div>\r\n                                <p className=\"font-semibold text-green-900\">Experience Updated Successfully!</p>\r\n                                <p className=\"text-sm text-green-700\">Your resume has been updated with the selected variations. Returning to resume view...</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Modal Content */}\r\n                <div className=\"p-6 space-y-6\">\r\n                    {/* Summary */}\r\n                    {experienceTailoringData.tailoring?.summary && (\r\n                        <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-5 border border-purple-200\">\r\n                            <p className=\"text-gray-800\">{experienceTailoringData.tailoring.summary}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Experience Suggestions */}\r\n                    {experienceTailoringData.tailoring?.experiences?.map((exp, expIdx) => (\r\n                        <div key={expIdx} className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\r\n                            <div className=\"bg-gray-50 px-5 py-3 border-b border-gray-200\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <h4 className=\"text-md font-semibold text-gray-900\">\r\n                                        Experience #{exp.experienceIndex + 1}\r\n                                    </h4>\r\n                                    <span className={`px-3 py-1 rounded-full text-xs font-medium ${exp.relevanceScore >= 80 ? 'bg-green-100 text-green-800' :\r\n                                        exp.relevanceScore >= 60 ? 'bg-yellow-100 text-yellow-800' :\r\n                                            'bg-gray-100 text-gray-800'\r\n                                        }`}>\r\n                                        {exp.relevanceScore}% Relevant\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"p-5 space-y-4\">\r\n                                {exp.bullets?.map((bullet, bulletIdx) => (\r\n                                    <div key={bulletIdx} className=\"border-l-4 border-purple-300 pl-4 space-y-3\">\r\n                                        {/* Original */}\r\n                                        <div>\r\n                                            <div className=\"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1\">Original</div>\r\n                                            <p className=\"text-sm text-gray-700\">{bullet.originalBullet}</p>\r\n                                        </div>\r\n\r\n                                        {/* Variations */}\r\n                                        {bullet.variations && (\r\n                                            <div className=\"space-y-2\">\r\n                                                <div className=\"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2\">\r\n                                                    AI-Generated Variations (Click to Select)\r\n                                                </div>\r\n\r\n                                                {/* Original Option */}\r\n                                                <button\r\n                                                    onClick={() => {\r\n                                                        const key = `${expIdx}-${bulletIdx}`;\r\n                                                        if (selectedExperienceVariations[key]) {\r\n                                                            const newSelections = { ...selectedExperienceVariations };\r\n                                                            delete newSelections[key];\r\n                                                            setSelectedExperienceVariations(newSelections);\r\n                                                        } else {\r\n                                                            setSelectedExperienceVariations(prev => ({ ...prev, [key]: 'original' }));\r\n                                                        }\r\n                                                    }}\r\n                                                    className={`w-full text-left bg-gray-50 rounded p-3 border-2 transition cursor-pointer ${!selectedExperienceVariations[`${expIdx}-${bulletIdx}`] || selectedExperienceVariations[`${expIdx}-${bulletIdx}`] === 'original'\r\n                                                        ? 'border-gray-400 bg-gray-100'\r\n                                                        : 'border-gray-200 hover:border-gray-300'\r\n                                                        }`}\r\n                                                >\r\n                                                    <div className=\"flex items-start gap-2\">\r\n                                                        <input\r\n                                                            type=\"radio\"\r\n                                                            name={`variation-${expIdx}-${bulletIdx}`}\r\n                                                            checked={!selectedExperienceVariations[`${expIdx}-${bulletIdx}`] || selectedExperienceVariations[`${expIdx}-${bulletIdx}`] === 'original'}\r\n                                                            onChange={() => { }}\r\n                                                            className=\"mt-1\"\r\n                                                        />\r\n                                                        <div className=\"flex-1\">\r\n                                                            <div className=\"text-xs font-medium text-gray-700 mb-1\">Γ£¿ Keep Original</div>\r\n                                                            <p className=\"text-sm text-gray-700\">{bullet.originalBullet}</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </button>\r\n\r\n                                                {bullet.variations.achievement && (\r\n                                                    <button\r\n                                                        onClick={() => toggleExperienceVariation(expIdx, bulletIdx, 'achievement')}\r\n                                                        className={`w-full text-left bg-blue-50 rounded p-3 border-2 transition cursor-pointer ${selectedExperienceVariations[`${expIdx}-${bulletIdx}`] === 'achievement'\r\n                                                            ? 'border-blue-600 bg-blue-100 shadow-md'\r\n                                                            : 'border-blue-200 hover:border-blue-400'\r\n                                                            }`}\r\n                                                    >\r\n                                                        <div className=\"flex items-start gap-2\">\r\n                                                            <input\r\n                                                                type=\"radio\"\r\n                                                                name={`variation-${expIdx}-${bulletIdx}`}\r\n                                                                checked={selectedExperienceVariations[`${expIdx}-${bulletIdx}`] === 'achievement'}\r\n                                                                onChange={() => { }}\r\n                                                                className=\"mt-1\"\r\n                                                            />\r\n                                                            <div className=\"flex-1\">\r\n                                                                <div className=\"text-xs font-medium text-blue-800 mb-1\">≡ƒÅå Achievement-Focused</div>\r\n                                                                <p className=\"text-sm text-gray-800\">{bullet.variations.achievement}</p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </button>\r\n                                                )}\r\n\r\n                                                {bullet.variations.technical && (\r\n                                                    <button\r\n                                                        onClick={() => toggleExperienceVariation(expIdx, bulletIdx, 'technical')}\r\n                                                        className={`w-full text-left bg-green-50 rounded p-3 border-2 transition cursor-pointer ${selectedExperienceVariations[`${expIdx}-${bulletIdx}`] === 'technical'\r\n                                                            ? 'border-green-600 bg-green-100 shadow-md'\r\n                                                            : 'border-green-200 hover:border-green-400'\r\n                                                            }`}\r\n                                                    >\r\n                                                        <div className=\"flex items-start gap-2\">\r\n                                                            <input\r\n                                                                type=\"radio\"\r\n                                                                name={`variation-${expIdx}-${bulletIdx}`}\r\n                                                                checked={selectedExperienceVariations[`${expIdx}-${bulletIdx}`] === 'technical'}\r\n                                                                onChange={() => { }}\r\n                                                                className=\"mt-1\"\r\n                                                            />\r\n                                                            <div className=\"flex-1\">\r\n                                                                <div className=\"text-xs font-medium text-green-800 mb-1\">ΓÜÖ∩╕Å Technical-Focused</div>\r\n                                                                <p className=\"text-sm text-gray-800\">{bullet.variations.technical}</p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </button>\r\n                                                )}\r\n\r\n                                                {bullet.variations.impact && (\r\n                                                    <button\r\n                                                        onClick={() => toggleExperienceVariation(expIdx, bulletIdx, 'impact')}\r\n                                                        className={`w-full text-left bg-purple-50 rounded p-3 border-2 transition cursor-pointer ${selectedExperienceVariations[`${expIdx}-${bulletIdx}`] === 'impact'\r\n                                                            ? 'border-purple-600 bg-purple-100 shadow-md'\r\n                                                            : 'border-purple-200 hover:border-purple-400'\r\n                                                            }`}\r\n                                                    >\r\n                                                        <div className=\"flex items-start gap-2\">\r\n                                                            <input\r\n                                                                type=\"radio\"\r\n                                                                name={`variation-${expIdx}-${bulletIdx}`}\r\n                                                                checked={selectedExperienceVariations[`${expIdx}-${bulletIdx}`] === 'impact'}\r\n                                                                onChange={() => { }}\r\n                                                                className=\"mt-1\"\r\n                                                            />\r\n                                                            <div className=\"flex-1\">\r\n                                                                <div className=\"text-xs font-medium text-purple-800 mb-1\">≡ƒôê Impact-Focused</div>\r\n                                                                <p className=\"text-sm text-gray-800\">{bullet.variations.impact}</p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </button>\r\n                                                )}\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        {/* Suggestions */}\r\n                                        {(bullet.suggestedActionVerbs?.length > 0 || bullet.keywordsToAdd?.length > 0) && (\r\n                                            <div className=\"flex gap-4 pt-2\">\r\n                                                {bullet.suggestedActionVerbs?.length > 0 && (\r\n                                                    <div>\r\n                                                        <div className=\"text-xs font-medium text-gray-600 mb-1\">Suggested Verbs:</div>\r\n                                                        <div className=\"flex flex-wrap gap-1\">\r\n                                                            {bullet.suggestedActionVerbs.map((verb, vIdx) => (\r\n                                                                <span key={vIdx} className=\"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs\">\r\n                                                                    {verb}\r\n                                                                </span>\r\n                                                            ))}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )}\r\n\r\n                                                {bullet.keywordsToAdd?.length > 0 && (\r\n                                                    <div>\r\n                                                        <div className=\"text-xs font-medium text-gray-600 mb-1\">Keywords to Add:</div>\r\n                                                        <div className=\"flex flex-wrap gap-1\">\r\n                                                            {bullet.keywordsToAdd.map((keyword, kIdx) => (\r\n                                                                <span key={kIdx} className=\"px-2 py-0.5 bg-pink-100 text-pink-700 rounded text-xs\">\r\n                                                                    {keyword}\r\n                                                                </span>\r\n                                                            ))}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Modal Actions */}\r\n                <div className=\"bg-gray-50 px-6 py-4 border-t sticky bottom-0\">\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"text-sm\">\r\n                                <span className=\"font-medium text-gray-900\">{Object.keys(selectedExperienceVariations).length}</span>\r\n                                <span className=\"text-gray-600\"> bullets selected for update</span>\r\n                            </div>\r\n                            {Object.keys(selectedExperienceVariations).length > 0 && (\r\n                                <button\r\n                                    onClick={() => setSelectedExperienceVariations({})}\r\n                                    className=\"text-xs text-purple-600 hover:text-purple-800 underline\"\r\n                                >\r\n                                    Clear selections\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"flex gap-3\">\r\n                            <button\r\n                                onClick={() => setShowExperienceTailoring(false)}\r\n                                disabled={isApplyingExperience}\r\n                                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition disabled:opacity-50\"\r\n                            >\r\n                                Close\r\n                            </button>\r\n                            <button\r\n                                onClick={handleApplyExperienceChanges}\r\n                                disabled={isApplyingExperience || Object.keys(selectedExperienceVariations).length === 0}\r\n                                className=\"px-6 py-2 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n                            >\r\n                                {isApplyingExperience ? (\r\n                                    <>\r\n                                        <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                        </svg>\r\n                                        <span>Applying...</span>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                                        </svg>\r\n                                        <span>Apply Changes to Resume</span>\r\n                                    </>\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                        ≡ƒÆí Select your preferred variation for each bullet, then click \"Apply Changes\" to update your resume\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ExperienceTailoringModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ExportMenu.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\FinishEditDropdown.jsx","messages":[{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":35,"column":9,"nodeType":"JSXAttribute","endLine":35,"endColumn":104},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":36,"column":9,"nodeType":"JSXAttribute","endLine":36,"endColumn":103}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect } from 'react';\r\n\r\n/**\r\n * UC-053: Finish Edit Dropdown Component\r\n * Renders the edit mode toggle button with a dropdown for Save & Exit or Exit Without Saving\r\n */\r\nconst FinishEditDropdown = ({ \r\n  isEditMode, \r\n  showDropdown, \r\n  setShowDropdown,\r\n  onToggleEditMode,\r\n  onSaveAndExit,\r\n  onExitWithoutSaving\r\n}) => {\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (showDropdown && !event.target.closest('.edit-dropdown-container')) {\r\n        setShowDropdown(false);\r\n      }\r\n    };\r\n    \r\n    if (showDropdown) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }\r\n  }, [showDropdown, setShowDropdown]);\r\n\r\n  return (\r\n    <div className=\"relative edit-dropdown-container\">\r\n      <button\r\n        onClick={onToggleEditMode}\r\n        className=\"px-4 py-2 text-white rounded-lg transition flex items-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2\"\r\n        style={{ backgroundColor: isEditMode ? '#3B82F6' : '#777C6D' }}\r\n        onMouseOver={(e) => e.currentTarget.style.backgroundColor = isEditMode ? '#2563EB' : '#656A5C'}\r\n        onMouseOut={(e) => e.currentTarget.style.backgroundColor = isEditMode ? '#3B82F6' : '#777C6D'}\r\n        title={isEditMode ? \"Finish editing\" : \"Edit resume content\"}\r\n      >\r\n        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n        </svg>\r\n        <span>{isEditMode ? 'Finish Edit' : 'Edit'}</span>\r\n        {isEditMode && (\r\n          <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n          </svg>\r\n        )}\r\n      </button>\r\n      \r\n      {/* Dropdown Menu */}\r\n      {isEditMode && showDropdown && (\r\n        <div className=\"absolute top-full mt-1 right-0 bg-white rounded-lg shadow-lg border border-gray-200 z-50 min-w-[200px]\">\r\n          <button\r\n            onClick={onSaveAndExit}\r\n            className=\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2 transition rounded-t-lg\"\r\n          >\r\n            <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n            </svg>\r\n            <span className=\"text-gray-700\">Save</span>\r\n          </button>\r\n          <button\r\n            onClick={onExitWithoutSaving}\r\n            className=\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2 transition rounded-b-lg border-t border-gray-100\"\r\n          >\r\n            <svg className=\"w-4 h-4 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n            <span className=\"text-gray-700\">Don't Save</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinishEditDropdown;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ImportTemplateModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":23,"column":9,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":23,"column":9,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":28,"column":13,"nodeType":"JSXOpeningElement","endLine":31,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":28,"column":13,"nodeType":"JSXOpeningElement","endLine":31,"endColumn":14},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":48,"column":29,"nodeType":"JSXOpeningElement","endLine":48,"endColumn":93},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":139,"column":33,"nodeType":"JSXAttribute","endLine":139,"endColumn":103},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":140,"column":33,"nodeType":"JSXAttribute","endLine":140,"endColumn":102}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\n\r\nexport default function ImportTemplateModal({ isOpen, onClose, onImport }) {\r\n    const [importMethod, setImportMethod] = useState(\"file\");\r\n    const [importFile, setImportFile] = useState(null);\r\n    const [importJson, setImportJson] = useState(\"\");\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onImport({ method: importMethod, file: importFile, json: importJson });\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setImportMethod(\"file\");\r\n        setImportFile(null);\r\n        setImportJson(\"\");\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-[60] p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={handleClose}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-2xl w-full border border-gray-200\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10\">\r\n                    <h3 className=\"text-2xl font-heading font-semibold\">Import Template (JSON)</h3>\r\n                    <button\r\n                        onClick={handleClose}\r\n                        className=\"text-gray-400 hover:text-gray-600 transition\"\r\n                    >\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"p-6\">\r\n                    <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                        {/* Import Method Selection */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                                Import Method\r\n                            </label>\r\n                            <div className=\"flex space-x-4\">\r\n                                <label className=\"flex items-center cursor-pointer\">\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name=\"importMethod\"\r\n                                        value=\"file\"\r\n                                        checked={importMethod === \"file\"}\r\n                                        onChange={(e) => setImportMethod(e.target.value)}\r\n                                        className=\"mr-2\"\r\n                                    />\r\n                                    <span className=\"text-sm text-gray-700\">Upload Resume File</span>\r\n                                </label>\r\n                                <label className=\"flex items-center cursor-pointer\">\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name=\"importMethod\"\r\n                                        value=\"json\"\r\n                                        checked={importMethod === \"json\"}\r\n                                        onChange={(e) => setImportMethod(e.target.value)}\r\n                                        className=\"mr-2\"\r\n                                    />\r\n                                    <span className=\"text-sm text-gray-700\">Paste JSON</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* File Upload Section */}\r\n                        {importMethod === \"file\" && (\r\n                            <div>\r\n                                <label htmlFor=\"importFile\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Upload Resume File <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <div className=\"mt-2\">\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        id=\"importFile\"\r\n                                        accept=\".pdf,.doc,.docx,.txt\"\r\n                                        onChange={(e) => setImportFile(e.target.files[0])}\r\n                                        className=\"block w-full text-sm text-gray-500\r\n                      file:mr-4 file:py-2 file:px-4\r\n                      file:rounded-lg file:border-0\r\n                      file:text-sm file:font-medium\r\n                      file:bg-gray-100 file:text-gray-700\r\n                      hover:file:bg-gray-200 file:cursor-pointer\r\n                      cursor-pointer\"\r\n                                        required\r\n                                    />\r\n                                    <p className=\"mt-2 text-xs text-gray-500\">\r\n                                        Supported formats: PDF, DOC, DOCX, TXT (Max 5MB)\r\n                                    </p>\r\n                                    {importFile && (\r\n                                        <p className=\"mt-2 text-sm text-green-600\">\r\n                                            Selected: {importFile.name}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* JSON Input Section */}\r\n                        {importMethod === \"json\" && (\r\n                            <div>\r\n                                <label htmlFor=\"importJson\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                    Paste Template JSON <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <textarea\r\n                                    id=\"importJson\"\r\n                                    className=\"w-full border border-gray-300 rounded-lg p-4 h-64 font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                                    placeholder='{\"name\":\"My Template\",\"type\":\"hybrid\",\"layout\":{\"sectionsOrder\":[\"summary\",\"skills\",\"experience\"]},\"theme\":{\"colors\":{\"primary\":\"#2a7\"}}}'\r\n                                    value={importJson}\r\n                                    onChange={(e) => setImportJson(e.target.value)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"bg-gray-50 px-6 py-4 flex justify-end space-x-3 -mx-6 -mb-6 border-t\">\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={handleClose}\r\n                                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\"\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"px-4 py-2 text-white rounded-lg transition\"\r\n                                style={{ backgroundColor: '#777C6D' }}\r\n                                onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                                onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                            >\r\n                                Import Template\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\InlineValidationIssuesPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\LinkedJobsModal.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchLinkedJobs'. Either include it or remove the dependency array.","line":14,"column":8,"nodeType":"ArrayExpression","endLine":14,"endColumn":28,"suggestions":[{"desc":"Update the dependencies array to be: [isOpen, documentId, fetchLinkedJobs]","fix":{"range":[555,575],"text":"[isOpen, documentId, fetchLinkedJobs]"}}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":57,"column":9,"nodeType":"JSXOpeningElement","endLine":61,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":57,"column":9,"nodeType":"JSXOpeningElement","endLine":61,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":62,"column":13,"nodeType":"JSXOpeningElement","endLine":65,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":62,"column":13,"nodeType":"JSXOpeningElement","endLine":65,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { getJobs, linkResumeToJob, linkCoverLetterToJob } from '../../api/jobs';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\n\r\nexport default function LinkedJobsModal({ isOpen, onClose, documentId, documentType, documentName }) {\r\n    const [jobs, setJobs] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [unlinkingId, setUnlinkingId] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (isOpen && documentId) {\r\n            fetchLinkedJobs();\r\n        }\r\n    }, [isOpen, documentId]);\r\n\r\n    const fetchLinkedJobs = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const params = {};\r\n            if (documentType === 'resume') {\r\n                params.resumeId = documentId;\r\n            } else {\r\n                params.coverLetterId = documentId;\r\n            }\r\n\r\n            console.log(\"Fetching linked jobs with params:\", params);\r\n            const response = await getJobs(params);\r\n            setJobs(response.data?.data?.jobs || response.data?.jobs || []);\r\n        } catch (error) {\r\n            console.error(\"Error fetching linked jobs:\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleUnlink = async (jobId) => {\r\n        try {\r\n            setUnlinkingId(jobId);\r\n            if (documentType === 'resume') {\r\n                await linkResumeToJob(jobId, null);\r\n            } else {\r\n                await linkCoverLetterToJob(jobId, null);\r\n            }\r\n            // Remove job from list\r\n            setJobs(prev => prev.filter(job => job._id !== jobId));\r\n        } catch (error) {\r\n            console.error(\"Error unlinking job:\", error);\r\n            alert(\"Failed to unlink job. Please try again.\");\r\n        } finally {\r\n            setUnlinkingId(null);\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-[60] p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={onClose}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[80vh] flex flex-col\"\r\n                onClick={e => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-4 border-b flex justify-between items-center\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                        Jobs Linked to \"{documentName}\"\r\n                    </h3>\r\n                    <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\r\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"p-4 overflow-y-auto flex-1\">\r\n                    {loading ? (\r\n                        <div className=\"flex justify-center py-8\">\r\n                            <LoadingSpinner size=\"md\" />\r\n                        </div>\r\n                    ) : jobs.length === 0 ? (\r\n                        <div className=\"text-center py-8 text-gray-500\">\r\n                            No jobs are currently linked to this {documentType === 'resume' ? 'resume' : 'cover letter'}.\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"space-y-3\">\r\n                            {jobs.map(job => (\r\n                                <div key={job._id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                                    <div>\r\n                                        <div className=\"font-medium text-gray-900\">{job.title}</div>\r\n                                        <div className=\"text-sm text-gray-600\">{job.company}</div>\r\n                                    </div>\r\n                                    <button\r\n                                        onClick={() => handleUnlink(job._id)}\r\n                                        disabled={unlinkingId === job._id}\r\n                                        className=\"text-sm px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition disabled:opacity-50\"\r\n                                    >\r\n                                        {unlinkingId === job._id ? 'Unlinking...' : 'Unlink'}\r\n                                    </button>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"p-4 border-t bg-gray-50 flex justify-end\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\r\n                    >\r\n                        Close\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\MergeResumeModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":20,"column":9,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":20,"column":9,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":28,"column":13,"nodeType":"JSXOpeningElement","endLine":31,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":28,"column":13,"nodeType":"JSXOpeningElement","endLine":31,"endColumn":14},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":84,"column":33,"nodeType":"JSXOpeningElement","endLine":84,"endColumn":90},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":110,"column":33,"nodeType":"JSXOpeningElement","endLine":110,"endColumn":90},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":137,"column":41,"nodeType":"JSXOpeningElement","endLine":137,"endColumn":135},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":173,"column":37,"nodeType":"JSXOpeningElement","endLine":173,"endColumn":94},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":238,"column":33,"nodeType":"JSXOpeningElement","endLine":238,"endColumn":90},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":266,"column":33,"nodeType":"JSXOpeningElement","endLine":266,"endColumn":90},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must have accessible text.","line":294,"column":33,"nodeType":"JSXOpeningElement","endLine":294,"endColumn":90}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Merge Resume Modal Component\r\n * Allows users to selectively merge sections from one resume into another\r\n */\r\nexport default function MergeResumeModal({\r\n    showMergeModal,\r\n    setShowMergeModal,\r\n    comparisonData,\r\n    viewingResume,\r\n    selectedMergeChanges,\r\n    setSelectedMergeChanges,\r\n    isMerging,\r\n    handleMergeResumes\r\n}) {\r\n    if (!showMergeModal || !comparisonData || !viewingResume) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n            onClick={() => {\r\n                setShowMergeModal(false);\r\n                setSelectedMergeChanges([]);\r\n            }}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-200\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                {/* Modal Header */}\r\n                <div className=\"bg-[#777C6D] border-b px-6 py-4 sticky top-0 z-10\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                            <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\r\n                            </svg>\r\n                            <h3 className=\"text-xl font-heading font-bold text-white\">Merge Resume Changes</h3>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => {\r\n                                setShowMergeModal(false);\r\n                                setSelectedMergeChanges([]);\r\n                            }}\r\n                            className=\"text-white hover:text-gray-200 transition\"\r\n                        >\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Modal Content */}\r\n                <div className=\"p-6 space-y-6\">\r\n                    {/* Merge Direction Indicator */}\r\n                    <div className=\"bg-[#f7f6f2] border border-[#e6e6e1] rounded-lg p-4\">\r\n                        <div className=\"flex items-center justify-center gap-4\">\r\n                            <div className=\"text-center\">\r\n                                <div className=\"font-semibold text-purple-900\">{comparisonData.resume2.name}</div>\r\n                                <div className=\"text-xs text-[#4F5348]\">Source</div>\r\n                            </div>\r\n                            <svg className=\"w-8 h-8 text-[#4F5348]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 5l7 7m0 0l-7 7m7-7H3\" />\r\n                            </svg>\r\n                            <div className=\"text-center\">\r\n                                <div className=\"font-semibold text-purple-900\">{comparisonData.resume1.name}</div>\r\n                                <div className=\"text-xs text-[#4F5348]\">Target (current)</div>\r\n                            </div>\r\n                        </div>\r\n                        <p className=\"text-sm text-purple-700 text-center mt-3\">\r\n                            Select which sections to copy from the source resume to the target resume\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Merge Options */}\r\n                    <div className=\"space-y-4\">\r\n                        <h4 className=\"font-semibold text-gray-900\">Select Changes to Merge:</h4>\r\n\r\n                        {/* Summary Section */}\r\n                        {comparisonData.fullData.resume2.summary && comparisonData.differences.summary && (\r\n                            <div className=\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition\">\r\n                                <label className=\"flex items-start gap-3 cursor-pointer\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={selectedMergeChanges.includes('summary')}\r\n                                        onChange={(e) => {\r\n                                            if (e.target.checked) {\r\n                                                setSelectedMergeChanges([...selectedMergeChanges, 'summary']);\r\n                                            } else {\r\n                                                setSelectedMergeChanges(selectedMergeChanges.filter(c => c !== 'summary'));\r\n                                            }\r\n                                        }}\r\n                                        className=\"mt-1 w-5 h-5 text-[#4F5348] rounded focus:ring-2 focus:ring-[#777C6D]\"\r\n                                    />\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"font-medium text-gray-900 mb-2\">Summary</div>\r\n                                        <div className=\"text-sm text-gray-600 bg-gray-50 p-3 rounded border border-gray-200 line-clamp-3\">\r\n                                            {comparisonData.fullData.resume2.summary}\r\n                                        </div>\r\n                                    </div>\r\n                                </label>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Experience Section */}\r\n                        {comparisonData.fullData.resume2.experience?.length > 0 && (\r\n                            <div className=\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition\">\r\n                                <label className=\"flex items-start gap-3 cursor-pointer\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={selectedMergeChanges.includes('experience')}\r\n                                        onChange={(e) => {\r\n                                            if (e.target.checked) {\r\n                                                setSelectedMergeChanges([...selectedMergeChanges, 'experience']);\r\n                                            } else {\r\n                                                setSelectedMergeChanges(selectedMergeChanges.filter(c => c !== 'experience'));\r\n                                            }\r\n                                        }}\r\n                                        className=\"mt-1 w-5 h-5 text-[#4F5348] rounded focus:ring-2 focus:ring-[#777C6D]\"\r\n                                    />\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"font-medium text-gray-900 mb-2\">\r\n                                            All Experience ({comparisonData.fullData.resume2.experience.length} items)\r\n                                        </div>\r\n                                        <div className=\"text-sm text-gray-600\">\r\n                                            Replace all experience with source, or select individual items below to add\r\n                                        </div>\r\n                                    </div>\r\n                                </label>\r\n\r\n                                {/* Individual Experience Items */}\r\n                                <div className=\"ml-8 mt-3 space-y-2\">\r\n                                    <div className=\"text-xs text-gray-500 mb-2 italic\">Select individual experience items to ADD them to current resume</div>\r\n                                    {comparisonData.fullData.resume2.experience.map((exp, idx) => (\r\n                                        <label key={idx} className=\"flex items-start gap-2 cursor-pointer p-2 rounded hover:bg-white\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={selectedMergeChanges.includes(`experience.${idx}`)}\r\n                                                onChange={(e) => {\r\n                                                    if (e.target.checked) {\r\n                                                        setSelectedMergeChanges([...selectedMergeChanges, `experience.${idx}`]);\r\n                                                    } else {\r\n                                                        setSelectedMergeChanges(selectedMergeChanges.filter(c => c !== `experience.${idx}`));\r\n                                                    }\r\n                                                }}\r\n                                                className=\"mt-1 w-4 h-4 text-[#4F5348] rounded focus:ring-2 focus:ring-[#777C6D]\"\r\n                                            />\r\n                                            <div className=\"text-sm\">\r\n                                                <div className=\"font-medium text-gray-900\">{exp.title} at {exp.company}</div>\r\n                                                <div className=\"text-xs text-gray-500\">\r\n                                                    {exp.startDate} - {exp.current ? 'Present' : exp.endDate}\r\n                                                </div>\r\n                                            </div>\r\n                                        </label>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Skills Section */}\r\n                        {comparisonData.fullData.resume2.skills?.length > 0 && (() => {\r\n                            // Get current resume skills to show which are new/different\r\n                            const currentSkillNames = new Set(\r\n                                (comparisonData.fullData.resume1.skills || []).map(s =>\r\n                                    typeof s === 'string' ? s : s.name\r\n                                )\r\n                            );\r\n\r\n                            return (\r\n                                <div className=\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition\">\r\n                                    <label className=\"flex items-start gap-3 cursor-pointer\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={selectedMergeChanges.includes('skills')}\r\n                                            onChange={(e) => {\r\n                                                if (e.target.checked) {\r\n                                                    setSelectedMergeChanges([...selectedMergeChanges, 'skills']);\r\n                                                } else {\r\n                                                    setSelectedMergeChanges(selectedMergeChanges.filter(c => c !== 'skills'));\r\n                                                }\r\n                                            }}\r\n                                            className=\"mt-1 w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500\"\r\n                                        />\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"font-medium text-gray-900 mb-2\">\r\n                                                All Skills ({comparisonData.fullData.resume2.skills.length} items)\r\n                                            </div>\r\n                                            <div className=\"text-sm text-gray-600\">\r\n                                                Add all missing skills from source resume\r\n                                            </div>\r\n                                        </div>\r\n                                    </label>\r\n\r\n                                    {/* Individual Skills */}\r\n                                    <div className=\"ml-8 mt-3 flex flex-wrap gap-2\">\r\n                                        {comparisonData.fullData.resume2.skills.map((skill, idx) => {\r\n                                            const skillName = typeof skill === 'string' ? skill : skill.name;\r\n                                            const isInCurrent = currentSkillNames.has(skillName);\r\n\r\n                                            return (\r\n                                                <label\r\n                                                    key={idx}\r\n                                                    className={`flex items-center gap-2 px-3 py-1.5 rounded cursor-pointer transition ${isInCurrent\r\n                                                        ? 'bg-gray-100 text-gray-500'\r\n                                                        : 'bg-purple-50 hover:bg-purple-100 text-purple-900'\r\n                                                        }`}\r\n                                                >\r\n                                                    <input\r\n                                                        type=\"checkbox\"\r\n                                                        checked={selectedMergeChanges.includes(`skill.${idx}`)}\r\n                                                        onChange={(e) => {\r\n                                                            if (e.target.checked) {\r\n                                                                setSelectedMergeChanges([...selectedMergeChanges, `skill.${idx}`]);\r\n                                                            } else {\r\n                                                                setSelectedMergeChanges(selectedMergeChanges.filter(c => c !== `skill.${idx}`));\r\n                                                            }\r\n                                                        }}\r\n                                                        disabled={isInCurrent}\r\n                                                        className=\"w-4 h-4 text-purple-600 rounded focus:ring-2 focus:ring-purple-500 disabled:opacity-50\"\r\n                                                    />\r\n                                                    <span className=\"text-sm\">\r\n                                                        {skillName}\r\n                                                        {isInCurrent && <span className=\"ml-1 text-xs\">(already in current)</span>}\r\n                                                    </span>\r\n                                                </label>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })()}\r\n\r\n                        {/* Education Section */}\r\n                        {comparisonData.fullData.resume2.education?.length > 0 && (\r\n                            <div className=\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition\">\r\n                                <label className=\"flex items-start gap-3 cursor-pointer\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={selectedMergeChanges.includes('education')}\r\n                                        onChange={(e) => {\r\n                                            if (e.target.checked) {\r\n                                                setSelectedMergeChanges([...selectedMergeChanges, 'education']);\r\n                                            } else {\r\n                                                setSelectedMergeChanges(selectedMergeChanges.filter(c => c !== 'education'));\r\n                                            }\r\n                                        }}\r\n                                        className=\"mt-1 w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500\"\r\n                                    />\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"font-medium text-gray-900 mb-2\">\r\n                                            Education ({comparisonData.fullData.resume2.education.length} items)\r\n                                        </div>\r\n                                        <div className=\"text-sm text-gray-600\">\r\n                                            Replace all education entries with those from source resume\r\n                                        </div>\r\n                                    </div>\r\n                                </label>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Projects Section */}\r\n                        {comparisonData.fullData.resume2.projects?.length > 0 && (\r\n                            <div className=\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition\">\r\n                                <label className=\"flex items-start gap-3 cursor-pointer\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={selectedMergeChanges.includes('projects')}\r\n                                        onChange={(e) => {\r\n                                            if (e.target.checked) {\r\n                                                setSelectedMergeChanges([...selectedMergeChanges, 'projects']);\r\n                                            } else {\r\n                                                setSelectedMergeChanges(selectedMergeChanges.filter(c => c !== 'projects'));\r\n                                            }\r\n                                        }}\r\n                                        className=\"mt-1 w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500\"\r\n                                    />\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"font-medium text-gray-900 mb-2\">\r\n                                            Projects ({comparisonData.fullData.resume2.projects.length} items)\r\n                                        </div>\r\n                                        <div className=\"text-sm text-gray-600\">\r\n                                            Replace all projects with those from source resume\r\n                                        </div>\r\n                                    </div>\r\n                                </label>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Section Visibility/Customization */}\r\n                        {comparisonData.differences.sectionCustomization && (\r\n                            <div className=\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition\">\r\n                                <label className=\"flex items-start gap-3 cursor-pointer\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={selectedMergeChanges.includes('sectionCustomization')}\r\n                                        onChange={(e) => {\r\n                                            if (e.target.checked) {\r\n                                                setSelectedMergeChanges([...selectedMergeChanges, 'sectionCustomization']);\r\n                                            } else {\r\n                                                setSelectedMergeChanges(selectedMergeChanges.filter(c => c !== 'sectionCustomization'));\r\n                                            }\r\n                                        }}\r\n                                        className=\"mt-1 w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500\"\r\n                                    />\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"font-medium text-gray-900 mb-2\">Section Visibility & Layout</div>\r\n                                        <div className=\"text-sm text-gray-600\">\r\n                                            Restore section visibility settings, order, and formatting from source resume\r\n                                        </div>\r\n                                    </div>\r\n                                </label>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Modal Footer */}\r\n                <div className=\"bg-gray-50 px-6 py-4 border-t flex justify-between items-center\">\r\n                    <div className=\"text-sm text-gray-600\">\r\n                        {selectedMergeChanges.length > 0 ? (\r\n                            <span className=\"font-medium text-purple-700\">\r\n                                {selectedMergeChanges.length} section{selectedMergeChanges.length !== 1 ? 's' : ''} selected for merge\r\n                            </span>\r\n                        ) : (\r\n                            <span className=\"text-gray-500\">Select at least one section to merge</span>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"flex gap-3\">\r\n                        <button\r\n                            onClick={() => {\r\n                                setShowMergeModal(false);\r\n                                setSelectedMergeChanges([]);\r\n                            }}\r\n                            disabled={isMerging}\r\n                            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition disabled:opacity-50\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            onClick={handleMergeResumes}\r\n                            disabled={isMerging || selectedMergeChanges.length === 0}\r\n                            className=\"px-6 py-2 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n                        >\r\n                            {isMerging ? (\r\n                                <>\r\n                                    <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                    </svg>\r\n                                    <span>Merging...</span>\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                                    </svg>\r\n                                    <span>Apply Merge</span>\r\n                                </>\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\RenameResumeModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":19,"column":5,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":19,"column":5,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":24,"column":7,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":24,"column":7,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":8},{"ruleId":"jsx-a11y/no-autofocus","severity":1,"message":"The autoFocus prop should not be used, as it can reduce usability and accessibility for users.","line":58,"column":13,"nodeType":"JSXAttribute","endLine":58,"endColumn":22},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":76,"column":19,"nodeType":"JSXAttribute","endLine":76,"endColumn":89},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":77,"column":19,"nodeType":"JSXAttribute","endLine":77,"endColumn":88}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Rename Resume Modal Component\r\n * Modal for renaming a resume\r\n */\r\nconst RenameResumeModal = ({\r\n  showModal,\r\n  renamingResume,\r\n  onClose,\r\n  renameValue,\r\n  setRenameValue,\r\n  onRename,\r\n  isRenaming\r\n}) => {\r\n  if (!showModal || !renamingResume) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-50\" \r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={() => !isRenaming && onClose()}\r\n    >\r\n      <div \r\n        className=\"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 border border-gray-200\" \r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Modal Header */}\r\n        <div className=\"bg-gray-50 border-b border-gray-100 px-6 py-4\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"flex-shrink-0\">\r\n              <svg className=\"w-6 h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-lg font-heading font-semibold text-gray-900\">Rename Resume</h3>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Modal Content */}\r\n        <div className=\"p-6\">\r\n          <label htmlFor=\"renameInput\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Resume Name\r\n          </label>\r\n          <input\r\n            id=\"renameInput\"\r\n            type=\"text\"\r\n            value={renameValue}\r\n            onChange={(e) => setRenameValue(e.target.value)}\r\n            onKeyPress={(e) => {\r\n              if (e.key === 'Enter' && !isRenaming && renameValue.trim()) {\r\n                onRename();\r\n              }\r\n            }}\r\n            disabled={isRenaming}\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent disabled:bg-gray-100\"\r\n            placeholder=\"Enter resume name\"\r\n            autoFocus\r\n          />\r\n        </div>\r\n\r\n        {/* Modal Actions */}\r\n        <div className=\"bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t\">\r\n          <button\r\n            onClick={() => !isRenaming && onClose()}\r\n            disabled={isRenaming}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition disabled:opacity-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={onRename}\r\n            disabled={isRenaming || !renameValue.trim()}\r\n            className=\"px-4 py-2 text-white rounded-lg transition disabled:opacity-50\"\r\n            style={{ backgroundColor: '#777C6D' }}\r\n                  onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                  onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n          >\r\n            {isRenaming ? \"Renaming...\" : \"Rename\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RenameResumeModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ResumeSectionHeader.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ResumeSectionRenderer.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":10,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":10,"endColumn":28},{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":23,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":23,"endColumn":24},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":366,"column":19,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":366,"endColumn":123,"suggestions":[{"messageId":"addBrackets","fix":{"range":[15813,16405],"text":"{ const datesText = `${formatDate(edu.startDate)} - ${edu.current ? 'Present' : formatDate(edu.endDate)}`;\r\n                  return (\r\n                    <span \r\n                      key=\"dates\"\r\n                      className=\"font-semibold\" \r\n                      style={{ \r\n                        color: theme.colors.muted, \r\n                        fontFamily: theme.fonts.body, \r\n                        fontSize: theme.fonts.sizes?.small || \"12px\"\r\n                      }}\r\n                    >\r\n                      {datesText}\r\n                    </span>\r\n                  ); }"},"desc":"Add {} brackets around the case block."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport RichTextEditor from './RichTextEditor';\r\n\r\n/**\r\n * ResumeSectionRenderer - Component for rendering different resume sections\r\n * Extracted from ResumeTemplates.jsx to reduce file size\r\n */\r\n\r\n// Helper function to get section display name\r\nexport const getSectionName = (sectionType, sectionStyles = {}) => {\r\n  return sectionStyles[sectionType]?.displayName || \r\n         (sectionType === 'summary' ? 'Professional Summary' :\r\n          sectionType === 'experience' ? 'Professional Experience' :\r\n          sectionType === 'skills' ? 'Technical Skills' :\r\n          sectionType === 'education' ? 'Education' :\r\n          sectionType === 'projects' ? 'Projects' :\r\n          sectionType === 'awards' ? 'Awards' :\r\n          sectionType === 'certifications' ? 'Certifications' :\r\n          sectionType.charAt(0).toUpperCase() + sectionType.slice(1));\r\n};\r\n\r\n// Helper function to format dates\r\nexport const formatDate = (dateString) => {\r\n  if (!dateString) return '';\r\n  const date = new Date(dateString);\r\n  const month = date.toLocaleString('default', { month: 'short' });\r\n  const year = date.getFullYear();\r\n  return `${month} ${year}`;\r\n};\r\n\r\n/**\r\n * Renders a resume section based on type\r\n */\r\nexport const ResumeSectionRenderer = ({\r\n  sectionType,\r\n  viewingResume,\r\n  resumeTemplate,\r\n  theme,\r\n  sectionFormatting,\r\n  handleRegenerateSection,\r\n  regeneratingSection,\r\n  handleDeleteSkill,\r\n  isEditMode,\r\n  editedContent,\r\n  setEditedContent\r\n}) => {\r\n  const sectionStyles = resumeTemplate.layout?.sectionStyles || {};\r\n  \r\n  const renderSection = (type) => {\r\n    switch (type) {\r\n      case 'summary':\r\n        return renderSummarySection();\r\n      case 'experience':\r\n        return renderExperienceSection();\r\n      case 'skills':\r\n        return renderSkillsSection();\r\n      case 'education':\r\n        return renderEducationSection();\r\n      case 'projects':\r\n        return renderProjectsSection();\r\n      case 'awards':\r\n        return renderAwardsSection();\r\n      case 'certifications':\r\n        return renderCertificationsSection();\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const renderSummarySection = () => {\r\n    if (!viewingResume.sections?.summary) return null;\r\n    const sectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n    const headerStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n    const summaryFmt = sectionFormatting['summary'] || {};\r\n    \r\n    return (\r\n      <div key=\"summary\" style={{ marginBottom: `${summaryFmt.spacing ?? sectionSpacing}px` }}>\r\n        <div className=\"flex justify-between items-center mb-3\">\r\n          <h2 \r\n            className=\"font-bold uppercase tracking-wide\" \r\n            style={{ \r\n              color: theme.colors.primary, \r\n              fontFamily: theme.fonts.heading, \r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: headerStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: headerStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('summary', sectionStyles)}\r\n          </h2>\r\n          {viewingResume.metadata?.generatedAt && (\r\n            <button\r\n              onClick={() => handleRegenerateSection('summary')}\r\n              disabled={regeneratingSection === 'summary'}\r\n              className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n            >\r\n              {regeneratingSection === 'summary' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n            </button>\r\n          )}\r\n        </div>\r\n        {isEditMode ? (\r\n          <RichTextEditor\r\n            value={editedContent['summary'] || viewingResume.sections.summary}\r\n            onChange={(content) => {\r\n              setEditedContent(prev => ({ ...prev, summary: content }));\r\n            }}\r\n            placeholder=\"Enter your professional summary...\"\r\n            style={{\r\n              fontFamily: theme.fonts.body,\r\n              fontSize: theme.fonts.sizes?.body || \"14px\"\r\n            }}\r\n          />\r\n        ) : (\r\n          <p \r\n            className=\"leading-relaxed\" \r\n            style={{ \r\n              color: summaryFmt.color || theme.colors.text, \r\n              textAlign: resumeTemplate.layout?.textAlignment || 'justify', \r\n              fontFamily: theme.fonts.body, \r\n              fontSize: theme.fonts.sizes?.body || \"14px\",\r\n              lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n            }}\r\n          >\r\n            {viewingResume.sections.summary}\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderExperienceSection = () => {\r\n    if (!viewingResume.sections?.experience || viewingResume.sections.experience.length === 0) return null;\r\n    const expSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n    const expHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n    \r\n    return (\r\n      <div key=\"experience\" style={{ marginBottom: `${expSectionSpacing}px` }}>\r\n        <div className=\"flex justify-between items-center mb-3\">\r\n          <h2 \r\n            className=\"font-bold uppercase tracking-wide\" \r\n            style={{ \r\n              color: theme.colors.primary, \r\n              fontFamily: theme.fonts.heading, \r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: expHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: expHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('experience', sectionStyles)}\r\n          </h2>\r\n          {viewingResume.metadata?.generatedAt && (\r\n            <button\r\n              onClick={() => handleRegenerateSection('experience')}\r\n              disabled={regeneratingSection === 'experience'}\r\n              className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n            >\r\n              {regeneratingSection === 'experience' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"space-y-5\">\r\n          {viewingResume.sections.experience.map((job, idx) => (\r\n            <div key={idx}>\r\n              <div className=\"flex justify-between items-baseline mb-1\">\r\n                <h3 className=\"font-bold\" style={{ color: theme.colors.text, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.jobTitle || \"16px\" }}>\r\n                  {job.jobTitle}\r\n                </h3>\r\n                <span className=\"font-semibold\" style={{ color: theme.colors.muted, fontFamily: theme.fonts.body, fontSize: theme.fonts.sizes?.small || \"12px\" }}>\r\n                  {formatDate(job.startDate)} - {job.isCurrentPosition ? 'Present' : formatDate(job.endDate)}\r\n                </span>\r\n              </div>\r\n              <p className=\"italic mb-2\" style={{ color: theme.colors.muted, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.body || \"14px\" }}>\r\n                {job.company}\r\n              </p>\r\n              {job.bullets && job.bullets.length > 0 && (\r\n                isEditMode ? (\r\n                  <div className=\"space-y-2\">\r\n                    {job.bullets.map((bullet, bulletIdx) => (\r\n                      <RichTextEditor\r\n                        key={bulletIdx}\r\n                        value={editedContent[`experience_${idx}_${bulletIdx}`] || bullet}\r\n                        onChange={(content) => {\r\n                          setEditedContent(prev => ({ ...prev, [`experience_${idx}_${bulletIdx}`]: content }));\r\n                        }}\r\n                        placeholder={`Bullet point ${bulletIdx + 1}...`}\r\n                        style={{\r\n                          fontFamily: theme.fonts.body,\r\n                          fontSize: theme.fonts.sizes?.body || \"14px\"\r\n                        }}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <ul className=\"space-y-1 ml-5\" style={{ listStyleType: 'disc' }}>\r\n                    {job.bullets.map((bullet, bulletIdx) => (\r\n                      <li \r\n                        key={bulletIdx} \r\n                        className=\"leading-relaxed\" \r\n                        style={{ \r\n                          color: theme.colors.text, \r\n                          fontFamily: theme.fonts.body, \r\n                          fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                          lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                          marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                        }}\r\n                      >\r\n                        {bullet}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                )\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSkillsSection = () => {\r\n    if (!viewingResume.sections?.skills || viewingResume.sections.skills.length === 0) return null;\r\n    const skillsSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n    const skillsHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n    const skillsFmt = sectionFormatting['skills'] || {};\r\n    \r\n    return (\r\n      <div key=\"skills\" style={{ marginBottom: `${skillsFmt.spacing ?? skillsSectionSpacing}px` }}>\r\n        <div className=\"flex justify-between items-center mb-3\">\r\n          <h2 \r\n            className=\"font-bold uppercase tracking-wide\" \r\n            style={{ \r\n              color: theme.colors.primary, \r\n              fontFamily: theme.fonts.heading, \r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: skillsHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: skillsHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('skills', sectionStyles)}\r\n          </h2>\r\n          {viewingResume.metadata?.generatedAt && (\r\n            <button\r\n              onClick={() => handleRegenerateSection('skills')}\r\n              disabled={regeneratingSection === 'skills'}\r\n              className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n            >\r\n              {regeneratingSection === 'skills' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"flex flex-wrap gap-2 print:gap-1\">\r\n          {viewingResume.sections.skills.map((skill, idx) => {\r\n            const skillName = typeof skill === 'string' ? skill : skill.name || skill;\r\n            return (\r\n              <div \r\n                key={idx}\r\n                className=\"group inline-flex items-center gap-1 px-2 py-1 print:px-1 print:py-0.5 rounded print:rounded-sm bg-gray-100 print:bg-transparent\"\r\n                style={{\r\n                  fontFamily: theme.fonts.body,\r\n                  fontSize: theme.fonts.sizes?.body || \"14px\"\r\n                }}\r\n              >\r\n                <span style={{ color: skillsFmt.color || theme.colors.text }}>\r\n                  {skillName}\r\n                </span>\r\n                <button\r\n                  onClick={() => handleDeleteSkill(skill)}\r\n                  className=\"print:hidden opacity-0 group-hover:opacity-100 transition-opacity text-red-600 hover:text-red-800 ml-1\"\r\n                  title=\"Remove skill\"\r\n                >\r\n                  <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderEducationSection = () => {\r\n    if (!viewingResume.sections?.education || viewingResume.sections.education.length === 0) return null;\r\n    const eduSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n    const eduHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n    const educationFmt = sectionFormatting['education'] || {};\r\n    \r\n    return (\r\n      <div key=\"education\" style={{ marginBottom: `${educationFmt.spacing ?? eduSectionSpacing}px` }}>\r\n        <h2 \r\n          className=\"font-bold mb-3 uppercase tracking-wide\" \r\n          style={{ \r\n            color: theme.colors.primary, \r\n            fontFamily: theme.fonts.heading, \r\n            fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n            borderBottom: eduHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n            paddingBottom: eduHeaderStyle === 'underline' ? '4px' : '0'\r\n          }}\r\n        >\r\n          {getSectionName('education', sectionStyles)}\r\n        </h2>\r\n        <div className=\"space-y-3\">\r\n          {viewingResume.sections.education.map((edu, idx) => {\r\n            const eduFormat = resumeTemplate.layout?.educationFormat || {\r\n              order: ['degree', 'institution', 'location', 'dates', 'gpa'],\r\n              datesOnRight: true,\r\n              locationAfterInstitution: true,\r\n              gpaSeparateLine: true\r\n            };\r\n            \r\n            // Render fields based on template format\r\n            const renderEducationField = (fieldType) => {\r\n              switch (fieldType) {\r\n                case 'degree':\r\n                  return (\r\n                    <h3 \r\n                      key=\"degree\"\r\n                      className=\"font-bold\" \r\n                      style={{ \r\n                        color: theme.colors.text, \r\n                        fontFamily: theme.fonts.heading, \r\n                        fontSize: theme.fonts.sizes?.jobTitle || \"16px\"\r\n                      }}\r\n                    >\r\n                      {edu.degree} in {edu.fieldOfStudy}\r\n                    </h3>\r\n                  );\r\n                case 'institution':\r\n                  return (\r\n                    <div \r\n                      key=\"institution\"\r\n                      className=\"italic\"\r\n                      style={{ \r\n                        color: theme.colors.muted, \r\n                        fontFamily: theme.fonts.heading, \r\n                        fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                        lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                      }}\r\n                    >\r\n                      {edu.institution}\r\n                      {eduFormat.locationAfterInstitution && edu.location && (\r\n                        <span>, {edu.location}</span>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                case 'location':\r\n                  if (!eduFormat.locationAfterInstitution && edu.location) {\r\n                    return (\r\n                      <div \r\n                        key=\"location\"\r\n                        className=\"italic\"\r\n                        style={{ \r\n                          color: theme.colors.muted, \r\n                          fontFamily: theme.fonts.heading, \r\n                          fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                          lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                        }}\r\n                      >\r\n                        {edu.location}\r\n                      </div>\r\n                    );\r\n                  }\r\n                  return null;\r\n                case 'dates':\r\n                  const datesText = `${formatDate(edu.startDate)} - ${edu.current ? 'Present' : formatDate(edu.endDate)}`;\r\n                  return (\r\n                    <span \r\n                      key=\"dates\"\r\n                      className=\"font-semibold\" \r\n                      style={{ \r\n                        color: theme.colors.muted, \r\n                        fontFamily: theme.fonts.body, \r\n                        fontSize: theme.fonts.sizes?.small || \"12px\"\r\n                      }}\r\n                    >\r\n                      {datesText}\r\n                    </span>\r\n                  );\r\n                case 'gpa':\r\n                  if (edu.gpa && (!edu.gpaPrivate)) {\r\n                    return (\r\n                      <p \r\n                        key=\"gpa\"\r\n                        className={eduFormat.gpaSeparateLine ? \"mt-1\" : \"\"}\r\n                        style={{ \r\n                          color: theme.colors.text, \r\n                          fontFamily: theme.fonts.body, \r\n                          fontSize: theme.fonts.sizes?.small || \"12px\",\r\n                          lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                        }}\r\n                      >\r\n                        GPA: {edu.gpa}\r\n                      </p>\r\n                    );\r\n                  }\r\n                  return null;\r\n                default:\r\n                  return null;\r\n              }\r\n            };\r\n            \r\n            // Determine if dates should be on same line (right-aligned) with degree/institution\r\n            const datesIndex = eduFormat.order.indexOf('dates');\r\n            const degreeIndex = eduFormat.order.indexOf('degree');\r\n            const institutionIndex = eduFormat.order.indexOf('institution');\r\n            \r\n            // Find first field (degree or institution)\r\n            let firstFieldType = null;\r\n            let firstFieldIndex = Infinity;\r\n            if (degreeIndex !== -1 && degreeIndex < firstFieldIndex) {\r\n              firstFieldIndex = degreeIndex;\r\n              firstFieldType = 'degree';\r\n            }\r\n            if (institutionIndex !== -1 && institutionIndex < firstFieldIndex) {\r\n              firstFieldIndex = institutionIndex;\r\n              firstFieldType = 'institution';\r\n            }\r\n            \r\n            // Dates on right if flag is set AND dates come right after first field\r\n            const hasDatesOnRight = eduFormat.datesOnRight && \r\n              datesIndex !== -1 && \r\n              firstFieldIndex !== Infinity &&\r\n              datesIndex === firstFieldIndex + 1;\r\n            \r\n            // Render all fields in order\r\n            const renderedFields = [];\r\n            let datesField = null;\r\n            \r\n            for (let i = 0; i < eduFormat.order.length; i++) {\r\n              const field = eduFormat.order[i];\r\n              \r\n              if (field === 'dates') {\r\n                if (hasDatesOnRight) {\r\n                  datesField = renderEducationField('dates');\r\n                } else {\r\n                  // Dates not on right - render normally\r\n                  const rendered = renderEducationField('dates');\r\n                  if (rendered) {\r\n                    renderedFields.push({ type: 'normal', element: rendered });\r\n                  }\r\n                }\r\n              } else {\r\n                const rendered = renderEducationField(field);\r\n                if (rendered) {\r\n                  if (field === firstFieldType) {\r\n                    // First field - may be on same line as dates\r\n                    renderedFields.unshift({ type: 'first', element: rendered });\r\n                  } else {\r\n                    renderedFields.push({ type: 'normal', element: rendered });\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            \r\n            // Separate first field from rest\r\n            const firstField = renderedFields.find(f => f.type === 'first');\r\n            const otherFields = renderedFields.filter(f => f.type !== 'first');\r\n            \r\n            return (\r\n              <div key={idx}>\r\n                {firstField && (\r\n                  <div className={hasDatesOnRight && datesField ? \"flex justify-between items-baseline\" : \"\"}>\r\n                    <div>\r\n                      {firstField.element}\r\n                    </div>\r\n                    {hasDatesOnRight && datesField && (\r\n                      <div>\r\n                        {datesField}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {otherFields.map((field, fIdx) => (\r\n                  <div key={fIdx}>\r\n                    {field.element}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderProjectsSection = () => {\r\n    if (!viewingResume.sections?.projects || viewingResume.sections.projects.length === 0) return null;\r\n    const projSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n    const projHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n    const projectsFmt = sectionFormatting['projects'] || {};\r\n    \r\n    return (\r\n      <div key=\"projects\" style={{ marginBottom: `${projectsFmt.spacing ?? projSectionSpacing}px` }}>\r\n        <h2 \r\n          className=\"font-bold mb-3 uppercase tracking-wide\" \r\n          style={{ \r\n            color: theme.colors.primary, \r\n            fontFamily: theme.fonts.heading, \r\n            fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n            borderBottom: projHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n            paddingBottom: projHeaderStyle === 'underline' ? '4px' : '0'\r\n          }}\r\n        >\r\n          {getSectionName('projects', sectionStyles)}\r\n        </h2>\r\n        <div className=\"space-y-3\">\r\n          {viewingResume.sections.projects.map((proj, idx) => (\r\n            <div key={idx}>\r\n              <h3 className=\"font-bold\" style={{ color: theme.colors.text, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.jobTitle || \"16px\" }}>\r\n                {proj.name}\r\n              </h3>\r\n              <p \r\n                className=\"leading-relaxed mb-1\" \r\n                style={{ \r\n                  color: projectsFmt.color || theme.colors.text, \r\n                  fontFamily: theme.fonts.body, \r\n                  fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                  textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                  lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                }}\r\n              >\r\n                {proj.description}\r\n              </p>\r\n              {proj.technologies && proj.technologies.length > 0 && (\r\n                <p \r\n                  className=\"italic\" \r\n                  style={{ \r\n                    color: theme.colors.muted, \r\n                    fontFamily: theme.fonts.body, \r\n                    fontSize: theme.fonts.sizes?.small || \"12px\",\r\n                    lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                  }}\r\n                >\r\n                  Technologies: {proj.technologies.join(', ')}\r\n                </p>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderAwardsSection = () => {\r\n    if (!viewingResume.sections?.awards || viewingResume.sections.awards.length === 0) return null;\r\n    const awardsSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n    const awardsHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n    const awardsFmt = sectionFormatting['awards'] || {};\r\n    \r\n    return (\r\n      <div key=\"awards\" style={{ marginBottom: `${awardsFmt.spacing ?? awardsSectionSpacing}px` }}>\r\n        <h2 \r\n          className=\"font-bold mb-3 uppercase tracking-wide\" \r\n          style={{ \r\n            color: theme.colors.primary, \r\n            fontFamily: theme.fonts.heading, \r\n            fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n            borderBottom: awardsHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n            paddingBottom: awardsHeaderStyle === 'underline' ? '4px' : '0'\r\n          }}\r\n        >\r\n          {getSectionName('awards', sectionStyles)}\r\n        </h2>\r\n        <div className=\"space-y-2\">\r\n          {viewingResume.sections.awards.map((award, idx) => (\r\n            <div \r\n              key={idx} \r\n              style={{ \r\n                color: awardsFmt.color || theme.colors.text, \r\n                fontFamily: theme.fonts.body, \r\n                fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n              }}\r\n            >\r\n              {typeof award === 'string' ? award : `${award.name || award.title || ''}${award.date ? ` (${award.date})` : ''}${award.issuer ? ` - ${award.issuer}` : ''}`}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderCertificationsSection = () => {\r\n    if (!viewingResume.sections?.certifications || viewingResume.sections.certifications.length === 0) return null;\r\n    const certSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n    const certHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n    const certFmt = sectionFormatting['certifications'] || {};\r\n    \r\n    return (\r\n      <div key=\"certifications\" style={{ marginBottom: `${certFmt.spacing ?? certSectionSpacing}px` }}>\r\n        <h2 \r\n          className=\"font-bold mb-3 uppercase tracking-wide\" \r\n          style={{ \r\n            color: theme.colors.primary, \r\n            fontFamily: theme.fonts.heading, \r\n            fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n            borderBottom: certHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n            paddingBottom: certHeaderStyle === 'underline' ? '4px' : '0'\r\n          }}\r\n        >\r\n          {getSectionName('certifications', sectionStyles)}\r\n        </h2>\r\n        <div className=\"space-y-2\">\r\n          {viewingResume.sections.certifications.map((cert, idx) => (\r\n            <div \r\n              key={idx} \r\n              style={{ \r\n                color: certFmt.color || theme.colors.text, \r\n                fontFamily: theme.fonts.body, \r\n                fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n              }}\r\n            >\r\n              {typeof cert === 'string' ? cert : `${cert.name || cert.title || ''}${cert.date ? ` (${cert.date})` : ''}${cert.issuer ? ` - ${cert.issuer || cert.issuingOrganization}` : ''}`}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return renderSection(sectionType);\r\n};\r\n\r\nexport default ResumeSectionRenderer;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ResumeSectionsDisplay.jsx","messages":[{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":55,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":55,"endColumn":74,"suggestions":[{"messageId":"addBrackets","fix":{"range":[1692,4345],"text":"{ if (!viewingResume.sections?.summary) return null;\r\n      const sectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const headerStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const summaryFmt = sectionFormatting['summary'] || {};\r\n      return (\r\n        <div key=\"summary\" style={{ marginBottom: `${summaryFmt.spacing ?? sectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: headerStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: headerStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('summary')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('summary')}\r\n                disabled={regeneratingSection === 'summary'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'summary' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          {/* UC-053: Rich text editor in edit mode */}\r\n          {isEditMode ? (\r\n            <RichTextEditor\r\n              value={editedContent['summary'] || viewingResume.sections.summary}\r\n              onChange={(content) => {\r\n                setEditedContent(prev => ({ ...prev, summary: content }));\r\n              }}\r\n              placeholder=\"Enter your professional summary...\"\r\n              style={{\r\n                fontFamily: theme.fonts.body,\r\n                fontSize: theme.fonts.sizes?.body || \"14px\"\r\n              }}\r\n            />\r\n          ) : (\r\n            <p\r\n              className=\"leading-relaxed\"\r\n              style={{\r\n                color: summaryFmt.color || theme.colors.text,\r\n                textAlign: resumeTemplate.layout?.textAlignment || 'justify',\r\n                fontFamily: theme.fonts.body,\r\n                fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n              }}\r\n            >\r\n              {viewingResume.sections.summary}\r\n            </p>\r\n          )}\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":56,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":56,"endColumn":77,"suggestions":[{"messageId":"addBrackets","fix":{"range":[1692,4345],"text":"{ if (!viewingResume.sections?.summary) return null;\r\n      const sectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const headerStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const summaryFmt = sectionFormatting['summary'] || {};\r\n      return (\r\n        <div key=\"summary\" style={{ marginBottom: `${summaryFmt.spacing ?? sectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: headerStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: headerStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('summary')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('summary')}\r\n                disabled={regeneratingSection === 'summary'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'summary' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          {/* UC-053: Rich text editor in edit mode */}\r\n          {isEditMode ? (\r\n            <RichTextEditor\r\n              value={editedContent['summary'] || viewingResume.sections.summary}\r\n              onChange={(content) => {\r\n                setEditedContent(prev => ({ ...prev, summary: content }));\r\n              }}\r\n              placeholder=\"Enter your professional summary...\"\r\n              style={{\r\n                fontFamily: theme.fonts.body,\r\n                fontSize: theme.fonts.sizes?.body || \"14px\"\r\n              }}\r\n            />\r\n          ) : (\r\n            <p\r\n              className=\"leading-relaxed\"\r\n              style={{\r\n                color: summaryFmt.color || theme.colors.text,\r\n                textAlign: resumeTemplate.layout?.textAlignment || 'justify',\r\n                fontFamily: theme.fonts.body,\r\n                fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n              }}\r\n            >\r\n              {viewingResume.sections.summary}\r\n            </p>\r\n          )}\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":57,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":57,"endColumn":61,"suggestions":[{"messageId":"addBrackets","fix":{"range":[1692,4345],"text":"{ if (!viewingResume.sections?.summary) return null;\r\n      const sectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const headerStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const summaryFmt = sectionFormatting['summary'] || {};\r\n      return (\r\n        <div key=\"summary\" style={{ marginBottom: `${summaryFmt.spacing ?? sectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: headerStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: headerStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('summary')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('summary')}\r\n                disabled={regeneratingSection === 'summary'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'summary' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          {/* UC-053: Rich text editor in edit mode */}\r\n          {isEditMode ? (\r\n            <RichTextEditor\r\n              value={editedContent['summary'] || viewingResume.sections.summary}\r\n              onChange={(content) => {\r\n                setEditedContent(prev => ({ ...prev, summary: content }));\r\n              }}\r\n              placeholder=\"Enter your professional summary...\"\r\n              style={{\r\n                fontFamily: theme.fonts.body,\r\n                fontSize: theme.fonts.sizes?.body || \"14px\"\r\n              }}\r\n            />\r\n          ) : (\r\n            <p\r\n              className=\"leading-relaxed\"\r\n              style={{\r\n                color: summaryFmt.color || theme.colors.text,\r\n                textAlign: resumeTemplate.layout?.textAlignment || 'justify',\r\n                fontFamily: theme.fonts.body,\r\n                fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n              }}\r\n            >\r\n              {viewingResume.sections.summary}\r\n            </p>\r\n          )}\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":115,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":115,"endColumn":77,"suggestions":[{"messageId":"addBrackets","fix":{"range":[4379,8940],"text":"{ if (!viewingResume.sections?.experience || viewingResume.sections.experience.length === 0) return null;\r\n      const expSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const expHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      return (\r\n        <div key=\"experience\" style={{ marginBottom: `${expSectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: expHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: expHeaderStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('experience')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('experience')}\r\n                disabled={regeneratingSection === 'experience'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'experience' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div className=\"space-y-5\">\r\n            {viewingResume.sections.experience.map((job, idx) => (\r\n              <div key={idx}>\r\n                <div className=\"flex justify-between items-baseline mb-1\">\r\n                  <h3 className=\"font-bold\" style={{ color: theme.colors.text, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.jobTitle || \"16px\" }}>\r\n                    {job.jobTitle}\r\n                  </h3>\r\n                  <span className=\"font-semibold\" style={{ color: theme.colors.muted, fontFamily: theme.fonts.body, fontSize: theme.fonts.sizes?.small || \"12px\" }}>\r\n                    {formatDate(job.startDate)} - {job.isCurrentPosition ? 'Present' : formatDate(job.endDate)}\r\n                  </span>\r\n                </div>\r\n                <p className=\"italic mb-2\" style={{ color: theme.colors.muted, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.body || \"14px\" }}>\r\n                  {job.company}\r\n                </p>\r\n                {job.bullets && job.bullets.length > 0 && (\r\n                  isEditMode ? (\r\n                    /* UC-053: Rich text editor for experience bullets in edit mode */\r\n                    <div className=\"space-y-2\">\r\n                      {job.bullets.map((bullet, bulletIdx) => (\r\n                        <RichTextEditor\r\n                          key={bulletIdx}\r\n                          value={editedContent[`experience_${idx}_${bulletIdx}`] || bullet}\r\n                          onChange={(content) => {\r\n                            setEditedContent(prev => ({ ...prev, [`experience_${idx}_${bulletIdx}`]: content }));\r\n                          }}\r\n                          placeholder={`Bullet point ${bulletIdx + 1}...`}\r\n                          style={{\r\n                            fontFamily: theme.fonts.body,\r\n                            fontSize: theme.fonts.sizes?.body || \"14px\"\r\n                          }}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <ul className=\"space-y-1 ml-5\" style={{ listStyleType: 'disc' }}>\r\n                      {job.bullets.map((bullet, bulletIdx) => (\r\n                        <li\r\n                          key={bulletIdx}\r\n                          className=\"leading-relaxed\"\r\n                          style={{\r\n                            color: theme.colors.text,\r\n                            fontFamily: theme.fonts.body,\r\n                            fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                            marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                          }}\r\n                        >\r\n                          {bullet}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  )\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":116,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":116,"endColumn":80,"suggestions":[{"messageId":"addBrackets","fix":{"range":[4379,8940],"text":"{ if (!viewingResume.sections?.experience || viewingResume.sections.experience.length === 0) return null;\r\n      const expSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const expHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      return (\r\n        <div key=\"experience\" style={{ marginBottom: `${expSectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: expHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: expHeaderStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('experience')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('experience')}\r\n                disabled={regeneratingSection === 'experience'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'experience' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div className=\"space-y-5\">\r\n            {viewingResume.sections.experience.map((job, idx) => (\r\n              <div key={idx}>\r\n                <div className=\"flex justify-between items-baseline mb-1\">\r\n                  <h3 className=\"font-bold\" style={{ color: theme.colors.text, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.jobTitle || \"16px\" }}>\r\n                    {job.jobTitle}\r\n                  </h3>\r\n                  <span className=\"font-semibold\" style={{ color: theme.colors.muted, fontFamily: theme.fonts.body, fontSize: theme.fonts.sizes?.small || \"12px\" }}>\r\n                    {formatDate(job.startDate)} - {job.isCurrentPosition ? 'Present' : formatDate(job.endDate)}\r\n                  </span>\r\n                </div>\r\n                <p className=\"italic mb-2\" style={{ color: theme.colors.muted, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.body || \"14px\" }}>\r\n                  {job.company}\r\n                </p>\r\n                {job.bullets && job.bullets.length > 0 && (\r\n                  isEditMode ? (\r\n                    /* UC-053: Rich text editor for experience bullets in edit mode */\r\n                    <div className=\"space-y-2\">\r\n                      {job.bullets.map((bullet, bulletIdx) => (\r\n                        <RichTextEditor\r\n                          key={bulletIdx}\r\n                          value={editedContent[`experience_${idx}_${bulletIdx}`] || bullet}\r\n                          onChange={(content) => {\r\n                            setEditedContent(prev => ({ ...prev, [`experience_${idx}_${bulletIdx}`]: content }));\r\n                          }}\r\n                          placeholder={`Bullet point ${bulletIdx + 1}...`}\r\n                          style={{\r\n                            fontFamily: theme.fonts.body,\r\n                            fontSize: theme.fonts.sizes?.body || \"14px\"\r\n                          }}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <ul className=\"space-y-1 ml-5\" style={{ listStyleType: 'disc' }}>\r\n                      {job.bullets.map((bullet, bulletIdx) => (\r\n                        <li\r\n                          key={bulletIdx}\r\n                          className=\"leading-relaxed\"\r\n                          style={{\r\n                            color: theme.colors.text,\r\n                            fontFamily: theme.fonts.body,\r\n                            fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                            marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                          }}\r\n                        >\r\n                          {bullet}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  )\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":203,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":203,"endColumn":80,"suggestions":[{"messageId":"addBrackets","fix":{"range":[8970,12500],"text":"{ if (!viewingResume.sections?.skills || viewingResume.sections.skills.length === 0) return null;\r\n      const skillsSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const skillsHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const skillsFmt = sectionFormatting['skills'] || {};\r\n      return (\r\n        <div key=\"skills\" style={{ marginBottom: `${skillsFmt.spacing ?? skillsSectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: skillsHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: skillsHeaderStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('skills')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('skills')}\r\n                disabled={regeneratingSection === 'skills'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'skills' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          {/* UC-053: Edit mode for skills */}\r\n          {isEditMode ? (\r\n            <EditableSkills\r\n              skills={viewingResume.sections.skills}\r\n              editedContent={editedContent}\r\n              setEditedContent={setEditedContent}\r\n              viewingResume={viewingResume}\r\n              setViewingResume={setViewingResume}\r\n              theme={theme}\r\n            />\r\n          ) : (\r\n            <div className=\"flex flex-wrap gap-2 print:gap-1\">\r\n              {viewingResume.sections.skills.map((skill, idx) => {\r\n                const skillName = typeof skill === 'string' ? skill : skill.name || skill;\r\n                return (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"group inline-flex items-center gap-1 px-2 py-1 print:px-1 print:py-0.5 rounded print:rounded-sm bg-gray-100 print:bg-transparent\"\r\n                    style={{\r\n                      fontFamily: theme.fonts.body,\r\n                      fontSize: theme.fonts.sizes?.body || \"14px\"\r\n                    }}\r\n                  >\r\n                    <span style={{ color: skillsFmt.color || theme.colors.text }}>\r\n                      {skillName}\r\n                    </span>\r\n                    <button\r\n                      onClick={() => handleDeleteSkill(skill)}\r\n                      className=\"print:hidden opacity-0 group-hover:opacity-100 transition-opacity text-red-600 hover:text-red-800 ml-1\"\r\n                      title=\"Remove skill\"\r\n                    >\r\n                      <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":204,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":204,"endColumn":83,"suggestions":[{"messageId":"addBrackets","fix":{"range":[8970,12500],"text":"{ if (!viewingResume.sections?.skills || viewingResume.sections.skills.length === 0) return null;\r\n      const skillsSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const skillsHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const skillsFmt = sectionFormatting['skills'] || {};\r\n      return (\r\n        <div key=\"skills\" style={{ marginBottom: `${skillsFmt.spacing ?? skillsSectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: skillsHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: skillsHeaderStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('skills')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('skills')}\r\n                disabled={regeneratingSection === 'skills'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'skills' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          {/* UC-053: Edit mode for skills */}\r\n          {isEditMode ? (\r\n            <EditableSkills\r\n              skills={viewingResume.sections.skills}\r\n              editedContent={editedContent}\r\n              setEditedContent={setEditedContent}\r\n              viewingResume={viewingResume}\r\n              setViewingResume={setViewingResume}\r\n              theme={theme}\r\n            />\r\n          ) : (\r\n            <div className=\"flex flex-wrap gap-2 print:gap-1\">\r\n              {viewingResume.sections.skills.map((skill, idx) => {\r\n                const skillName = typeof skill === 'string' ? skill : skill.name || skill;\r\n                return (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"group inline-flex items-center gap-1 px-2 py-1 print:px-1 print:py-0.5 rounded print:rounded-sm bg-gray-100 print:bg-transparent\"\r\n                    style={{\r\n                      fontFamily: theme.fonts.body,\r\n                      fontSize: theme.fonts.sizes?.body || \"14px\"\r\n                    }}\r\n                  >\r\n                    <span style={{ color: skillsFmt.color || theme.colors.text }}>\r\n                      {skillName}\r\n                    </span>\r\n                    <button\r\n                      onClick={() => handleDeleteSkill(skill)}\r\n                      className=\"print:hidden opacity-0 group-hover:opacity-100 transition-opacity text-red-600 hover:text-red-800 ml-1\"\r\n                      title=\"Remove skill\"\r\n                    >\r\n                      <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":205,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":205,"endColumn":59,"suggestions":[{"messageId":"addBrackets","fix":{"range":[8970,12500],"text":"{ if (!viewingResume.sections?.skills || viewingResume.sections.skills.length === 0) return null;\r\n      const skillsSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const skillsHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const skillsFmt = sectionFormatting['skills'] || {};\r\n      return (\r\n        <div key=\"skills\" style={{ marginBottom: `${skillsFmt.spacing ?? skillsSectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: skillsHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: skillsHeaderStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('skills')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('skills')}\r\n                disabled={regeneratingSection === 'skills'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'skills' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          {/* UC-053: Edit mode for skills */}\r\n          {isEditMode ? (\r\n            <EditableSkills\r\n              skills={viewingResume.sections.skills}\r\n              editedContent={editedContent}\r\n              setEditedContent={setEditedContent}\r\n              viewingResume={viewingResume}\r\n              setViewingResume={setViewingResume}\r\n              theme={theme}\r\n            />\r\n          ) : (\r\n            <div className=\"flex flex-wrap gap-2 print:gap-1\">\r\n              {viewingResume.sections.skills.map((skill, idx) => {\r\n                const skillName = typeof skill === 'string' ? skill : skill.name || skill;\r\n                return (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"group inline-flex items-center gap-1 px-2 py-1 print:px-1 print:py-0.5 rounded print:rounded-sm bg-gray-100 print:bg-transparent\"\r\n                    style={{\r\n                      fontFamily: theme.fonts.body,\r\n                      fontSize: theme.fonts.sizes?.body || \"14px\"\r\n                    }}\r\n                  >\r\n                    <span style={{ color: skillsFmt.color || theme.colors.text }}>\r\n                      {skillName}\r\n                    </span>\r\n                    <button\r\n                      onClick={() => handleDeleteSkill(skill)}\r\n                      className=\"print:hidden opacity-0 group-hover:opacity-100 transition-opacity text-red-600 hover:text-red-800 ml-1\"\r\n                      title=\"Remove skill\"\r\n                    >\r\n                      <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":276,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":276,"endColumn":77,"suggestions":[{"messageId":"addBrackets","fix":{"range":[12533,21680],"text":"{ if (!viewingResume.sections?.education || viewingResume.sections.education.length === 0) return null;\r\n      const eduSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const eduHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const educationFmt = sectionFormatting['education'] || {};\r\n      return (\r\n        <div key=\"education\" style={{ marginBottom: `${educationFmt.spacing ?? eduSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: eduHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: eduHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('education')}\r\n          </h2>\r\n          <div className=\"space-y-3\">\r\n            {viewingResume.sections.education.map((edu, idx) => {\r\n              const eduFormat = resumeTemplate.layout?.educationFormat || {\r\n                order: ['degree', 'institution', 'location', 'dates', 'gpa'],\r\n                datesOnRight: true,\r\n                locationAfterInstitution: true,\r\n                gpaSeparateLine: true\r\n              };\r\n\r\n              // UC-053: Edit mode for education\r\n              if (isEditMode) {\r\n                return (\r\n                  <EditableEducation\r\n                    key={idx}\r\n                    education={edu}\r\n                    idx={idx}\r\n                    editedContent={editedContent}\r\n                    setEditedContent={setEditedContent}\r\n                    theme={theme}\r\n                  />\r\n                );\r\n              }\r\n\r\n              // Render fields based on template format\r\n              const renderEducationField = (fieldType) => {\r\n                switch (fieldType) {\r\n                  case 'degree':\r\n                    return (\r\n                      <h3\r\n                        key=\"degree\"\r\n                        className=\"font-bold\"\r\n                        style={{\r\n                          color: theme.colors.text,\r\n                          fontFamily: theme.fonts.heading,\r\n                          fontSize: theme.fonts.sizes?.jobTitle || \"16px\"\r\n                        }}\r\n                      >\r\n                        {edu.degree} in {edu.fieldOfStudy}\r\n                      </h3>\r\n                    );\r\n                  case 'institution':\r\n                    return (\r\n                      <div\r\n                        key=\"institution\"\r\n                        className=\"italic\"\r\n                        style={{\r\n                          color: theme.colors.muted,\r\n                          fontFamily: theme.fonts.heading,\r\n                          fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                          lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                        }}\r\n                      >\r\n                        {edu.institution}\r\n                        {eduFormat.locationAfterInstitution && edu.location && (\r\n                          <span>, {edu.location}</span>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  case 'location':\r\n                    if (!eduFormat.locationAfterInstitution && edu.location) {\r\n                      return (\r\n                        <div\r\n                          key=\"location\"\r\n                          className=\"italic\"\r\n                          style={{\r\n                            color: theme.colors.muted,\r\n                            fontFamily: theme.fonts.heading,\r\n                            fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                          }}\r\n                        >\r\n                          {edu.location}\r\n                        </div>\r\n                      );\r\n                    }\r\n                    return null;\r\n                  case 'dates':\r\n                    const datesText = `${formatDate(edu.startDate)} - ${edu.current ? 'Present' : formatDate(edu.endDate)}`;\r\n                    return (\r\n                      <span\r\n                        key=\"dates\"\r\n                        className=\"font-semibold\"\r\n                        style={{\r\n                          color: theme.colors.muted,\r\n                          fontFamily: theme.fonts.body,\r\n                          fontSize: theme.fonts.sizes?.small || \"12px\"\r\n                        }}\r\n                      >\r\n                        {datesText}\r\n                      </span>\r\n                    );\r\n                  case 'gpa':\r\n                    if (edu.gpa && (!edu.gpaPrivate)) {\r\n                      return (\r\n                        <p\r\n                          key=\"gpa\"\r\n                          className={eduFormat.gpaSeparateLine ? \"mt-1\" : \"\"}\r\n                          style={{\r\n                            color: theme.colors.text,\r\n                            fontFamily: theme.fonts.body,\r\n                            fontSize: theme.fonts.sizes?.small || \"12px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                          }}\r\n                        >\r\n                          GPA: {edu.gpa}\r\n                        </p>\r\n                      );\r\n                    }\r\n                    return null;\r\n                  default:\r\n                    return null;\r\n                }\r\n              };\r\n\r\n              // Determine if dates should be on same line (right-aligned) with degree/institution\r\n              const datesIndex = eduFormat.order.indexOf('dates');\r\n              const degreeIndex = eduFormat.order.indexOf('degree');\r\n              const institutionIndex = eduFormat.order.indexOf('institution');\r\n\r\n              // Find first field (degree or institution)\r\n              let firstFieldType = null;\r\n              let firstFieldIndex = Infinity;\r\n              if (degreeIndex !== -1 && degreeIndex < firstFieldIndex) {\r\n                firstFieldIndex = degreeIndex;\r\n                firstFieldType = 'degree';\r\n              }\r\n              if (institutionIndex !== -1 && institutionIndex < firstFieldIndex) {\r\n                firstFieldIndex = institutionIndex;\r\n                firstFieldType = 'institution';\r\n              }\r\n\r\n              // Dates on right if flag is set AND dates come right after first field\r\n              const hasDatesOnRight = eduFormat.datesOnRight &&\r\n                datesIndex !== -1 &&\r\n                firstFieldIndex !== Infinity &&\r\n                datesIndex === firstFieldIndex + 1;\r\n\r\n              // Render all fields in order\r\n              const renderedFields = [];\r\n              let datesField = null;\r\n\r\n              for (let i = 0; i < eduFormat.order.length; i++) {\r\n                const field = eduFormat.order[i];\r\n\r\n                if (field === 'dates') {\r\n                  if (hasDatesOnRight) {\r\n                    datesField = renderEducationField('dates');\r\n                  } else {\r\n                    // Dates not on right - render normally\r\n                    const rendered = renderEducationField('dates');\r\n                    if (rendered) {\r\n                      renderedFields.push({ type: 'normal', element: rendered });\r\n                    }\r\n                  }\r\n                } else {\r\n                  const rendered = renderEducationField(field);\r\n                  if (rendered) {\r\n                    if (field === firstFieldType) {\r\n                      // First field - may be on same line as dates\r\n                      renderedFields.unshift({ type: 'first', element: rendered });\r\n                    } else {\r\n                      renderedFields.push({ type: 'normal', element: rendered });\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n\r\n              // Separate first field from rest\r\n              const firstField = renderedFields.find(f => f.type === 'first');\r\n              const otherFields = renderedFields.filter(f => f.type !== 'first');\r\n\r\n              return (\r\n                <div key={idx}>\r\n                  {firstField && (\r\n                    <div className={hasDatesOnRight && datesField ? \"flex justify-between items-baseline\" : \"\"}>\r\n                      <div>\r\n                        {firstField.element}\r\n                      </div>\r\n                      {hasDatesOnRight && datesField && (\r\n                        <div>\r\n                          {datesField}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  {otherFields.map((field, fIdx) => (\r\n                    <div key={fIdx}>\r\n                      {field.element}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":277,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":277,"endColumn":80,"suggestions":[{"messageId":"addBrackets","fix":{"range":[12533,21680],"text":"{ if (!viewingResume.sections?.education || viewingResume.sections.education.length === 0) return null;\r\n      const eduSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const eduHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const educationFmt = sectionFormatting['education'] || {};\r\n      return (\r\n        <div key=\"education\" style={{ marginBottom: `${educationFmt.spacing ?? eduSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: eduHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: eduHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('education')}\r\n          </h2>\r\n          <div className=\"space-y-3\">\r\n            {viewingResume.sections.education.map((edu, idx) => {\r\n              const eduFormat = resumeTemplate.layout?.educationFormat || {\r\n                order: ['degree', 'institution', 'location', 'dates', 'gpa'],\r\n                datesOnRight: true,\r\n                locationAfterInstitution: true,\r\n                gpaSeparateLine: true\r\n              };\r\n\r\n              // UC-053: Edit mode for education\r\n              if (isEditMode) {\r\n                return (\r\n                  <EditableEducation\r\n                    key={idx}\r\n                    education={edu}\r\n                    idx={idx}\r\n                    editedContent={editedContent}\r\n                    setEditedContent={setEditedContent}\r\n                    theme={theme}\r\n                  />\r\n                );\r\n              }\r\n\r\n              // Render fields based on template format\r\n              const renderEducationField = (fieldType) => {\r\n                switch (fieldType) {\r\n                  case 'degree':\r\n                    return (\r\n                      <h3\r\n                        key=\"degree\"\r\n                        className=\"font-bold\"\r\n                        style={{\r\n                          color: theme.colors.text,\r\n                          fontFamily: theme.fonts.heading,\r\n                          fontSize: theme.fonts.sizes?.jobTitle || \"16px\"\r\n                        }}\r\n                      >\r\n                        {edu.degree} in {edu.fieldOfStudy}\r\n                      </h3>\r\n                    );\r\n                  case 'institution':\r\n                    return (\r\n                      <div\r\n                        key=\"institution\"\r\n                        className=\"italic\"\r\n                        style={{\r\n                          color: theme.colors.muted,\r\n                          fontFamily: theme.fonts.heading,\r\n                          fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                          lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                        }}\r\n                      >\r\n                        {edu.institution}\r\n                        {eduFormat.locationAfterInstitution && edu.location && (\r\n                          <span>, {edu.location}</span>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  case 'location':\r\n                    if (!eduFormat.locationAfterInstitution && edu.location) {\r\n                      return (\r\n                        <div\r\n                          key=\"location\"\r\n                          className=\"italic\"\r\n                          style={{\r\n                            color: theme.colors.muted,\r\n                            fontFamily: theme.fonts.heading,\r\n                            fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                          }}\r\n                        >\r\n                          {edu.location}\r\n                        </div>\r\n                      );\r\n                    }\r\n                    return null;\r\n                  case 'dates':\r\n                    const datesText = `${formatDate(edu.startDate)} - ${edu.current ? 'Present' : formatDate(edu.endDate)}`;\r\n                    return (\r\n                      <span\r\n                        key=\"dates\"\r\n                        className=\"font-semibold\"\r\n                        style={{\r\n                          color: theme.colors.muted,\r\n                          fontFamily: theme.fonts.body,\r\n                          fontSize: theme.fonts.sizes?.small || \"12px\"\r\n                        }}\r\n                      >\r\n                        {datesText}\r\n                      </span>\r\n                    );\r\n                  case 'gpa':\r\n                    if (edu.gpa && (!edu.gpaPrivate)) {\r\n                      return (\r\n                        <p\r\n                          key=\"gpa\"\r\n                          className={eduFormat.gpaSeparateLine ? \"mt-1\" : \"\"}\r\n                          style={{\r\n                            color: theme.colors.text,\r\n                            fontFamily: theme.fonts.body,\r\n                            fontSize: theme.fonts.sizes?.small || \"12px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                          }}\r\n                        >\r\n                          GPA: {edu.gpa}\r\n                        </p>\r\n                      );\r\n                    }\r\n                    return null;\r\n                  default:\r\n                    return null;\r\n                }\r\n              };\r\n\r\n              // Determine if dates should be on same line (right-aligned) with degree/institution\r\n              const datesIndex = eduFormat.order.indexOf('dates');\r\n              const degreeIndex = eduFormat.order.indexOf('degree');\r\n              const institutionIndex = eduFormat.order.indexOf('institution');\r\n\r\n              // Find first field (degree or institution)\r\n              let firstFieldType = null;\r\n              let firstFieldIndex = Infinity;\r\n              if (degreeIndex !== -1 && degreeIndex < firstFieldIndex) {\r\n                firstFieldIndex = degreeIndex;\r\n                firstFieldType = 'degree';\r\n              }\r\n              if (institutionIndex !== -1 && institutionIndex < firstFieldIndex) {\r\n                firstFieldIndex = institutionIndex;\r\n                firstFieldType = 'institution';\r\n              }\r\n\r\n              // Dates on right if flag is set AND dates come right after first field\r\n              const hasDatesOnRight = eduFormat.datesOnRight &&\r\n                datesIndex !== -1 &&\r\n                firstFieldIndex !== Infinity &&\r\n                datesIndex === firstFieldIndex + 1;\r\n\r\n              // Render all fields in order\r\n              const renderedFields = [];\r\n              let datesField = null;\r\n\r\n              for (let i = 0; i < eduFormat.order.length; i++) {\r\n                const field = eduFormat.order[i];\r\n\r\n                if (field === 'dates') {\r\n                  if (hasDatesOnRight) {\r\n                    datesField = renderEducationField('dates');\r\n                  } else {\r\n                    // Dates not on right - render normally\r\n                    const rendered = renderEducationField('dates');\r\n                    if (rendered) {\r\n                      renderedFields.push({ type: 'normal', element: rendered });\r\n                    }\r\n                  }\r\n                } else {\r\n                  const rendered = renderEducationField(field);\r\n                  if (rendered) {\r\n                    if (field === firstFieldType) {\r\n                      // First field - may be on same line as dates\r\n                      renderedFields.unshift({ type: 'first', element: rendered });\r\n                    } else {\r\n                      renderedFields.push({ type: 'normal', element: rendered });\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n\r\n              // Separate first field from rest\r\n              const firstField = renderedFields.find(f => f.type === 'first');\r\n              const otherFields = renderedFields.filter(f => f.type !== 'first');\r\n\r\n              return (\r\n                <div key={idx}>\r\n                  {firstField && (\r\n                    <div className={hasDatesOnRight && datesField ? \"flex justify-between items-baseline\" : \"\"}>\r\n                      <div>\r\n                        {firstField.element}\r\n                      </div>\r\n                      {hasDatesOnRight && datesField && (\r\n                        <div>\r\n                          {datesField}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  {otherFields.map((field, fIdx) => (\r\n                    <div key={fIdx}>\r\n                      {field.element}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":278,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":278,"endColumn":65,"suggestions":[{"messageId":"addBrackets","fix":{"range":[12533,21680],"text":"{ if (!viewingResume.sections?.education || viewingResume.sections.education.length === 0) return null;\r\n      const eduSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const eduHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const educationFmt = sectionFormatting['education'] || {};\r\n      return (\r\n        <div key=\"education\" style={{ marginBottom: `${educationFmt.spacing ?? eduSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: eduHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: eduHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('education')}\r\n          </h2>\r\n          <div className=\"space-y-3\">\r\n            {viewingResume.sections.education.map((edu, idx) => {\r\n              const eduFormat = resumeTemplate.layout?.educationFormat || {\r\n                order: ['degree', 'institution', 'location', 'dates', 'gpa'],\r\n                datesOnRight: true,\r\n                locationAfterInstitution: true,\r\n                gpaSeparateLine: true\r\n              };\r\n\r\n              // UC-053: Edit mode for education\r\n              if (isEditMode) {\r\n                return (\r\n                  <EditableEducation\r\n                    key={idx}\r\n                    education={edu}\r\n                    idx={idx}\r\n                    editedContent={editedContent}\r\n                    setEditedContent={setEditedContent}\r\n                    theme={theme}\r\n                  />\r\n                );\r\n              }\r\n\r\n              // Render fields based on template format\r\n              const renderEducationField = (fieldType) => {\r\n                switch (fieldType) {\r\n                  case 'degree':\r\n                    return (\r\n                      <h3\r\n                        key=\"degree\"\r\n                        className=\"font-bold\"\r\n                        style={{\r\n                          color: theme.colors.text,\r\n                          fontFamily: theme.fonts.heading,\r\n                          fontSize: theme.fonts.sizes?.jobTitle || \"16px\"\r\n                        }}\r\n                      >\r\n                        {edu.degree} in {edu.fieldOfStudy}\r\n                      </h3>\r\n                    );\r\n                  case 'institution':\r\n                    return (\r\n                      <div\r\n                        key=\"institution\"\r\n                        className=\"italic\"\r\n                        style={{\r\n                          color: theme.colors.muted,\r\n                          fontFamily: theme.fonts.heading,\r\n                          fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                          lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                        }}\r\n                      >\r\n                        {edu.institution}\r\n                        {eduFormat.locationAfterInstitution && edu.location && (\r\n                          <span>, {edu.location}</span>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  case 'location':\r\n                    if (!eduFormat.locationAfterInstitution && edu.location) {\r\n                      return (\r\n                        <div\r\n                          key=\"location\"\r\n                          className=\"italic\"\r\n                          style={{\r\n                            color: theme.colors.muted,\r\n                            fontFamily: theme.fonts.heading,\r\n                            fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                          }}\r\n                        >\r\n                          {edu.location}\r\n                        </div>\r\n                      );\r\n                    }\r\n                    return null;\r\n                  case 'dates':\r\n                    const datesText = `${formatDate(edu.startDate)} - ${edu.current ? 'Present' : formatDate(edu.endDate)}`;\r\n                    return (\r\n                      <span\r\n                        key=\"dates\"\r\n                        className=\"font-semibold\"\r\n                        style={{\r\n                          color: theme.colors.muted,\r\n                          fontFamily: theme.fonts.body,\r\n                          fontSize: theme.fonts.sizes?.small || \"12px\"\r\n                        }}\r\n                      >\r\n                        {datesText}\r\n                      </span>\r\n                    );\r\n                  case 'gpa':\r\n                    if (edu.gpa && (!edu.gpaPrivate)) {\r\n                      return (\r\n                        <p\r\n                          key=\"gpa\"\r\n                          className={eduFormat.gpaSeparateLine ? \"mt-1\" : \"\"}\r\n                          style={{\r\n                            color: theme.colors.text,\r\n                            fontFamily: theme.fonts.body,\r\n                            fontSize: theme.fonts.sizes?.small || \"12px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                          }}\r\n                        >\r\n                          GPA: {edu.gpa}\r\n                        </p>\r\n                      );\r\n                    }\r\n                    return null;\r\n                  default:\r\n                    return null;\r\n                }\r\n              };\r\n\r\n              // Determine if dates should be on same line (right-aligned) with degree/institution\r\n              const datesIndex = eduFormat.order.indexOf('dates');\r\n              const degreeIndex = eduFormat.order.indexOf('degree');\r\n              const institutionIndex = eduFormat.order.indexOf('institution');\r\n\r\n              // Find first field (degree or institution)\r\n              let firstFieldType = null;\r\n              let firstFieldIndex = Infinity;\r\n              if (degreeIndex !== -1 && degreeIndex < firstFieldIndex) {\r\n                firstFieldIndex = degreeIndex;\r\n                firstFieldType = 'degree';\r\n              }\r\n              if (institutionIndex !== -1 && institutionIndex < firstFieldIndex) {\r\n                firstFieldIndex = institutionIndex;\r\n                firstFieldType = 'institution';\r\n              }\r\n\r\n              // Dates on right if flag is set AND dates come right after first field\r\n              const hasDatesOnRight = eduFormat.datesOnRight &&\r\n                datesIndex !== -1 &&\r\n                firstFieldIndex !== Infinity &&\r\n                datesIndex === firstFieldIndex + 1;\r\n\r\n              // Render all fields in order\r\n              const renderedFields = [];\r\n              let datesField = null;\r\n\r\n              for (let i = 0; i < eduFormat.order.length; i++) {\r\n                const field = eduFormat.order[i];\r\n\r\n                if (field === 'dates') {\r\n                  if (hasDatesOnRight) {\r\n                    datesField = renderEducationField('dates');\r\n                  } else {\r\n                    // Dates not on right - render normally\r\n                    const rendered = renderEducationField('dates');\r\n                    if (rendered) {\r\n                      renderedFields.push({ type: 'normal', element: rendered });\r\n                    }\r\n                  }\r\n                } else {\r\n                  const rendered = renderEducationField(field);\r\n                  if (rendered) {\r\n                    if (field === firstFieldType) {\r\n                      // First field - may be on same line as dates\r\n                      renderedFields.unshift({ type: 'first', element: rendered });\r\n                    } else {\r\n                      renderedFields.push({ type: 'normal', element: rendered });\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n\r\n              // Separate first field from rest\r\n              const firstField = renderedFields.find(f => f.type === 'first');\r\n              const otherFields = renderedFields.filter(f => f.type !== 'first');\r\n\r\n              return (\r\n                <div key={idx}>\r\n                  {firstField && (\r\n                    <div className={hasDatesOnRight && datesField ? \"flex justify-between items-baseline\" : \"\"}>\r\n                      <div>\r\n                        {firstField.element}\r\n                      </div>\r\n                      {hasDatesOnRight && datesField && (\r\n                        <div>\r\n                          {datesField}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  {otherFields.map((field, fIdx) => (\r\n                    <div key={fIdx}>\r\n                      {field.element}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":370,"column":21,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":370,"endColumn":125,"suggestions":[{"messageId":"addBrackets","fix":{"range":[16738,17351],"text":"{ const datesText = `${formatDate(edu.startDate)} - ${edu.current ? 'Present' : formatDate(edu.endDate)}`;\r\n                    return (\r\n                      <span\r\n                        key=\"dates\"\r\n                        className=\"font-semibold\"\r\n                        style={{\r\n                          color: theme.colors.muted,\r\n                          fontFamily: theme.fonts.body,\r\n                          fontSize: theme.fonts.sizes?.small || \"12px\"\r\n                        }}\r\n                      >\r\n                        {datesText}\r\n                      </span>\r\n                    ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":492,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":492,"endColumn":78,"suggestions":[{"messageId":"addBrackets","fix":{"range":[21712,24237],"text":"{ if (!viewingResume.sections?.projects || viewingResume.sections.projects.length === 0) return null;\r\n      const projSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const projHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const projectsFmt = sectionFormatting['projects'] || {};\r\n      return (\r\n        <div key=\"projects\" style={{ marginBottom: `${projectsFmt.spacing ?? projSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: projHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: projHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('projects')}\r\n          </h2>\r\n          <div className=\"space-y-3\">\r\n            {viewingResume.sections.projects.map((proj, idx) => (\r\n              <div key={idx}>\r\n                <h3 className=\"font-bold\" style={{ color: theme.colors.text, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.jobTitle || \"16px\" }}>\r\n                  {proj.name}\r\n                </h3>\r\n                <p\r\n                  className=\"leading-relaxed mb-1\"\r\n                  style={{\r\n                    color: projectsFmt.color || theme.colors.text,\r\n                    fontFamily: theme.fonts.body,\r\n                    fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                    textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                    lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                  }}\r\n                >\r\n                  {proj.description}\r\n                </p>\r\n                {proj.technologies && proj.technologies.length > 0 && (\r\n                  <p\r\n                    className=\"italic\"\r\n                    style={{\r\n                      color: theme.colors.muted,\r\n                      fontFamily: theme.fonts.body,\r\n                      fontSize: theme.fonts.sizes?.small || \"12px\",\r\n                      lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                    }}\r\n                  >\r\n                    Technologies: {proj.technologies.join(', ')}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":493,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":493,"endColumn":81,"suggestions":[{"messageId":"addBrackets","fix":{"range":[21712,24237],"text":"{ if (!viewingResume.sections?.projects || viewingResume.sections.projects.length === 0) return null;\r\n      const projSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const projHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const projectsFmt = sectionFormatting['projects'] || {};\r\n      return (\r\n        <div key=\"projects\" style={{ marginBottom: `${projectsFmt.spacing ?? projSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: projHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: projHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('projects')}\r\n          </h2>\r\n          <div className=\"space-y-3\">\r\n            {viewingResume.sections.projects.map((proj, idx) => (\r\n              <div key={idx}>\r\n                <h3 className=\"font-bold\" style={{ color: theme.colors.text, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.jobTitle || \"16px\" }}>\r\n                  {proj.name}\r\n                </h3>\r\n                <p\r\n                  className=\"leading-relaxed mb-1\"\r\n                  style={{\r\n                    color: projectsFmt.color || theme.colors.text,\r\n                    fontFamily: theme.fonts.body,\r\n                    fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                    textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                    lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                  }}\r\n                >\r\n                  {proj.description}\r\n                </p>\r\n                {proj.technologies && proj.technologies.length > 0 && (\r\n                  <p\r\n                    className=\"italic\"\r\n                    style={{\r\n                      color: theme.colors.muted,\r\n                      fontFamily: theme.fonts.body,\r\n                      fontSize: theme.fonts.sizes?.small || \"12px\",\r\n                      lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                    }}\r\n                  >\r\n                    Technologies: {proj.technologies.join(', ')}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":494,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":494,"endColumn":63,"suggestions":[{"messageId":"addBrackets","fix":{"range":[21712,24237],"text":"{ if (!viewingResume.sections?.projects || viewingResume.sections.projects.length === 0) return null;\r\n      const projSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const projHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const projectsFmt = sectionFormatting['projects'] || {};\r\n      return (\r\n        <div key=\"projects\" style={{ marginBottom: `${projectsFmt.spacing ?? projSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: projHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: projHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('projects')}\r\n          </h2>\r\n          <div className=\"space-y-3\">\r\n            {viewingResume.sections.projects.map((proj, idx) => (\r\n              <div key={idx}>\r\n                <h3 className=\"font-bold\" style={{ color: theme.colors.text, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.jobTitle || \"16px\" }}>\r\n                  {proj.name}\r\n                </h3>\r\n                <p\r\n                  className=\"leading-relaxed mb-1\"\r\n                  style={{\r\n                    color: projectsFmt.color || theme.colors.text,\r\n                    fontFamily: theme.fonts.body,\r\n                    fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                    textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                    lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                  }}\r\n                >\r\n                  {proj.description}\r\n                </p>\r\n                {proj.technologies && proj.technologies.length > 0 && (\r\n                  <p\r\n                    className=\"italic\"\r\n                    style={{\r\n                      color: theme.colors.muted,\r\n                      fontFamily: theme.fonts.body,\r\n                      fontSize: theme.fonts.sizes?.small || \"12px\",\r\n                      lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                    }}\r\n                  >\r\n                    Technologies: {proj.technologies.join(', ')}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":548,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":548,"endColumn":80,"suggestions":[{"messageId":"addBrackets","fix":{"range":[24267,26134],"text":"{ if (!viewingResume.sections?.awards || viewingResume.sections.awards.length === 0) return null;\r\n      const awardsSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const awardsHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const awardsFmt = sectionFormatting['awards'] || {};\r\n      return (\r\n        <div key=\"awards\" style={{ marginBottom: `${awardsFmt.spacing ?? awardsSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: awardsHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: awardsHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('awards')}\r\n          </h2>\r\n          <div className=\"space-y-2\">\r\n            {viewingResume.sections.awards.map((award, idx) => (\r\n              <div\r\n                key={idx}\r\n                style={{\r\n                  color: awardsFmt.color || theme.colors.text,\r\n                  fontFamily: theme.fonts.body,\r\n                  fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                  textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                  lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                  marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                }}\r\n              >\r\n                {typeof award === 'string' ? award : `${award.name || award.title || ''}${award.date ? ` (${award.date})` : ''}${award.issuer ? ` - ${award.issuer}` : ''}`}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":549,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":549,"endColumn":83,"suggestions":[{"messageId":"addBrackets","fix":{"range":[24267,26134],"text":"{ if (!viewingResume.sections?.awards || viewingResume.sections.awards.length === 0) return null;\r\n      const awardsSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const awardsHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const awardsFmt = sectionFormatting['awards'] || {};\r\n      return (\r\n        <div key=\"awards\" style={{ marginBottom: `${awardsFmt.spacing ?? awardsSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: awardsHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: awardsHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('awards')}\r\n          </h2>\r\n          <div className=\"space-y-2\">\r\n            {viewingResume.sections.awards.map((award, idx) => (\r\n              <div\r\n                key={idx}\r\n                style={{\r\n                  color: awardsFmt.color || theme.colors.text,\r\n                  fontFamily: theme.fonts.body,\r\n                  fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                  textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                  lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                  marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                }}\r\n              >\r\n                {typeof award === 'string' ? award : `${award.name || award.title || ''}${award.date ? ` (${award.date})` : ''}${award.issuer ? ` - ${award.issuer}` : ''}`}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":550,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":550,"endColumn":59,"suggestions":[{"messageId":"addBrackets","fix":{"range":[24267,26134],"text":"{ if (!viewingResume.sections?.awards || viewingResume.sections.awards.length === 0) return null;\r\n      const awardsSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const awardsHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const awardsFmt = sectionFormatting['awards'] || {};\r\n      return (\r\n        <div key=\"awards\" style={{ marginBottom: `${awardsFmt.spacing ?? awardsSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: awardsHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: awardsHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('awards')}\r\n          </h2>\r\n          <div className=\"space-y-2\">\r\n            {viewingResume.sections.awards.map((award, idx) => (\r\n              <div\r\n                key={idx}\r\n                style={{\r\n                  color: awardsFmt.color || theme.colors.text,\r\n                  fontFamily: theme.fonts.body,\r\n                  fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                  textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                  lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                  marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                }}\r\n              >\r\n                {typeof award === 'string' ? award : `${award.name || award.title || ''}${award.date ? ` (${award.date})` : ''}${award.issuer ? ` - ${award.issuer}` : ''}`}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":587,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":587,"endColumn":78,"suggestions":[{"messageId":"addBrackets","fix":{"range":[26172,28090],"text":"{ if (!viewingResume.sections?.certifications || viewingResume.sections.certifications.length === 0) return null;\r\n      const certSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const certHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const certFmt = sectionFormatting['certifications'] || {};\r\n      return (\r\n        <div key=\"certifications\" style={{ marginBottom: `${certFmt.spacing ?? certSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: certHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: certHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('certifications')}\r\n          </h2>\r\n          <div className=\"space-y-2\">\r\n            {viewingResume.sections.certifications.map((cert, idx) => (\r\n              <div\r\n                key={idx}\r\n                style={{\r\n                  color: certFmt.color || theme.colors.text,\r\n                  fontFamily: theme.fonts.body,\r\n                  fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                  textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                  lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                  marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                }}\r\n              >\r\n                {typeof cert === 'string' ? cert : `${cert.name || cert.title || ''}${cert.date ? ` (${cert.date})` : ''}${cert.issuer ? ` - ${cert.issuer || cert.issuingOrganization}` : ''}`}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":588,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":588,"endColumn":81,"suggestions":[{"messageId":"addBrackets","fix":{"range":[26172,28090],"text":"{ if (!viewingResume.sections?.certifications || viewingResume.sections.certifications.length === 0) return null;\r\n      const certSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const certHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const certFmt = sectionFormatting['certifications'] || {};\r\n      return (\r\n        <div key=\"certifications\" style={{ marginBottom: `${certFmt.spacing ?? certSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: certHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: certHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('certifications')}\r\n          </h2>\r\n          <div className=\"space-y-2\">\r\n            {viewingResume.sections.certifications.map((cert, idx) => (\r\n              <div\r\n                key={idx}\r\n                style={{\r\n                  color: certFmt.color || theme.colors.text,\r\n                  fontFamily: theme.fonts.body,\r\n                  fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                  textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                  lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                  marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                }}\r\n              >\r\n                {typeof cert === 'string' ? cert : `${cert.name || cert.title || ''}${cert.date ? ` (${cert.date})` : ''}${cert.issuer ? ` - ${cert.issuer || cert.issuingOrganization}` : ''}`}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":589,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":589,"endColumn":65,"suggestions":[{"messageId":"addBrackets","fix":{"range":[26172,28090],"text":"{ if (!viewingResume.sections?.certifications || viewingResume.sections.certifications.length === 0) return null;\r\n      const certSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const certHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const certFmt = sectionFormatting['certifications'] || {};\r\n      return (\r\n        <div key=\"certifications\" style={{ marginBottom: `${certFmt.spacing ?? certSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: certHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: certHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('certifications')}\r\n          </h2>\r\n          <div className=\"space-y-2\">\r\n            {viewingResume.sections.certifications.map((cert, idx) => (\r\n              <div\r\n                key={idx}\r\n                style={{\r\n                  color: certFmt.color || theme.colors.text,\r\n                  fontFamily: theme.fonts.body,\r\n                  fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                  textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                  lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                  marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                }}\r\n              >\r\n                {typeof cert === 'string' ? cert : `${cert.name || cert.title || ''}${cert.date ? ` (${cert.date})` : ''}${cert.issuer ? ` - ${cert.issuer || cert.issuingOrganization}` : ''}`}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ); }"},"desc":"Add {} brackets around the case block."}]}],"suppressedMessages":[],"errorCount":21,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport RichTextEditor from './RichTextEditor';\r\nimport EditableSkills from './EditableSkills';\r\nimport EditableEducation from './EditableEducation';\r\n\r\n/**\r\n * ResumeSectionsDisplay - Component for rendering different resume sections\r\n * Extracted from ResumeTemplates.jsx lines 2866-3443\r\n */\r\n\r\n// Helper function to format dates\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return '';\r\n  const date = new Date(dateString);\r\n  const month = date.toLocaleString('default', { month: 'short' });\r\n  const year = date.getFullYear();\r\n  return `${month} ${year}`;\r\n};\r\n\r\n/**\r\n * Renders a single resume section based on type\r\n */\r\nexport default function ResumeSectionsDisplay({\r\n  sectionType,\r\n  viewingResume,\r\n  resumeTemplate,\r\n  theme,\r\n  sectionFormatting,\r\n  handleRegenerateSection,\r\n  regeneratingSection,\r\n  handleDeleteSkill,\r\n  isEditMode,\r\n  editedContent,\r\n  setEditedContent,\r\n  setViewingResume\r\n}) {\r\n  const sectionStyles = resumeTemplate?.layout?.sectionStyles || {};\r\n\r\n  // Get section display names from template (preserved from PDF)\r\n  const getSectionName = (type) => {\r\n    return sectionStyles[type]?.displayName ||\r\n      (type === 'summary' ? 'Professional Summary' :\r\n        type === 'experience' ? 'Professional Experience' :\r\n          type === 'skills' ? 'Technical Skills' :\r\n            type === 'education' ? 'Education' :\r\n              type === 'projects' ? 'Projects' :\r\n                type === 'awards' ? 'Awards' :\r\n                  type === 'certifications' ? 'Certifications' :\r\n                    type.charAt(0).toUpperCase() + type.slice(1));\r\n  };\r\n\r\n  switch (sectionType) {\r\n    case 'summary':\r\n      if (!viewingResume.sections?.summary) return null;\r\n      const sectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const headerStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const summaryFmt = sectionFormatting['summary'] || {};\r\n      return (\r\n        <div key=\"summary\" style={{ marginBottom: `${summaryFmt.spacing ?? sectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: headerStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: headerStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('summary')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('summary')}\r\n                disabled={regeneratingSection === 'summary'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'summary' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          {/* UC-053: Rich text editor in edit mode */}\r\n          {isEditMode ? (\r\n            <RichTextEditor\r\n              value={editedContent['summary'] || viewingResume.sections.summary}\r\n              onChange={(content) => {\r\n                setEditedContent(prev => ({ ...prev, summary: content }));\r\n              }}\r\n              placeholder=\"Enter your professional summary...\"\r\n              style={{\r\n                fontFamily: theme.fonts.body,\r\n                fontSize: theme.fonts.sizes?.body || \"14px\"\r\n              }}\r\n            />\r\n          ) : (\r\n            <p\r\n              className=\"leading-relaxed\"\r\n              style={{\r\n                color: summaryFmt.color || theme.colors.text,\r\n                textAlign: resumeTemplate.layout?.textAlignment || 'justify',\r\n                fontFamily: theme.fonts.body,\r\n                fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n              }}\r\n            >\r\n              {viewingResume.sections.summary}\r\n            </p>\r\n          )}\r\n        </div>\r\n      );\r\n\r\n    case 'experience':\r\n      if (!viewingResume.sections?.experience || viewingResume.sections.experience.length === 0) return null;\r\n      const expSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const expHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      return (\r\n        <div key=\"experience\" style={{ marginBottom: `${expSectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: expHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: expHeaderStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('experience')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('experience')}\r\n                disabled={regeneratingSection === 'experience'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'experience' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div className=\"space-y-5\">\r\n            {viewingResume.sections.experience.map((job, idx) => (\r\n              <div key={idx}>\r\n                <div className=\"flex justify-between items-baseline mb-1\">\r\n                  <h3 className=\"font-bold\" style={{ color: theme.colors.text, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.jobTitle || \"16px\" }}>\r\n                    {job.jobTitle}\r\n                  </h3>\r\n                  <span className=\"font-semibold\" style={{ color: theme.colors.muted, fontFamily: theme.fonts.body, fontSize: theme.fonts.sizes?.small || \"12px\" }}>\r\n                    {formatDate(job.startDate)} - {job.isCurrentPosition ? 'Present' : formatDate(job.endDate)}\r\n                  </span>\r\n                </div>\r\n                <p className=\"italic mb-2\" style={{ color: theme.colors.muted, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.body || \"14px\" }}>\r\n                  {job.company}\r\n                </p>\r\n                {job.bullets && job.bullets.length > 0 && (\r\n                  isEditMode ? (\r\n                    /* UC-053: Rich text editor for experience bullets in edit mode */\r\n                    <div className=\"space-y-2\">\r\n                      {job.bullets.map((bullet, bulletIdx) => (\r\n                        <RichTextEditor\r\n                          key={bulletIdx}\r\n                          value={editedContent[`experience_${idx}_${bulletIdx}`] || bullet}\r\n                          onChange={(content) => {\r\n                            setEditedContent(prev => ({ ...prev, [`experience_${idx}_${bulletIdx}`]: content }));\r\n                          }}\r\n                          placeholder={`Bullet point ${bulletIdx + 1}...`}\r\n                          style={{\r\n                            fontFamily: theme.fonts.body,\r\n                            fontSize: theme.fonts.sizes?.body || \"14px\"\r\n                          }}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <ul className=\"space-y-1 ml-5\" style={{ listStyleType: 'disc' }}>\r\n                      {job.bullets.map((bullet, bulletIdx) => (\r\n                        <li\r\n                          key={bulletIdx}\r\n                          className=\"leading-relaxed\"\r\n                          style={{\r\n                            color: theme.colors.text,\r\n                            fontFamily: theme.fonts.body,\r\n                            fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                            marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                          }}\r\n                        >\r\n                          {bullet}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  )\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 'skills':\r\n      if (!viewingResume.sections?.skills || viewingResume.sections.skills.length === 0) return null;\r\n      const skillsSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const skillsHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const skillsFmt = sectionFormatting['skills'] || {};\r\n      return (\r\n        <div key=\"skills\" style={{ marginBottom: `${skillsFmt.spacing ?? skillsSectionSpacing}px` }}>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h2\r\n              className=\"font-bold uppercase tracking-wide\"\r\n              style={{\r\n                color: theme.colors.primary,\r\n                fontFamily: theme.fonts.heading,\r\n                fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n                borderBottom: skillsHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n                paddingBottom: skillsHeaderStyle === 'underline' ? '4px' : '0'\r\n              }}\r\n            >\r\n              {getSectionName('skills')}\r\n            </h2>\r\n            {viewingResume.metadata?.generatedAt && (\r\n              <button\r\n                onClick={() => handleRegenerateSection('skills')}\r\n                disabled={regeneratingSection === 'skills'}\r\n                className=\"print:hidden text-xs px-3 py-1 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition disabled:opacity-50\"\r\n              >\r\n                {regeneratingSection === 'skills' ? 'Γƒ│ Regenerating...' : 'Γƒ│ Regenerate'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          {/* UC-053: Edit mode for skills */}\r\n          {isEditMode ? (\r\n            <EditableSkills\r\n              skills={viewingResume.sections.skills}\r\n              editedContent={editedContent}\r\n              setEditedContent={setEditedContent}\r\n              viewingResume={viewingResume}\r\n              setViewingResume={setViewingResume}\r\n              theme={theme}\r\n            />\r\n          ) : (\r\n            <div className=\"flex flex-wrap gap-2 print:gap-1\">\r\n              {viewingResume.sections.skills.map((skill, idx) => {\r\n                const skillName = typeof skill === 'string' ? skill : skill.name || skill;\r\n                return (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"group inline-flex items-center gap-1 px-2 py-1 print:px-1 print:py-0.5 rounded print:rounded-sm bg-gray-100 print:bg-transparent\"\r\n                    style={{\r\n                      fontFamily: theme.fonts.body,\r\n                      fontSize: theme.fonts.sizes?.body || \"14px\"\r\n                    }}\r\n                  >\r\n                    <span style={{ color: skillsFmt.color || theme.colors.text }}>\r\n                      {skillName}\r\n                    </span>\r\n                    <button\r\n                      onClick={() => handleDeleteSkill(skill)}\r\n                      className=\"print:hidden opacity-0 group-hover:opacity-100 transition-opacity text-red-600 hover:text-red-800 ml-1\"\r\n                      title=\"Remove skill\"\r\n                    >\r\n                      <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n\r\n    case 'education':\r\n      if (!viewingResume.sections?.education || viewingResume.sections.education.length === 0) return null;\r\n      const eduSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const eduHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const educationFmt = sectionFormatting['education'] || {};\r\n      return (\r\n        <div key=\"education\" style={{ marginBottom: `${educationFmt.spacing ?? eduSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: eduHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: eduHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('education')}\r\n          </h2>\r\n          <div className=\"space-y-3\">\r\n            {viewingResume.sections.education.map((edu, idx) => {\r\n              const eduFormat = resumeTemplate.layout?.educationFormat || {\r\n                order: ['degree', 'institution', 'location', 'dates', 'gpa'],\r\n                datesOnRight: true,\r\n                locationAfterInstitution: true,\r\n                gpaSeparateLine: true\r\n              };\r\n\r\n              // UC-053: Edit mode for education\r\n              if (isEditMode) {\r\n                return (\r\n                  <EditableEducation\r\n                    key={idx}\r\n                    education={edu}\r\n                    idx={idx}\r\n                    editedContent={editedContent}\r\n                    setEditedContent={setEditedContent}\r\n                    theme={theme}\r\n                  />\r\n                );\r\n              }\r\n\r\n              // Render fields based on template format\r\n              const renderEducationField = (fieldType) => {\r\n                switch (fieldType) {\r\n                  case 'degree':\r\n                    return (\r\n                      <h3\r\n                        key=\"degree\"\r\n                        className=\"font-bold\"\r\n                        style={{\r\n                          color: theme.colors.text,\r\n                          fontFamily: theme.fonts.heading,\r\n                          fontSize: theme.fonts.sizes?.jobTitle || \"16px\"\r\n                        }}\r\n                      >\r\n                        {edu.degree} in {edu.fieldOfStudy}\r\n                      </h3>\r\n                    );\r\n                  case 'institution':\r\n                    return (\r\n                      <div\r\n                        key=\"institution\"\r\n                        className=\"italic\"\r\n                        style={{\r\n                          color: theme.colors.muted,\r\n                          fontFamily: theme.fonts.heading,\r\n                          fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                          lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                        }}\r\n                      >\r\n                        {edu.institution}\r\n                        {eduFormat.locationAfterInstitution && edu.location && (\r\n                          <span>, {edu.location}</span>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  case 'location':\r\n                    if (!eduFormat.locationAfterInstitution && edu.location) {\r\n                      return (\r\n                        <div\r\n                          key=\"location\"\r\n                          className=\"italic\"\r\n                          style={{\r\n                            color: theme.colors.muted,\r\n                            fontFamily: theme.fonts.heading,\r\n                            fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                          }}\r\n                        >\r\n                          {edu.location}\r\n                        </div>\r\n                      );\r\n                    }\r\n                    return null;\r\n                  case 'dates':\r\n                    const datesText = `${formatDate(edu.startDate)} - ${edu.current ? 'Present' : formatDate(edu.endDate)}`;\r\n                    return (\r\n                      <span\r\n                        key=\"dates\"\r\n                        className=\"font-semibold\"\r\n                        style={{\r\n                          color: theme.colors.muted,\r\n                          fontFamily: theme.fonts.body,\r\n                          fontSize: theme.fonts.sizes?.small || \"12px\"\r\n                        }}\r\n                      >\r\n                        {datesText}\r\n                      </span>\r\n                    );\r\n                  case 'gpa':\r\n                    if (edu.gpa && (!edu.gpaPrivate)) {\r\n                      return (\r\n                        <p\r\n                          key=\"gpa\"\r\n                          className={eduFormat.gpaSeparateLine ? \"mt-1\" : \"\"}\r\n                          style={{\r\n                            color: theme.colors.text,\r\n                            fontFamily: theme.fonts.body,\r\n                            fontSize: theme.fonts.sizes?.small || \"12px\",\r\n                            lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                          }}\r\n                        >\r\n                          GPA: {edu.gpa}\r\n                        </p>\r\n                      );\r\n                    }\r\n                    return null;\r\n                  default:\r\n                    return null;\r\n                }\r\n              };\r\n\r\n              // Determine if dates should be on same line (right-aligned) with degree/institution\r\n              const datesIndex = eduFormat.order.indexOf('dates');\r\n              const degreeIndex = eduFormat.order.indexOf('degree');\r\n              const institutionIndex = eduFormat.order.indexOf('institution');\r\n\r\n              // Find first field (degree or institution)\r\n              let firstFieldType = null;\r\n              let firstFieldIndex = Infinity;\r\n              if (degreeIndex !== -1 && degreeIndex < firstFieldIndex) {\r\n                firstFieldIndex = degreeIndex;\r\n                firstFieldType = 'degree';\r\n              }\r\n              if (institutionIndex !== -1 && institutionIndex < firstFieldIndex) {\r\n                firstFieldIndex = institutionIndex;\r\n                firstFieldType = 'institution';\r\n              }\r\n\r\n              // Dates on right if flag is set AND dates come right after first field\r\n              const hasDatesOnRight = eduFormat.datesOnRight &&\r\n                datesIndex !== -1 &&\r\n                firstFieldIndex !== Infinity &&\r\n                datesIndex === firstFieldIndex + 1;\r\n\r\n              // Render all fields in order\r\n              const renderedFields = [];\r\n              let datesField = null;\r\n\r\n              for (let i = 0; i < eduFormat.order.length; i++) {\r\n                const field = eduFormat.order[i];\r\n\r\n                if (field === 'dates') {\r\n                  if (hasDatesOnRight) {\r\n                    datesField = renderEducationField('dates');\r\n                  } else {\r\n                    // Dates not on right - render normally\r\n                    const rendered = renderEducationField('dates');\r\n                    if (rendered) {\r\n                      renderedFields.push({ type: 'normal', element: rendered });\r\n                    }\r\n                  }\r\n                } else {\r\n                  const rendered = renderEducationField(field);\r\n                  if (rendered) {\r\n                    if (field === firstFieldType) {\r\n                      // First field - may be on same line as dates\r\n                      renderedFields.unshift({ type: 'first', element: rendered });\r\n                    } else {\r\n                      renderedFields.push({ type: 'normal', element: rendered });\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n\r\n              // Separate first field from rest\r\n              const firstField = renderedFields.find(f => f.type === 'first');\r\n              const otherFields = renderedFields.filter(f => f.type !== 'first');\r\n\r\n              return (\r\n                <div key={idx}>\r\n                  {firstField && (\r\n                    <div className={hasDatesOnRight && datesField ? \"flex justify-between items-baseline\" : \"\"}>\r\n                      <div>\r\n                        {firstField.element}\r\n                      </div>\r\n                      {hasDatesOnRight && datesField && (\r\n                        <div>\r\n                          {datesField}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  {otherFields.map((field, fIdx) => (\r\n                    <div key={fIdx}>\r\n                      {field.element}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 'projects':\r\n      if (!viewingResume.sections?.projects || viewingResume.sections.projects.length === 0) return null;\r\n      const projSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const projHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const projectsFmt = sectionFormatting['projects'] || {};\r\n      return (\r\n        <div key=\"projects\" style={{ marginBottom: `${projectsFmt.spacing ?? projSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: projHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: projHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('projects')}\r\n          </h2>\r\n          <div className=\"space-y-3\">\r\n            {viewingResume.sections.projects.map((proj, idx) => (\r\n              <div key={idx}>\r\n                <h3 className=\"font-bold\" style={{ color: theme.colors.text, fontFamily: theme.fonts.heading, fontSize: theme.fonts.sizes?.jobTitle || \"16px\" }}>\r\n                  {proj.name}\r\n                </h3>\r\n                <p\r\n                  className=\"leading-relaxed mb-1\"\r\n                  style={{\r\n                    color: projectsFmt.color || theme.colors.text,\r\n                    fontFamily: theme.fonts.body,\r\n                    fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                    textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                    lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                  }}\r\n                >\r\n                  {proj.description}\r\n                </p>\r\n                {proj.technologies && proj.technologies.length > 0 && (\r\n                  <p\r\n                    className=\"italic\"\r\n                    style={{\r\n                      color: theme.colors.muted,\r\n                      fontFamily: theme.fonts.body,\r\n                      fontSize: theme.fonts.sizes?.small || \"12px\",\r\n                      lineHeight: resumeTemplate.layout?.lineHeight || 1.5\r\n                    }}\r\n                  >\r\n                    Technologies: {proj.technologies.join(', ')}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 'awards':\r\n      if (!viewingResume.sections?.awards || viewingResume.sections.awards.length === 0) return null;\r\n      const awardsSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const awardsHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const awardsFmt = sectionFormatting['awards'] || {};\r\n      return (\r\n        <div key=\"awards\" style={{ marginBottom: `${awardsFmt.spacing ?? awardsSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: awardsHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: awardsHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('awards')}\r\n          </h2>\r\n          <div className=\"space-y-2\">\r\n            {viewingResume.sections.awards.map((award, idx) => (\r\n              <div\r\n                key={idx}\r\n                style={{\r\n                  color: awardsFmt.color || theme.colors.text,\r\n                  fontFamily: theme.fonts.body,\r\n                  fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                  textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                  lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                  marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                }}\r\n              >\r\n                {typeof award === 'string' ? award : `${award.name || award.title || ''}${award.date ? ` (${award.date})` : ''}${award.issuer ? ` - ${award.issuer}` : ''}`}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 'certifications':\r\n      if (!viewingResume.sections?.certifications || viewingResume.sections.certifications.length === 0) return null;\r\n      const certSectionSpacing = resumeTemplate.layout?.sectionSpacing || 24;\r\n      const certHeaderStyle = resumeTemplate.layout?.headerStyle || 'underline';\r\n      const certFmt = sectionFormatting['certifications'] || {};\r\n      return (\r\n        <div key=\"certifications\" style={{ marginBottom: `${certFmt.spacing ?? certSectionSpacing}px` }}>\r\n          <h2\r\n            className=\"font-bold mb-3 uppercase tracking-wide\"\r\n            style={{\r\n              color: theme.colors.primary,\r\n              fontFamily: theme.fonts.heading,\r\n              fontSize: theme.fonts.sizes?.sectionHeader || \"18px\",\r\n              borderBottom: certHeaderStyle === 'underline' ? `2px solid ${theme.colors.primary}` : 'none',\r\n              paddingBottom: certHeaderStyle === 'underline' ? '4px' : '0'\r\n            }}\r\n          >\r\n            {getSectionName('certifications')}\r\n          </h2>\r\n          <div className=\"space-y-2\">\r\n            {viewingResume.sections.certifications.map((cert, idx) => (\r\n              <div\r\n                key={idx}\r\n                style={{\r\n                  color: certFmt.color || theme.colors.text,\r\n                  fontFamily: theme.fonts.body,\r\n                  fontSize: theme.fonts.sizes?.body || \"14px\",\r\n                  textAlign: resumeTemplate.layout?.textAlignment || 'left',\r\n                  lineHeight: resumeTemplate.layout?.lineHeight || 1.5,\r\n                  marginBottom: `${(resumeTemplate.layout?.paragraphSpacing || 8) / 2}px`\r\n                }}\r\n              >\r\n                {typeof cert === 'string' ? cert : `${cert.name || cert.title || ''}${cert.date ? ` (${cert.date})` : ''}${cert.issuer ? ` - ${cert.issuer || cert.issuingOrganization}` : ''}`}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ResumeShareFeedbackPanel.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":31,"column":5,"nodeType":"JSXOpeningElement","endLine":35,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":31,"column":5,"nodeType":"JSXOpeningElement","endLine":35,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":36,"column":7,"nodeType":"JSXOpeningElement","endLine":39,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":36,"column":7,"nodeType":"JSXOpeningElement","endLine":39,"endColumn":8},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":67,"column":19,"nodeType":"JSXOpeningElement","endLine":67,"endColumn":71},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":87,"column":21,"nodeType":"JSXOpeningElement","endLine":87,"endColumn":73},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":98,"column":19,"nodeType":"JSXOpeningElement","endLine":98,"endColumn":71},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":108,"column":19,"nodeType":"JSXOpeningElement","endLine":108,"endColumn":71},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":124,"column":21,"nodeType":"JSXAttribute","endLine":124,"endColumn":91},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":125,"column":21,"nodeType":"JSXAttribute","endLine":125,"endColumn":90}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Card from '../Card';\r\n\r\n/**\r\n * Resume Share & Feedback Panel Component\r\n * Displays share links and feedback management for resume owners\r\n */\r\nexport default function ResumeShareFeedbackPanel({\r\n  showSharePanel,\r\n  setShowSharePanel,\r\n  shareForResume,\r\n  successMessage,\r\n  shareForm,\r\n  setShareForm,\r\n  shareActionLoading,\r\n  handleGenerateShare,\r\n  createdShareUrl,\r\n  isLoadingShares,\r\n  shareLinks,\r\n  loadShares,\r\n  handleRevokeShare,\r\n  isLoadingOwnerFeedback,\r\n  ownerFeedback,\r\n  loadOwnerFeedback,\r\n  handleExportFeedback,\r\n  handleResolveFeedback\r\n}) {\r\n  if (!showSharePanel || !shareForResume) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={() => setShowSharePanel(false)}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-lg shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto border border-gray-200\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10\">\r\n          <h3 className=\"text-2xl font-heading font-semibold\">Share & Feedback ΓÇö {shareForResume.name}</h3>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              onClick={() => setShowSharePanel(false)}\r\n              className=\"text-gray-400 hover:text-gray-600 transition\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {successMessage && (\r\n          <div className=\"mx-6 mt-6 p-4 border rounded-lg\" style={{ backgroundColor: '#F0FDF4', borderColor: '#BBF7D0' }}>\r\n            <p className=\"font-medium\" style={{ color: '#166534' }}>{successMessage}</p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"p-6 grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {/* Create New Share */}\r\n          <Card variant=\"outlined\">\r\n            <div className=\"p-4\">\r\n              <h4 className=\"text-lg font-heading font-semibold mb-3\">Create new share link</h4>\r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <label className=\"text-sm text-gray-700 block mb-1\">Privacy</label>\r\n                  <select\r\n                    className=\"w-full border rounded px-3 py-2\"\r\n                    value={shareForm.privacy}\r\n                    onChange={(e) => setShareForm(prev => ({ ...prev, privacy: e.target.value }))}\r\n                  >\r\n                    <option value=\"unlisted\">Unlisted (anyone with link)</option>\r\n                    <option value=\"private\">Private (allow-listed reviewers only)</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <input id=\"allowComments\" type=\"checkbox\" className=\"h-4 w-4\" checked={shareForm.allowComments} onChange={(e) => setShareForm(prev => ({ ...prev, allowComments: e.target.checked }))} />\r\n                  <label htmlFor=\"allowComments\" className=\"text-sm\">Allow comments</label>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <input id=\"canViewContact\" type=\"checkbox\" className=\"h-4 w-4\" checked={shareForm.canViewContact} onChange={(e) => setShareForm(prev => ({ ...prev, canViewContact: e.target.checked }))} />\r\n                  <label htmlFor=\"canViewContact\" className=\"text-sm\">Show contact info</label>\r\n                </div>\r\n                {shareForm.privacy === 'private' && (\r\n                  <div>\r\n                    <label className=\"text-sm text-gray-700 block mb-1\">Allowed reviewer emails (comma-separated)</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"w-full border rounded px-3 py-2\"\r\n                      placeholder=\"name@example.com, other@example.com\"\r\n                      value={shareForm.allowedReviewersText}\r\n                      onChange={(e) => setShareForm(prev => ({ ...prev, allowedReviewersText: e.target.value }))}\r\n                    />\r\n                  </div>\r\n                )}\r\n                <div>\r\n                  <label className=\"text-sm text-gray-700 block mb-1\">Note (optional)</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"w-full border rounded px-3 py-2\"\r\n                    placeholder=\"e.g., For Design team review\"\r\n                    value={shareForm.note}\r\n                    onChange={(e) => setShareForm(prev => ({ ...prev, note: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-700 block mb-1\">Expiry (days, optional)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    className=\"w-full border rounded px-3 py-2\"\r\n                    placeholder=\"e.g., 7\"\r\n                    value={shareForm.expiresInDays}\r\n                    onChange={(e) => setShareForm(prev => ({ ...prev, expiresInDays: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <button\r\n                    onClick={handleGenerateShare}\r\n                    disabled={shareActionLoading}\r\n                    className=\"px-4 py-2 text-white rounded-lg transition focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50\"\r\n                    style={{ backgroundColor: '#2563EB' }}\r\n                    onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#1D4ED8'}\r\n                    onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#2563EB'}\r\n                  >\r\n                    {shareActionLoading ? 'CreatingΓÇª' : 'Create link'}\r\n                  </button>\r\n                  {createdShareUrl && (\r\n                    <button\r\n                      onClick={() => navigator.clipboard.writeText(createdShareUrl)}\r\n                      className=\"px-3 py-2 border rounded text-sm\"\r\n                      title={createdShareUrl}\r\n                    >Copy URL</button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Existing Share Links */}\r\n          <Card variant=\"outlined\">\r\n            <div className=\"p-4\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h4 className=\"text-lg font-heading font-semibold\">Existing links</h4>\r\n                <button\r\n                  onClick={() => loadShares(shareForResume._id)}\r\n                  className=\"text-sm px-3 py-1 border rounded\"\r\n                >Refresh</button>\r\n              </div>\r\n              {isLoadingShares ? (\r\n                <div className=\"text-sm text-gray-500\">LoadingΓÇª</div>\r\n              ) : (shareLinks && shareLinks.length > 0 ? (\r\n                <div className=\"space-y-2\">\r\n                  {shareLinks.map((s) => (\r\n                    <div key={s.token} className={`p-3 border rounded flex items-center justify-between ${s.status === 'revoked' ? 'opacity-60' : ''}`}>\r\n                      <div className=\"min-w-0\">\r\n                        <p className=\"text-sm font-medium\">{s.privacy === 'private' ? 'Private' : 'Unlisted'} ΓÇó {s.allowComments ? 'Comments on' : 'Comments off'} {s.canViewContact ? 'ΓÇó Contact visible' : ''}</p>\r\n                        <p className=\"text-xs text-gray-600 truncate\">Token: {s.token}</p>\r\n                        {s.expiresAt && (\r\n                          <p className=\"text-xs text-gray-500\">Expires: {new Date(s.expiresAt).toLocaleString()}</p>\r\n                        )}\r\n                        <p className=\"text-xs text-gray-500\">Status: {s.status}</p>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n                        {s.status !== 'revoked' && (\r\n                          <>\r\n                            <button\r\n                              onClick={() => navigator.clipboard.writeText(`${window.location.origin}/share/${s.token}`)}\r\n                              className=\"px-2 py-1 border rounded text-xs\"\r\n                            >Copy URL</button>\r\n                            <button\r\n                              onClick={() => handleRevokeShare(s.token)}\r\n                              className=\"px-2 py-1 border rounded text-xs text-red-600 border-red-300\"\r\n                            >Revoke</button>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-sm text-gray-500\">No share links yet.</p>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Feedback Management */}\r\n          <Card variant=\"outlined\" className=\"lg:col-span-2\">\r\n            <div className=\"p-4\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h4 className=\"text-lg font-heading font-semibold\">Feedback</h4>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button onClick={() => loadOwnerFeedback(shareForResume._id)} className=\"text-sm px-3 py-1 border rounded\">Refresh</button>\r\n                  <button onClick={() => handleExportFeedback('csv')} className=\"text-sm px-3 py-1 border rounded\">Export CSV</button>\r\n                  <button onClick={() => handleExportFeedback('json')} className=\"text-sm px-3 py-1 border rounded\">Export JSON</button>\r\n                </div>\r\n              </div>\r\n              {isLoadingOwnerFeedback ? (\r\n                <div className=\"text-sm text-gray-500\">LoadingΓÇª</div>\r\n              ) : (ownerFeedback && ownerFeedback.length > 0 ? (\r\n                <div className=\"divide-y\">\r\n                  {ownerFeedback.map(fb => (\r\n                    <div key={fb._id} className=\"py-3 flex items-start justify-between gap-4\">\r\n                      <div className=\"min-w-0\">\r\n                        <p className=\"text-sm\"><span className=\"font-medium\">{fb.authorName || fb.authorEmail || 'Anonymous'}</span> ΓÇö <span className=\"text-gray-600 text-xs\">{new Date(fb.createdAt).toLocaleString()}</span></p>\r\n                        <p className=\"text-sm text-gray-800 whitespace-pre-wrap\">{fb.comment}</p>\r\n                        {fb.status === 'resolved' && (\r\n                          <p className=\"text-xs text-green-700 mt-1\">Resolved {fb.resolvedAt ? new Date(fb.resolvedAt).toLocaleString() : ''}{fb.resolutionNote ? ` ΓÇó ${fb.resolutionNote}` : ''}</p>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"flex-shrink-0\">\r\n                        {fb.status !== 'resolved' && (\r\n                          <button onClick={() => handleResolveFeedback(fb)} className=\"px-3 py-1 border rounded text-sm\">Mark Resolved</button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-sm text-gray-500\">No feedback yet.</p>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ResumeTile.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":18,"column":7,"nodeType":"JSXOpeningElement","endLine":22,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":18,"column":7,"nodeType":"JSXOpeningElement","endLine":22,"endColumn":8},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":82,"column":13,"nodeType":"JSXAttribute","endLine":85,"endColumn":15},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":86,"column":13,"nodeType":"JSXAttribute","endLine":89,"endColumn":15},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":118,"column":15,"nodeType":"JSXAttribute","endLine":121,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":122,"column":15,"nodeType":"JSXAttribute","endLine":125,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":138,"column":17,"nodeType":"JSXAttribute","endLine":141,"endColumn":19},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":142,"column":17,"nodeType":"JSXAttribute","endLine":145,"endColumn":19},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":157,"column":15,"nodeType":"JSXAttribute","endLine":160,"endColumn":17},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":161,"column":15,"nodeType":"JSXAttribute","endLine":164,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Card from '../Card';\r\nimport ValidationBadge from './ValidationBadge';\r\n\r\n/**\r\n * ResumeTile - Displays a resume card in the grid view\r\n * Shows resume preview, name, dates, actions (view/rename/delete), badges (archived, validation)\r\n * Part of UC-052 (Resume Versioning) and UC-053 (Validation)\r\n */\r\nfunction ResumeTile({ resume, template, onView, onDelete, onRename, onShare, validationStatus }) {\r\n  const theme = template?.theme || { colors: { primary: \"#4F5348\", text: \"#222\" } };\r\n  const fonts = theme?.fonts || { heading: \"Inter, sans-serif\", body: \"Inter, sans-serif\", sizes: {} };\r\n\r\n\r\n  return (\r\n    <Card variant=\"outlined\" interactive className={`overflow-hidden !p-0 ${resume.isArchived ? 'opacity-60' : ''}`}>\r\n      {/* Preview Area */}\r\n      <div\r\n        className=\"h-64 p-4 flex flex-col justify-start border-b cursor-pointer\"\r\n        style={{ backgroundColor: \"#F9F9F9\" }}\r\n        onClick={onView}\r\n      >\r\n        <div className=\"text-xs font-bold mb-2\" style={{ color: theme.colors?.primary || '#4F5348', fontFamily: fonts.heading }}>\r\n          {resume.name || \"Untitled Resume\"}\r\n        </div>\r\n        <div className=\"flex-1 space-y-2 overflow-hidden\">\r\n          {/* Simple preview of resume sections */}\r\n          {resume.sections?.contactInfo && (\r\n            <div className=\"text-[8px] text-gray-700 font-semibold\" style={{ fontFamily: fonts.heading }}>\r\n              {resume.sections.contactInfo.name || \"Name\"}\r\n            </div>\r\n          )}\r\n          {resume.sections?.summary && (\r\n            <div className=\"text-[7px] text-gray-600 leading-tight line-clamp-2\" style={{ fontFamily: fonts.body }}>\r\n              {resume.sections.summary.substring(0, 100)}...\r\n            </div>\r\n          )}\r\n          {resume.sections?.experience && resume.sections.experience.length > 0 && (\r\n            <div className=\"mt-2\">\r\n              <div className=\"text-[7px] text-gray-700 font-semibold\" style={{ fontFamily: fonts.heading }}>\r\n                {resume.sections.experience[0].company}\r\n              </div>\r\n              <div className=\"text-[6px] text-gray-500 italic\" style={{ fontFamily: fonts.heading }}>\r\n                {resume.sections.experience[0].title}\r\n              </div>\r\n            </div>\r\n          )}\r\n          {resume.sections?.skills && resume.sections.skills.length > 0 && (\r\n            <div className=\"mt-2 text-[6px] text-gray-600\" style={{ fontFamily: fonts.body }}>\r\n              {resume.sections.skills.slice(0, 3).join(' ΓÇó ')}\r\n              {resume.sections.skills.length > 3 && ' ...'}\r\n            </div>\r\n          )}\r\n          {resume.sections?.education && resume.sections.education.length > 0 && (\r\n            <div className=\"mt-2 text-[6px] text-gray-600\" style={{ fontFamily: fonts.body }}>\r\n              {resume.sections.education[0].school} ({resume.sections.education[0].degree})\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {/* Info & Actions */}\r\n      <div className=\"px-2 pt-2 pb-2\">\r\n        <div className=\"flex items-center gap-2 mb-1.5\">\r\n          <p className=\"text-sm font-medium text-gray-900 line-clamp-2 flex-1 min-w-0\" style={{ fontFamily: fonts.heading }}>{resume.name}</p>\r\n          {/* UC-52: Archived badge */}\r\n          {resume.isArchived && (\r\n            <span className=\"px-2 py-0.5 text-xs font-medium bg-gray-200 text-gray-600 rounded\">\r\n              ARCHIVED\r\n            </span>\r\n          )}\r\n          {/* UC-053: Validation badge */}\r\n          {validationStatus && (\r\n            <ValidationBadge\r\n              status={validationStatus}\r\n              size=\"sm\"\r\n            />\r\n          )}\r\n          <button\r\n            onClick={(e) => { e.stopPropagation(); onRename(); }}\r\n            className=\"p-1 rounded-lg transition flex-shrink-0 flex items-center justify-center\"\r\n            style={{ color: '#6B7280' }}\r\n            onMouseOver={(e) => {\r\n              e.currentTarget.style.color = '#777C6D';\r\n              e.currentTarget.style.backgroundColor = '#F5F6F4';\r\n            }}\r\n            onMouseOut={(e) => {\r\n              e.currentTarget.style.color = '#6B7280';\r\n              e.currentTarget.style.backgroundColor = 'transparent';\r\n            }}\r\n            title=\"Rename resume\"\r\n          >\r\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        {/* UC-52: Version description */}\r\n        {resume.metadata?.description && (\r\n          <p className=\"text-xs text-gray-600 mb-1 line-clamp-2 italic\" style={{ fontFamily: fonts.body }}>\r\n            {resume.metadata.description}\r\n          </p>\r\n        )}\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex flex-col\">\r\n            <p className=\"text-xs text-gray-500\">Modified {new Date(resume.updatedAt).toLocaleDateString()}</p>\r\n            {/* UC-52: Job usage badge */}\r\n            {resume.linkedJobCount > 0 && (\r\n              <p className=\"text-[10px] text-blue-600 font-medium\">\r\n                Used in {resume.linkedJobCount} application{resume.linkedJobCount !== 1 ? 's' : ''}\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <button\r\n              onClick={(e) => { e.stopPropagation(); onView(); }}\r\n              className=\"p-1 rounded-lg transition flex-shrink-0 flex items-center justify-center\"\r\n              style={{ color: '#6B7280' }}\r\n              onMouseOver={(e) => {\r\n                e.currentTarget.style.color = '#777C6D';\r\n                e.currentTarget.style.backgroundColor = '#F5F6F4';\r\n              }}\r\n              onMouseOut={(e) => {\r\n                e.currentTarget.style.color = '#6B7280';\r\n                e.currentTarget.style.backgroundColor = 'transparent';\r\n              }}\r\n              title=\"View\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n              </svg>\r\n            </button>\r\n            {onShare && (\r\n              <button\r\n                onClick={(e) => { e.stopPropagation(); onShare(); }}\r\n                className=\"p-1 rounded-lg transition flex-shrink-0 flex items-center justify-center\"\r\n                style={{ color: '#6B7280' }}\r\n                onMouseOver={(e) => {\r\n                  e.currentTarget.style.color = '#2563EB';\r\n                  e.currentTarget.style.backgroundColor = '#EFF6FF';\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  e.currentTarget.style.color = '#6B7280';\r\n                  e.currentTarget.style.backgroundColor = 'transparent';\r\n                }}\r\n                title=\"Share\"\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 9l-5 3 5 3m7-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n              </button>\r\n            )}\r\n            <button\r\n              onClick={(e) => { e.stopPropagation(); onDelete(); }}\r\n              className=\"p-1 rounded-lg transition flex-shrink-0 flex items-center justify-center\"\r\n              style={{ color: '#6B7280' }}\r\n              onMouseOver={(e) => {\r\n                e.currentTarget.style.color = '#B91C1C';\r\n                e.currentTarget.style.backgroundColor = '#FEE2E2';\r\n              }}\r\n              onMouseOut={(e) => {\r\n                e.currentTarget.style.color = '#6B7280';\r\n                e.currentTarget.style.backgroundColor = 'transparent';\r\n              }}\r\n              title=\"Delete\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7h6m2 0H7m4-4h2a2 2 0 012 2v2H9V5a2 2 0 012-2z\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ResumeTile;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\RichTextEditor.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\SaveAsModal.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'format' is defined but never used.","line":14,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":9,"suggestions":[{"messageId":"removeVar","data":{"varName":"format"},"fix":{"range":[271,282],"text":""},"desc":"Remove unused variable 'format'."}]},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":37,"column":5,"nodeType":"JSXOpeningElement","endLine":41,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":37,"column":5,"nodeType":"JSXOpeningElement","endLine":41,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":42,"column":7,"nodeType":"JSXOpeningElement","endLine":45,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":42,"column":7,"nodeType":"JSXOpeningElement","endLine":45,"endColumn":8},{"ruleId":"jsx-a11y/no-autofocus","severity":1,"message":"The autoFocus prop should not be used, as it can reduce usability and accessibility for users.","line":76,"column":13,"nodeType":"JSXAttribute","endLine":76,"endColumn":22},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":96,"column":13,"nodeType":"JSXAttribute","endLine":96,"endColumn":83},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":97,"column":13,"nodeType":"JSXAttribute","endLine":97,"endColumn":82}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * SaveAsModal - Modal for entering filename before exporting\r\n * Extracted from ResumeTemplates.jsx for better code organization\r\n */\r\nconst SaveAsModal = ({\r\n  isOpen,\r\n  onClose,\r\n  onSave,\r\n  filename,\r\n  setFilename,\r\n  isExporting,\r\n  format\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  const handleSave = () => {\r\n    if (!isExporting && filename.trim()) {\r\n      onSave(filename.trim());\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !isExporting && filename.trim()) {\r\n      handleSave();\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    if (!isExporting) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-60\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={handleClose}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 border border-gray-200\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"bg-gray-50 border-b px-6 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <h3 className=\"text-lg font-heading font-semibold text-gray-900\">Download Resume</h3>\r\n            </div>\r\n            <button\r\n              onClick={handleClose}\r\n              className=\"text-gray-400 hover:text-gray-600 transition\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          <label htmlFor=\"saveAsInput\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Filename\r\n          </label>\r\n          <input\r\n            id=\"saveAsInput\"\r\n            type=\"text\"\r\n            value={filename}\r\n            onChange={(e) => setFilename(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            disabled={isExporting}\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100\"\r\n            placeholder=\"Enter filename\"\r\n            autoFocus\r\n          />\r\n          <p className=\"text-xs text-gray-500 mt-2\">\r\n            Enter a filename for the exported file. The appropriate extension will be kept if included.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t\">\r\n          <button\r\n            onClick={handleClose}\r\n            disabled={isExporting}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition disabled:opacity-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={isExporting || !filename.trim()}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50\"\r\n            style={{ backgroundColor: '#777C6D' }}\r\n            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n          >\r\n            {isExporting ? 'Exporting...' : 'Download'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SaveAsModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\SavePresetModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":17,"column":5,"nodeType":"JSXOpeningElement","endLine":21,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":17,"column":5,"nodeType":"JSXOpeningElement","endLine":21,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":22,"column":7,"nodeType":"JSXOpeningElement","endLine":25,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":22,"column":7,"nodeType":"JSXOpeningElement","endLine":25,"endColumn":8},{"ruleId":"jsx-a11y/no-autofocus","severity":1,"message":"The autoFocus prop should not be used, as it can reduce usability and accessibility for users.","line":55,"column":13,"nodeType":"JSXAttribute","endLine":55,"endColumn":22},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":72,"column":13,"nodeType":"JSXAttribute","endLine":72,"endColumn":111},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":73,"column":13,"nodeType":"JSXAttribute","endLine":73,"endColumn":110}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Save Preset Modal Component\r\n * Modal for saving custom section arrangement presets\r\n */\r\nconst SavePresetModal = ({ \r\n  showModal, \r\n  onClose, \r\n  presetName, \r\n  setPresetName, \r\n  onSave \r\n}) => {\r\n  if (!showModal) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\" \r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div \r\n        className=\"bg-white rounded-lg shadow-2xl max-w-md w-full border border-gray-200\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Modal Header */}\r\n        <div className=\"bg-blue-50 border-b border-blue-100 px-6 py-4\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"flex-shrink-0\">\r\n              <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-lg font-heading font-semibold text-gray-900\">Save Section Arrangement</h3>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Modal Content */}\r\n        <div className=\"p-6\">\r\n          <label htmlFor=\"presetName\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Preset Name\r\n          </label>\r\n          <input\r\n            id=\"presetName\"\r\n            type=\"text\"\r\n            value={presetName}\r\n            onChange={(e) => setPresetName(e.target.value)}\r\n            onKeyPress={(e) => {\r\n              if (e.key === 'Enter' && presetName.trim()) {\r\n                onSave();\r\n              }\r\n            }}\r\n            placeholder=\"e.g., My Custom Layout\"\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            autoFocus\r\n          />\r\n        </div>\r\n\r\n        {/* Modal Actions */}\r\n        <div className=\"bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={onSave}\r\n            disabled={!presetName.trim()}\r\n            className=\"px-4 py-2 text-white rounded-lg transition disabled:opacity-50\"\r\n            style={{ backgroundColor: '#777C6D' }}\r\n            onMouseOver={(e) => !presetName.trim() ? null : e.currentTarget.style.backgroundColor = '#656A5C'}\r\n            onMouseOut={(e) => !presetName.trim() ? null : e.currentTarget.style.backgroundColor = '#777C6D'}\r\n          >\r\n            Save Preset\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SavePresetModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\SectionFormattingModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":19,"column":5,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":19,"column":5,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":24,"column":7,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":24,"column":7,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":8},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":57,"column":13,"nodeType":"JSXOpeningElement","endLine":57,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":69,"column":13,"nodeType":"JSXOpeningElement","endLine":69,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":81,"column":13,"nodeType":"JSXOpeningElement","endLine":81,"endColumn":77},{"ruleId":"jsx-a11y/label-has-associated-control","severity":2,"message":"A form label must be associated with a control.","line":99,"column":13,"nodeType":"JSXOpeningElement","endLine":99,"endColumn":77},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":138,"column":13,"nodeType":"JSXAttribute","endLine":138,"endColumn":83},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":139,"column":13,"nodeType":"JSXAttribute","endLine":139,"endColumn":82}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Section Formatting Modal Component\r\n * Modal for customizing section formatting (font size, weight, color, spacing)\r\n */\r\nconst SectionFormattingModal = ({ \r\n  showModal, \r\n  onClose, \r\n  formattingSection,\r\n  sectionFormatting,\r\n  updateSectionFormatting,\r\n  setSectionFormatting,\r\n  DEFAULT_SECTIONS\r\n}) => {\r\n  if (!showModal || !formattingSection) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\" \r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div \r\n        className=\"bg-white rounded-lg shadow-2xl max-w-lg w-full border border-gray-200\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Modal Header */}\r\n        <div className=\"bg-gray-50 border-b border-gray-200 px-6 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"flex-shrink-0\">\r\n                <svg className=\"w-6 h-6 text-[#777C6D]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01\" />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"text-lg font-heading font-semibold text-gray-900\">\r\n                Format: {DEFAULT_SECTIONS.find(s => s.key === formattingSection)?.label}\r\n              </h3>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              aria-label=\"Close\"\r\n              onClick={onClose}\r\n              className=\"p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-[#777C6D] focus:ring-offset-1\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Modal Content */}\r\n        <div className=\"p-6 space-y-5\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Font Size</label>\r\n            <select\r\n              value={sectionFormatting[formattingSection]?.fontSize || 'medium'}\r\n              onChange={(e) => updateSectionFormatting(formattingSection, { fontSize: e.target.value })}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n            >\r\n              <option value=\"small\">Small</option>\r\n              <option value=\"medium\">Medium (Default)</option>\r\n              <option value=\"large\">Large</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Font Weight</label>\r\n            <select\r\n              value={sectionFormatting[formattingSection]?.fontWeight || 'normal'}\r\n              onChange={(e) => updateSectionFormatting(formattingSection, { fontWeight: e.target.value })}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent\"\r\n            >\r\n              <option value=\"light\">Light</option>\r\n              <option value=\"normal\">Normal (Default)</option>\r\n              <option value=\"bold\">Bold</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Text Color</label>\r\n            <div className=\"flex items-center gap-3\">\r\n              <input\r\n                type=\"color\"\r\n                value={sectionFormatting[formattingSection]?.color || '#000000'}\r\n                onChange={(e) => updateSectionFormatting(formattingSection, { color: e.target.value })}\r\n                className=\"h-10 w-20 border border-gray-300 rounded cursor-pointer\"\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                value={sectionFormatting[formattingSection]?.color || '#000000'}\r\n                onChange={(e) => updateSectionFormatting(formattingSection, { color: e.target.value })}\r\n                className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent font-mono text-sm\"\r\n                placeholder=\"#000000\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bottom Spacing (px)</label>\r\n            <div className=\"flex items-center gap-3\">\r\n              <input\r\n                type=\"range\"\r\n                value={sectionFormatting[formattingSection]?.spacing || 24}\r\n                onChange={(e) => updateSectionFormatting(formattingSection, { spacing: e.target.value })}\r\n                className=\"flex-1\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={sectionFormatting[formattingSection]?.spacing || 24}\r\n                onChange={(e) => updateSectionFormatting(formattingSection, { spacing: e.target.value })}\r\n                className=\"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#777C6D] focus:border-transparent text-sm\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Modal Actions */}\r\n        <div className=\"bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t\">\r\n          <button\r\n            onClick={() => {\r\n              const newFormatting = { ...sectionFormatting };\r\n              delete newFormatting[formattingSection];\r\n              setSectionFormatting(newFormatting);\r\n              onClose();\r\n            }}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\"\r\n          >\r\n            Reset to Default\r\n          </button>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 text-white rounded-lg transition\"\r\n            style={{ backgroundColor: '#777C6D' }}\r\n            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n          >\r\n            Apply\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SectionFormattingModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\SectionToggleItem.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\SharedWithMeSection.jsx","messages":[{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":133,"column":23,"nodeType":"JSXAttribute","endLine":133,"endColumn":93},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":134,"column":23,"nodeType":"JSXAttribute","endLine":134,"endColumn":92}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Card from '../Card';\r\n\r\n/**\r\n * Shared With Me Section Component (UC-110)\r\n * Displays documents that others have shared for review and feedback\r\n */\r\nexport default function SharedWithMeSection({\r\n  reviewInvitations,\r\n  isLoadingReviewInvitations,\r\n  loadReviewInvitations\r\n}) {\r\n  if (!reviewInvitations || reviewInvitations.length === 0) return null;\r\n\r\n  return (\r\n    <div className=\"mb-12\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <h2 className=\"text-2xl font-heading font-bold\" style={{ color: \"#4F5348\" }}>\r\n            Shared with Me\r\n          </h2>\r\n          <span className=\"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full\">\r\n            {reviewInvitations.length} pending review{reviewInvitations.length !== 1 ? 's' : ''}\r\n          </span>\r\n        </div>\r\n        <button\r\n          onClick={loadReviewInvitations}\r\n          disabled={isLoadingReviewInvitations}\r\n          className=\"px-3 py-1.5 text-sm border rounded-lg transition hover:bg-gray-50\"\r\n          style={{ borderColor: '#D1D5DB' }}\r\n        >\r\n          {isLoadingReviewInvitations ? 'Refreshing...' : 'Refresh'}\r\n        </button>\r\n      </div>\r\n\r\n      <p className=\"text-sm text-gray-600 mb-4\">\r\n        Documents that others have shared with you for review and feedback.\r\n      </p>\r\n\r\n      {isLoadingReviewInvitations ? (\r\n        <div className=\"text-center py-8 text-gray-500\">Loading invitations...</div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {reviewInvitations.map((invitation) => {\r\n            const isResume = invitation.type === 'resume';\r\n            const deadlineDate = invitation.deadline ? new Date(invitation.deadline) : null;\r\n            const isOverdue = deadlineDate && deadlineDate < new Date();\r\n            const daysLeft = deadlineDate ? Math.ceil((deadlineDate - new Date()) / (1000 * 60 * 60 * 24)) : null;\r\n\r\n            return (\r\n              <Card\r\n                key={`${invitation.type}-${invitation.token}`}\r\n                variant=\"outlined\"\r\n                className=\"overflow-hidden hover:shadow-md transition-shadow flex flex-col h-full\"\r\n              >\r\n                <div className=\"p-4 flex flex-col flex-1\">\r\n                  {/* Header */}\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className={`w-8 h-8 rounded-lg flex items-center justify-center ${isResume ? 'bg-blue-100' : 'bg-purple-100'\r\n                        }`}>\r\n                        {isResume ? (\r\n                          <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                          </svg>\r\n                        ) : (\r\n                          <svg className=\"w-4 h-4 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                          </svg>\r\n                        )}\r\n                      </div>\r\n                      <span className={`text-xs px-2 py-0.5 rounded-full ${isResume ? 'bg-blue-100 text-blue-700' : 'bg-purple-100 text-purple-700'\r\n                        }`}>\r\n                        {isResume ? 'Resume' : 'Cover Letter'}\r\n                      </span>\r\n                    </div>\r\n                    {invitation.approvalStatus && (\r\n                      <span className={`text-xs px-2 py-0.5 rounded-full ${invitation.approvalStatus === 'approved' ? 'bg-green-100 text-green-700' :\r\n                        invitation.approvalStatus === 'changes_requested' ? 'bg-orange-100 text-orange-700' :\r\n                          invitation.approvalStatus === 'pending_review' ? 'bg-yellow-100 text-yellow-700' :\r\n                            'bg-gray-100 text-gray-600'\r\n                        }`}>\r\n                        {invitation.approvalStatus.replace('_', ' ')}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Document Name */}\r\n                  <h3 className=\"font-semibold text-gray-900 mb-1 line-clamp-1\">\r\n                    {invitation.documentName}\r\n                  </h3>\r\n\r\n                  {/* Owner */}\r\n                  <p className=\"text-sm text-gray-600 mb-2\">\r\n                    From: <span className=\"font-medium\">{invitation.ownerName}</span>\r\n                  </p>\r\n\r\n                  {/* Note */}\r\n                  {invitation.note && (\r\n                    <p className=\"text-sm text-gray-500 mb-2 line-clamp-2 italic\">\r\n                      \"{invitation.note}\"\r\n                    </p>\r\n                  )}\r\n\r\n                  {/* Deadline */}\r\n                  {deadlineDate && (\r\n                    <div className={`text-xs px-2 py-1 rounded mb-3 inline-block ${isOverdue\r\n                      ? 'bg-red-100 text-red-700'\r\n                      : daysLeft <= 2\r\n                        ? 'bg-orange-100 text-orange-700'\r\n                        : 'bg-blue-50 text-blue-700'\r\n                      }`}>\r\n                      {isOverdue ? (\r\n                        <>ΓÜá∩╕Å Overdue: {deadlineDate.toLocaleDateString()}</>\r\n                      ) : (\r\n                        <>≡ƒôà Due: {deadlineDate.toLocaleDateString()} ({daysLeft} day{daysLeft !== 1 ? 's' : ''} left)</>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Spacer to push actions to bottom */}\r\n                  <div className=\"flex-1\" />\r\n\r\n                  {/* Actions - Always at bottom */}\r\n                  <div className=\"flex gap-2 mt-3\">\r\n                    <a\r\n                      href={isResume\r\n                        ? `/share/${invitation.token}`\r\n                        : `/share/cover-letter/${invitation.token}`\r\n                      }\r\n                      className=\"flex-1 px-3 py-2 text-sm text-center text-white rounded-lg transition\"\r\n                      style={{ backgroundColor: '#777C6D' }}\r\n                      onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#656A5C'}\r\n                      onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#777C6D'}\r\n                    >\r\n                      Review & Comment\r\n                    </a>\r\n                  </div>\r\n\r\n                  {/* Shared date */}\r\n                  <p className=\"text-xs text-gray-400 mt-2 text-center\">\r\n                    Shared {new Date(invitation.createdAt).toLocaleDateString()}\r\n                  </p>\r\n                </div>\r\n              </Card>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\SkillsOptimizationModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":24,"column":9,"nodeType":"JSXOpeningElement","endLine":28,"endColumn":10},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":24,"column":9,"nodeType":"JSXOpeningElement","endLine":28,"endColumn":10},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":29,"column":13,"nodeType":"JSXOpeningElement","endLine":32,"endColumn":14},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":29,"column":13,"nodeType":"JSXOpeningElement","endLine":32,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * Skills Optimization Modal Component\r\n * Displays AI-powered skills recommendations and allows users to select skills to add to their resume\r\n */\r\nexport default function SkillsOptimizationModal({\r\n    showSkillsOptimization,\r\n    setShowSkillsOptimization,\r\n    skillsOptimizationData,\r\n    showSkillsSuccessBanner,\r\n    currentResumeSkills,\r\n    handleRemoveSkill,\r\n    selectedSkillsToAdd,\r\n    toggleSkillSelection,\r\n    setSelectedSkillsToAdd,\r\n    isApplyingSkills,\r\n    handleApplySkillChanges,\r\n    viewingResume\r\n}) {\r\n    if (!showSkillsOptimization || !skillsOptimizationData) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.5)' }}\r\n            onClick={() => setShowSkillsOptimization(false)}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                {/* Modal Header */}\r\n                <div className=\"bg-[#777C6D] px-6 py-4 sticky top-0 z-10\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                            <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                            </svg>\r\n                            <h3 className=\"text-xl font-heading font-bold text-white\">AI Skills Optimization</h3>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setShowSkillsOptimization(false)}\r\n                            className=\"text-white hover:text-gray-200 transition\"\r\n                        >\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Success Banner */}\r\n                {showSkillsSuccessBanner && (\r\n                    <div className=\"bg-green-50 border-l-4 border-green-500 px-6 py-4 mx-6 mt-4 rounded-r-lg animate-fade-in\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <svg className=\"w-6 h-6 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                            </svg>\r\n                            <div>\r\n                                <p className=\"font-semibold text-green-900\">Skills Updated Successfully!</p>\r\n                                <p className=\"text-sm text-green-700\">Your resume has been updated with the selected skills. Returning to resume view...</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Modal Content */}\r\n                <div className=\"p-6 space-y-6\">\r\n                    {/* Match Score */}\r\n                    <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <h4 className=\"text-lg font-semibold text-gray-900 mb-1\">Skills Match Score</h4>\r\n                                <p className=\"text-sm text-gray-600\">{skillsOptimizationData.optimization?.summary || 'Your skills alignment with this job'}</p>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <div className=\"text-4xl font-bold text-[#4F5348]\">\r\n                                    {skillsOptimizationData.optimization?.matchScore || 0}%\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-600 mt-1\">Match Rate</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Current Resume Skills */}\r\n                    <div className=\"bg-white rounded-lg border-2 border-gray-300 p-5\">\r\n                        <div className=\"flex items-center justify-between mb-3\">\r\n                            <h4 className=\"text-md font-semibold text-gray-900 flex items-center gap-2\">\r\n                                <svg className=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                                </svg>\r\n                                Current Skills in Resume\r\n                            </h4>\r\n                            <span className=\"text-sm text-gray-500\">{currentResumeSkills.length} skills</span>\r\n                        </div>\r\n                        {currentResumeSkills.length > 0 ? (\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                                {currentResumeSkills.map((skill, idx) => (\r\n                                    <div\r\n                                        key={idx}\r\n                                        className=\"group px-3 py-1.5 bg-gray-100 text-gray-800 rounded-full text-sm border border-gray-300 flex items-center gap-2\"\r\n                                    >\r\n                                        <span>{skill}</span>\r\n                                        <button\r\n                                            onClick={() => handleRemoveSkill(skill)}\r\n                                            className=\"opacity-0 group-hover:opacity-100 transition-opacity text-red-600 hover:text-red-800\"\r\n                                            title=\"Remove skill\"\r\n                                        >\r\n                                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                                            </svg>\r\n                                        </button>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ) : (\r\n                            <p className=\"text-sm text-gray-500 italic\">No skills in resume yet. Add skills from recommendations below.</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Technical Skills */}\r\n                    {skillsOptimizationData.optimization?.technicalSkills?.length > 0 && (\r\n                        <div className=\"bg-white rounded-lg border border-gray-200 p-5\">\r\n                            <h4 className=\"text-md font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                                <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\">Technical</span>\r\n                                Recommended Technical Skills\r\n                            </h4>\r\n                            <p className=\"text-xs text-gray-600 mb-3\">Click to select skills to add to your resume</p>\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                                {skillsOptimizationData.optimization.technicalSkills.map((skill, idx) => {\r\n                                    const isInResume = currentResumeSkills.includes(skill);\r\n                                    const isSelected = selectedSkillsToAdd.includes(skill);\r\n\r\n                                    return (\r\n                                        <button\r\n                                            key={idx}\r\n                                            onClick={() => !isInResume && toggleSkillSelection(skill)}\r\n                                            disabled={isInResume}\r\n                                            className={`px-3 py-1.5 rounded-full text-sm border transition-all flex items-center gap-2 ${isInResume\r\n                                                ? 'bg-gray-200 text-gray-500 border-gray-300 cursor-not-allowed'\r\n                                                : isSelected\r\n                                                    ? 'bg-blue-600 text-white border-blue-600 shadow-md'\r\n                                                    : 'bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100 cursor-pointer'\r\n                                                }`}\r\n                                        >\r\n                                            {isSelected && (\r\n                                                <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                                                </svg>\r\n                                            )}\r\n                                            <span>{skill}</span>\r\n                                            {isInResume && <span className=\"text-xs\">Γ£ô In Resume</span>}\r\n                                        </button>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Soft Skills */}\r\n                    {skillsOptimizationData.optimization?.softSkills?.length > 0 && (\r\n                        <div className=\"bg-white rounded-lg border border-gray-200 p-5\">\r\n                            <h4 className=\"text-md font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                                <span className=\"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs\">Soft Skills</span>\r\n                                Recommended Soft Skills\r\n                            </h4>\r\n                            <p className=\"text-xs text-gray-600 mb-3\">Click to select skills to add to your resume</p>\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                                {skillsOptimizationData.optimization.softSkills.map((skill, idx) => {\r\n                                    const isInResume = currentResumeSkills.includes(skill);\r\n                                    const isSelected = selectedSkillsToAdd.includes(skill);\r\n\r\n                                    return (\r\n                                        <button\r\n                                            key={idx}\r\n                                            onClick={() => !isInResume && toggleSkillSelection(skill)}\r\n                                            disabled={isInResume}\r\n                                            className={`px-3 py-1.5 rounded-full text-sm border transition-all flex items-center gap-2 ${isInResume\r\n                                                ? 'bg-gray-200 text-gray-500 border-gray-300 cursor-not-allowed'\r\n                                                : isSelected\r\n                                                    ? 'bg-purple-600 text-white border-purple-600 shadow-md'\r\n                                                    : 'bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100 cursor-pointer'\r\n                                                }`}\r\n                                        >\r\n                                            {isSelected && (\r\n                                                <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                                                </svg>\r\n                                            )}\r\n                                            <span>{skill}</span>\r\n                                            {isInResume && <span className=\"text-xs\">Γ£ô In Resume</span>}\r\n                                        </button>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Missing Skills */}\r\n                    {skillsOptimizationData.optimization?.missingSkills?.length > 0 && (\r\n                        <div className=\"bg-yellow-50 rounded-lg border border-yellow-200 p-5\">\r\n                            <h4 className=\"text-md font-semibold text-gray-900 mb-2 flex items-center gap-2\">\r\n                                <svg className=\"w-5 h-5 text-yellow-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                    <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                                </svg>\r\n                                Skill Gaps Detected\r\n                            </h4>\r\n                            <p className=\"text-sm text-gray-700 mb-3\">\r\n                                These skills are mentioned in the job posting but missing from your resume:\r\n                            </p>\r\n                            <div className=\"space-y-2\">\r\n                                {skillsOptimizationData.optimization.missingSkills.map((skill, idx) => {\r\n                                    // Handle both string and object formats\r\n                                    const skillName = typeof skill === 'string' ? skill : skill.name;\r\n                                    const importance = skill.importance || null;\r\n                                    const suggestion = skill.suggestion || null;\r\n\r\n                                    return (\r\n                                        <div\r\n                                            key={idx}\r\n                                            className=\"bg-white rounded-lg p-3 border border-yellow-300\"\r\n                                        >\r\n                                            <div className=\"flex items-start gap-2\">\r\n                                                <span className=\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs font-medium uppercase\">\r\n                                                    {importance || 'Important'}\r\n                                                </span>\r\n                                                <div className=\"flex-1\">\r\n                                                    <div className=\"font-semibold text-gray-900\">{skillName}</div>\r\n                                                    {suggestion && (\r\n                                                        <p className=\"text-sm text-gray-600 mt-1\">{suggestion}</p>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Skills to Emphasize */}\r\n                    {skillsOptimizationData.optimization?.skillsToEmphasize?.length > 0 && (\r\n                        <div className=\"bg-green-50 rounded-lg border border-green-200 p-5\">\r\n                            <h4 className=\"text-md font-semibold text-gray-900 mb-2 flex items-center gap-2\">\r\n                                <svg className=\"w-5 h-5 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                                </svg>\r\n                                Skills to Emphasize\r\n                            </h4>\r\n                            <p className=\"text-sm text-gray-700 mb-3\">\r\n                                You already have these skills - make sure they're prominent in your resume:\r\n                            </p>\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                                {skillsOptimizationData.optimization.skillsToEmphasize.map((skill, idx) => (\r\n                                    <span\r\n                                        key={idx}\r\n                                        className=\"px-3 py-1.5 bg-white text-green-800 rounded-full text-sm border border-green-300 font-medium\"\r\n                                    >\r\n                                        {skill}\r\n                                    </span>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Industry Recommendations */}\r\n                    {skillsOptimizationData.optimization?.industryRecommendations?.length > 0 && (\r\n                        <div className=\"bg-gray-50 rounded-lg border border-gray-200 p-5\">\r\n                            <h4 className=\"text-md font-semibold text-gray-900 mb-2 flex items-center gap-2\">\r\n                                <svg className=\"w-5 h-5 text-gray-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                    <path d=\"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z\" />\r\n                                </svg>\r\n                                Industry-Specific Recommendations\r\n                            </h4>\r\n                            <div className=\"space-y-2\">\r\n                                {skillsOptimizationData.optimization.industryRecommendations.map((rec, idx) => {\r\n                                    // Handle both string and object formats\r\n                                    const skillName = typeof rec === 'string' ? rec : (rec.skill || rec.name);\r\n                                    const reason = rec.reason || null;\r\n\r\n                                    return (\r\n                                        <div key={idx} className=\"bg-white rounded-lg p-3 border border-gray-200\">\r\n                                            <div className=\"flex items-start gap-2\">\r\n                                                <span className=\"text-blue-500 mt-1 text-lg\">≡ƒÆí</span>\r\n                                                <div className=\"flex-1\">\r\n                                                    <div className=\"font-medium text-gray-900\">{skillName}</div>\r\n                                                    {reason && (\r\n                                                        <p className=\"text-sm text-gray-600 mt-1\">{reason}</p>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Modal Actions */}\r\n                <div className=\"bg-gray-50 px-6 py-4 border-t sticky bottom-0\">\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"text-sm\">\r\n                                <span className=\"font-medium text-gray-900\">{selectedSkillsToAdd.length}</span>\r\n                                <span className=\"text-gray-600\"> skills selected</span>\r\n                            </div>\r\n                            {selectedSkillsToAdd.length > 0 && (\r\n                                <button\r\n                                    onClick={() => setSelectedSkillsToAdd([])}\r\n                                    className=\"text-xs text-blue-600 hover:text-blue-800 underline\"\r\n                                >\r\n                                    Clear selection\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"flex gap-3\">\r\n                            <button\r\n                                onClick={() => setShowSkillsOptimization(false)}\r\n                                disabled={isApplyingSkills}\r\n                                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition disabled:opacity-50\"\r\n                            >\r\n                                Close\r\n                            </button>\r\n                            <button\r\n                                onClick={handleApplySkillChanges}\r\n                                disabled={isApplyingSkills || (selectedSkillsToAdd.length === 0 && currentResumeSkills.length === (viewingResume?.sections?.skills?.length || 0))}\r\n                                className=\"px-6 py-2 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n                            >\r\n                                {isApplyingSkills ? (\r\n                                    <>\r\n                                        <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                        </svg>\r\n                                        <span>Applying...</span>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                                        </svg>\r\n                                        <span>Apply Changes to Resume</span>\r\n                                    </>\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                        ≡ƒÆí Click skills to select, then click \"Apply Changes\" to update your resume\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\TemplatePreviewCard.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":27,"column":7,"nodeType":"JSXOpeningElement","endLine":30,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":27,"column":7,"nodeType":"JSXOpeningElement","endLine":30,"endColumn":8},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOver must be accompanied by onFocus for accessibility.","line":88,"column":11,"nodeType":"JSXAttribute","endLine":91,"endColumn":13},{"ruleId":"jsx-a11y/mouse-events-have-key-events","severity":1,"message":"onMouseOut must be accompanied by onBlur for accessibility.","line":92,"column":11,"nodeType":"JSXAttribute","endLine":95,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport Card from '../Card';\r\n\r\n/**\r\n * TemplatePreviewCard - Template card for template management modal\r\n * Shows template name, type, default badge, mini preview, and actions (set default, customize, delete)\r\n * Part of UC-051 (Template Management)\r\n */\r\nfunction TemplatePreviewCard({ template, isDefault, onSetDefault, onCustomize, onDelete, onPreview }) {\r\n  const theme = template.theme || { colors: { primary: \"#4F5348\", text: \"#222\" } };\r\n  \r\n  return (\r\n    <Card variant=\"outlined\" className={isDefault ? 'ring-2 ring-green-500' : ''}>\r\n      <div className=\"flex items-start justify-between mb-3\">\r\n        <div>\r\n          <div className=\"font-semibold\">{template.name}</div>\r\n          <div className=\"text-xs text-gray-500 capitalize\">{template.type}</div>\r\n        </div>\r\n        {isDefault && (\r\n          <span className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border\" style={{ backgroundColor: '#DCFCE7', color: '#166534', borderColor: '#BBF7D0' }}>\r\n            Default\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Mini preview - Document style */}\r\n      <div \r\n        className=\"border rounded-lg p-4 mb-3 h-40 overflow-hidden cursor-pointer hover:border-blue-400 transition bg-white shadow-sm\"\r\n        onClick={onPreview}\r\n      >\r\n        {/* Sample resume header */}\r\n        <div className=\"text-center mb-2 pb-1 border-b\" style={{ borderColor: theme.colors?.primary }}>\r\n          <div className=\"text-xs font-bold\" style={{ color: theme.colors?.primary || '#4F5348', fontFamily: 'Georgia, serif' }}>\r\n            John Doe\r\n          </div>\r\n          <div className=\"text-[8px] text-gray-500\">john.doe@email.com ΓÇó (555) 123-4567</div>\r\n        </div>\r\n        \r\n        {/* Sample section */}\r\n        <div className=\"mb-2\">\r\n          <div className=\"text-[9px] font-bold mb-1 uppercase\" style={{ color: theme.colors?.primary || '#4F5348' }}>\r\n            Experience\r\n          </div>\r\n          <div className=\"text-[7px] font-semibold text-gray-800\">Senior Developer</div>\r\n          <div className=\"text-[6px] text-gray-500 italic mb-1\">Tech Company Inc.</div>\r\n          <div className=\"space-y-0.5\">\r\n            <div className=\"flex items-start gap-1\">\r\n              <div className=\"w-1 h-1 rounded-full bg-gray-400 mt-0.5 flex-shrink-0\"></div>\r\n              <div className=\"text-[6px] text-gray-700 leading-tight\">Led development of key features</div>\r\n            </div>\r\n            <div className=\"flex items-start gap-1\">\r\n              <div className=\"w-1 h-1 rounded-full bg-gray-400 mt-0.5 flex-shrink-0\"></div>\r\n              <div className=\"text-[6px] text-gray-700 leading-tight\">Improved system performance</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sample skills */}\r\n        <div>\r\n          <div className=\"text-[9px] font-bold mb-1 uppercase\" style={{ color: theme.colors?.primary || '#4F5348' }}>\r\n            Skills\r\n          </div>\r\n          <div className=\"text-[6px] text-gray-700\">JavaScript ΓÇó React ΓÇó Node.js ΓÇó Python ΓÇó SQL</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-wrap gap-2 items-center justify-between\">\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {!isDefault && (\r\n            <button\r\n              onClick={onSetDefault}\r\n              className=\"px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\"\r\n            >\r\n              Set Default\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={onCustomize}\r\n            className=\"px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\"\r\n          >\r\n            Customize\r\n          </button>\r\n        </div>\r\n        <button\r\n          onClick={(e) => { e.stopPropagation(); onDelete(); }}\r\n          className=\"p-1 rounded-lg transition flex-shrink-0 flex items-center justify-center\"\r\n          style={{ color: '#6B7280' }}\r\n          onMouseOver={(e) => {\r\n            e.currentTarget.style.color = '#EF4444';\r\n            e.currentTarget.style.backgroundColor = '#FEF2F2';\r\n          }}\r\n          onMouseOut={(e) => {\r\n            e.currentTarget.style.color = '#6B7280';\r\n            e.currentTarget.style.backgroundColor = 'transparent';\r\n          }}\r\n          title=\"Delete template\"\r\n        >\r\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default TemplatePreviewCard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\TemplatePreviewModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":14,"column":5,"nodeType":"JSXOpeningElement","endLine":18,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":14,"column":5,"nodeType":"JSXOpeningElement","endLine":18,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":19,"column":7,"nodeType":"JSXOpeningElement","endLine":22,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":19,"column":7,"nodeType":"JSXOpeningElement","endLine":22,"endColumn":8}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Full-page template preview modal\r\n * Displays a detailed preview of a resume template with sample content\r\n */\r\n\r\nimport React from 'react';\r\n\r\nfunction TemplatePreviewModal({ template, onClose }) {\r\n  if (!template) return null;\r\n  const theme = template.theme || { colors: { primary: \"#4F5348\", text: \"#222\", muted: \"#666\" } };\r\n  const layout = template.layout || { sectionsOrder: [\"summary\",\"experience\",\"skills\",\"education\",\"projects\"] };\r\n  \r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\" \r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div \r\n        className=\"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-200\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10\">\r\n          <h3 className=\"text-2xl font-heading font-semibold\">Preview: {template.name}</h3>\r\n          <button \r\n            onClick={onClose} \r\n            className=\"text-gray-400 hover:text-gray-600 transition\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"p-8 bg-gray-100\">\r\n          {/* Simulated resume page - Document style */}\r\n          <div \r\n            className=\"bg-white shadow-lg mx-auto\"\r\n            style={{ maxWidth: \"8.5in\", minHeight: \"11in\", padding: \"0.75in\" }}\r\n          >\r\n            {/* Header */}\r\n            <div className=\"text-center mb-8 pb-6 border-b-2\" style={{ borderColor: theme.colors?.primary }}>\r\n              <h1 className=\"text-3xl font-bold mb-2\" style={{ color: '#2C2C2C', fontFamily: 'Georgia, serif' }}>\r\n                JANE DOE\r\n              </h1>\r\n              <p className=\"text-sm\" style={{ color: '#666', fontFamily: 'Times New Roman, serif' }}>\r\n                jane.doe@email.com ΓÇó (555) 987-6543 ΓÇó New York, NY ΓÇó linkedin.com/in/janedoe\r\n              </p>\r\n            </div>\r\n\r\n            {layout.sectionsOrder?.map((section) => (\r\n              <div key={section} className=\"mb-6\">\r\n                <h2 \r\n                  className=\"text-lg font-bold mb-3 uppercase tracking-wide\"\r\n                  style={{ color: theme.colors?.primary || '#4F5348', fontFamily: 'Georgia, serif' }}\r\n                >\r\n                  {section === \"summary\" && \"Professional Summary\"}\r\n                  {section === \"experience\" && \"Professional Experience\"}\r\n                  {section === \"skills\" && \"Technical Skills\"}\r\n                  {section === \"education\" && \"Education\"}\r\n                  {section === \"projects\" && \"Projects\"}\r\n                  {![\"summary\", \"experience\", \"skills\", \"education\", \"projects\"].includes(section) && section}\r\n                </h2>\r\n                <div className=\"text-sm\" style={{ color: '#2C2C2C' }}>\r\n                  {section === \"summary\" && (\r\n                    <p style={{ textAlign: 'justify', lineHeight: '1.6', fontFamily: 'Times New Roman, serif' }}>\r\n                      Results-oriented professional with 8+ years of experience driving innovation and leading cross-functional teams. \r\n                      Proven track record of delivering high-impact projects and exceeding organizational goals through strategic thinking \r\n                      and collaborative problem-solving. Expertise in leveraging cutting-edge technologies to optimize processes and \r\n                      enhance business outcomes.\r\n                    </p>\r\n                  )}\r\n                  {section === \"experience\" && (\r\n                    <div className=\"space-y-5\">\r\n                      <div>\r\n                        <div className=\"flex justify-between items-baseline mb-1\">\r\n                          <h3 className=\"text-base font-bold\" style={{ fontFamily: 'Georgia, serif' }}>Senior Software Engineer</h3>\r\n                          <span className=\"text-xs font-semibold\" style={{ color: '#666' }}>Jan 2021 - Present</span>\r\n                        </div>\r\n                        <p className=\"text-sm italic mb-2\" style={{ color: '#555', fontFamily: 'Georgia, serif' }}>Tech Solutions Inc., New York, NY</p>\r\n                        <ul className=\"space-y-1 ml-5\" style={{ listStyleType: 'disc', fontFamily: 'Times New Roman, serif' }}>\r\n                          <li>Architected and deployed scalable microservices infrastructure serving 500K+ daily active users</li>\r\n                          <li>Led team of 6 engineers in delivering mission-critical features, improving system performance by 45%</li>\r\n                          <li>Implemented CI/CD pipelines reducing deployment time by 60% and minimizing production incidents</li>\r\n                        </ul>\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"flex justify-between items-baseline mb-1\">\r\n                          <h3 className=\"text-base font-bold\" style={{ fontFamily: 'Georgia, serif' }}>Software Developer</h3>\r\n                          <span className=\"text-xs font-semibold\" style={{ color: '#666' }}>Jun 2018 - Dec 2020</span>\r\n                        </div>\r\n                        <p className=\"text-sm italic mb-2\" style={{ color: '#555', fontFamily: 'Georgia, serif' }}>Digital Innovations LLC, San Francisco, CA</p>\r\n                        <ul className=\"space-y-1 ml-5\" style={{ listStyleType: 'disc', fontFamily: 'Times New Roman, serif' }}>\r\n                          <li>Developed full-stack web applications using modern frameworks, increasing user engagement by 35%</li>\r\n                          <li>Collaborated with product team to design and implement customer-facing features for B2B platform</li>\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {section === \"skills\" && (\r\n                    <p style={{ lineHeight: '1.6', fontFamily: 'Times New Roman, serif' }}>\r\n                      JavaScript ΓÇó TypeScript ΓÇó React ΓÇó Node.js ΓÇó Python ΓÇó Java ΓÇó MongoDB ΓÇó PostgreSQL ΓÇó AWS ΓÇó Docker ΓÇó \r\n                      Kubernetes ΓÇó CI/CD ΓÇó Git ΓÇó Agile/Scrum ΓÇó REST APIs ΓÇó GraphQL ΓÇó Microservices ΓÇó System Design\r\n                    </p>\r\n                  )}\r\n                  {section === \"education\" && (\r\n                    <div>\r\n                      <div className=\"flex justify-between items-baseline\">\r\n                        <h3 className=\"text-base font-bold\" style={{ fontFamily: 'Georgia, serif' }}>Bachelor of Science in Computer Science</h3>\r\n                        <span className=\"text-xs font-semibold\" style={{ color: '#666' }}>May 2018</span>\r\n                      </div>\r\n                      <p className=\"text-sm italic\" style={{ color: '#555', fontFamily: 'Georgia, serif' }}>University of California, Berkeley</p>\r\n                      <p className=\"text-sm mt-1\" style={{ fontFamily: 'Times New Roman, serif' }}>GPA: 3.85/4.0 ΓÇó Dean's List ΓÇó Magna Cum Laude</p>\r\n                    </div>\r\n                  )}\r\n                  {section === \"projects\" && (\r\n                    <div className=\"space-y-3\">\r\n                      <div>\r\n                        <h3 className=\"text-base font-bold\" style={{ fontFamily: 'Georgia, serif' }}>E-Commerce Platform Redesign</h3>\r\n                        <p className=\"text-xs italic mb-1\" style={{ color: '#666', fontFamily: 'Times New Roman, serif' }}>\r\n                          Technologies: React, Redux, Node.js, Express, PostgreSQL, Stripe API\r\n                        </p>\r\n                        <p style={{ lineHeight: '1.6', fontFamily: 'Times New Roman, serif' }}>\r\n                          Built responsive full-stack e-commerce application with payment processing, inventory management, \r\n                          and real-time analytics dashboard. Achieved 99.9% uptime and handled 50K+ monthly transactions.\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <h3 className=\"text-base font-bold\" style={{ fontFamily: 'Georgia, serif' }}>AI-Powered Task Management System</h3>\r\n                        <p className=\"text-xs italic mb-1\" style={{ color: '#666', fontFamily: 'Times New Roman, serif' }}>\r\n                          Technologies: Python, TensorFlow, React, MongoDB, AWS Lambda\r\n                        </p>\r\n                        <p style={{ lineHeight: '1.6', fontFamily: 'Times New Roman, serif' }}>\r\n                          Developed intelligent task prioritization system using machine learning algorithms. \r\n                          Improved team productivity by 30% through automated scheduling and smart notifications.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TemplatePreviewModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ValidationBadge.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ValidationPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\ViewIssuesButton.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\WatermarkModal.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":26,"column":5,"nodeType":"JSXOpeningElement","endLine":30,"endColumn":6},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":26,"column":5,"nodeType":"JSXOpeningElement","endLine":30,"endColumn":6},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":31,"column":7,"nodeType":"JSXOpeningElement","endLine":34,"endColumn":8},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":31,"column":7,"nodeType":"JSXOpeningElement","endLine":34,"endColumn":8},{"ruleId":"jsx-a11y/no-autofocus","severity":1,"message":"The autoFocus prop should not be used, as it can reduce usability and accessibility for users.","line":71,"column":13,"nodeType":"JSXAttribute","endLine":71,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n/**\r\n * WatermarkModal - Modal for configuring watermark settings\r\n * Extracted from ResumeTemplates.jsx for better code organization\r\n */\r\nconst WatermarkModal = ({\r\n  isOpen,\r\n  onClose,\r\n  watermarkText,\r\n  setWatermarkText\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  const handleSave = () => {\r\n    onClose();\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && watermarkText.trim()) {\r\n      handleSave();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center z-60\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 border border-gray-200\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"bg-purple-50 border-b border-purple-100 px-6 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <svg className=\"w-6 h-6 text-[#4F5348]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01\" />\r\n              </svg>\r\n              <h3 className=\"text-lg font-heading font-semibold text-gray-900\">Watermark Settings</h3>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600 transition\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          <p className=\"text-sm text-gray-600 mb-4\">\r\n            Configure the watermark text that will appear on exported PDF and DOCX files.\r\n          </p>\r\n          \r\n          <label htmlFor=\"watermarkTextInput\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Watermark Text\r\n          </label>\r\n          <input\r\n            id=\"watermarkTextInput\"\r\n            type=\"text\"\r\n            value={watermarkText}\r\n            onChange={(e) => setWatermarkText(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n            placeholder=\"e.g., CONFIDENTIAL, DRAFT, Property of...\"\r\n            autoFocus\r\n          />\r\n          \r\n          <div className=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\r\n            <div className=\"flex items-start gap-2\">\r\n              <svg className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              <div className=\"text-xs text-blue-800\">\r\n                <p className=\"font-medium mb-1\">Preview</p>\r\n                <p className=\"text-gray-600 opacity-30 font-semibold text-2xl tracking-wide transform -rotate-45\">\r\n                  {watermarkText || 'CONFIDENTIAL'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleSave}\r\n            className=\"px-4 py-2 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition\"\r\n          >\r\n            Save Settings\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WatermarkModal;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\samee\\OneDrive\\Documents\\NJIT\\CS490\\CS490-HotSho-project\\frontend\\src\\components\\resume\\coverLetterModalStyles.jsx","messages":[{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":8,"column":3,"nodeType":"JSXOpeningElement","endLine":12,"endColumn":4},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":8,"column":3,"nodeType":"JSXOpeningElement","endLine":12,"endColumn":4},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":18,"column":3,"nodeType":"JSXOpeningElement","endLine":21,"endColumn":4},{"ruleId":"jsx-a11y/no-static-element-interactions","severity":1,"message":"Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.","line":18,"column":3,"nodeType":"JSXOpeningElement","endLine":21,"endColumn":4}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\n// Reusable presentational components for cover-letter modal styling.\r\n// These are intentionally pure/presentational so ResumeTemplates.jsx can\r\n// import and use them without adding behavior here.\r\n\r\nexport const ModalOverlay = ({ children, onClick }) => (\r\n  <div\r\n    className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n    style={{ backgroundColor: 'rgba(0, 0, 0, 0.48)' }}\r\n    onClick={onClick}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport const ModalCard = ({ children, className = '', onClick }) => (\r\n  <div\r\n    className={`bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 shadow-2xl mx-4 ${className}`}\r\n    onClick={(e) => { if (onClick) onClick(e); else e.stopPropagation(); }}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport const ModalHeader = ({ title, onClose, variant = 'default' }) => {\r\n  const headerBg = variant === 'danger' ? 'bg-red-50 border-red-100' : 'bg-gray-50 border-gray-200';\r\n  return (\r\n    <div className={`${headerBg} border-b px-6 py-4`}>\r\n      <div className=\"flex items-center justify-between\">\r\n        <h3 className=\"text-lg font-heading font-semibold text-gray-900\">{title}</h3>\r\n        {onClose && (\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition\"\r\n            aria-label=\"Close\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ModalContent = ({ children, className = '' }) => (\r\n  <div className={`p-6 ${className}`}>{children}</div>\r\n);\r\n\r\nexport const ModalFooter = ({ children }) => (\r\n  <div className=\"bg-gray-50 px-6 py-4 flex justify-end space-x-3 border-t\">{children}</div>\r\n);\r\n\r\n// Buttons\r\nexport const CancelButton = ({ onClick, disabled }) => (\r\n  <button\r\n    type=\"button\"\r\n    onClick={onClick}\r\n    disabled={disabled}\r\n    className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n  >\r\n    Cancel\r\n  </button>\r\n);\r\n\r\nexport const PrimaryButton = ({ children, onClick, disabled }) => (\r\n  <button\r\n    type=\"button\"\r\n    onClick={onClick}\r\n    disabled={disabled}\r\n    className=\"px-4 py-2 bg-[#777C6D] text-white rounded-lg hover:bg-[#656A5C] transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\n\r\nexport const DangerButton = ({ children = 'Delete', onClick, disabled, loading }) => (\r\n  <button\r\n    type=\"button\"\r\n    onClick={onClick}\r\n    disabled={disabled}\r\n    className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\r\n  >\r\n    {loading ? (\r\n      <>\r\n        <svg className=\"animate-spin h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\"></path>\r\n        </svg>\r\n        <span>Deleting...</span>\r\n      </>\r\n    ) : (\r\n      <>\r\n        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7h6m2 0H7m4-4h2a2 2 0 012 2v2H9V5a2 2 0 012-2z\" />\r\n        </svg>\r\n        <span>{children}</span>\r\n      </>\r\n    )}\r\n  </button>\r\n);\r\n\r\nexport const SuccessPill = ({ message = 'Saved' }) => (\r\n  <div className=\"p-3 rounded-lg bg-green-50 border border-green-100 text-green-800 flex items-center gap-2\">\r\n    <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n    </svg>\r\n    <span className=\"text-sm font-medium\">{message}</span>\r\n  </div>\r\n);\r\n\r\nexport default {\r\n  ModalOverlay,\r\n  ModalCard,\r\n  ModalHeader,\r\n  ModalContent,\r\n  ModalFooter,\r\n  CancelButton,\r\n  PrimaryButton,\r\n  DangerButton,\r\n  SuccessPill,\r\n};\r\n","usedDeprecatedRules":[]}]
